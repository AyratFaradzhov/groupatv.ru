# Инструкция по добавлению товаров

## Обзор

Товары в системе хранятся в файле `data/products.json`. Все товары загружаются динамически на страницу `product.html` через JavaScript. Поиск работает автоматически по всем полям товара.

## Структура файла products.json

Файл содержит три основных раздела:

- `products` - массив всех товаров
- `categories` - объект с категориями товаров
- `brands` - массив брендов

## Как добавить новый товар

### Шаг 1: Откройте файл `data/products.json`

### Шаг 2: Найдите массив `products` и добавьте новый объект товара

Пример структуры товара:

```json
{
  "id": "уникальный-id-товара",
  "name": "Название товара",
  "nameRu": "Название товара на русском",
  "nameEn": "Product name in English",
  "category": "категория-id",
  "brand": "НАЗВАНИЕ_БРЕНДА",
  "image": "путь/к/изображению.webp",
  "descriptionKey": "ключ-локализации-описания",
  "descriptionTextKey": "ключ-локализации-текста-описания",
  "titleKey": "ключ-локализации-заголовка",
  "tags": ["тег1", "тег2", "тег3", "tag1", "tag2"]
}
```

### Шаг 3: Заполните все поля

#### Обязательные поля:

- **id** (строка) - уникальный идентификатор товара. Используйте формат: `название-бренда-название-товара`
  - Пример: `"damla-sour-90gr"`, `"jimmy-chocolate-20gr"`

- **name** (строка) - основное название товара
  - Пример: `"DAMLA Sour"`

- **nameRu** (строка) - название на русском языке
  - Пример: `"DAMLA Sour"` или `"DAMLA Кислые"`

- **nameEn** (строка) - название на английском языке
  - Пример: `"DAMLA Sour"`

- **category** (строка) - ID категории из раздела `categories`
  - Доступные категории: `marmalade`, `candy`, `caramel`, `chocolate`, `cookies`, `jelly`
  - Пример: `"marmalade"`

- **brand** (строка) - название бренда (должно совпадать с одним из брендов в разделе `brands`)
  - Пример: `"DAMLA"`, `"JIMMY"`, `"SULIFA"`

- **image** (строка) - путь к изображению товара
  - Формат: `assets/images/Название папки/Название файла.webp`
  - Пример: `"assets/images/Damla Sour 90gr/Damla Sour 90gr.webp"`

#### Опциональные поля:

- **descriptionKey** (строка) - ключ локализации для описания товара (из `locales/ru.json` и `locales/en.json`)
  - Пример: `"Damla Assorti tubes"`

- **descriptionTextKey** (строка) - ключ локализации для текста описания
  - Пример: `"Damla Assorti tubes_filling_text"`

- **titleKey** (строка) - ключ локализации для заголовка карточки товара
  - Пример: `"card__popular-item-damla-lenta"`

- **tags** (массив строк) - теги для поиска (на русском и английском)
  - Используются для улучшения поиска
  - Пример: `["мармелад", "кислые", "трубочки", "marmalade", "sour", "tubes"]`

### Шаг 4: Добавьте изображение товара

1. Создайте папку в `assets/images/` с названием товара
2. Поместите изображение в формате `.webp` в эту папку
3. Укажите правильный путь в поле `image`

Пример структуры:

```
assets/images/
  └── Damla Sour 90gr/
      └── Damla Sour 90gr.webp
```

### Шаг 5: Добавьте ключи локализации (если нужно)

Если вы используете `descriptionKey`, `descriptionTextKey` или `titleKey`, убедитесь, что эти ключи добавлены в:

- `locales/ru.json` - для русского языка
- `locales/en.json` - для английского языка

Пример добавления в `locales/ru.json`:

```json
{
  "new-product-title": "Название нового товара",
  "new-product-description": "Описание нового товара",
  "new-product-description-text": "Подробное описание нового товара..."
}
```

## Пример полного товара

```json
{
  "id": "new-damla-product-50gr",
  "name": "DAMLA New Product",
  "nameRu": "DAMLA Новый товар",
  "nameEn": "DAMLA New Product",
  "category": "marmalade",
  "brand": "DAMLA",
  "image": "assets/images/Damla New Product 50gr/Damla New Product 50gr.webp",
  "descriptionKey": "new-damla-product",
  "descriptionTextKey": "new-damla-product_filling_text",
  "titleKey": "card__popular-item-damla-lenta",
  "tags": ["мармелад", "новый", "жевательный", "marmalade", "new", "gummy"]
}
```

## Как работает поиск

Поиск работает автоматически и ищет по следующим полям:

- Название товара (русское и английское)
- Название бренда
- Название категории
- Теги
- Ключи локализации

Пользователь может ввести любой текст в поле поиска, и система найдет все подходящие товары.

## Категории товаров

Доступные категории (уже настроены в файле):

1. **marmalade** - Мармелад
2. **candy** - Конфеты
3. **caramel** - Карамель
4. **chocolate** - Шоколад и шоколадная паста
5. **cookies** - Печенье, кексы, вафли и маршмеллоу
6. **jelly** - Желейные десерты

## Бренды

Если вы добавляете товар нового бренда, сначала добавьте бренд в раздел `brands`:

```json
{
  "id": "new-brand-id",
  "name": "NEW BRAND",
  "displayName": "NEW BRAND"
}
```

## Важные замечания

1. **Уникальность ID**: Каждый товар должен иметь уникальный `id`
2. **Формат JSON**: Соблюдайте правильный формат JSON (запятые, кавычки)
3. **Изображения**: Используйте формат `.webp` для оптимизации
4. **Теги**: Добавляйте теги на обоих языках для лучшего поиска
5. **Локализация**: Если используете ключи локализации, добавляйте их в оба файла (`ru.json` и `en.json`)

## Проверка после добавления

После добавления товара:

1. Откройте страницу `product.html` в браузере
2. Убедитесь, что товар отображается в сетке
3. Проверьте поиск - введите название товара или тег
4. Проверьте переключение языка (RU/EN)
5. Убедитесь, что изображение загружается корректно

## Решение проблем

### Товар не отображается

- Проверьте синтаксис JSON (используйте валидатор JSON)
- Убедитесь, что путь к изображению правильный
- Проверьте консоль браузера на наличие ошибок

### Поиск не работает

- Убедитесь, что в поле `tags` есть соответствующие теги
- Проверьте, что название товара написано правильно

### Изображение не загружается

- Проверьте путь к файлу изображения
- Убедитесь, что файл существует и имеет правильное расширение
- Проверьте права доступа к файлу

## Дополнительная информация

- Файл с данными: `data/products.json`
- Скрипт загрузки: `assets/js/product-loader.js`
- Страница товаров: `product.html`
- Файлы локализации: `locales/ru.json`, `locales/en.json`

## Технические детали

### Как работает система

1. При загрузке страницы `product.html` автоматически загружается файл `data/products.json`
2. Все товары отображаются в сетке на странице
3. Поиск работает в реальном времени с задержкой 300мс для оптимизации
4. Поиск ищет по всем полям товара: название, бренд, категория, теги
5. При переключении языка (RU/EN) товары автоматически обновляются

### Структура поиска

Поиск работает по следующим полям:

- `nameRu` - название на русском
- `nameEn` - название на английском
- `brand` - название бренда
- `category` - название категории (локализованное)
- `tags` - массив тегов
- `titleKey` - ключ локализации заголовка

### Формат изображений

- Рекомендуемый формат: `.webp` (для оптимизации)
- Размещение: `assets/images/Название папки/Название файла.webp`
- Размер: рекомендуется не более 500KB на изображение

## Быстрый старт

1. Откройте `data/products.json`
2. Найдите массив `"products": [...]`
3. Добавьте новый объект товара в конец массива (перед закрывающей скобкой `]`)
4. Сохраните файл
5. Обновите страницу в браузере
6. Товар появится автоматически!

## Примеры тегов для поиска

Для лучшего поиска добавляйте теги на обоих языках:

**Мармелад:**

```json
"tags": ["мармелад", "жевательный", "marmalade", "gummy", "chewy"]
```

**Кислые товары:**

```json
"tags": ["кислые", "sour", "кислый"]
```

**Шоколад:**

```json
"tags": ["шоколад", "молочный", "chocolate", "milk"]
```

**Вафли/Печенье:**

```json
"tags": ["вафли", "печенье", "хрустящие", "wafers", "cookies", "crispy"]
```
