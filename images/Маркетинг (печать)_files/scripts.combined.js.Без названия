/*
 jQuery v1.9.1 | (c) 2005, 2012 jQuery Foundation, Inc. | jquery.org/license
//@ sourceMappingURL=jquery.min.map
*/
(function(a,g){function d(n){var r=n.length,A=y.type(n);return y.isWindow(n)?!1:1===n.nodeType&&r?!0:"array"===A||"function"!==A&&(0===r||"number"==typeof r&&0<r&&r-1 in n)}function b(n){var r=kb[n]={};return y.each(n.match(pb)||[],function(A,F){r[F]=!0}),r}function c(n,r,A,F){if(y.acceptData(n)){var I,Q,W=y.expando,ba="string"==typeof r,ha=n.nodeType,ma=ha?y.cache:n,fa=ha?n[W]:n[W]&&W;if(fa&&ma[fa]&&(F||ma[fa].data)||!ba||A!==g)return fa||(ha?n[W]=fa=Za.pop()||y.guid++:fa=W),ma[fa]||(ma[fa]={},ha||
(ma[fa].toJSON=y.noop)),("object"==typeof r||"function"==typeof r)&&(F?ma[fa]=y.extend(ma[fa],r):ma[fa].data=y.extend(ma[fa].data,r)),I=ma[fa],F||(I.data||(I.data={}),I=I.data),A!==g&&(I[y.camelCase(r)]=A),ba?(Q=I[r],null==Q&&(Q=I[y.camelCase(r)])):Q=I,Q}}function e(n,r,A){if(y.acceptData(n)){var F,I,Q=n.nodeType,W=Q?y.cache:n,ba=Q?n[y.expando]:y.expando;if(W[ba]){if(r&&(I=A?W[ba]:W[ba].data)){y.isArray(r)?r=r.concat(y.map(r,y.camelCase)):r in I?r=[r]:(r=y.camelCase(r),r=r in I?[r]:r.split(" "));
var ha=0;for(F=r.length;F>ha;ha++)delete I[r[ha]];if(!(A?h:y.isEmptyObject)(I))return}(A||(delete W[ba].data,h(W[ba])))&&(Q?y.cleanData([n],!0):y.support.deleteExpando||W!=W.window?delete W[ba]:W[ba]=null)}}}function f(n,r,A){if(A===g&&1===n.nodeType){var F="data-"+r.replace(Db,"-$1").toLowerCase();if(A=n.getAttribute(F),"string"==typeof A){try{A="true"===A?!0:"false"===A?!1:"null"===A?null:+A+""===A?+A:rb.test(A)?y.parseJSON(A):A}catch(I){}y.data(n,r,A)}else A=g}return A}function h(n){for(var r in n)if(("data"!==
r||!y.isEmptyObject(n[r]))&&"toJSON"!==r)return!1;return!0}function m(){return!0}function k(){return!1}function l(n,r){do n=n[r];while(n&&1!==n.nodeType);return n}function p(n,r,A){if(r=r||0,y.isFunction(r))return y.grep(n,function(I,Q){return!!r.call(I,Q,I)===A});if(r.nodeType)return y.grep(n,function(I){return I===r===A});if("string"==typeof r){var F=y.grep(n,function(I){return 1===I.nodeType});if(qc.test(r))return y.filter(r,F,!A);r=y.filter(r,F)}return y.grep(n,function(I){return 0<=y.inArray(I,
r)===A})}function q(n){var r=rc.split("|");n=n.createDocumentFragment();if(n.createElement)for(;r.length;)n.createElement(r.pop());return n}function u(n,r){return n.getElementsByTagName(r)[0]||n.appendChild(n.ownerDocument.createElement(r))}function t(n){var r=n.getAttributeNode("type");return n.type=(r&&r.specified)+"/"+n.type,n}function C(n){var r=ca.exec(n.type);return r?n.type=r[1]:n.removeAttribute("type"),n}function D(n,r){for(var A,F=0;null!=(A=n[F]);F++)y._data(A,"globalEval",!r||y._data(r[F],
"globalEval"))}function w(n,r){if(1===r.nodeType&&y.hasData(n)){var A,F;var I=y._data(n);n=y._data(r,I);var Q=I.events;if(Q)for(A in delete n.handle,n.events={},Q)for(I=0,F=Q[A].length;F>I;I++)y.event.add(r,A,Q[A][I]);n.data&&(n.data=y.extend({},n.data))}}function z(n,r){var A,F,I=0,Q=typeof n.getElementsByTagName!==wa?n.getElementsByTagName(r||"*"):typeof n.querySelectorAll!==wa?n.querySelectorAll(r||"*"):g;if(!Q)for(Q=[],A=n.childNodes||n;null!=(F=A[I]);I++)!r||y.nodeName(F,r)?Q.push(F):y.merge(Q,
z(F,r));return r===g||r&&y.nodeName(n,r)?y.merge([n],Q):Q}function L(n){jc.test(n.type)&&(n.defaultChecked=n.checked)}function U(n,r){if(r in n)return r;for(var A=r.charAt(0).toUpperCase()+r.slice(1),F=r,I=ed.length;I--;)if(r=ed[I]+A,r in n)return r;return F}function V(n,r){return n=r||n,"none"===y.css(n,"display")||!y.contains(n.ownerDocument,n)}function Y(n,r){for(var A,F,I,Q=[],W=0,ba=n.length;ba>W;W++)F=n[W],F.style&&(Q[W]=y._data(F,"olddisplay"),A=F.style.display,r?(Q[W]||"none"!==A||(F.style.display=
""),""===F.style.display&&V(F)&&(Q[W]=y._data(F,"olddisplay",K(F.nodeName)))):Q[W]||(I=V(F),(A&&"none"!==A||!I)&&y._data(F,"olddisplay",I?A:y.css(F,"display"))));for(W=0;ba>W;W++)F=n[W],F.style&&(r&&"none"!==F.style.display&&""!==F.style.display||(F.style.display=r?Q[W]||"":"none"));return n}function T(n,r,A){return(n=qd.exec(r))?Math.max(0,n[1]-(A||0))+(n[2]||"px"):r}function J(n,r,A,F,I){r=A===(F?"border":"content")?4:"width"===r?1:0;for(var Q=0;4>r;r+=2)"margin"===A&&(Q+=y.css(n,A+ec[r],!0,I)),
F?("content"===A&&(Q-=y.css(n,"padding"+ec[r],!0,I)),"margin"!==A&&(Q-=y.css(n,"border"+ec[r]+"Width",!0,I))):(Q+=y.css(n,"padding"+ec[r],!0,I),"padding"!==A&&(Q+=y.css(n,"border"+ec[r]+"Width",!0,I)));return Q}function P(n,r,A){var F=!0,I="width"===r?n.offsetWidth:n.offsetHeight,Q=Qa(n),W=y.support.boxSizing&&"border-box"===y.css(n,"boxSizing",!1,Q);if(0>=I||null==I){if(I=Ia(n,r,Q),(0>I||null==I)&&(I=n.style[r]),xc.test(I))return I;F=W&&(y.support.boxSizingReliable||I===n.style[r]);I=parseFloat(I)||
0}return I+J(n,r,A||(W?"border":"content"),F,Q)+"px"}function K(n){var r=oa,A=fd[n];return A||(A=E(n,r),"none"!==A&&A||(Ha=(Ha||y("<iframe frameborder='0' width='0' height='0'/>").css("cssText","display:block !important")).appendTo(r.documentElement),r=(Ha[0].contentWindow||Ha[0].contentDocument).document,r.write("<!doctype html><html><body>"),r.close(),A=E(n,r),Ha.detach()),fd[n]=A),A}function E(n,r){n=y(r.createElement(n)).appendTo(r.body);r=y.css(n[0],"display");return n.remove(),r}function x(n,
r,A,F){var I;if(y.isArray(r))y.each(r,function(Q,W){A||rd.test(n)?F(n,W):x(n+"["+("object"==typeof W?Q:"")+"]",W,A,F)});else if(A||"object"!==y.type(r))F(n,r);else for(I in r)x(n+"["+I+"]",r[I],A,F)}function H(n){return function(r,A){"string"!=typeof r&&(A=r,r="*");var F=0,I=r.toLowerCase().match(pb)||[];if(y.isFunction(A))for(;r=I[F++];)"+"===r[0]?(r=r.slice(1)||"*",(n[r]=n[r]||[]).unshift(A)):(n[r]=n[r]||[]).push(A)}}function M(n,r,A,F){function I(ba){var ha;return Q[ba]=!0,y.each(n[ba]||[],function(ma,
fa){ma=fa(r,A,F);return"string"!=typeof ma||W||Q[ma]?W?!(ha=ma):g:(r.dataTypes.unshift(ma),I(ma),!1)}),ha}var Q={},W=n===Mc;return I(r.dataTypes[0])||!Q["*"]&&I("*")}function G(n,r){var A,F,I=y.ajaxSettings.flatOptions||{};for(F in r)r[F]!==g&&((I[F]?n:A||={})[F]=r[F]);return A&&y.extend(!0,n,A),n}function N(){try{return new a.XMLHttpRequest}catch(n){}}function R(){return setTimeout(function(){kc=g}),kc=y.now()}function O(n,r){y.each(r,function(A,F){for(var I=(sc[A]||[]).concat(sc["*"]),Q=0,W=I.length;W>
Q&&!I[Q].call(n,A,F);Q++);})}function da(n,r,A){var F,I=0,Q=yc.length,W=y.Deferred().always(function(){delete ba.elem}),ba=function(){if(F)return!1;var ma=kc||R();ma=Math.max(0,ha.startTime+ha.duration-ma);for(var fa=1-(ma/ha.duration||0),ta=0,ua=ha.tweens.length;ua>ta;ta++)ha.tweens[ta].run(fa);return W.notifyWith(n,[ha,fa,ma]),1>fa&&ua?ma:(W.resolveWith(n,[ha]),!1)},ha=W.promise({elem:n,props:y.extend({},r),opts:y.extend(!0,{specialEasing:{}},A),originalProperties:r,originalOptions:A,startTime:kc||
R(),duration:A.duration,tweens:[],createTween:function(ma,fa){ma=y.Tween(n,ha.opts,ma,fa,ha.opts.specialEasing[ma]||ha.opts.easing);return ha.tweens.push(ma),ma},stop:function(ma){var fa=0,ta=ma?ha.tweens.length:0;if(F)return this;for(F=!0;ta>fa;fa++)ha.tweens[fa].run(1);return ma?W.resolveWith(n,[ha,ma]):W.rejectWith(n,[ha,ma]),this}});A=ha.props;for(X(A,ha.opts.specialEasing);Q>I;I++)if(r=yc[I].call(ha,n,A,ha.opts))return r;return O(ha,A),y.isFunction(ha.opts.start)&&ha.opts.start.call(n,ha),y.fx.timer(y.extend(ba,
{elem:n,anim:ha,queue:ha.opts.queue})),ha.progress(ha.opts.progress).done(ha.opts.done,ha.opts.complete).fail(ha.opts.fail).always(ha.opts.always)}function X(n,r){var A,F,I,Q,W;for(I in n)if(F=y.camelCase(I),Q=r[F],A=n[I],y.isArray(A)&&(Q=A[1],A=n[I]=A[0]),I!==F&&(n[F]=A,delete n[I]),W=y.cssHooks[F],W&&"expand"in W)for(I in A=W.expand(A),delete n[F],A)I in n||(n[I]=A[I],r[I]=Q);else r[F]=Q}function la(n,r,A,F,I){return new la.prototype.init(n,r,A,F,I)}function qa(n,r){var A={height:n},F=0;for(r=r?
1:0;4>F;F+=2-r){var I=ec[F];A["margin"+I]=A["padding"+I]=n}return r&&(A.opacity=A.width=n),A}function va(n){return y.isWindow(n)?n:9===n.nodeType?n.defaultView||n.parentWindow:!1}var pa,wa=typeof g,oa=a.document,Fa=a.location,Ja=a.jQuery,Ka=a.$,$a={},Za=[],Ma=Za.concat,sb=Za.push,lb=Za.slice,jb=Za.indexOf,tb=$a.toString,Ra=$a.hasOwnProperty,ia="1.9.1".trim,y=function(n,r){return new y.fn.init(n,r,db)},Na=/[+-]?(?:\d*\.|)\d+(?:[eE][+-]?\d+|)/.source,pb=/\S+/g,ib=/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,
Ab=/^(?:(<[\w\W]+>)[^>]*|#([\w-]*))$/,vb=/^<(\w+)\s*\/?>(?:<\/\1>|)$/,mb=/^[\],:{}\s]*$/,Sa=/(?:^|:|,)(?:\s*\[)+/g,Kb=/\\(?:["\\\/bfnrt]|u[\da-fA-F]{4})/g,Mb=/"[^"\\\r\n]*"|true|false|null|-?(?:\d+\.|)\d+(?:[eE][+-]?\d+|)/g,xa=/^-ms-/,Ca=/-([\da-z])/gi,Ga=function(n,r){return r.toUpperCase()},Aa=function(n){(oa.addEventListener||"load"===n.type||"complete"===oa.readyState)&&(Va(),y.ready())},Va=function(){oa.addEventListener?(oa.removeEventListener("DOMContentLoaded",Aa,!1),a.removeEventListener("load",
Aa,!1)):(oa.detachEvent("onreadystatechange",Aa),a.detachEvent("onload",Aa))};y.fn=y.prototype={jquery:"1.9.1",constructor:y,init:function(n,r,A){var F,I;if(!n)return this;if("string"==typeof n){if(F="<"===n.charAt(0)&&">"===n.charAt(n.length-1)&&3<=n.length?[null,n,null]:Ab.exec(n),!F||!F[1]&&r)return!r||r.jquery?(r||A).find(n):this.constructor(r).find(n);if(F[1]){if(r=r instanceof y?r[0]:r,y.merge(this,y.parseHTML(F[1],r&&r.nodeType?r.ownerDocument||r:oa,!0)),vb.test(F[1])&&y.isPlainObject(r))for(F in r)y.isFunction(this[F])?
this[F](r[F]):this.attr(F,r[F]);return this}if(I=oa.getElementById(F[2]),I&&I.parentNode){if(I.id!==F[2])return A.find(n);this.length=1;this[0]=I}return this.context=oa,this.selector=n,this}return n.nodeType?(this.context=this[0]=n,this.length=1,this):y.isFunction(n)?A.ready(n):(n.selector!==g&&(this.selector=n.selector,this.context=n.context),y.makeArray(n,this))},selector:"",length:0,size:function(){return this.length},toArray:function(){return lb.call(this)},get:function(n){return null==n?this.toArray():
0>n?this[this.length+n]:this[n]},pushStack:function(n){n=y.merge(this.constructor(),n);return n.prevObject=this,n.context=this.context,n},each:function(n,r){return y.each(this,n,r)},ready:function(n){return y.ready.promise().done(n),this},slice:function(){return this.pushStack(lb.apply(this,arguments))},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},eq:function(n){var r=this.length;n=+n+(0>n?r:0);return this.pushStack(0<=n&&r>n?[this[n]]:[])},map:function(n){return this.pushStack(y.map(this,
function(r,A){return n.call(r,A,r)}))},end:function(){return this.prevObject||this.constructor(null)},push:sb,sort:[].sort,splice:[].splice};y.fn.init.prototype=y.fn;y.extend=y.fn.extend=function(){var n,r,A,F,I=arguments[0]||{},Q=1,W=arguments.length,ba=!1;"boolean"==typeof I&&(ba=I,I=arguments[1]||{},Q=2);"object"==typeof I||y.isFunction(I)||(I={});for(W===Q&&(I=this,--Q);W>Q;Q++)if(null!=(A=arguments[Q]))for(r in A){var ha=I[r];var ma=A[r];I!==ma&&(ba&&ma&&(y.isPlainObject(ma)||(n=y.isArray(ma)))?
(n?(n=!1,F=ha&&y.isArray(ha)?ha:[]):F=ha&&y.isPlainObject(ha)?ha:{},I[r]=y.extend(ba,F,ma)):ma!==g&&(I[r]=ma))}return I};y.extend({noConflict:function(n){return a.$===y&&(a.$=Ka),n&&a.jQuery===y&&(a.jQuery=Ja),y},isReady:!1,readyWait:1,holdReady:function(n){n?y.readyWait++:y.ready(!0)},ready:function(n){if(!0===n?!--y.readyWait:!y.isReady){if(!oa.body)return setTimeout(y.ready);y.isReady=!0;!0!==n&&0<--y.readyWait||(pa.resolveWith(oa,[y]),y.fn.trigger&&y(oa).trigger("ready").off("ready"))}},isFunction:function(n){return"function"===
y.type(n)},isArray:Array.isArray||function(n){return"array"===y.type(n)},isWindow:function(n){return null!=n&&n==n.window},isNumeric:function(n){return!isNaN(parseFloat(n))&&isFinite(n)},type:function(n){return null==n?n+"":"object"==typeof n||"function"==typeof n?$a[tb.call(n)]||"object":typeof n},isPlainObject:function(n){if(!n||"object"!==y.type(n)||n.nodeType||y.isWindow(n))return!1;try{if(n.constructor&&!Ra.call(n,"constructor")&&!Ra.call(n.constructor.prototype,"isPrototypeOf"))return!1}catch(A){return!1}for(var r in n);
return r===g||Ra.call(n,r)},isEmptyObject:function(n){for(var r in n)return!1;return!0},error:function(n){throw Error(n);},parseHTML:function(n,r,A){if(!n||"string"!=typeof n)return null;"boolean"==typeof r&&(A=r,r=!1);r=r||oa;var F=vb.exec(n);A=!A&&[];return F?[r.createElement(F[1])]:(F=y.buildFragment([n],r,A),A&&y(A).remove(),y.merge([],F.childNodes))},parseJSON:function(n){return a.JSON&&a.JSON.parse?a.JSON.parse(n):null===n?n:"string"==typeof n&&(n=y.trim(n),n&&mb.test(n.replace(Kb,"@").replace(Mb,
"]").replace(Sa,"")))?Function("return "+n)():(y.error("Invalid JSON: "+n),g)},parseXML:function(n){var r,A;if(!n||"string"!=typeof n)return null;try{a.DOMParser?(A=new DOMParser,r=A.parseFromString(n,"text/xml")):(r=new ActiveXObject("Microsoft.XMLDOM"),r.async="false",r.loadXML(n))}catch(F){r=g}return r&&r.documentElement&&!r.getElementsByTagName("parsererror").length||y.error("Invalid XML: "+n),r},noop:function(){},globalEval:function(n){n&&y.trim(n)&&(a.execScript||function(r){a.eval.call(a,r)})(n)},
camelCase:function(n){return n.replace(xa,"ms-").replace(Ca,Ga)},nodeName:function(n,r){return n.nodeName&&n.nodeName.toLowerCase()===r.toLowerCase()},each:function(n,r,A){var F,I=0,Q=n.length,W=d(n);if(A)if(W)for(;Q>I&&(F=r.apply(n[I],A),!1!==F);I++);else for(I in n){if(F=r.apply(n[I],A),!1===F)break}else if(W)for(;Q>I&&(F=r.call(n[I],I,n[I]),!1!==F);I++);else for(I in n)if(F=r.call(n[I],I,n[I]),!1===F)break;return n},trim:ia&&!ia.call("\ufeff\u00a0")?function(n){return null==n?"":ia.call(n)}:function(n){return null==
n?"":(n+"").replace(ib,"")},makeArray:function(n,r){r=r||[];return null!=n&&(d(Object(n))?y.merge(r,"string"==typeof n?[n]:n):sb.call(r,n)),r},inArray:function(n,r,A){if(r){if(jb)return jb.call(r,n,A);var F=r.length;for(A=A?0>A?Math.max(0,F+A):A:0;F>A;A++)if(A in r&&r[A]===n)return A}return-1},merge:function(n,r){var A=r.length,F=n.length,I=0;if("number"==typeof A)for(;A>I;I++)n[F++]=r[I];else for(;r[I]!==g;)n[F++]=r[I++];return n.length=F,n},grep:function(n,r,A){var F=[],I=0,Q=n.length;for(A=!!A;Q>
I;I++){var W=!!r(n[I],I);A!==W&&F.push(n[I])}return F},map:function(n,r,A){var F=0,I=n.length,Q=[];if(d(n))for(;I>F;F++){var W=r(n[F],F,A);null!=W&&(Q[Q.length]=W)}else for(F in n)W=r(n[F],F,A),null!=W&&(Q[Q.length]=W);return Ma.apply([],Q)},guid:1,proxy:function(n,r){var A,F,I;return"string"==typeof r&&(I=n[r],r=n,n=I),y.isFunction(n)?(A=lb.call(arguments,2),F=function(){return n.apply(r||this,A.concat(lb.call(arguments)))},F.guid=n.guid=n.guid||y.guid++,F):g},access:function(n,r,A,F,I,Q,W){var ba=
0,ha=n.length,ma=null==A;if("object"===y.type(A))for(ba in I=!0,A)y.access(n,r,ba,A[ba],!0,Q,W);else if(F!==g&&(I=!0,y.isFunction(F)||(W=!0),ma&&(W?(r.call(n,F),r=null):(ma=r,r=function(fa,ta,ua){return ma.call(y(fa),ua)})),r))for(;ha>ba;ba++)r(n[ba],A,W?F:F.call(n[ba],ba,r(n[ba],A)));return I?n:ma?r.call(n):ha?r(n[0],A):Q},now:function(){return(new Date).getTime()}});y.ready.promise=function(n){if(!pa)if(pa=y.Deferred(),"complete"===oa.readyState)setTimeout(y.ready);else if(oa.addEventListener)oa.addEventListener("DOMContentLoaded",
Aa,!1),a.addEventListener("load",Aa,!1);else{oa.attachEvent("onreadystatechange",Aa);a.attachEvent("onload",Aa);var r=!1;try{r=null==a.frameElement&&oa.documentElement}catch(A){}r&&r.doScroll&&function F(){if(!y.isReady){try{r.doScroll("left")}catch(I){return setTimeout(F,50)}Va();y.ready()}}()}return pa.promise(n)};y.each("Boolean Number String Function Array Date RegExp Object Error".split(" "),function(n,r){$a["[object "+r+"]"]=r.toLowerCase()});var db=y(oa);var kb={};y.Callbacks=function(n){n=
"string"==typeof n?kb[n]||b(n):y.extend({},n);var r,A,F,I,Q,W,ba=[],ha=!n.once&&[],ma=function(ta){A=n.memory&&ta;F=!0;Q=W||0;W=0;I=ba.length;for(r=!0;ba&&I>Q;Q++)if(!1===ba[Q].apply(ta[0],ta[1])&&n.stopOnFalse){A=!1;break}r=!1;ba&&(ha?ha.length&&ma(ha.shift()):A?ba=[]:fa.disable())},fa={add:function(){if(ba){var ta=ba.length;(function bb(Oa){y.each(Oa,function(Cb,wb){Cb=y.type(wb);"function"===Cb?n.unique&&fa.has(wb)||ba.push(wb):wb&&wb.length&&"string"!==Cb&&bb(wb)})})(arguments);r?I=ba.length:
A&&(W=ta,ma(A))}return this},remove:function(){return ba&&y.each(arguments,function(ta,ua){for(var Oa;-1<(Oa=y.inArray(ua,ba,Oa));)ba.splice(Oa,1),r&&(I>=Oa&&I--,Q>=Oa&&Q--)}),this},has:function(ta){return ta?-1<y.inArray(ta,ba):!(!ba||!ba.length)},empty:function(){return ba=[],this},disable:function(){return ba=ha=A=g,this},disabled:function(){return!ba},lock:function(){return ha=g,A||fa.disable(),this},locked:function(){return!ha},fireWith:function(ta,ua){return ua=ua||[],ua=[ta,ua.slice?ua.slice():
ua],!ba||F&&!ha||(r?ha.push(ua):ma(ua)),this},fire:function(){return fa.fireWith(this,arguments),this},fired:function(){return!!F}};return fa};y.extend({Deferred:function(n){var r=[["resolve","done",y.Callbacks("once memory"),"resolved"],["reject","fail",y.Callbacks("once memory"),"rejected"],["notify","progress",y.Callbacks("memory")]],A="pending",F={state:function(){return A},always:function(){return I.done(arguments).fail(arguments),this},then:function(){var Q=arguments;return y.Deferred(function(W){y.each(r,
function(ba,ha){var ma=ha[0],fa=y.isFunction(Q[ba])&&Q[ba];I[ha[1]](function(){var ta=fa&&fa.apply(this,arguments);ta&&y.isFunction(ta.promise)?ta.promise().done(W.resolve).fail(W.reject).progress(W.notify):W[ma+"With"](this===F?W.promise():this,fa?[ta]:arguments)})});Q=null}).promise()},promise:function(Q){return null!=Q?y.extend(Q,F):F}},I={};return F.pipe=F.then,y.each(r,function(Q,W){var ba=W[2],ha=W[3];F[W[1]]=ba.add;ha&&ba.add(function(){A=ha},r[1^Q][2].disable,r[2][2].lock);I[W[0]]=function(){return I[W[0]+
"With"](this===I?F:this,arguments),this};I[W[0]+"With"]=ba.fireWith}),F.promise(I),n&&n.call(I,I),I},when:function(n){var r=0,A=lb.call(arguments),F=A.length,I=1!==F||n&&y.isFunction(n.promise)?F:0,Q=1===I?n:y.Deferred(),W=function(fa,ta,ua){return function(Oa){ta[fa]=this;ua[fa]=1<arguments.length?lb.call(arguments):Oa;ua===ha?Q.notifyWith(ta,ua):--I||Q.resolveWith(ta,ua)}},ba;if(1<F){var ha=Array(F);var ma=Array(F);for(ba=Array(F);F>r;r++)A[r]&&y.isFunction(A[r].promise)?A[r].promise().done(W(r,
ba,A)).fail(Q.reject).progress(W(r,ma,ha)):--I}return I||Q.resolveWith(ba,A),Q.promise()}});y.support=function(){var n,r,A,F,I=oa.createElement("div");if(I.setAttribute("className","t"),I.innerHTML="  <link/><table></table><a href='/a'>a</a><input type='checkbox'/>",n=I.getElementsByTagName("*"),r=I.getElementsByTagName("a")[0],!n||!r||!n.length)return{};var Q=oa.createElement("select");var W=Q.appendChild(oa.createElement("option"));n=I.getElementsByTagName("input")[0];r.style.cssText="top:1px;float:left;opacity:.5";
var ba={getSetAttribute:"t"!==I.className,leadingWhitespace:3===I.firstChild.nodeType,tbody:!I.getElementsByTagName("tbody").length,htmlSerialize:!!I.getElementsByTagName("link").length,style:/top/.test(r.getAttribute("style")),hrefNormalized:"/a"===r.getAttribute("href"),opacity:/^0.5/.test(r.style.opacity),cssFloat:!!r.style.cssFloat,checkOn:!!n.value,optSelected:W.selected,enctype:!!oa.createElement("form").enctype,html5Clone:"<:nav></:nav>"!==oa.createElement("nav").cloneNode(!0).outerHTML,boxModel:"CSS1Compat"===
oa.compatMode,deleteExpando:!0,noCloneEvent:!0,inlineBlockNeedsLayout:!1,shrinkWrapBlocks:!1,reliableMarginRight:!0,boxSizingReliable:!0,pixelPosition:!1};n.checked=!0;ba.noCloneChecked=n.cloneNode(!0).checked;Q.disabled=!0;ba.optDisabled=!W.disabled;try{delete I.test}catch(ha){ba.deleteExpando=!1}n=oa.createElement("input");n.setAttribute("value","");ba.input=""===n.getAttribute("value");n.value="t";n.setAttribute("type","radio");ba.radioValue="t"===n.value;n.setAttribute("checked","t");n.setAttribute("name",
"t");r=oa.createDocumentFragment();r.appendChild(n);ba.appendChecked=n.checked;ba.checkClone=r.cloneNode(!0).cloneNode(!0).lastChild.checked;I.attachEvent&&(I.attachEvent("onclick",function(){ba.noCloneEvent=!1}),I.cloneNode(!0).click());for(F in{submit:!0,change:!0,focusin:!0})I.setAttribute(r="on"+F,"t"),ba[F+"Bubbles"]=r in a||!1===I.attributes[r].expando;return I.style.backgroundClip="content-box",I.cloneNode(!0).style.backgroundClip="",ba.clearCloneStyle="content-box"===I.style.backgroundClip,
y(function(){var ha,ma,fa,ta=oa.getElementsByTagName("body")[0];ta&&(ha=oa.createElement("div"),ha.style.cssText="border:0;width:0;height:0;position:absolute;top:0;left:-9999px;margin-top:1px",ta.appendChild(ha).appendChild(I),I.innerHTML="<table><tr><td></td><td>t</td></tr></table>",fa=I.getElementsByTagName("td"),fa[0].style.cssText="padding:0;margin:0;border:0;display:none",A=0===fa[0].offsetHeight,fa[0].style.display="",fa[1].style.display="none",ba.reliableHiddenOffsets=A&&0===fa[0].offsetHeight,
I.innerHTML="",I.style.cssText="box-sizing:border-box;-moz-box-sizing:border-box;-webkit-box-sizing:border-box;padding:1px;border:1px;display:block;width:4px;margin-top:1%;position:absolute;top:1%;",ba.boxSizing=4===I.offsetWidth,ba.doesNotIncludeMarginInBodyOffset=1!==ta.offsetTop,a.getComputedStyle&&(ba.pixelPosition="1%"!==(a.getComputedStyle(I,null)||{}).top,ba.boxSizingReliable="4px"===(a.getComputedStyle(I,null)||{width:"4px"}).width,ma=I.appendChild(oa.createElement("div")),ma.style.cssText=
I.style.cssText="padding:0;margin:0;border:0;display:block;box-sizing:content-box;-moz-box-sizing:content-box;-webkit-box-sizing:content-box;",ma.style.marginRight=ma.style.width="0",I.style.width="1px",ba.reliableMarginRight=!parseFloat((a.getComputedStyle(ma,null)||{}).marginRight)),typeof I.style.zoom!==wa&&(I.innerHTML="",I.style.cssText="padding:0;margin:0;border:0;display:block;box-sizing:content-box;-moz-box-sizing:content-box;-webkit-box-sizing:content-box;width:1px;padding:1px;display:inline;zoom:1",
ba.inlineBlockNeedsLayout=3===I.offsetWidth,I.style.display="block",I.innerHTML="<div></div>",I.firstChild.style.width="5px",ba.shrinkWrapBlocks=3!==I.offsetWidth,ba.inlineBlockNeedsLayout&&(ta.style.zoom=1)),ta.removeChild(ha),I=null)}),n=Q=r=W=r=n=null,ba}();var rb=/(?:\{[\s\S]*\}|\[[\s\S]*\])$/,Db=/([A-Z])/g;y.extend({cache:{},expando:"jQuery"+("1.9.1"+Math.random()).replace(/\D/g,""),noData:{embed:!0,object:"clsid:D27CDB6E-AE6D-11cf-96B8-444553540000",applet:!0},hasData:function(n){return n=n.nodeType?
y.cache[n[y.expando]]:n[y.expando],!!n&&!h(n)},data:function(n,r,A){return c(n,r,A)},removeData:function(n,r){return e(n,r)},_data:function(n,r,A){return c(n,r,A,!0)},_removeData:function(n,r){return e(n,r,!0)},acceptData:function(n){if(n.nodeType&&1!==n.nodeType&&9!==n.nodeType)return!1;var r=n.nodeName&&y.noData[n.nodeName.toLowerCase()];return!r||!0!==r&&n.getAttribute("classid")===r}});y.fn.extend({data:function(n,r){var A,F=this[0],I=0,Q=null;if(n===g){if(this.length&&(Q=y.data(F),1===F.nodeType&&
!y._data(F,"parsedAttrs"))){for(A=F.attributes;A.length>I;I++){var W=A[I].name;W.indexOf("data-")||(W=y.camelCase(W.slice(5)),f(F,W,Q[W]))}y._data(F,"parsedAttrs",!0)}return Q}return"object"==typeof n?this.each(function(){y.data(this,n)}):y.access(this,function(ba){return ba===g?F?f(F,n,y.data(F,n)):null:(this.each(function(){y.data(this,n,ba)}),g)},null,r,1<arguments.length,null,!0)},removeData:function(n){return this.each(function(){y.removeData(this,n)})}});y.extend({queue:function(n,r,A){var F;
return n?(r=(r||"fx")+"queue",F=y._data(n,r),A&&(!F||y.isArray(A)?F=y._data(n,r,y.makeArray(A)):F.push(A)),F||[]):g},dequeue:function(n,r){r=r||"fx";var A=y.queue(n,r),F=A.length,I=A.shift(),Q=y._queueHooks(n,r),W=function(){y.dequeue(n,r)};"inprogress"===I&&(I=A.shift(),F--);(Q.cur=I)&&("fx"===r&&A.unshift("inprogress"),delete Q.stop,I.call(n,W,Q));!F&&Q&&Q.empty.fire()},_queueHooks:function(n,r){var A=r+"queueHooks";return y._data(n,A)||y._data(n,A,{empty:y.Callbacks("once memory").add(function(){y._removeData(n,
r+"queue");y._removeData(n,A)})})}});y.fn.extend({queue:function(n,r){var A=2;return"string"!=typeof n&&(r=n,n="fx",A--),A>arguments.length?y.queue(this[0],n):r===g?this:this.each(function(){var F=y.queue(this,n,r);y._queueHooks(this,n);"fx"===n&&"inprogress"!==F[0]&&y.dequeue(this,n)})},dequeue:function(n){return this.each(function(){y.dequeue(this,n)})},delay:function(n,r){return n=y.fx?y.fx.speeds[n]||n:n,r=r||"fx",this.queue(r,function(A,F){var I=setTimeout(A,n);F.stop=function(){clearTimeout(I)}})},
clearQueue:function(n){return this.queue(n||"fx",[])},promise:function(n,r){var A,F=1,I=y.Deferred(),Q=this,W=this.length,ba=function(){--F||I.resolveWith(Q,[Q])};"string"!=typeof n&&(r=n,n=g);for(n=n||"fx";W--;)(A=y._data(Q[W],n+"queueHooks"))&&A.empty&&(F++,A.empty.add(ba));return ba(),I.promise(r)}});var Eb,Ib=/[\t\r\n]/g,Nc=/\r/g,Oc=/^(?:input|select|textarea|button|object)$/i,Pc=/^(?:a|area)$/i,zc=/^(?:checked|selected|autofocus|autoplay|async|controls|defer|disabled|hidden|loop|multiple|open|readonly|required|scoped)$/i,
fc=/^(?:checked|selected)$/i,Vb=y.support.getSetAttribute,tc=y.support.input;y.fn.extend({attr:function(n,r){return y.access(this,y.attr,n,r,1<arguments.length)},removeAttr:function(n){return this.each(function(){y.removeAttr(this,n)})},prop:function(n,r){return y.access(this,y.prop,n,r,1<arguments.length)},removeProp:function(n){return n=y.propFix[n]||n,this.each(function(){try{this[n]=g,delete this[n]}catch(r){}})},addClass:function(n){var r,A,F,I,Q=0,W=this.length;var ba="string"==typeof n&&n;
if(y.isFunction(n))return this.each(function(ha){y(this).addClass(n.call(this,ha,this.className))});if(ba)for(ba=(n||"").match(pb)||[];W>Q;Q++)if(r=this[Q],A=1===r.nodeType&&(r.className?(" "+r.className+" ").replace(Ib," "):" ")){for(I=0;F=ba[I++];)0>A.indexOf(" "+F+" ")&&(A+=F+" ");r.className=y.trim(A)}return this},removeClass:function(n){var r,A,F,I,Q=0,W=this.length;var ba=0===arguments.length||"string"==typeof n&&n;if(y.isFunction(n))return this.each(function(ha){y(this).removeClass(n.call(this,
ha,this.className))});if(ba)for(ba=(n||"").match(pb)||[];W>Q;Q++)if(r=this[Q],A=1===r.nodeType&&(r.className?(" "+r.className+" ").replace(Ib," "):"")){for(I=0;F=ba[I++];)for(;0<=A.indexOf(" "+F+" ");)A=A.replace(" "+F+" "," ");r.className=n?y.trim(A):""}return this},toggleClass:function(n,r){var A=typeof n,F="boolean"==typeof r;return y.isFunction(n)?this.each(function(I){y(this).toggleClass(n.call(this,I,this.className,r),r)}):this.each(function(){if("string"===A)for(var I,Q=0,W=y(this),ba=r,ha=
n.match(pb)||[];I=ha[Q++];)ba=F?ba:!W.hasClass(I),W[ba?"addClass":"removeClass"](I);else(A===wa||"boolean"===A)&&(this.className&&y._data(this,"__className__",this.className),this.className=this.className||!1===n?"":y._data(this,"__className__")||"")})},hasClass:function(n){n=" "+n+" ";for(var r=0,A=this.length;A>r;r++)if(1===this[r].nodeType&&0<=(" "+this[r].className+" ").replace(Ib," ").indexOf(n))return!0;return!1},val:function(n){var r,A,F,I=this[0];if(arguments.length)return F=y.isFunction(n),
this.each(function(Q){var W,ba=y(this);1===this.nodeType&&(W=F?n.call(this,Q,ba.val()):n,null==W?W="":"number"==typeof W?W+="":y.isArray(W)&&(W=y.map(W,function(ha){return null==ha?"":ha+""})),A=y.valHooks[this.type]||y.valHooks[this.nodeName.toLowerCase()],A&&"set"in A&&A.set(this,W,"value")!==g||(this.value=W))});if(I)return A=y.valHooks[I.type]||y.valHooks[I.nodeName.toLowerCase()],A&&"get"in A&&(r=A.get(I,"value"))!==g?r:(r=I.value,"string"==typeof r?r.replace(Nc,""):null==r?"":r)}});y.extend({valHooks:{option:{get:function(n){var r=
n.attributes.value;return!r||r.specified?n.value:n.text}},select:{get:function(n){for(var r,A=n.options,F=n.selectedIndex,I="select-one"===n.type||0>F,Q=I?null:[],W=I?F+1:A.length,ba=0>F?W:I?F:0;W>ba;ba++)if(r=A[ba],!(!r.selected&&ba!==F||(y.support.optDisabled?r.disabled:null!==r.getAttribute("disabled"))||r.parentNode.disabled&&y.nodeName(r.parentNode,"optgroup"))){if(n=y(r).val(),I)return n;Q.push(n)}return Q},set:function(n,r){var A=y.makeArray(r);return y(n).find("option").each(function(){this.selected=
0<=y.inArray(y(this).val(),A)}),A.length||(n.selectedIndex=-1),A}}},attr:function(n,r,A){var F,I,Q,W=n.nodeType;if(n&&3!==W&&8!==W&&2!==W)return typeof n.getAttribute===wa?y.prop(n,r,A):(I=1!==W||!y.isXMLDoc(n),I&&(r=r.toLowerCase(),F=y.attrHooks[r]||(zc.test(r)?Qc:Eb)),A===g?F&&I&&"get"in F&&null!==(Q=F.get(n,r))?Q:(typeof n.getAttribute!==wa&&(Q=n.getAttribute(r)),null==Q?g:Q):null!==A?F&&I&&"set"in F&&(Q=F.set(n,A,r))!==g?Q:(n.setAttribute(r,A+""),A):(y.removeAttr(n,r),g))},removeAttr:function(n,
r){var A=0,F=r&&r.match(pb);if(F&&1===n.nodeType)for(;r=F[A++];){var I=y.propFix[r]||r;zc.test(r)?!Vb&&fc.test(r)?n[y.camelCase("default-"+r)]=n[I]=!1:n[I]=!1:y.attr(n,r,"");n.removeAttribute(Vb?r:I)}},attrHooks:{type:{set:function(n,r){if(!y.support.radioValue&&"radio"===r&&y.nodeName(n,"input")){var A=n.value;return n.setAttribute("type",r),A&&(n.value=A),r}}}},propFix:{tabindex:"tabIndex",readonly:"readOnly","for":"htmlFor","class":"className",maxlength:"maxLength",cellspacing:"cellSpacing",cellpadding:"cellPadding",
rowspan:"rowSpan",colspan:"colSpan",usemap:"useMap",frameborder:"frameBorder",contenteditable:"contentEditable"},prop:function(n,r,A){var F,I,Q,W=n.nodeType;if(n&&3!==W&&8!==W&&2!==W)return Q=1!==W||!y.isXMLDoc(n),Q&&(r=y.propFix[r]||r,I=y.propHooks[r]),A!==g?I&&"set"in I&&(F=I.set(n,A,r))!==g?F:n[r]=A:I&&"get"in I&&null!==(F=I.get(n,r))?F:n[r]},propHooks:{tabIndex:{get:function(n){var r=n.getAttributeNode("tabindex");return r&&r.specified?parseInt(r.value,10):Oc.test(n.nodeName)||Pc.test(n.nodeName)&&
n.href?0:g}}}});var Qc={get:function(n,r){var A=y.prop(n,r),F="boolean"==typeof A&&n.getAttribute(r);return(n="boolean"==typeof A?tc&&Vb?null!=F:fc.test(r)?n[y.camelCase("default-"+r)]:!!F:n.getAttributeNode(r))&&!1!==n.value?r.toLowerCase():g},set:function(n,r,A){return!1===r?y.removeAttr(n,A):tc&&Vb||!fc.test(A)?n.setAttribute(!Vb&&y.propFix[A]||A,A):n[y.camelCase("default-"+A)]=n[A]=!0,A}};tc&&Vb||(y.attrHooks.value={get:function(n,r){r=n.getAttributeNode(r);return y.nodeName(n,"input")?n.defaultValue:
r&&r.specified?r.value:g},set:function(n,r,A){return y.nodeName(n,"input")?(n.defaultValue=r,g):Eb&&Eb.set(n,r,A)}});Vb||(Eb=y.valHooks.button={get:function(n,r){return(n=n.getAttributeNode(r))&&("id"===r||"name"===r||"coords"===r?""!==n.value:n.specified)?n.value:g},set:function(n,r,A){var F=n.getAttributeNode(A);return F||n.setAttributeNode(F=n.ownerDocument.createAttribute(A)),F.value=r+="","value"===A||r===n.getAttribute(A)?r:g}},y.attrHooks.contenteditable={get:Eb.get,set:function(n,r,A){Eb.set(n,
""===r?!1:r,A)}},y.each(["width","height"],function(n,r){y.attrHooks[r]=y.extend(y.attrHooks[r],{set:function(A,F){return""===F?(A.setAttribute(r,"auto"),F):g}})}));y.support.hrefNormalized||(y.each(["href","src","width","height"],function(n,r){y.attrHooks[r]=y.extend(y.attrHooks[r],{get:function(A){A=A.getAttribute(r,2);return null==A?g:A}})}),y.each(["href","src"],function(n,r){y.propHooks[r]={get:function(A){return A.getAttribute(r,4)}}}));y.support.style||(y.attrHooks.style={get:function(n){return n.style.cssText||
g},set:function(n,r){return n.style.cssText=r+""}});y.support.optSelected||(y.propHooks.selected=y.extend(y.propHooks.selected,{get:function(n){n=n.parentNode;return n&&(n.selectedIndex,n.parentNode&&n.parentNode.selectedIndex),null}}));y.support.enctype||(y.propFix.enctype="encoding");y.support.checkOn||y.each(["radio","checkbox"],function(){y.valHooks[this]={get:function(n){return null===n.getAttribute("value")?"on":n.value}}});y.each(["radio","checkbox"],function(){y.valHooks[this]=y.extend(y.valHooks[this],
{set:function(n,r){return y.isArray(r)?n.checked=0<=y.inArray(y(n).val(),r):g}})});var lc=/^(?:input|select|textarea)$/i,Ac=/^key/,Bc=/^(?:mouse|contextmenu)|click/,Cc=/^(?:focusinfocus|focusoutblur)$/,Dc=/^([^.]*)(?:\.(.+)|)$/;y.event={global:{},add:function(n,r,A,F,I){var Q,W,ba,ha,ma,fa;if(W=y._data(n)){A.handler&&(ba=A,A=ba.handler,I=ba.selector);A.guid||(A.guid=y.guid++);(Q=W.events)||(Q=W.events={});(ha=W.handle)||(ha=W.handle=function(bb){return typeof y===wa||bb&&y.event.triggered===bb.type?
g:y.event.dispatch.apply(ha.elem,arguments)},ha.elem=n);r=(r||"").match(pb)||[""];for(W=r.length;W--;){var ta=Dc.exec(r[W])||[];var ua=ma=ta[1];var Oa=(ta[2]||"").split(".").sort();ta=y.event.special[ua]||{};ua=(I?ta.delegateType:ta.bindType)||ua;ta=y.event.special[ua]||{};ma=y.extend({type:ua,origType:ma,data:F,handler:A,guid:A.guid,selector:I,needsContext:I&&y.expr.match.needsContext.test(I),namespace:Oa.join(".")},ba);(fa=Q[ua])||(fa=Q[ua]=[],fa.delegateCount=0,ta.setup&&!1!==ta.setup.call(n,F,
Oa,ha)||(n.addEventListener?n.addEventListener(ua,ha,!1):n.attachEvent&&n.attachEvent("on"+ua,ha)));ta.add&&(ta.add.call(n,ma),ma.handler.guid||(ma.handler.guid=A.guid));I?fa.splice(fa.delegateCount++,0,ma):fa.push(ma);y.event.global[ua]=!0}n=null}},remove:function(n,r,A,F,I){var Q,W,ba,ha,ma,fa,ta,ua,Oa=y.hasData(n)&&y._data(n);if(Oa&&(ma=Oa.events)){r=(r||"").match(pb)||[""];for(ha=r.length;ha--;)if(W=Dc.exec(r[ha])||[],fa=ua=W[1],ta=(W[2]||"").split(".").sort(),fa){var bb=y.event.special[fa]||
{};fa=(F?bb.delegateType:bb.bindType)||fa;var Cb=ma[fa]||[];W=W[2]&&RegExp("(^|\\.)"+ta.join("\\.(?:.*\\.|)")+"(\\.|$)");for(ba=Q=Cb.length;Q--;){var wb=Cb[Q];!I&&ua!==wb.origType||A&&A.guid!==wb.guid||W&&!W.test(wb.namespace)||F&&F!==wb.selector&&("**"!==F||!wb.selector)||(Cb.splice(Q,1),wb.selector&&Cb.delegateCount--,bb.remove&&bb.remove.call(n,wb))}ba&&!Cb.length&&(bb.teardown&&!1!==bb.teardown.call(n,ta,Oa.handle)||y.removeEvent(n,fa,Oa.handle),delete ma[fa])}else for(fa in ma)y.event.remove(n,
fa+r[ha],A,F,!0);y.isEmptyObject(ma)&&(delete Oa.handle,y._removeData(n,"events"))}},trigger:function(n,r,A,F){var I,Q,W,ba,ha=[A||oa],ma=Ra.call(n,"type")?n.type:n;var fa=Ra.call(n,"namespace")?n.namespace.split("."):[];if(W=I=A=A||oa,3!==A.nodeType&&8!==A.nodeType&&!Cc.test(ma+y.event.triggered)&&(0<=ma.indexOf(".")&&(fa=ma.split("."),ma=fa.shift(),fa.sort()),Q=0>ma.indexOf(":")&&"on"+ma,n=n[y.expando]?n:new y.Event(ma,"object"==typeof n&&n),n.isTrigger=!0,n.namespace=fa.join("."),n.namespace_re=
n.namespace?RegExp("(^|\\.)"+fa.join("\\.(?:.*\\.|)")+"(\\.|$)"):null,n.result=g,n.target||(n.target=A),r=null==r?[n]:y.makeArray(r,[n]),ba=y.event.special[ma]||{},F||!ba.trigger||!1!==ba.trigger.apply(A,r))){if(!F&&!ba.noBubble&&!y.isWindow(A)){var ta=ba.delegateType||ma;for(Cc.test(ta+ma)||(W=W.parentNode);W;W=W.parentNode)ha.push(W),I=W;I===(A.ownerDocument||oa)&&ha.push(I.defaultView||I.parentWindow||a)}for(fa=0;(W=ha[fa++])&&!n.isPropagationStopped();)n.type=1<fa?ta:ba.bindType||ma,(I=(y._data(W,
"events")||{})[n.type]&&y._data(W,"handle"))&&I.apply(W,r),(I=Q&&W[Q])&&y.acceptData(W)&&I.apply&&!1===I.apply(W,r)&&n.preventDefault();if(n.type=ma,!(F||n.isDefaultPrevented()||ba._default&&!1!==ba._default.apply(A.ownerDocument,r)||"click"===ma&&y.nodeName(A,"a"))&&y.acceptData(A)&&Q&&A[ma]&&!y.isWindow(A)){(I=A[Q])&&(A[Q]=null);y.event.triggered=ma;try{A[ma]()}catch(ua){}y.event.triggered=g;I&&(A[Q]=I)}return n.result}},dispatch:function(n){n=y.event.fix(n);var r,A,F,I,Q=lb.call(arguments);var W=
(y._data(this,"events")||{})[n.type]||[];var ba=y.event.special[n.type]||{};if(Q[0]=n,n.delegateTarget=this,!ba.preDispatch||!1!==ba.preDispatch.call(this,n)){var ha=y.event.handlers.call(this,n,W);for(W=0;(F=ha[W++])&&!n.isPropagationStopped();)for(n.currentTarget=F.elem,I=0;(A=F.handlers[I++])&&!n.isImmediatePropagationStopped();)n.namespace_re&&!n.namespace_re.test(A.namespace)||(n.handleObj=A,n.data=A.data,r=((y.event.special[A.origType]||{}).handle||A.handler).apply(F.elem,Q),r===g||!1!==(n.result=
r)||(n.preventDefault(),n.stopPropagation()));return ba.postDispatch&&ba.postDispatch.call(this,n),n.result}},handlers:function(n,r){var A,F=[],I=r.delegateCount,Q=n.target;if(I&&Q.nodeType&&(!n.button||"click"!==n.type))for(;Q!=this;Q=Q.parentNode||this)if(1===Q.nodeType&&(!0!==Q.disabled||"click"!==n.type)){var W=[];for(A=0;I>A;A++){var ba=r[A];var ha=ba.selector+" ";W[ha]===g&&(W[ha]=ba.needsContext?0<=y(ha,this).index(Q):y.find(ha,this,null,[Q]).length);W[ha]&&W.push(ba)}W.length&&F.push({elem:Q,
handlers:W})}return r.length>I&&F.push({elem:this,handlers:r.slice(I)}),F},fix:function(n){if(n[y.expando])return n;var r=n.type;var A=n,F=this.fixHooks[r];F||(this.fixHooks[r]=F=Bc.test(r)?this.mouseHooks:Ac.test(r)?this.keyHooks:{});var I=F.props?this.props.concat(F.props):this.props;n=new y.Event(A);for(r=I.length;r--;){var Q=I[r];n[Q]=A[Q]}return n.target||(n.target=A.srcElement||oa),3===n.target.nodeType&&(n.target=n.target.parentNode),n.metaKey=!!n.metaKey,F.filter?F.filter(n,A):n},props:"altKey bubbles cancelable ctrlKey currentTarget eventPhase metaKey relatedTarget shiftKey target timeStamp view which".split(" "),
fixHooks:{},keyHooks:{props:["char","charCode","key","keyCode"],filter:function(n,r){return null==n.which&&(n.which=null!=r.charCode?r.charCode:r.keyCode),n}},mouseHooks:{props:"button buttons clientX clientY fromElement offsetX offsetY pageX pageY screenX screenY toElement".split(" "),filter:function(n,r){var A,F,I,Q=r.button,W=r.fromElement;return null==n.pageX&&null!=r.clientX&&(F=n.target.ownerDocument||oa,I=F.documentElement,A=F.body,n.pageX=r.clientX+(I&&I.scrollLeft||A&&A.scrollLeft||0)-(I&&
I.clientLeft||A&&A.clientLeft||0),n.pageY=r.clientY+(I&&I.scrollTop||A&&A.scrollTop||0)-(I&&I.clientTop||A&&A.clientTop||0)),!n.relatedTarget&&W&&(n.relatedTarget=W===n.target?r.toElement:W),n.which||Q===g||(n.which=1&Q?1:2&Q?3:4&Q?2:0),n}},special:{load:{noBubble:!0},click:{trigger:function(){return y.nodeName(this,"input")&&"checkbox"===this.type&&this.click?(this.click(),!1):g}},focus:{trigger:function(){if(this!==oa.activeElement&&this.focus)try{return this.focus(),!1}catch(n){}},delegateType:"focusin"},
blur:{trigger:function(){return this===oa.activeElement&&this.blur?(this.blur(),!1):g},delegateType:"focusout"},beforeunload:{postDispatch:function(n){n.result!==g&&(n.originalEvent.returnValue=n.result)}}},simulate:function(n,r,A,F){n=y.extend(new y.Event,A,{type:n,isSimulated:!0,originalEvent:{}});F?y.event.trigger(n,null,r):y.event.dispatch.call(r,n);n.isDefaultPrevented()&&A.preventDefault()}};y.removeEvent=oa.removeEventListener?function(n,r,A){n.removeEventListener&&n.removeEventListener(r,
A,!1)}:function(n,r,A){r="on"+r;n.detachEvent&&(typeof n[r]===wa&&(n[r]=null),n.detachEvent(r,A))};y.Event=function(n,r){return this instanceof y.Event?(n&&n.type?(this.originalEvent=n,this.type=n.type,this.isDefaultPrevented=n.defaultPrevented||!1===n.returnValue||n.getPreventDefault&&n.getPreventDefault()?m:k):this.type=n,r&&y.extend(this,r),this.timeStamp=n&&n.timeStamp||y.now(),this[y.expando]=!0,g):new y.Event(n,r)};y.Event.prototype={isDefaultPrevented:k,isPropagationStopped:k,isImmediatePropagationStopped:k,
preventDefault:function(){var n=this.originalEvent;this.isDefaultPrevented=m;n&&(n.preventDefault?n.preventDefault():n.returnValue=!1)},stopPropagation:function(){var n=this.originalEvent;this.isPropagationStopped=m;n&&(n.stopPropagation&&n.stopPropagation(),n.cancelBubble=!0)},stopImmediatePropagation:function(){this.isImmediatePropagationStopped=m;this.stopPropagation()}};y.each({mouseenter:"mouseover",mouseleave:"mouseout"},function(n,r){y.event.special[n]={delegateType:r,bindType:r,handle:function(A){var F,
I=A.relatedTarget,Q=A.handleObj;return(!I||I!==this&&!y.contains(this,I))&&(A.type=Q.origType,F=Q.handler.apply(this,arguments),A.type=r),F}}});y.support.submitBubbles||(y.event.special.submit={setup:function(){return y.nodeName(this,"form")?!1:(y.event.add(this,"click._submit keypress._submit",function(n){n=n.target;(n=y.nodeName(n,"input")||y.nodeName(n,"button")?n.form:g)&&!y._data(n,"submitBubbles")&&(y.event.add(n,"submit._submit",function(r){r._submit_bubble=!0}),y._data(n,"submitBubbles",!0))}),
g)},postDispatch:function(n){n._submit_bubble&&(delete n._submit_bubble,this.parentNode&&!n.isTrigger&&y.event.simulate("submit",this.parentNode,n,!0))},teardown:function(){return y.nodeName(this,"form")?!1:(y.event.remove(this,"._submit"),g)}});y.support.changeBubbles||(y.event.special.change={setup:function(){return lc.test(this.nodeName)?(("checkbox"===this.type||"radio"===this.type)&&(y.event.add(this,"propertychange._change",function(n){"checked"===n.originalEvent.propertyName&&(this._just_changed=
!0)}),y.event.add(this,"click._change",function(n){this._just_changed&&!n.isTrigger&&(this._just_changed=!1);y.event.simulate("change",this,n,!0)})),!1):(y.event.add(this,"beforeactivate._change",function(n){n=n.target;lc.test(n.nodeName)&&!y._data(n,"changeBubbles")&&(y.event.add(n,"change._change",function(r){!this.parentNode||r.isSimulated||r.isTrigger||y.event.simulate("change",this.parentNode,r,!0)}),y._data(n,"changeBubbles",!0))}),g)},handle:function(n){var r=n.target;return this!==r||n.isSimulated||
n.isTrigger||"radio"!==r.type&&"checkbox"!==r.type?n.handleObj.handler.apply(this,arguments):g},teardown:function(){return y.event.remove(this,"._change"),!lc.test(this.nodeName)}});y.support.focusinBubbles||y.each({focus:"focusin",blur:"focusout"},function(n,r){var A=0,F=function(I){y.event.simulate(r,I.target,y.event.fix(I),!0)};y.event.special[r]={setup:function(){0===A++&&oa.addEventListener(n,F,!0)},teardown:function(){0===--A&&oa.removeEventListener(n,F,!0)}}});y.fn.extend({on:function(n,r,
A,F,I){var Q,W;if("object"==typeof n){"string"!=typeof r&&(A=A||r,r=g);for(Q in n)this.on(Q,r,A,n[Q],I);return this}if(null==A&&null==F?(F=r,A=r=g):null==F&&("string"==typeof r?(F=A,A=g):(F=A,A=r,r=g)),!1===F)F=k;else if(!F)return this;return 1===I&&(W=F,F=function(ba){return y().off(ba),W.apply(this,arguments)},F.guid=W.guid||(W.guid=y.guid++)),this.each(function(){y.event.add(this,n,F,A,r)})},one:function(n,r,A,F){return this.on(n,r,A,F,1)},off:function(n,r,A){var F,I;if(n&&n.preventDefault&&n.handleObj)return F=
n.handleObj,y(n.delegateTarget).off(F.namespace?F.origType+"."+F.namespace:F.origType,F.selector,F.handler),this;if("object"==typeof n){for(I in n)this.off(I,r,n[I]);return this}return(!1===r||"function"==typeof r)&&(A=r,r=g),!1===A&&(A=k),this.each(function(){y.event.remove(this,n,A,r)})},bind:function(n,r,A){return this.on(n,null,r,A)},unbind:function(n,r){return this.off(n,null,r)},delegate:function(n,r,A,F){return this.on(r,n,A,F)},undelegate:function(n,r,A){return 1===arguments.length?this.off(n,
"**"):this.off(r,n||"**",A)},trigger:function(n,r){return this.each(function(){y.event.trigger(n,r,this)})},triggerHandler:function(n,r){var A=this[0];return A?y.event.trigger(n,r,A,!0):g}});(function(n,r){function A(){var Z,ea=[];return Z=function(aa,ka){return ea.push(aa+=" ")>ab.cacheLength&&delete Z[ea.shift()],Z[aa]=ka}}function F(Z){return Z[Xa]=!0,Z}function I(Z){var ea=cb.createElement("div");try{return Z(ea)}catch(aa){return!1}finally{}}function Q(Z,ea,aa,ka){var ra,ya,za,Ea,Ba;if((ea?ea.ownerDocument||
ea:Rb)!==cb&&uc(ea),ea=ea||cb,aa=aa||[],!Z||"string"!=typeof Z)return aa;if(1!==(Ea=ea.nodeType)&&9!==Ea)return[];if(!Fb&&!ka){if(ra=sd.exec(Z))if(za=ra[1])if(9===Ea){if(ya=ea.getElementById(za),!ya||!ya.parentNode)return aa;if(ya.id===za)return aa.push(ya),aa}else{if(ea.ownerDocument&&(ya=ea.ownerDocument.getElementById(za))&&Nb(ea,ya)&&ya.id===za)return aa.push(ya),aa}else{if(ra[2])return Zb.apply(aa,mc.call(ea.getElementsByTagName(Z),0)),aa;if((za=ra[3])&&gb.getByClassName&&ea.getElementsByClassName)return Zb.apply(aa,
mc.call(ea.getElementsByClassName(za),0)),aa}if(gb.qsa&&!nb.test(Z)){if(ra=!0,ya=Xa,za=ea,Ba=9===Ea&&Z,1===Ea&&"object"!==ea.nodeName.toLowerCase()){Ea=fa(Z);(ra=ea.getAttribute("id"))?ya=ra.replace(td,"\\$&"):ea.setAttribute("id",ya);ya="[id='"+ya+"'] ";for(za=Ea.length;za--;)Ea[za]=ya+ta(Ea[za]);za=Rc.test(Z)&&ea.parentNode||ea;Ba=Ea.join(",")}if(Ba)try{return Zb.apply(aa,mc.call(za.querySelectorAll(Ba),0)),aa}catch(ob){}finally{ra||ea.removeAttribute("id")}}}var Pa;a:{Z=Z.replace(Ec,"$1");var La,
Ta;ya=fa(Z);if(!ka&&1===ya.length){if(Pa=ya[0]=ya[0].slice(0),2<Pa.length&&"ID"===(La=Pa[0]).type&&9===ea.nodeType&&!Fb&&ab.relative[Pa[1].type]){if(ea=ab.find.ID(La.matches[0].replace($b,ac),ea)[0],!ea){Pa=aa;break a}Z=Z.slice(Pa.shift().value.length)}for(Ea=Fc.needsContext.test(Z)?0:Pa.length;Ea--&&(La=Pa[Ea],!ab.relative[ra=La.type]);)if((Ta=ab.find[ra])&&(ka=Ta(La.matches[0].replace($b,ac),Rc.test(Pa[0].type)&&ea.parentNode||ea))){if(Pa.splice(Ea,1),Z=ka.length&&ta(Pa),!Z){Pa=(Zb.apply(aa,mc.call(ka,
0)),aa);break a}break}}Pa=(gd(Z,ya)(ka,ea,Fb,aa,Rc.test(Z)),aa)}return Pa}function W(Z,ea){var aa=ea&&Z,ka=aa&&(~ea.sourceIndex||-2147483648)-(~Z.sourceIndex||-2147483648);if(ka)return ka;if(aa)for(;aa=aa.nextSibling;)if(aa===ea)return-1;return Z?1:-1}function ba(Z){return function(ea){return"input"===ea.nodeName.toLowerCase()&&ea.type===Z}}function ha(Z){return function(ea){var aa=ea.nodeName.toLowerCase();return("input"===aa||"button"===aa)&&ea.type===Z}}function ma(Z){return F(function(ea){return ea=
+ea,F(function(aa,ka){for(var ra,ya=Z([],aa.length,ea),za=ya.length;za--;)aa[ra=ya[za]]&&(aa[ra]=!(ka[ra]=aa[ra]))})})}function fa(Z,ea){var aa,ka,ra,ya,za;if(ya=Gb[Z+" "])return ea?0:ya.slice(0);ya=Z;var Ea=[];for(za=ab.preFilter;ya;){Ba&&!(aa=ud.exec(ya))||(aa&&(ya=ya.slice(aa[0].length)||ya),Ea.push(ka=[]));var Ba=!1;(aa=vd.exec(ya))&&(Ba=aa.shift(),ka.push({value:Ba,type:aa[0].replace(Ec," ")}),ya=ya.slice(Ba.length));for(ra in ab.filter)!(aa=Fc[ra].exec(ya))||za[ra]&&!(aa=za[ra](aa))||(Ba=aa.shift(),
ka.push({value:Ba,type:ra,matches:aa}),ya=ya.slice(Ba.length));if(!Ba)break}return ea?ya.length:ya?Q.error(Z):Gb(Z,Ea).slice(0)}function ta(Z){for(var ea=0,aa=Z.length,ka="";aa>ea;ea++)ka+=Z[ea].value;return ka}function ua(Z,ea,aa){var ka=ea.dir,ra=aa&&"parentNode"===ka,ya=Wb++;return ea.first?function(za,Ea,Ba){for(;za=za[ka];)if(1===za.nodeType||ra)return Z(za,Ea,Ba)}:function(za,Ea,Ba){var Pa,La,Ta,ob=Qb+" "+ya;if(Ba)for(;za=za[ka];){if((1===za.nodeType||ra)&&Z(za,Ea,Ba))return!0}else for(;za=
za[ka];)if(1===za.nodeType||ra)if(Ta=za[Xa]||(za[Xa]={}),(La=Ta[ka])&&La[0]===ob){if(!0===(Pa=La[1])||Pa===Ua)return!0===Pa}else if(La=Ta[ka]=[ob],La[1]=Z(za,Ea,Ba)||Ua,!0===La[1])return!0}}function Oa(Z){return 1<Z.length?function(ea,aa,ka){for(var ra=Z.length;ra--;)if(!Z[ra](ea,aa,ka))return!1;return!0}:Z[0]}function bb(Z,ea,aa,ka,ra){for(var ya,za=[],Ea=0,Ba=Z.length,Pa=null!=ea;Ba>Ea;Ea++)(ya=Z[Ea])&&(!aa||aa(ya,ka,ra))&&(za.push(ya),Pa&&ea.push(Ea));return za}function Cb(Z,ea,aa,ka,ra,ya){return ka&&
!ka[Xa]&&(ka=Cb(ka)),ra&&!ra[Xa]&&(ra=Cb(ra,ya)),F(function(za,Ea,Ba,Pa){var La,Ta=[],ob=[],Ob=Ea.length,ub;if(!(ub=za)){ub=ea||"*";for(var Ya=Ba.nodeType?[Ba]:Ba,Jb=[],xb=0,Gc=Ya.length;Gc>xb;xb++)Q(ub,Ya[xb],Jb);ub=Jb}ub=!Z||!za&&ea?ub:bb(ub,Ta,Z,Ba,Pa);Ya=aa?ra||(za?Z:Ob||ka)?[]:Ea:ub;if(aa&&aa(ub,Ya,Ba,Pa),ka){var Sb=bb(Ya,ob);ka(Sb,[],Ba,Pa);for(Ba=Sb.length;Ba--;)(La=Sb[Ba])&&(Ya[ob[Ba]]=!(ub[ob[Ba]]=La))}if(za){if(ra||Z){if(ra){Sb=[];for(Ba=Ya.length;Ba--;)(La=Ya[Ba])&&Sb.push(ub[Ba]=La);ra(null,
Ya=[],Sb,Pa)}for(Ba=Ya.length;Ba--;)(La=Ya[Ba])&&-1<(Sb=ra?Sc.call(za,La):Ta[Ba])&&(za[Sb]=!(Ea[Sb]=La))}}else Ya=bb(Ya===Ea?Ya.splice(Ob,Ya.length):Ya),ra?ra(null,Ea,Ya,Pa):Zb.apply(Ea,Ya)})}function wb(Z){var ea,aa,ka=Z.length,ra=ab.relative[Z[0].type];var ya=ra||ab.relative[" "];for(var za=ra?1:0,Ea=ua(function(La){return La===ea},ya,!0),Ba=ua(function(La){return-1<Sc.call(ea,La)},ya,!0),Pa=[function(La,Ta,ob){return!ra&&(ob||Ta!==Wa)||((ea=Ta).nodeType?Ea(La,Ta,ob):Ba(La,Ta,ob))}];ka>za;za++)if(ya=
ab.relative[Z[za].type])Pa=[ua(Oa(Pa),ya)];else{if(ya=ab.filter[Z[za].type].apply(null,Z[za].matches),ya[Xa]){for(aa=++za;ka>aa&&!ab.relative[Z[aa].type];aa++);return Cb(1<za&&Oa(Pa),1<za&&ta(Z.slice(0,za-1)).replace(Ec,"$1"),ya,aa>za&&wb(Z.slice(za,aa)),ka>aa&&wb(Z=Z.slice(aa)),ka>aa&&ta(Z))}Pa.push(ya)}return Oa(Pa)}function Hc(Z,ea){var aa=0,ka=0<ea.length,ra=0<Z.length,ya=function(za,Ea,Ba,Pa,La){var Ta,ob,Ob=[],ub=0,Ya="0",Jb=za&&[],xb=null!=La,Gc=Wa,Sb=za||ra&&ab.find.TAG("*",La&&Ea.parentNode||
Ea),hd=Qb+=null==Gc?1:Math.random()||.1;for(xb&&(Wa=Ea!==cb&&Ea,Ua=aa);null!=(La=Sb[Ya]);Ya++){if(ra&&La){for(Ta=0;ob=Z[Ta++];)if(ob(La,Ea,Ba)){Pa.push(La);break}xb&&(Qb=hd,Ua=++aa)}ka&&((La=!ob&&La)&&ub--,za&&Jb.push(La))}if(ub+=Ya,ka&&Ya!==ub){for(Ta=0;ob=ea[Ta++];)ob(Jb,Ob,Ea,Ba);if(za){if(0<ub)for(;Ya--;)Jb[Ya]||Ob[Ya]||(Ob[Ya]=bc.call(Pa));Ob=bb(Ob)}Zb.apply(Pa,Ob);xb&&!za&&0<Ob.length&&1<ub+ea.length&&Q.uniqueSort(Pa)}return xb&&(Qb=hd,Wa=Gc),Jb};return ka?F(ya):ya}function Lb(){}var Xb,Ua,
Bb,Wa,cb,eb,Fb,nb,Hb,yb,Nb,cc,Xa="sizzle"+-new Date,Rb=n.document,gb={},Qb=0,Wb=0,zb=A(),Gb=A(),dc=A(),qb=typeof r,Pb=[],bc=Pb.pop,Zb=Pb.push,mc=Pb.slice,Sc=Pb.indexOf||function(Z){for(var ea=0,aa=this.length;aa>ea;ea++)if(this[ea]===Z)return ea;return-1},Tc=":((?:\\\\.|[\\w-]|[^\\x00-\\xa0])+)(?:\\(((['\"])((?:\\\\.|[^\\\\])*?)\\3|((?:\\\\.|[^\\\\()[\\]]|"+"\\[[\\x20\\t\\r\\n\\f]*((?:\\\\.|[\\w-]|[^\\x00-\\xa0])+)[\\x20\\t\\r\\n\\f]*(?:([*^$|!~]?=)[\\x20\\t\\r\\n\\f]*(?:(['\"])((?:\\\\.|[^\\\\])*?)\\3|((?:\\\\.|[\\w#-]|[^\\x00-\\xa0])+)|)|)[\\x20\\t\\r\\n\\f]*\\]".replace(3,
8)+")*)|.*)\\)|)",Ec=RegExp("^[\\x20\\t\\r\\n\\f]+|((?:^|[^\\\\])(?:\\\\.)*)[\\x20\\t\\r\\n\\f]+$","g"),ud=RegExp("^[\\x20\\t\\r\\n\\f]*,[\\x20\\t\\r\\n\\f]*"),vd=RegExp("^[\\x20\\t\\r\\n\\f]*([\\x20\\t\\r\\n\\f>+~])[\\x20\\t\\r\\n\\f]*"),wd=RegExp(Tc),xd=RegExp("^(?:\\\\.|[\\w#-]|[^\\x00-\\xa0])+$"),Fc={ID:RegExp("^#((?:\\\\.|[\\w-]|[^\\x00-\\xa0])+)"),CLASS:RegExp("^\\.((?:\\\\.|[\\w-]|[^\\x00-\\xa0])+)"),NAME:RegExp("^\\[name=['\"]?((?:\\\\.|[\\w-]|[^\\x00-\\xa0])+)['\"]?\\]"),TAG:RegExp("^((?:\\\\.|[\\w*-]|[^\\x00-\\xa0])+)"),
ATTR:RegExp("^\\[[\\x20\\t\\r\\n\\f]*((?:\\\\.|[\\w-]|[^\\x00-\\xa0])+)[\\x20\\t\\r\\n\\f]*(?:([*^$|!~]?=)[\\x20\\t\\r\\n\\f]*(?:(['\"])((?:\\\\.|[^\\\\])*?)\\3|((?:\\\\.|[\\w#-]|[^\\x00-\\xa0])+)|)|)[\\x20\\t\\r\\n\\f]*\\]"),PSEUDO:RegExp("^"+Tc),CHILD:RegExp("^:(only|first|last|nth|nth-last)-(child|of-type)(?:\\([\\x20\\t\\r\\n\\f]*(even|odd|(([+-]|)(\\d*)n|)[\\x20\\t\\r\\n\\f]*(?:([+-]|)[\\x20\\t\\r\\n\\f]*(\\d+)|))[\\x20\\t\\r\\n\\f]*\\)|)","i"),needsContext:RegExp("^[\\x20\\t\\r\\n\\f]*[>+~]|:(even|odd|eq|gt|lt|nth|first|last)(?:\\([\\x20\\t\\r\\n\\f]*((?:-\\d)?\\d*)[\\x20\\t\\r\\n\\f]*\\)|)(?=[^-]|$)",
"i")},Rc=/[\x20\t\r\n\f]*[+~]/,Uc=/^[^{]+\{\s*\[native code/,sd=/^(?:#([\w-]+)|(\w+)|\.([\w-]+))$/,yd=/^(?:input|select|textarea|button)$/i,zd=/^h\d$/i,td=/'|\\/g,Ad=/=[\x20\t\r\n\f]*([^'"\]]*)[\x20\t\r\n\f]*\]/g,$b=/\\([\da-fA-F]{1,6}[\x20\t\r\n\f]?|.)/g,ac=function(Z,ea){Z="0x"+ea-65536;return Z!==Z?ea:0>Z?String.fromCharCode(Z+65536):String.fromCharCode(55296|Z>>10,56320|1023&Z)};try{mc.call(Rb.documentElement.childNodes,0)[0].nodeType}catch(Z){mc=function(ea){for(var aa,ka=[];aa=this[ea++];)ka.push(aa);
return ka}}var Bd=Q.isXML=function(Z){return(Z=Z&&(Z.ownerDocument||Z).documentElement)?"HTML"!==Z.nodeName:!1};var uc=Q.setDocument=function(Z){var ea=Z?Z.ownerDocument||Z:Rb;return ea!==cb&&9===ea.nodeType&&ea.documentElement?(cb=ea,eb=ea.documentElement,Fb=Bd(ea),gb.tagNameNoComments=I(function(aa){return aa.appendChild(ea.createComment("")),!aa.getElementsByTagName("*").length}),gb.attributes=I(function(aa){aa.innerHTML="<select></select>";aa=typeof aa.lastChild.getAttribute("multiple");return"boolean"!==
aa&&"string"!==aa}),gb.getByClassName=I(function(aa){return aa.innerHTML="<div class='hidden e'></div><div class='hidden'></div>",aa.getElementsByClassName&&aa.getElementsByClassName("e").length?(aa.lastChild.className="e",2===aa.getElementsByClassName("e").length):!1}),gb.getByName=I(function(aa){aa.id=Xa+0;aa.innerHTML="<a name='"+Xa+"'></a><div name='"+Xa+"'></div>";eb.insertBefore(aa,eb.firstChild);var ka=ea.getElementsByName&&ea.getElementsByName(Xa).length===2+ea.getElementsByName(Xa+0).length;
return gb.getIdNotName=!ea.getElementById(Xa),eb.removeChild(aa),ka}),ab.attrHandle=I(function(aa){return aa.innerHTML="<a href='#'></a>",aa.firstChild&&typeof aa.firstChild.getAttribute!==qb&&"#"===aa.firstChild.getAttribute("href")})?{}:{href:function(aa){return aa.getAttribute("href",2)},type:function(aa){return aa.getAttribute("type")}},gb.getIdNotName?(ab.find.ID=function(aa,ka){if(typeof ka.getElementById!==qb&&!Fb)return(aa=ka.getElementById(aa))&&aa.parentNode?[aa]:[]},ab.filter.ID=function(aa){var ka=
aa.replace($b,ac);return function(ra){return ra.getAttribute("id")===ka}}):(ab.find.ID=function(aa,ka){if(typeof ka.getElementById!==qb&&!Fb)return(ka=ka.getElementById(aa))?ka.id===aa||typeof ka.getAttributeNode!==qb&&ka.getAttributeNode("id").value===aa?[ka]:r:[]},ab.filter.ID=function(aa){var ka=aa.replace($b,ac);return function(ra){return(ra=typeof ra.getAttributeNode!==qb&&ra.getAttributeNode("id"))&&ra.value===ka}}),ab.find.TAG=gb.tagNameNoComments?function(aa,ka){return typeof ka.getElementsByTagName!==
qb?ka.getElementsByTagName(aa):r}:function(aa,ka){var ra=[],ya=0;ka=ka.getElementsByTagName(aa);if("*"===aa){for(;aa=ka[ya++];)1===aa.nodeType&&ra.push(aa);return ra}return ka},ab.find.NAME=gb.getByName&&function(aa,ka){return typeof ka.getElementsByName!==qb?ka.getElementsByName(name):r},ab.find.CLASS=gb.getByClassName&&function(aa,ka){return typeof ka.getElementsByClassName===qb||Fb?r:ka.getElementsByClassName(aa)},Hb=[],nb=[":focus"],(gb.qsa=Uc.test(ea.querySelectorAll+""))&&(I(function(aa){aa.innerHTML=
"<select><option selected=''></option></select>";aa.querySelectorAll("[selected]").length||nb.push("\\[[\\x20\\t\\r\\n\\f]*(?:checked|disabled|ismap|multiple|readonly|selected|value)");aa.querySelectorAll(":checked").length||nb.push(":checked")}),I(function(aa){aa.innerHTML="<input type='hidden' i=''/>";aa.querySelectorAll("[i^='']").length&&nb.push("[*^$]=[\\x20\\t\\r\\n\\f]*(?:\"\"|'')");aa.querySelectorAll(":enabled").length||nb.push(":enabled",":disabled");aa.querySelectorAll("*,:x");nb.push(",.*:")})),
(gb.matchesSelector=Uc.test((yb=eb.matchesSelector||eb.mozMatchesSelector||eb.webkitMatchesSelector||eb.oMatchesSelector||eb.msMatchesSelector)+""))&&I(function(aa){gb.disconnectedMatch=yb.call(aa,"div");yb.call(aa,"[s!='']:x");Hb.push("!=",Tc)}),nb=RegExp(nb.join("|")),Hb=RegExp(Hb.join("|")),Nb=Uc.test(eb.contains+"")||eb.compareDocumentPosition?function(aa,ka){var ra=9===aa.nodeType?aa.documentElement:aa;ka=ka&&ka.parentNode;return aa===ka||!(!ka||1!==ka.nodeType||!(ra.contains?ra.contains(ka):
aa.compareDocumentPosition&&16&aa.compareDocumentPosition(ka)))}:function(aa,ka){if(ka)for(;ka=ka.parentNode;)if(ka===aa)return!0;return!1},cc=eb.compareDocumentPosition?function(aa,ka){var ra;return aa===ka?(Bb=!0,0):(ra=ka.compareDocumentPosition&&aa.compareDocumentPosition&&aa.compareDocumentPosition(ka))?1&ra||aa.parentNode&&11===aa.parentNode.nodeType?aa===ea||Nb(Rb,aa)?-1:ka===ea||Nb(Rb,ka)?1:0:4&ra?-1:1:aa.compareDocumentPosition?-1:1}:function(aa,ka){var ra=0,ya=aa.parentNode,za=ka.parentNode,
Ea=[aa],Ba=[ka];if(aa===ka)return Bb=!0,0;if(!ya||!za)return aa===ea?-1:ka===ea?1:ya?-1:za?1:0;if(ya===za)return W(aa,ka);for(;aa=aa.parentNode;)Ea.unshift(aa);for(aa=ka;aa=aa.parentNode;)Ba.unshift(aa);for(;Ea[ra]===Ba[ra];)ra++;return ra?W(Ea[ra],Ba[ra]):Ea[ra]===Rb?-1:Ba[ra]===Rb?1:0},Bb=!1,[0,0].sort(cc),gb.detectDuplicates=Bb,cb):cb};Q.matches=function(Z,ea){return Q(Z,null,null,ea)};Q.matchesSelector=function(Z,ea){if((Z.ownerDocument||Z)!==cb&&uc(Z),ea=ea.replace(Ad,"='$1']"),!(!gb.matchesSelector||
Fb||Hb&&Hb.test(ea)||nb.test(ea)))try{var aa=yb.call(Z,ea);if(aa||gb.disconnectedMatch||Z.document&&11!==Z.document.nodeType)return aa}catch(ka){}return 0<Q(ea,cb,null,[Z]).length};Q.contains=function(Z,ea){return(Z.ownerDocument||Z)!==cb&&uc(Z),Nb(Z,ea)};Q.attr=function(Z,ea){var aa;return(Z.ownerDocument||Z)!==cb&&uc(Z),Fb||(ea=ea.toLowerCase()),(aa=ab.attrHandle[ea])?aa(Z):Fb||gb.attributes?Z.getAttribute(ea):((aa=Z.getAttributeNode(ea))||Z.getAttribute(ea))&&!0===Z[ea]?ea:aa&&aa.specified?aa.value:
null};Q.error=function(Z){throw Error("Syntax error, unrecognized expression: "+Z);};Q.uniqueSort=function(Z){var ea,aa=[],ka=1,ra=0;if(Bb=!gb.detectDuplicates,Z.sort(cc),Bb){for(;ea=Z[ka];ka++)ea===Z[ka-1]&&(ra=aa.push(ka));for(;ra--;)Z.splice(aa[ra],1)}return Z};var Vc=Q.getText=function(Z){var ea,aa="",ka=0;if(ea=Z.nodeType)if(1===ea||9===ea||11===ea){if("string"==typeof Z.textContent)return Z.textContent;for(Z=Z.firstChild;Z;Z=Z.nextSibling)aa+=Vc(Z)}else{if(3===ea||4===ea)return Z.nodeValue}else for(;ea=
Z[ka];ka++)aa+=Vc(ea);return aa};var ab=Q.selectors={cacheLength:50,createPseudo:F,match:Fc,find:{},relative:{">":{dir:"parentNode",first:!0}," ":{dir:"parentNode"},"+":{dir:"previousSibling",first:!0},"~":{dir:"previousSibling"}},preFilter:{ATTR:function(Z){return Z[1]=Z[1].replace($b,ac),Z[3]=(Z[4]||Z[5]||"").replace($b,ac),"~="===Z[2]&&(Z[3]=" "+Z[3]+" "),Z.slice(0,4)},CHILD:function(Z){return Z[1]=Z[1].toLowerCase(),"nth"===Z[1].slice(0,3)?(Z[3]||Q.error(Z[0]),Z[4]=+(Z[4]?Z[5]+(Z[6]||1):2*("even"===
Z[3]||"odd"===Z[3])),Z[5]=+(Z[7]+Z[8]||"odd"===Z[3])):Z[3]&&Q.error(Z[0]),Z},PSEUDO:function(Z){var ea,aa=!Z[5]&&Z[2];return Fc.CHILD.test(Z[0])?null:(Z[4]?Z[2]=Z[4]:aa&&wd.test(aa)&&(ea=fa(aa,!0))&&(ea=aa.indexOf(")",aa.length-ea)-aa.length)&&(Z[0]=Z[0].slice(0,ea),Z[2]=aa.slice(0,ea)),Z.slice(0,3))}},filter:{TAG:function(Z){return"*"===Z?function(){return!0}:(Z=Z.replace($b,ac).toLowerCase(),function(ea){return ea.nodeName&&ea.nodeName.toLowerCase()===Z})},CLASS:function(Z){var ea=zb[Z+" "];return ea||
(ea=RegExp("(^|[\\x20\\t\\r\\n\\f])"+Z+"([\\x20\\t\\r\\n\\f]|$)"))&&zb(Z,function(aa){return ea.test(aa.className||typeof aa.getAttribute!==qb&&aa.getAttribute("class")||"")})},ATTR:function(Z,ea,aa){return function(ka){ka=Q.attr(ka,Z);return null==ka?"!="===ea:ea?(ka+="","="===ea?ka===aa:"!="===ea?ka!==aa:"^="===ea?aa&&0===ka.indexOf(aa):"*="===ea?aa&&-1<ka.indexOf(aa):"$="===ea?aa&&ka.slice(-aa.length)===aa:"~="===ea?-1<(" "+ka+" ").indexOf(aa):"|="===ea?ka===aa||ka.slice(0,aa.length+1)===aa+"-":
!1):!0}},CHILD:function(Z,ea,aa,ka,ra){var ya="nth"!==Z.slice(0,3),za="last"!==Z.slice(-4),Ea="of-type"===ea;return 1===ka&&0===ra?function(Ba){return!!Ba.parentNode}:function(Ba,Pa,La){var Ta;Pa=ya!==za?"nextSibling":"previousSibling";var ob=Ba.parentNode,Ob=Ea&&Ba.nodeName.toLowerCase();La=!La&&!Ea;if(ob){if(ya){for(;Pa;){for(Ta=Ba;Ta=Ta[Pa];)if(Ea?Ta.nodeName.toLowerCase()===Ob:1===Ta.nodeType)return!1;var ub=Pa="only"===Z&&!ub&&"nextSibling"}return!0}if(ub=[za?ob.firstChild:ob.lastChild],za&&
La){La=ob[Xa]||(ob[Xa]={});var Ya=La[Z]||[];var Jb=Ya[0]===Qb&&Ya[1];var xb=Ya[0]===Qb&&Ya[2];for(Ta=Jb&&ob.childNodes[Jb];Ta=++Jb&&Ta&&Ta[Pa]||(xb=Jb=0)||ub.pop();)if(1===Ta.nodeType&&++xb&&Ta===Ba){La[Z]=[Qb,Jb,xb];break}}else if(La&&(Ya=(Ba[Xa]||(Ba[Xa]={}))[Z])&&Ya[0]===Qb)xb=Ya[1];else for(;(Ta=++Jb&&Ta&&Ta[Pa]||(xb=Jb=0)||ub.pop())&&((Ea?Ta.nodeName.toLowerCase()!==Ob:1!==Ta.nodeType)||!++xb||(La&&((Ta[Xa]||(Ta[Xa]={}))[Z]=[Qb,xb]),Ta!==Ba)););return xb-=ra,xb===ka||0===xb%ka&&0<=xb/ka}}},PSEUDO:function(Z,
ea){var aa,ka=ab.pseudos[Z]||ab.setFilters[Z.toLowerCase()]||Q.error("unsupported pseudo: "+Z);return ka[Xa]?ka(ea):1<ka.length?(aa=[Z,Z,"",ea],ab.setFilters.hasOwnProperty(Z.toLowerCase())?F(function(ra,ya){for(var za,Ea=ka(ra,ea),Ba=Ea.length;Ba--;)za=Sc.call(ra,Ea[Ba]),ra[za]=!(ya[za]=Ea[Ba])}):function(ra){return ka(ra,0,aa)}):ka}},pseudos:{not:F(function(Z){var ea=[],aa=[],ka=gd(Z.replace(Ec,"$1"));return ka[Xa]?F(function(ra,ya,za,Ea){var Ba;za=ka(ra,null,Ea,[]);for(Ea=ra.length;Ea--;)(Ba=za[Ea])&&
(ra[Ea]=!(ya[Ea]=Ba))}):function(ra,ya,za){return ea[0]=ra,ka(ea,null,za,aa),!aa.pop()}}),has:F(function(Z){return function(ea){return 0<Q(Z,ea).length}}),contains:F(function(Z){return function(ea){return-1<(ea.textContent||ea.innerText||Vc(ea)).indexOf(Z)}}),lang:F(function(Z){return xd.test(Z||"")||Q.error("unsupported lang: "+Z),Z=Z.replace($b,ac).toLowerCase(),function(ea){var aa;do if(aa=Fb?ea.getAttribute("xml:lang")||ea.getAttribute("lang"):ea.lang)return aa=aa.toLowerCase(),aa===Z||0===aa.indexOf(Z+
"-");while((ea=ea.parentNode)&&1===ea.nodeType);return!1}}),target:function(Z){var ea=n.location&&n.location.hash;return ea&&ea.slice(1)===Z.id},root:function(Z){return Z===eb},focus:function(Z){return Z===cb.activeElement&&(!cb.hasFocus||cb.hasFocus())&&!!(Z.type||Z.href||~Z.tabIndex)},enabled:function(Z){return!1===Z.disabled},disabled:function(Z){return!0===Z.disabled},checked:function(Z){var ea=Z.nodeName.toLowerCase();return"input"===ea&&!!Z.checked||"option"===ea&&!!Z.selected},selected:function(Z){return Z.parentNode&&
Z.parentNode.selectedIndex,!0===Z.selected},empty:function(Z){for(Z=Z.firstChild;Z;Z=Z.nextSibling)if("@"<Z.nodeName||3===Z.nodeType||4===Z.nodeType)return!1;return!0},parent:function(Z){return!ab.pseudos.empty(Z)},header:function(Z){return zd.test(Z.nodeName)},input:function(Z){return yd.test(Z.nodeName)},button:function(Z){var ea=Z.nodeName.toLowerCase();return"input"===ea&&"button"===Z.type||"button"===ea},text:function(Z){var ea;return"input"===Z.nodeName.toLowerCase()&&"text"===Z.type&&(null==
(ea=Z.getAttribute("type"))||ea.toLowerCase()===Z.type)},first:ma(function(){return[0]}),last:ma(function(Z,ea){return[ea-1]}),eq:ma(function(Z,ea,aa){return[0>aa?aa+ea:aa]}),even:ma(function(Z,ea){for(var aa=0;ea>aa;aa+=2)Z.push(aa);return Z}),odd:ma(function(Z,ea){for(var aa=1;ea>aa;aa+=2)Z.push(aa);return Z}),lt:ma(function(Z,ea,aa){for(ea=0>aa?aa+ea:aa;0<=--ea;)Z.push(ea);return Z}),gt:ma(function(Z,ea,aa){for(aa=0>aa?aa+ea:aa;ea>++aa;)Z.push(aa);return Z})}};for(Xb in{radio:!0,checkbox:!0,file:!0,
password:!0,image:!0})ab.pseudos[Xb]=ba(Xb);for(Xb in{submit:!0,reset:!0})ab.pseudos[Xb]=ha(Xb);var gd=Q.compile=function(Z,ea){var aa,ka=[],ra=[],ya=dc[Z+" "];if(!ya){ea||=fa(Z);for(aa=ea.length;aa--;)ya=wb(ea[aa]),ya[Xa]?ka.push(ya):ra.push(ya);ya=dc(Z,Hc(ra,ka))}return ya};ab.pseudos.nth=ab.pseudos.eq;ab.filters=Lb.prototype=ab.pseudos;ab.setFilters=new Lb;uc();Q.attr=y.attr;y.find=Q;y.expr=Q.selectors;y.expr[":"]=y.expr.pseudos;y.unique=Q.uniqueSort;y.text=Q.getText;y.isXMLDoc=Q.isXML;y.contains=
Q.contains})(a);var Wc=/Until$/,Xc=/^(?:parents|prev(?:Until|All))/,qc=/^.[^:#\[\.,]*$/,nc=y.expr.match.needsContext,Yc={children:!0,contents:!0,next:!0,prev:!0};y.fn.extend({find:function(n){var r,A,F=this.length;if("string"!=typeof n)return A=this,this.pushStack(y(n).filter(function(){for(r=0;F>r;r++)if(y.contains(A[r],this))return!0}));var I=[];for(r=0;F>r;r++)y.find(n,this[r],I);return I=this.pushStack(1<F?y.unique(I):I),I.selector=(this.selector?this.selector+" ":"")+n,I},has:function(n){var r,
A=y(n,this),F=A.length;return this.filter(function(){for(r=0;F>r;r++)if(y.contains(this,A[r]))return!0})},not:function(n){return this.pushStack(p(this,n,!1))},filter:function(n){return this.pushStack(p(this,n,!0))},is:function(n){return!!n&&("string"==typeof n?nc.test(n)?0<=y(n,this.context).index(this[0]):0<y.filter(n,this).length:0<this.filter(n).length)},closest:function(n,r){for(var A,F=0,I=this.length,Q=[],W=nc.test(n)||"string"!=typeof n?y(n,r||this.context):0;I>F;F++)for(A=this[F];A&&A.ownerDocument&&
A!==r&&11!==A.nodeType;){if(W?-1<W.index(A):y.find.matchesSelector(A,n)){Q.push(A);break}A=A.parentNode}return this.pushStack(1<Q.length?y.unique(Q):Q)},index:function(n){return n?"string"==typeof n?y.inArray(this[0],y(n)):y.inArray(n.jquery?n[0]:n,this):this[0]&&this[0].parentNode?this.first().prevAll().length:-1},add:function(n,r){n="string"==typeof n?y(n,r):y.makeArray(n&&n.nodeType?[n]:n);n=y.merge(this.get(),n);return this.pushStack(y.unique(n))},addBack:function(n){return this.add(null==n?this.prevObject:
this.prevObject.filter(n))}});y.fn.andSelf=y.fn.addBack;y.each({parent:function(n){return(n=n.parentNode)&&11!==n.nodeType?n:null},parents:function(n){return y.dir(n,"parentNode")},parentsUntil:function(n,r,A){return y.dir(n,"parentNode",A)},next:function(n){return l(n,"nextSibling")},prev:function(n){return l(n,"previousSibling")},nextAll:function(n){return y.dir(n,"nextSibling")},prevAll:function(n){return y.dir(n,"previousSibling")},nextUntil:function(n,r,A){return y.dir(n,"nextSibling",A)},prevUntil:function(n,
r,A){return y.dir(n,"previousSibling",A)},siblings:function(n){return y.sibling((n.parentNode||{}).firstChild,n)},children:function(n){return y.sibling(n.firstChild)},contents:function(n){return y.nodeName(n,"iframe")?n.contentDocument||n.contentWindow.document:y.merge([],n.childNodes)}},function(n,r){y.fn[n]=function(A,F){var I=y.map(this,r,A);return Wc.test(n)||(F=A),F&&"string"==typeof F&&(I=y.filter(F,I)),I=1<this.length&&!Yc[n]?y.unique(I):I,1<this.length&&Xc.test(n)&&(I=I.reverse()),this.pushStack(I)}});
y.extend({filter:function(n,r,A){return A&&(n=":not("+n+")"),1===r.length?y.find.matchesSelector(r[0],n)?[r[0]]:[]:y.find.matches(n,r)},dir:function(n,r,A){var F=[];for(n=n[r];n&&9!==n.nodeType&&(A===g||1!==n.nodeType||!y(n).is(A));)1===n.nodeType&&F.push(n),n=n[r];return F},sibling:function(n,r){for(var A=[];n;n=n.nextSibling)1===n.nodeType&&n!==r&&A.push(n);return A}});var rc="abbr|article|aside|audio|bdi|canvas|data|datalist|details|figcaption|figure|footer|header|hgroup|mark|meter|nav|output|progress|section|summary|time|video",
Zc=/ jQuery\d+="(?:null|\d+)"/g,Ic=RegExp("<(?:"+rc+")[\\s/>]","i"),gc=/^\s+/,Tb=/<(?!area|br|col|embed|hr|img|input|link|meta|param)(([\w:]+)[^>]*)\/>/gi,vc=/<([\w:]+)/,wc=/<tbody/i,Ub=/<|&#?\w+;/,Jc=/<(?:script|style|link)/i,jc=/^(?:checkbox|radio)$/i,B=/checked\s*(?:[^=]|=\s*.checked.)/i,S=/^$|\/(?:java|ecma)script/i,ca=/^true\/(.*)/,ja=/^\s*<!(?:\[CDATA\[|--)|(?:\]\]|--)>\s*$/g,na={option:[1,"<select multiple='multiple'>","</select>"],legend:[1,"<fieldset>","</fieldset>"],area:[1,"<map>","</map>"],
param:[1,"<object>","</object>"],thead:[1,"<table>","</table>"],tr:[2,"<table><tbody>","</tbody></table>"],col:[2,"<table><tbody></tbody><colgroup>","</colgroup></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],_default:y.support.htmlSerialize?[0,"",""]:[1,"X<div>","</div>"]},Da=q(oa).appendChild(oa.createElement("div"));na.optgroup=na.option;na.tbody=na.tfoot=na.colgroup=na.caption=na.thead;na.th=na.td;y.fn.extend({text:function(n){return y.access(this,function(r){return r===g?y.text(this):
this.empty().append((this[0]&&this[0].ownerDocument||oa).createTextNode(r))},null,n,arguments.length)},wrapAll:function(n){if(y.isFunction(n))return this.each(function(A){y(this).wrapAll(n.call(this,A))});if(this[0]){var r=y(n,this[0].ownerDocument).eq(0).clone(!0);this[0].parentNode&&r.insertBefore(this[0]);r.map(function(){for(var A=this;A.firstChild&&1===A.firstChild.nodeType;)A=A.firstChild;return A}).append(this)}return this},wrapInner:function(n){return y.isFunction(n)?this.each(function(r){y(this).wrapInner(n.call(this,
r))}):this.each(function(){var r=y(this),A=r.contents();A.length?A.wrapAll(n):r.append(n)})},wrap:function(n){var r=y.isFunction(n);return this.each(function(A){y(this).wrapAll(r?n.call(this,A):n)})},unwrap:function(){return this.parent().each(function(){y.nodeName(this,"body")||y(this).replaceWith(this.childNodes)}).end()},append:function(){return this.domManip(arguments,!0,function(n){1!==this.nodeType&&11!==this.nodeType&&9!==this.nodeType||this.appendChild(n)})},prepend:function(){return this.domManip(arguments,
!0,function(n){1!==this.nodeType&&11!==this.nodeType&&9!==this.nodeType||this.insertBefore(n,this.firstChild)})},before:function(){return this.domManip(arguments,!1,function(n){this.parentNode&&this.parentNode.insertBefore(n,this)})},after:function(){return this.domManip(arguments,!1,function(n){this.parentNode&&this.parentNode.insertBefore(n,this.nextSibling)})},remove:function(n,r){for(var A,F=0;null!=(A=this[F]);F++)(!n||0<y.filter(n,[A]).length)&&(r||1!==A.nodeType||y.cleanData(z(A)),A.parentNode&&
(r&&y.contains(A.ownerDocument,A)&&D(z(A,"script")),A.parentNode.removeChild(A)));return this},empty:function(){for(var n,r=0;null!=(n=this[r]);r++){for(1===n.nodeType&&y.cleanData(z(n,!1));n.firstChild;)n.removeChild(n.firstChild);n.options&&y.nodeName(n,"select")&&(n.options.length=0)}return this},clone:function(n,r){return n=null==n?!1:n,r=null==r?n:r,this.map(function(){return y.clone(this,n,r)})},html:function(n){return y.access(this,function(r){var A=this[0]||{},F=0,I=this.length;if(r===g)return 1===
A.nodeType?A.innerHTML.replace(Zc,""):g;if(!("string"!=typeof r||Jc.test(r)||!y.support.htmlSerialize&&Ic.test(r)||!y.support.leadingWhitespace&&gc.test(r)||na[(vc.exec(r)||["",""])[1].toLowerCase()])){r=r.replace(Tb,"<$1></$2>");try{for(;I>F;F++)A=this[F]||{},1===A.nodeType&&(y.cleanData(z(A,!1)),A.innerHTML=r);A=0}catch(Q){}}A&&this.empty().append(r)},null,n,arguments.length)},replaceWith:function(n){return y.isFunction(n)||"string"==typeof n||(n=y(n).not(this).detach()),this.domManip([n],!0,function(r){var A=
this.nextSibling,F=this.parentNode;F&&(y(this).remove(),F.insertBefore(r,A))})},detach:function(n){return this.remove(n,!0)},domManip:function(n,r,A){n=Ma.apply([],n);var F,I,Q,W=0,ba=this.length,ha=this,ma=ba-1,fa=n[0],ta=y.isFunction(fa);if(ta||!(1>=ba||"string"!=typeof fa||y.support.checkClone)&&B.test(fa))return this.each(function(Oa){var bb=ha.eq(Oa);ta&&(n[0]=fa.call(this,Oa,r?bb.html():g));bb.domManip(n,r,A)});if(ba&&(Q=y.buildFragment(n,this[0].ownerDocument,!1,this),F=Q.firstChild,1===Q.childNodes.length&&
(Q=F),F)){r=r&&y.nodeName(F,"tr");var ua=y.map(z(Q,"script"),t);for(I=ua.length;ba>W;W++)F=Q,W!==ma&&(F=y.clone(F,!0,!0),I&&y.merge(ua,z(F,"script"))),A.call(r&&y.nodeName(this[W],"table")?u(this[W],"tbody"):this[W],F,W);if(I)for(Q=ua[ua.length-1].ownerDocument,y.map(ua,C),W=0;I>W;W++)F=ua[W],S.test(F.type||"")&&!y._data(F,"globalEval")&&y.contains(Q,F)&&(F.src?y.ajax({url:F.src,type:"GET",dataType:"script",async:!1,global:!1,"throws":!0}):y.globalEval((F.text||F.textContent||F.innerHTML||"").replace(ja,
"")));Q=F=null}return this}});y.each({appendTo:"append",prependTo:"prepend",insertBefore:"before",insertAfter:"after",replaceAll:"replaceWith"},function(n,r){y.fn[n]=function(A){for(var F=0,I=[],Q=y(A),W=Q.length-1;W>=F;F++)A=F===W?this:this.clone(!0),y(Q[F])[r](A),sb.apply(I,A.get());return this.pushStack(I)}});y.extend({clone:function(n,r,A){var F,I,Q,W=y.contains(n.ownerDocument,n);if(y.support.html5Clone||y.isXMLDoc(n)||!Ic.test("<"+n.nodeName+">")?I=n.cloneNode(!0):(Da.innerHTML=n.outerHTML,
Da.removeChild(I=Da.firstChild)),!(y.support.noCloneEvent&&y.support.noCloneChecked||1!==n.nodeType&&11!==n.nodeType||y.isXMLDoc(n))){var ba=z(I);var ha=z(n);for(Q=0;null!=(F=ha[Q]);++Q)if(ba[Q]){var ma=void 0,fa,ta=F,ua=ba[Q];if(1===ua.nodeType){if(fa=ua.nodeName.toLowerCase(),!y.support.noCloneEvent&&ua[y.expando]){F=y._data(ua);for(ma in F.events)y.removeEvent(ua,ma,F.handle);ua.removeAttribute(y.expando)}"script"===fa&&ua.text!==ta.text?(t(ua).text=ta.text,C(ua)):"object"===fa?(ua.parentNode&&
(ua.outerHTML=ta.outerHTML),y.support.html5Clone&&ta.innerHTML&&!y.trim(ua.innerHTML)&&(ua.innerHTML=ta.innerHTML)):"input"===fa&&jc.test(ta.type)?(ua.defaultChecked=ua.checked=ta.checked,ua.value!==ta.value&&(ua.value=ta.value)):"option"===fa?ua.defaultSelected=ua.selected=ta.defaultSelected:("input"===fa||"textarea"===fa)&&(ua.defaultValue=ta.defaultValue)}}}if(r)if(A)for(ha=ha||z(n),ba=ba||z(I),Q=0;null!=(F=ha[Q]);Q++)w(F,ba[Q]);else w(n,I);return ba=z(I,"script"),0<ba.length&&D(ba,!W&&z(n,"script")),
I},buildFragment:function(n,r,A,F){for(var I,Q,W,ba,ha,ma,fa,ta=n.length,ua=q(r),Oa=[],bb=0;ta>bb;bb++)if(Q=n[bb],Q||0===Q)if("object"===y.type(Q))y.merge(Oa,Q.nodeType?[Q]:Q);else if(Ub.test(Q)){ba=ba||ua.appendChild(r.createElement("div"));ha=(vc.exec(Q)||["",""])[1].toLowerCase();fa=na[ha]||na._default;ba.innerHTML=fa[1]+Q.replace(Tb,"<$1></$2>")+fa[2];for(I=fa[0];I--;)ba=ba.lastChild;if(!y.support.leadingWhitespace&&gc.test(Q)&&Oa.push(r.createTextNode(gc.exec(Q)[0])),!y.support.tbody)for(I=(Q=
"table"!==ha||wc.test(Q)?"<table>"!==fa[1]||wc.test(Q)?0:ba:ba.firstChild)&&Q.childNodes.length;I--;)y.nodeName(ma=Q.childNodes[I],"tbody")&&!ma.childNodes.length&&Q.removeChild(ma);y.merge(Oa,ba.childNodes);for(ba.textContent="";ba.firstChild;)ba.removeChild(ba.firstChild);ba=ua.lastChild}else Oa.push(r.createTextNode(Q));ba&&ua.removeChild(ba);y.support.appendChecked||y.grep(z(Oa,"input"),L);for(bb=0;Q=Oa[bb++];)if((!F||-1===y.inArray(Q,F))&&(W=y.contains(Q.ownerDocument,Q),ba=z(ua.appendChild(Q),
"script"),W&&D(ba),A))for(I=0;Q=ba[I++];)S.test(Q.type||"")&&A.push(Q);return ua},cleanData:function(n,r){for(var A,F,I,Q,W=0,ba=y.expando,ha=y.cache,ma=y.support.deleteExpando,fa=y.event.special;null!=(A=n[W]);W++)if((r||y.acceptData(A))&&(I=A[ba],Q=I&&ha[I])){if(Q.events)for(F in Q.events)fa[F]?y.event.remove(A,F):y.removeEvent(A,F,Q.handle);ha[I]&&(delete ha[I],ma?delete A[ba]:typeof A.removeAttribute!==wa?A.removeAttribute(ba):A[ba]=null,Za.push(I))}}});var Ha,Qa,Ia,hb=/alpha\([^)]*\)/i,fb=/opacity\s*=\s*([^)]*)/,
Kc=/^(top|right|bottom|left)$/,hc=/^(none|table(?!-c[ea]).+)/,Yb=/^margin/,qd=RegExp("^("+Na+")(.*)$","i"),xc=RegExp("^("+Na+")(?!px)[a-z%]+$","i"),Cd=RegExp("^([+-])=("+Na+")","i"),fd={BODY:"block"},Dd={position:"absolute",visibility:"hidden",display:"block"},id={letterSpacing:0,fontWeight:400},ec=["Top","Right","Bottom","Left"],ed=["Webkit","O","Moz","ms"];y.fn.extend({css:function(n,r){return y.access(this,function(A,F,I){var Q={},W=0;if(y.isArray(F)){var ba=Qa(A);for(I=F.length;I>W;W++)Q[F[W]]=
y.css(A,F[W],!1,ba);return Q}return I!==g?y.style(A,F,I):y.css(A,F)},n,r,1<arguments.length)},show:function(){return Y(this,!0)},hide:function(){return Y(this)},toggle:function(n){var r="boolean"==typeof n;return this.each(function(){(r?n:V(this))?y(this).show():y(this).hide()})}});y.extend({cssHooks:{opacity:{get:function(n,r){if(r)return n=Ia(n,"opacity"),""===n?"1":n}}},cssNumber:{columnCount:!0,fillOpacity:!0,fontWeight:!0,lineHeight:!0,opacity:!0,orphans:!0,widows:!0,zIndex:!0,zoom:!0},cssProps:{"float":y.support.cssFloat?
"cssFloat":"styleFloat"},style:function(n,r,A,F){if(n&&3!==n.nodeType&&8!==n.nodeType&&n.style){var I,Q,W,ba=y.camelCase(r),ha=n.style;if(r=y.cssProps[ba]||(y.cssProps[ba]=U(ha,ba)),W=y.cssHooks[r]||y.cssHooks[ba],A===g)return W&&"get"in W&&(I=W.get(n,!1,F))!==g?I:ha[r];if(Q=typeof A,"string"===Q&&(I=Cd.exec(A))&&(A=(I[1]+1)*I[2]+parseFloat(y.css(n,r)),Q="number"),!(null==A||"number"===Q&&isNaN(A)||("number"!==Q||y.cssNumber[ba]||(A+="px"),y.support.clearCloneStyle||""!==A||0!==r.indexOf("background")||
(ha[r]="inherit"),W&&"set"in W&&(A=W.set(n,A,F))===g)))try{ha[r]=A}catch(ma){}}},css:function(n,r,A,F){var I,Q,W,ba=y.camelCase(r);return r=y.cssProps[ba]||(y.cssProps[ba]=U(n.style,ba)),W=y.cssHooks[r]||y.cssHooks[ba],W&&"get"in W&&(Q=W.get(n,!0,A)),Q===g&&(Q=Ia(n,r,F)),"normal"===Q&&r in id&&(Q=id[r]),""===A||A?(I=parseFloat(Q),!0===A||y.isNumeric(I)?I||0:Q):Q},swap:function(n,r,A,F){var I,Q={};for(I in r)Q[I]=n.style[I],n.style[I]=r[I];A=A.apply(n,F||[]);for(I in r)n.style[I]=Q[I];return A}});
a.getComputedStyle?(Qa=function(n){return a.getComputedStyle(n,null)},Ia=function(n,r,A){var F,I,Q,W=(A=A||Qa(n))?A.getPropertyValue(r)||A[r]:g,ba=n.style;return A&&(""!==W||y.contains(n.ownerDocument,n)||(W=y.style(n,r)),xc.test(W)&&Yb.test(r)&&(F=ba.width,I=ba.minWidth,Q=ba.maxWidth,ba.minWidth=ba.maxWidth=ba.width=W,W=A.width,ba.width=F,ba.minWidth=I,ba.maxWidth=Q)),W}):oa.documentElement.currentStyle&&(Qa=function(n){return n.currentStyle},Ia=function(n,r,A){var F,I,Q;A=(A=A||Qa(n))?A[r]:g;var W=
n.style;return null==A&&W&&W[r]&&(A=W[r]),xc.test(A)&&!Kc.test(r)&&(F=W.left,I=n.runtimeStyle,Q=I&&I.left,Q&&(I.left=n.currentStyle.left),W.left="fontSize"===r?"1em":A,A=W.pixelLeft+"px",W.left=F,Q&&(I.left=Q)),""===A?"auto":A});y.each(["height","width"],function(n,r){y.cssHooks[r]={get:function(A,F,I){return F?0===A.offsetWidth&&hc.test(y.css(A,"display"))?y.swap(A,Dd,function(){return P(A,r,I)}):P(A,r,I):g},set:function(A,F,I){var Q=I&&Qa(A);return T(A,F,I?J(A,r,I,y.support.boxSizing&&"border-box"===
y.css(A,"boxSizing",!1,Q),Q):0)}}});y.support.opacity||(y.cssHooks.opacity={get:function(n,r){return fb.test((r&&n.currentStyle?n.currentStyle.filter:n.style.filter)||"")?.01*parseFloat(RegExp.$1)+"":r?"1":""},set:function(n,r){var A=n.style;n=n.currentStyle;var F=y.isNumeric(r)?"alpha(opacity="+100*r+")":"",I=n&&n.filter||A.filter||"";A.zoom=1;(1<=r||""===r)&&""===y.trim(I.replace(hb,""))&&A.removeAttribute&&(A.removeAttribute("filter"),""===r||n&&!n.filter)||(A.filter=hb.test(I)?I.replace(hb,F):
I+" "+F)}});y(function(){y.support.reliableMarginRight||(y.cssHooks.marginRight={get:function(n,r){return r?y.swap(n,{display:"inline-block"},Ia,[n,"marginRight"]):g}});!y.support.pixelPosition&&y.fn.position&&y.each(["top","left"],function(n,r){y.cssHooks[r]={get:function(A,F){return F?(F=Ia(A,r),xc.test(F)?y(A).position()[r]+"px":F):g}}})});y.expr&&y.expr.filters&&(y.expr.filters.hidden=function(n){return 0>=n.offsetWidth&&0>=n.offsetHeight||!y.support.reliableHiddenOffsets&&"none"===(n.style&&
n.style.display||y.css(n,"display"))},y.expr.filters.visible=function(n){return!y.expr.filters.hidden(n)});y.each({margin:"",padding:"",border:"Width"},function(n,r){y.cssHooks[n+r]={expand:function(A){var F=0,I={};for(A="string"==typeof A?A.split(" "):[A];4>F;F++)I[n+ec[F]+r]=A[F]||A[F-2]||A[0];return I}};Yb.test(n)||(y.cssHooks[n+r].set=T)});var Ed=/%20/g,rd=/\[\]$/,jd=/\r?\n/g,Fd=/^(?:submit|button|image|reset|file)$/i,Gd=/^(?:input|select|textarea|keygen)/i;y.fn.extend({serialize:function(){return y.param(this.serializeArray())},
serializeArray:function(){return this.map(function(){var n=y.prop(this,"elements");return n?y.makeArray(n):this}).filter(function(){var n=this.type;return this.name&&!y(this).is(":disabled")&&Gd.test(this.nodeName)&&!Fd.test(n)&&(this.checked||!jc.test(n))}).map(function(n,r){n=y(this).val();return null==n?null:y.isArray(n)?y.map(n,function(A){return{name:r.name,value:A.replace(jd,"\r\n")}}):{name:r.name,value:n.replace(jd,"\r\n")}}).get()}});y.param=function(n,r){var A,F=[],I=function(Q,W){W=y.isFunction(W)?
W():null==W?"":W;F[F.length]=encodeURIComponent(Q)+"="+encodeURIComponent(W)};if(r===g&&(r=y.ajaxSettings&&y.ajaxSettings.traditional),y.isArray(n)||n.jquery&&!y.isPlainObject(n))y.each(n,function(){I(this.name,this.value)});else for(A in n)x(A,n[A],r,I);return F.join("&").replace(Ed,"+")};y.each("blur focus focusin focusout load resize scroll unload click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup error contextmenu".split(" "),
function(n,r){y.fn[r]=function(A,F){return 0<arguments.length?this.on(r,null,A,F):this.trigger(r)}});y.fn.hover=function(n,r){return this.mouseenter(n).mouseleave(r||n)};var $c=y.now(),ad=/\?/,Hd=/#.*$/,kd=/([?&])_=[^&]*/,Id=/^(.*?):[ \t]*([^\r\n]*)\r?$/gm,Jd=/^(?:GET|HEAD)$/,Kd=/^\/\//,ld=/^([\w.+-]+:)(?:\/\/([^\/?#:]*)(?::(\d+)|)|)/,md=y.fn.load,nd={},Mc={},od="*/".concat("*");try{var ic=Fa.href}catch(n){ic=oa.createElement("a"),ic.href="",ic=ic.href}var oc=ld.exec(ic.toLowerCase())||[];y.fn.load=
function(n,r,A){if("string"!=typeof n&&md)return md.apply(this,arguments);var F,I,Q,W=this,ba=n.indexOf(" ");return 0<=ba&&(F=n.slice(ba,n.length),n=n.slice(0,ba)),y.isFunction(r)?(A=r,r=g):r&&"object"==typeof r&&(Q="POST"),0<W.length&&y.ajax({url:n,type:Q,dataType:"html",data:r}).done(function(ha){I=arguments;W.html(F?y("<div>").append(y.parseHTML(ha)).find(F):ha)}).complete(A&&function(ha,ma){W.each(A,I||[ha.responseText,ma,ha])}),this};y.each("ajaxStart ajaxStop ajaxComplete ajaxError ajaxSuccess ajaxSend".split(" "),
function(n,r){y.fn[r]=function(A){return this.on(r,A)}});y.each(["get","post"],function(n,r){y[r]=function(A,F,I,Q){return y.isFunction(F)&&(Q=Q||I,I=F,F=g),y.ajax({url:A,type:r,dataType:Q,data:F,success:I})}});y.extend({active:0,lastModified:{},etag:{},ajaxSettings:{url:ic,type:"GET",isLocal:/^(?:about|app|app-storage|.+-extension|file|res|widget):$/.test(oc[1]),global:!0,processData:!0,async:!0,contentType:"application/x-www-form-urlencoded; charset=UTF-8",accepts:{"*":od,text:"text/plain",html:"text/html",
xml:"application/xml, text/xml",json:"application/json, text/javascript"},contents:{xml:/xml/,html:/html/,json:/json/},responseFields:{xml:"responseXML",text:"responseText"},converters:{"* text":a.String,"text html":!0,"text json":y.parseJSON,"text xml":y.parseXML},flatOptions:{url:!0,context:!0}},ajaxSetup:function(n,r){return r?G(G(n,y.ajaxSettings),r):G(y.ajaxSettings,n)},ajaxPrefilter:H(nd),ajaxTransport:H(Mc),ajax:function(n,r){function A(Wa,cb,eb,Fb){var nb,Hb,yb=cb;if(2!==Lb){Lb=2;W&&clearTimeout(W);
ha=g;Q=Fb||"";Ua.readyState=0<Wa?4:0;if(eb){var Nb=fa;Fb=Ua;var cc,Xa,Rb=Nb.contents,gb=Nb.dataTypes,Qb=Nb.responseFields;for(Xa in Qb)Xa in eb&&(Fb[Qb[Xa]]=eb[Xa]);for(;"*"===gb[0];)gb.shift(),cc===g&&(cc=Nb.mimeType||Fb.getResponseHeader("Content-Type"));if(cc)for(Xa in Rb)if(Rb[Xa]&&Rb[Xa].test(cc)){gb.unshift(Xa);break}if(gb[0]in eb)var Wb=gb[0];else{for(Xa in eb){if(!gb[0]||Nb.converters[Xa+" "+gb[0]]){Wb=Xa;break}Pb||=Xa}Wb=Wb||Pb}Nb=Wb?(Wb!==gb[0]&&gb.unshift(Wb),eb[Wb]):g}if(200<=Wa&&300>
Wa||304===Wa)if(fa.ifModified&&(Hb=Ua.getResponseHeader("Last-Modified"),Hb&&(y.lastModified[Bb]=Hb),Hb=Ua.getResponseHeader("etag"),Hb&&(y.etag[Bb]=Hb)),204===Wa){var zb=!0;yb="nocontent"}else if(304===Wa)zb=!0,yb="notmodified";else{a:{eb=fa;zb=Nb;var Gb,dc;var qb={};Hb=0;yb=eb.dataTypes.slice();var Pb=yb[0];if(eb.dataFilter&&(zb=eb.dataFilter(zb,eb.dataType)),yb[1])for(Gb in eb.converters)qb[Gb.toLowerCase()]=eb.converters[Gb];for(;nb=yb[++Hb];)if("*"!==nb){if("*"!==Pb&&Pb!==nb){if(Gb=qb[Pb+" "+
nb]||qb["* "+nb],!Gb)for(bc in qb)if(dc=bc.split(" "),dc[1]===nb&&(Gb=qb[Pb+" "+dc[0]]||qb["* "+dc[0]])){!0===Gb?Gb=qb[bc]:!0!==qb[bc]&&(nb=dc[0],yb.splice(Hb--,0,nb));break}if(!0!==Gb)if(Gb&&eb["throws"])zb=Gb(zb);else try{zb=Gb(zb)}catch(Zb){var bc={state:"parsererror",error:Gb?Zb:"No conversion from "+Pb+" to "+nb};break a}}Pb=nb}bc={state:"success",data:zb}}zb=bc;yb=zb.state;nb=zb.data;qb=zb.error;zb=!qb}else qb=yb,(Wa||!yb)&&(yb="error",0>Wa&&(Wa=0));Ua.status=Wa;Ua.statusText=(cb||yb)+"";zb?
Oa.resolveWith(ta,[nb,yb,Ua]):Oa.rejectWith(ta,[Ua,yb,qb]);Ua.statusCode(Cb);Cb=g;ba&&ua.trigger(zb?"ajaxSuccess":"ajaxError",[Ua,fa,zb?nb:qb]);bb.fireWith(ta,[Ua,yb]);ba&&(ua.trigger("ajaxComplete",[Ua,fa]),--y.active||y.event.trigger("ajaxStop"))}}"object"==typeof n&&(r=n,n=g);r=r||{};var F,I,Q,W,ba,ha,ma,fa=y.ajaxSetup({},r),ta=fa.context||fa,ua=fa.context&&(ta.nodeType||ta.jquery)?y(ta):y.event,Oa=y.Deferred(),bb=y.Callbacks("once memory"),Cb=fa.statusCode||{},wb={},Hc={},Lb=0,Xb="canceled",Ua=
{readyState:0,getResponseHeader:function(Wa){var cb;if(2===Lb){if(!ma)for(ma={};cb=Id.exec(Q);)ma[cb[1].toLowerCase()]=cb[2];cb=ma[Wa.toLowerCase()]}return null==cb?null:cb},getAllResponseHeaders:function(){return 2===Lb?Q:null},setRequestHeader:function(Wa,cb){var eb=Wa.toLowerCase();return Lb||(Wa=Hc[eb]=Hc[eb]||Wa,wb[Wa]=cb),this},overrideMimeType:function(Wa){return Lb||(fa.mimeType=Wa),this},statusCode:function(Wa){var cb;if(Wa)if(2>Lb)for(cb in Wa)Cb[cb]=[Cb[cb],Wa[cb]];else Ua.always(Wa[Ua.status]);
return this},abort:function(Wa){Wa=Wa||Xb;return ha&&ha.abort(Wa),A(0,Wa),this}};if(Oa.promise(Ua).complete=bb.add,Ua.success=Ua.done,Ua.error=Ua.fail,fa.url=((n||fa.url||ic)+"").replace(Hd,"").replace(Kd,oc[1]+"//"),fa.type=r.method||r.type||fa.method||fa.type,fa.dataTypes=y.trim(fa.dataType||"*").toLowerCase().match(pb)||[""],null==fa.crossDomain&&(F=ld.exec(fa.url.toLowerCase()),fa.crossDomain=!(!F||F[1]===oc[1]&&F[2]===oc[2]&&(F[3]||("http:"===F[1]?80:443))==(oc[3]||("http:"===oc[1]?80:443)))),
fa.data&&fa.processData&&"string"!=typeof fa.data&&(fa.data=y.param(fa.data,fa.traditional)),M(nd,fa,r,Ua),2===Lb)return Ua;(ba=fa.global)&&0===y.active++&&y.event.trigger("ajaxStart");fa.type=fa.type.toUpperCase();fa.hasContent=!Jd.test(fa.type);var Bb=fa.url;fa.hasContent||(fa.data&&(Bb=fa.url+=(ad.test(Bb)?"&":"?")+fa.data,delete fa.data),!1===fa.cache&&(fa.url=kd.test(Bb)?Bb.replace(kd,"$1_="+$c++):Bb+(ad.test(Bb)?"&":"?")+"_="+$c++));fa.ifModified&&(y.lastModified[Bb]&&Ua.setRequestHeader("If-Modified-Since",
y.lastModified[Bb]),y.etag[Bb]&&Ua.setRequestHeader("If-None-Match",y.etag[Bb]));(fa.data&&fa.hasContent&&!1!==fa.contentType||r.contentType)&&Ua.setRequestHeader("Content-Type",fa.contentType);Ua.setRequestHeader("Accept",fa.dataTypes[0]&&fa.accepts[fa.dataTypes[0]]?fa.accepts[fa.dataTypes[0]]+("*"!==fa.dataTypes[0]?", "+od+"; q=0.01":""):fa.accepts["*"]);for(I in fa.headers)Ua.setRequestHeader(I,fa.headers[I]);if(fa.beforeSend&&(!1===fa.beforeSend.call(ta,Ua,fa)||2===Lb))return Ua.abort();Xb="abort";
for(I in{success:1,error:1,complete:1})Ua[I](fa[I]);if(ha=M(Mc,fa,r,Ua)){Ua.readyState=1;ba&&ua.trigger("ajaxSend",[Ua,fa]);fa.async&&0<fa.timeout&&(W=setTimeout(function(){Ua.abort("timeout")},fa.timeout));try{Lb=1,ha.send(wb,A)}catch(Wa){if(!(2>Lb))throw Wa;A(-1,Wa)}}else A(-1,"No Transport");return Ua},getScript:function(n,r){return y.get(n,g,r,"script")},getJSON:function(n,r,A){return y.get(n,r,A,"json")}});y.ajaxSetup({accepts:{script:"text/javascript, application/javascript, application/ecmascript, application/x-ecmascript"},
contents:{script:/(?:java|ecma)script/},converters:{"text script":function(n){return y.globalEval(n),n}}});y.ajaxPrefilter("script",function(n){n.cache===g&&(n.cache=!1);n.crossDomain&&(n.type="GET",n.global=!1)});y.ajaxTransport("script",function(n){if(n.crossDomain){var r,A=oa.head||y("head")[0]||oa.documentElement;return{send:function(F,I){r=oa.createElement("script");r.async=!0;n.scriptCharset&&(r.charset=n.scriptCharset);r.src=n.url;r.onload=r.onreadystatechange=function(Q,W){(W||!r.readyState||
/loaded|complete/.test(r.readyState))&&(r.onload=r.onreadystatechange=null,r.parentNode&&r.parentNode.removeChild(r),r=null,W||I(200,"success"))};A.insertBefore(r,A.firstChild)},abort:function(){r&&r.onload(g,!0)}}}});var pd=[],bd=/(=)\?(?=&|$)|\?\?/;y.ajaxSetup({jsonp:"callback",jsonpCallback:function(){var n=pd.pop()||y.expando+"_"+$c++;return this[n]=!0,n}});y.ajaxPrefilter("json jsonp",function(n,r,A){var F,I,Q,W=!1!==n.jsonp&&(bd.test(n.url)?"url":"string"==typeof n.data&&!(n.contentType||"").indexOf("application/x-www-form-urlencoded")&&
bd.test(n.data)&&"data");return W||"jsonp"===n.dataTypes[0]?(F=n.jsonpCallback=y.isFunction(n.jsonpCallback)?n.jsonpCallback():n.jsonpCallback,W?n[W]=n[W].replace(bd,"$1"+F):!1!==n.jsonp&&(n.url+=(ad.test(n.url)?"&":"?")+n.jsonp+"="+F),n.converters["script json"]=function(){return Q||y.error(F+" was not called"),Q[0]},n.dataTypes[0]="json",I=a[F],a[F]=function(){Q=arguments},A.always(function(){a[F]=I;n[F]&&(n.jsonpCallback=r.jsonpCallback,pd.push(F));Q&&y.isFunction(I)&&I(Q[0]);Q=I=g}),"script"):
g});var pc,Ld=0,cd=a.ActiveXObject&&function(){for(var n in pc)pc[n](g,!0)};y.ajaxSettings.xhr=a.ActiveXObject?function(){var n;if(!(n=!this.isLocal&&N()))a:{try{n=new a.ActiveXObject("Microsoft.XMLHTTP");break a}catch(r){}n=void 0}return n}:N;var Lc=y.ajaxSettings.xhr();y.support.cors=!!Lc&&"withCredentials"in Lc;(Lc=y.support.ajax=!!Lc)&&y.ajaxTransport(function(n){if(!n.crossDomain||y.support.cors){var r;return{send:function(A,F){var I,Q,W=n.xhr();if(n.username?W.open(n.type,n.url,n.async,n.username,
n.password):W.open(n.type,n.url,n.async),n.xhrFields)for(Q in n.xhrFields)W[Q]=n.xhrFields[Q];n.mimeType&&W.overrideMimeType&&W.overrideMimeType(n.mimeType);n.crossDomain||A["X-Requested-With"]||(A["X-Requested-With"]="XMLHttpRequest");try{for(Q in A)W.setRequestHeader(Q,A[Q])}catch(ba){}W.send(n.hasContent&&n.data||null);r=function(ba,ha){try{if(r&&(ha||4===W.readyState))if(r=g,I&&(W.onreadystatechange=y.noop,cd&&delete pc[I]),ha)4!==W.readyState&&W.abort();else{var ma={};var fa=W.status;var ta=
W.getAllResponseHeaders();"string"==typeof W.responseText&&(ma.text=W.responseText);try{var ua=W.statusText}catch(Oa){ua=""}fa||!n.isLocal||n.crossDomain?1223===fa&&(fa=204):fa=ma.text?200:404}}catch(Oa){ha||F(-1,Oa)}ma&&F(fa,ua,ma,ta)};n.async?4===W.readyState?setTimeout(r):(I=++Ld,cd&&(pc||(pc={},y(a).unload(cd)),pc[I]=r),W.onreadystatechange=r):r()},abort:function(){r&&r(g,!0)}}}});var kc,dd,Md=/^(?:toggle|show|hide)$/,Nd=RegExp("^(?:([+-])=|)("+Na+")([a-z%]*)$","i"),Od=/queueHooks$/,yc=[function(n,
r,A){var F,I,Q,W,ba,ha=this,ma=n.style,fa={},ta=[],ua=n.nodeType&&V(n);A.queue||(W=y._queueHooks(n,"fx"),null==W.unqueued&&(W.unqueued=0,ba=W.empty.fire,W.empty.fire=function(){W.unqueued||ba()}),W.unqueued++,ha.always(function(){ha.always(function(){W.unqueued--;y.queue(n,"fx").length||W.empty.fire()})}));1===n.nodeType&&("height"in r||"width"in r)&&(A.overflow=[ma.overflow,ma.overflowX,ma.overflowY],"inline"===y.css(n,"display")&&"none"===y.css(n,"float")&&(y.support.inlineBlockNeedsLayout&&"inline"!==
K(n.nodeName)?ma.zoom=1:ma.display="inline-block"));A.overflow&&(ma.overflow="hidden",y.support.shrinkWrapBlocks||ha.always(function(){ma.overflow=A.overflow[0];ma.overflowX=A.overflow[1];ma.overflowY=A.overflow[2]}));for(I in r)(Q=r[I],Md.exec(Q))&&(delete r[I],F=F||"toggle"===Q,Q!==(ua?"hide":"show"))&&ta.push(I);if(r=ta.length)for(Q=y._data(n,"fxshow")||y._data(n,"fxshow",{}),("hidden"in Q)&&(ua=Q.hidden),F&&(Q.hidden=!ua),ua?y(n).show():ha.done(function(){y(n).hide()}),ha.done(function(){var bb;
y._removeData(n,"fxshow");for(bb in fa)y.style(n,bb,fa[bb])}),I=0;r>I;I++){F=ta[I];var Oa=ha.createTween(F,ua?Q[F]:0);fa[F]=Q[F]||y.style(n,F);F in Q||(Q[F]=Oa.start,ua&&(Oa.end=Oa.start,Oa.start="width"===F||"height"===F?1:0))}}],sc={"*":[function(n,r){var A,F=this.createTween(n,r),I=Nd.exec(r),Q=F.cur(),W=+Q||0,ba=1,ha=20;if(I){if(r=+I[2],A=I[3]||(y.cssNumber[n]?"":"px"),"px"!==A&&W){W=y.css(F.elem,n,!0)||r||1;do ba=ba||".5",W/=ba,y.style(F.elem,n,W+A);while(ba!==(ba=F.cur()/Q)&&1!==ba&&--ha)}F.unit=
A;F.start=W;F.end=I[1]?W+(I[1]+1)*r:r}return F}]};y.Animation=y.extend(da,{tweener:function(n,r){y.isFunction(n)?(r=n,n=["*"]):n=n.split(" ");for(var A,F=0,I=n.length;I>F;F++)A=n[F],sc[A]=sc[A]||[],sc[A].unshift(r)},prefilter:function(n,r){r?yc.unshift(n):yc.push(n)}});y.Tween=la;la.prototype={constructor:la,init:function(n,r,A,F,I,Q){this.elem=n;this.prop=A;this.easing=I||"swing";this.options=r;this.start=this.now=this.cur();this.end=F;this.unit=Q||(y.cssNumber[A]?"":"px")},cur:function(){var n=
la.propHooks[this.prop];return n&&n.get?n.get(this):la.propHooks._default.get(this)},run:function(n){var r,A=la.propHooks[this.prop];return this.pos=r=this.options.duration?y.easing[this.easing](n,this.options.duration*n,0,1,this.options.duration):n,this.now=(this.end-this.start)*r+this.start,this.options.step&&this.options.step.call(this.elem,this.now,this),A&&A.set?A.set(this):la.propHooks._default.set(this),this}};la.prototype.init.prototype=la.prototype;la.propHooks={_default:{get:function(n){var r;
return null==n.elem[n.prop]||n.elem.style&&null!=n.elem.style[n.prop]?(r=y.css(n.elem,n.prop,""),r&&"auto"!==r?r:0):n.elem[n.prop]},set:function(n){y.fx.step[n.prop]?y.fx.step[n.prop](n):n.elem.style&&(null!=n.elem.style[y.cssProps[n.prop]]||y.cssHooks[n.prop])?y.style(n.elem,n.prop,n.now+n.unit):n.elem[n.prop]=n.now}}};la.propHooks.scrollTop=la.propHooks.scrollLeft={set:function(n){n.elem.nodeType&&n.elem.parentNode&&(n.elem[n.prop]=n.now)}};y.each(["toggle","show","hide"],function(n,r){var A=y.fn[r];
y.fn[r]=function(F,I,Q){return null==F||"boolean"==typeof F?A.apply(this,arguments):this.animate(qa(r,!0),F,I,Q)}});y.fn.extend({fadeTo:function(n,r,A,F){return this.filter(V).css("opacity",0).show().end().animate({opacity:r},n,A,F)},animate:function(n,r,A,F){var I=y.isEmptyObject(n),Q=y.speed(r,A,F),W=function(){var ba=da(this,y.extend({},n),Q);W.finish=function(){ba.stop(!0)};(I||y._data(this,"finish"))&&ba.stop(!0)};return W.finish=W,I||!1===Q.queue?this.each(W):this.queue(Q.queue,W)},stop:function(n,
r,A){var F=function(I){var Q=I.stop;delete I.stop;Q(A)};return"string"!=typeof n&&(A=r,r=n,n=g),r&&!1!==n&&this.queue(n||"fx",[]),this.each(function(){var I=!0,Q=null!=n&&n+"queueHooks",W=y.timers,ba=y._data(this);if(Q)ba[Q]&&ba[Q].stop&&F(ba[Q]);else for(Q in ba)ba[Q]&&ba[Q].stop&&Od.test(Q)&&F(ba[Q]);for(Q=W.length;Q--;)W[Q].elem!==this||null!=n&&W[Q].queue!==n||(W[Q].anim.stop(A),I=!1,W.splice(Q,1));!I&&A||y.dequeue(this,n)})},finish:function(n){return!1!==n&&(n=n||"fx"),this.each(function(){var r=
y._data(this),A=r[n+"queue"];var F=r[n+"queueHooks"];var I=y.timers,Q=A?A.length:0;r.finish=!0;y.queue(this,n,[]);F&&F.cur&&F.cur.finish&&F.cur.finish.call(this);for(F=I.length;F--;)I[F].elem===this&&I[F].queue===n&&(I[F].anim.stop(!0),I.splice(F,1));for(F=0;Q>F;F++)A[F]&&A[F].finish&&A[F].finish.call(this);delete r.finish})}});y.each({slideDown:qa("show"),slideUp:qa("hide"),slideToggle:qa("toggle"),fadeIn:{opacity:"show"},fadeOut:{opacity:"hide"},fadeToggle:{opacity:"toggle"}},function(n,r){y.fn[n]=
function(A,F,I){return this.animate(r,A,F,I)}});y.speed=function(n,r,A){var F=n&&"object"==typeof n?y.extend({},n):{complete:A||!A&&r||y.isFunction(n)&&n,duration:n,easing:A&&r||r&&!y.isFunction(r)&&r};return F.duration=y.fx.off?0:"number"==typeof F.duration?F.duration:F.duration in y.fx.speeds?y.fx.speeds[F.duration]:y.fx.speeds._default,(null==F.queue||!0===F.queue)&&(F.queue="fx"),F.old=F.complete,F.complete=function(){y.isFunction(F.old)&&F.old.call(this);F.queue&&y.dequeue(this,F.queue)},F};
y.easing={linear:function(n){return n},swing:function(n){return.5-Math.cos(n*Math.PI)/2}};y.timers=[];y.fx=la.prototype.init;y.fx.tick=function(){var n=y.timers,r=0;for(kc=y.now();n.length>r;r++){var A=n[r];A()||n[r]!==A||n.splice(r--,1)}n.length||y.fx.stop();kc=g};y.fx.timer=function(n){n()&&y.timers.push(n)&&y.fx.start()};y.fx.interval=13;y.fx.start=function(){dd||=setInterval(y.fx.tick,y.fx.interval)};y.fx.stop=function(){clearInterval(dd);dd=null};y.fx.speeds={slow:600,fast:200,_default:400};
y.fx.step={};y.expr&&y.expr.filters&&(y.expr.filters.animated=function(n){return y.grep(y.timers,function(r){return n===r.elem}).length});y.fn.offset=function(n){if(arguments.length)return n===g?this:this.each(function(W){y.offset.setOffset(this,n,W)});var r,A,F={top:0,left:0},I=this[0],Q=I&&I.ownerDocument;if(Q)return r=Q.documentElement,y.contains(r,I)?(typeof I.getBoundingClientRect!==wa&&(F=I.getBoundingClientRect()),A=va(Q),{top:F.top+(A.pageYOffset||r.scrollTop)-(r.clientTop||0),left:F.left+
(A.pageXOffset||r.scrollLeft)-(r.clientLeft||0)}):F};y.offset={setOffset:function(n,r,A){var F=y.css(n,"position");"static"===F&&(n.style.position="relative");var I=y(n),Q=I.offset(),W=y.css(n,"top"),ba=y.css(n,"left"),ha={},ma={},fa,ta;("absolute"===F||"fixed"===F)&&-1<y.inArray("auto",[W,ba])?(ma=I.position(),fa=ma.top,ta=ma.left):(fa=parseFloat(W)||0,ta=parseFloat(ba)||0);y.isFunction(r)&&(r=r.call(n,A,Q));null!=r.top&&(ha.top=r.top-Q.top+fa);null!=r.left&&(ha.left=r.left-Q.left+ta);"using"in r?
r.using.call(n,ha):I.css(ha)}};y.fn.extend({position:function(){if(this[0]){var n,r,A={top:0,left:0},F=this[0];return"fixed"===y.css(F,"position")?r=F.getBoundingClientRect():(n=this.offsetParent(),r=this.offset(),y.nodeName(n[0],"html")||(A=n.offset()),A.top+=y.css(n[0],"borderTopWidth",!0),A.left+=y.css(n[0],"borderLeftWidth",!0)),{top:r.top-A.top-y.css(F,"marginTop",!0),left:r.left-A.left-y.css(F,"marginLeft",!0)}}},offsetParent:function(){return this.map(function(){for(var n=this.offsetParent||
oa.documentElement;n&&!y.nodeName(n,"html")&&"static"===y.css(n,"position");)n=n.offsetParent;return n||oa.documentElement})}});y.each({scrollLeft:"pageXOffset",scrollTop:"pageYOffset"},function(n,r){var A=/Y/.test(r);y.fn[n]=function(F){return y.access(this,function(I,Q,W){var ba=va(I);return W===g?ba?r in ba?ba[r]:ba.document.documentElement[Q]:I[Q]:(ba?ba.scrollTo(A?y(ba).scrollLeft():W,A?W:y(ba).scrollTop()):I[Q]=W,g)},n,F,arguments.length,null)}});y.each({Height:"height",Width:"width"},function(n,
r){y.each({padding:"inner"+n,content:r,"":"outer"+n},function(A,F){y.fn[F]=function(I,Q){var W=arguments.length&&(A||"boolean"!=typeof I),ba=A||(!0===I||!0===Q?"margin":"border");return y.access(this,function(ha,ma,fa){var ta;return y.isWindow(ha)?ha.document.documentElement["client"+n]:9===ha.nodeType?(ta=ha.documentElement,Math.max(ha.body["scroll"+n],ta["scroll"+n],ha.body["offset"+n],ta["offset"+n],ta["client"+n])):fa===g?y.css(ha,ma,ba):y.style(ha,ma,fa,ba)},r,W?I:g,W,null)}})});a.jQuery=a.$=
y;"function"==typeof define&&define.amd&&define.amd.jQuery&&define("jquery",[],function(){return y})})(window);/*
 jQuery UI - v1.10.1 - 2013-02-27
 http://jqueryui.com
 Includes: jquery.ui.core.js, jquery.ui.widget.js, jquery.ui.mouse.js, jquery.ui.position.js, jquery.ui.draggable.js, jquery.ui.droppable.js, jquery.ui.resizable.js, jquery.ui.selectable.js, jquery.ui.sortable.js, jquery.ui.accordion.js, jquery.ui.autocomplete.js, jquery.ui.button.js, jquery.ui.datepicker.js, jquery.ui.dialog.js, jquery.ui.menu.js, jquery.ui.progressbar.js, jquery.ui.slider.js, jquery.ui.spinner.js, jquery.ui.tabs.js, jquery.ui.tooltip.js, jquery.ui.effect.js, jquery.ui.effect-blind.js, jquery.ui.effect-bounce.js, jquery.ui.effect-clip.js, jquery.ui.effect-drop.js, jquery.ui.effect-explode.js, jquery.ui.effect-fade.js, jquery.ui.effect-fold.js, jquery.ui.effect-highlight.js, jquery.ui.effect-pulsate.js, jquery.ui.effect-scale.js, jquery.ui.effect-shake.js, jquery.ui.effect-slide.js, jquery.ui.effect-transfer.js
 Copyright (c) 2013 jQuery Foundation and other contributors Licensed MIT */
(function(a,g){function d(f,h){var m,k,l,p=f.nodeName.toLowerCase();return"area"===p?(m=f.parentNode,k=m.name,f.href&&k&&"map"===m.nodeName.toLowerCase()?(l=a("img[usemap=#"+k+"]")[0],!!l&&b(l)):!1):(/input|select|textarea|button|object/.test(p)?!f.disabled:"a"===p?f.href||h:h)&&b(f)}function b(f){return a.expr.filters.visible(f)&&!a(f).parents().addBack().filter(function(){return"hidden"===a.css(this,"visibility")}).length}var c=0,e=/^ui-id-\d+$/;a.ui=a.ui||{};a.ui.version||(a.extend(a.ui,{version:"1.10.1",
keyCode:{BACKSPACE:8,COMMA:188,DELETE:46,DOWN:40,END:35,ENTER:13,ESCAPE:27,HOME:36,LEFT:37,NUMPAD_ADD:107,NUMPAD_DECIMAL:110,NUMPAD_DIVIDE:111,NUMPAD_ENTER:108,NUMPAD_MULTIPLY:106,NUMPAD_SUBTRACT:109,PAGE_DOWN:34,PAGE_UP:33,PERIOD:190,RIGHT:39,SPACE:32,TAB:9,UP:38}}),a.fn.extend({_focus:a.fn.focus,focus:function(f,h){return"number"==typeof f?this.each(function(){var m=this;setTimeout(function(){a(m).focus();h&&h.call(m)},f)}):this._focus.apply(this,arguments)},scrollParent:function(){var f;return a.ui.ie&&
/(static|relative)/.test(this.css("position"))||/absolute/.test(this.css("position"))?f=this.parents().filter(function(){return/(relative|absolute|fixed)/.test(a.css(this,"position"))&&/(auto|scroll)/.test(a.css(this,"overflow")+a.css(this,"overflow-y")+a.css(this,"overflow-x"))}).eq(0):f=this.parents().filter(function(){return/(auto|scroll)/.test(a.css(this,"overflow")+a.css(this,"overflow-y")+a.css(this,"overflow-x"))}).eq(0),/fixed/.test(this.css("position"))||!f.length?a(document):f},zIndex:function(f){if(f!==
g)return this.css("zIndex",f);if(this.length){f=a(this[0]);for(var h;f.length&&f[0]!==document;){h=f.css("position");if("absolute"===h||"relative"===h||"fixed"===h)if(h=parseInt(f.css("zIndex"),10),!isNaN(h)&&0!==h)return h;f=f.parent()}}return 0},uniqueId:function(){return this.each(function(){this.id||(this.id="ui-id-"+ ++c)})},removeUniqueId:function(){return this.each(function(){e.test(this.id)&&a(this).removeAttr("id")})}}),a.extend(a.expr[":"],{data:a.expr.createPseudo?a.expr.createPseudo(function(f){return function(h){return!!a.data(h,
f)}}):function(f,h,m){return!!a.data(f,m[3])},focusable:function(f){return d(f,!isNaN(a.attr(f,"tabindex")))},tabbable:function(f){var h=a.attr(f,"tabindex"),m=isNaN(h);return(m||0<=h)&&d(f,!m)}}),a("<a>").outerWidth(1).jquery||a.each(["Width","Height"],function(f,h){function m(q,u,t,C){return a.each(k,function(){u-=parseFloat(a.css(q,"padding"+this))||0;t&&(u-=parseFloat(a.css(q,"border"+this+"Width"))||0);C&&(u-=parseFloat(a.css(q,"margin"+this))||0)}),u}var k="Width"===h?["Left","Right"]:["Top",
"Bottom"],l=h.toLowerCase(),p={innerWidth:a.fn.innerWidth,innerHeight:a.fn.innerHeight,outerWidth:a.fn.outerWidth,outerHeight:a.fn.outerHeight};a.fn["inner"+h]=function(q){return q===g?p["inner"+h].call(this):this.each(function(){a(this).css(l,m(this,q)+"px")})};a.fn["outer"+h]=function(q,u){return"number"!=typeof q?p["outer"+h].call(this,q):this.each(function(){a(this).css(l,m(this,q,!0,u)+"px")})}}),a.fn.addBack||(a.fn.addBack=function(f){return this.add(null==f?this.prevObject:this.prevObject.filter(f))}),
a("<a>").data("a-b","a").removeData("a-b").data("a-b")&&(a.fn.removeData=function(f){return function(h){return arguments.length?f.call(this,a.camelCase(h)):f.call(this)}}(a.fn.removeData)),a.ui.ie=!!/msie [\w.]+/.exec(navigator.userAgent.toLowerCase()),a.support.selectstart="onselectstart"in document.createElement("div"),a.fn.extend({disableSelection:function(){return this.bind((a.support.selectstart?"selectstart":"mousedown")+".ui-disableSelection",function(f){f.preventDefault()})},enableSelection:function(){return this.unbind(".ui-disableSelection")}}),
a.extend(a.ui,{plugin:{add:function(f,h,m){var k;f=a.ui[f].prototype;for(k in m)f.plugins[k]=f.plugins[k]||[],f.plugins[k].push([h,m[k]])},call:function(f,h,m){var k=f.plugins[h];if(k&&f.element[0].parentNode&&11!==f.element[0].parentNode.nodeType)for(h=0;h<k.length;h++)f.options[k[h][0]]&&k[h][1].apply(f.element,m)}},hasScroll:function(f,h){if("hidden"===a(f).css("overflow"))return!1;h=h&&"left"===h?"scrollLeft":"scrollTop";var m=!1;return 0<f[h]?!0:(f[h]=1,m=0<f[h],f[h]=0,m)}}))})(jQuery);
(function(a,g){var d=0,b=Array.prototype.slice,c=a.cleanData;a.cleanData=function(e){for(var f=0,h;null!=(h=e[f]);f++)try{a(h).triggerHandler("remove")}catch(m){}c(e)};a.widget=function(e,f,h){var m={},k=e.split(".")[0];e=e.split(".")[1];var l=k+"-"+e;h||(h=f,f=a.Widget);a.expr[":"][l.toLowerCase()]=function(t){return!!a.data(t,l)};a[k]=a[k]||{};var p=a[k][e];var q=a[k][e]=function(t,C){if(!this._createWidget)return new q(t,C);arguments.length&&this._createWidget(t,C)};a.extend(q,p,{version:h.version,
_proto:a.extend({},h),_childConstructors:[]});var u=new f;u.options=a.widget.extend({},u.options);a.each(h,function(t,C){a.isFunction(C)?m[t]=function(){var D=function(){return f.prototype[t].apply(this,arguments)},w=function(z){return f.prototype[t].apply(this,z)};return function(){var z=this._super,L=this._superApply,U;return this._super=D,this._superApply=w,U=C.apply(this,arguments),this._super=z,this._superApply=L,U}}():m[t]=C});q.prototype=a.widget.extend(u,{widgetEventPrefix:p?u.widgetEventPrefix:
e},m,{constructor:q,namespace:k,widgetName:e,widgetFullName:l});p?(a.each(p._childConstructors,function(t,C){t=C.prototype;a.widget(t.namespace+"."+t.widgetName,q,C._proto)}),delete p._childConstructors):f._childConstructors.push(q);a.widget.bridge(e,q)};a.widget.extend=function(e){for(var f=b.call(arguments,1),h=0,m=f.length,k,l;h<m;h++)for(k in f[h])l=f[h][k],f[h].hasOwnProperty(k)&&l!==g&&(a.isPlainObject(l)?e[k]=a.isPlainObject(e[k])?a.widget.extend({},e[k],l):a.widget.extend({},l):e[k]=l);return e};
a.widget.bridge=function(e,f){var h=f.prototype.widgetFullName||e;a.fn[e]=function(m){var k="string"==typeof m,l=b.call(arguments,1),p=this;return m=!k&&l.length?a.widget.extend.apply(null,[m].concat(l)):m,k?this.each(function(){var q=a.data(this,h);if(!q)return a.error("cannot call methods on "+e+" prior to initialization; attempted to call method '"+m+"'");if(!a.isFunction(q[m])||"_"===m.charAt(0))return a.error("no such method '"+m+"' for "+e+" widget instance");var u=q[m].apply(q,l);if(u!==q&&
u!==g)return p=u&&u.jquery?p.pushStack(u.get()):u,!1}):this.each(function(){var q=a.data(this,h);q?q.option(m||{})._init():a.data(this,h,new f(m,this))}),p}};a.Widget=function(){};a.Widget._childConstructors=[];a.Widget.prototype={widgetName:"widget",widgetEventPrefix:"",defaultElement:"<div>",options:{disabled:!1,create:null},_createWidget:function(e,f){f=a(f||this.defaultElement||this)[0];this.element=a(f);this.uuid=d++;this.eventNamespace="."+this.widgetName+this.uuid;this.options=a.widget.extend({},
this.options,this._getCreateOptions(),e);this.bindings=a();this.hoverable=a();this.focusable=a();f!==this&&(a.data(f,this.widgetFullName,this),this._on(!0,this.element,{remove:function(h){h.target===f&&this.destroy()}}),this.document=a(f.style?f.ownerDocument:f.document||f),this.window=a(this.document[0].defaultView||this.document[0].parentWindow));this._create();this._trigger("create",null,this._getCreateEventData());this._init()},_getCreateOptions:a.noop,_getCreateEventData:a.noop,_create:a.noop,
_init:a.noop,destroy:function(){this._destroy();this.element.unbind(this.eventNamespace).removeData(this.widgetName).removeData(this.widgetFullName).removeData(a.camelCase(this.widgetFullName));this.widget().unbind(this.eventNamespace).removeAttr("aria-disabled").removeClass(this.widgetFullName+"-disabled ui-state-disabled");this.bindings.unbind(this.eventNamespace);this.hoverable.removeClass("ui-state-hover");this.focusable.removeClass("ui-state-focus")},_destroy:a.noop,widget:function(){return this.element},
option:function(e,f){var h=e,m;if(0===arguments.length)return a.widget.extend({},this.options);if("string"==typeof e){h={};var k=e.split(".");e=k.shift();if(k.length){var l=h[e]=a.widget.extend({},this.options[e]);for(m=0;m<k.length-1;m++)l[k[m]]=l[k[m]]||{},l=l[k[m]];e=k.pop();if(f===g)return l[e]===g?null:l[e];l[e]=f}else{if(f===g)return this.options[e]===g?null:this.options[e];h[e]=f}}return this._setOptions(h),this},_setOptions:function(e){for(var f in e)this._setOption(f,e[f]);return this},_setOption:function(e,
f){return this.options[e]=f,"disabled"===e&&(this.widget().toggleClass(this.widgetFullName+"-disabled ui-state-disabled",!!f).attr("aria-disabled",f),this.hoverable.removeClass("ui-state-hover"),this.focusable.removeClass("ui-state-focus")),this},enable:function(){return this._setOption("disabled",!1)},disable:function(){return this._setOption("disabled",!0)},_on:function(e,f,h){var m,k=this;"boolean"!=typeof e&&(h=f,f=e,e=!1);h?(f=m=a(f),this.bindings=this.bindings.add(f)):(h=f,f=this.element,m=
this.widget());a.each(h,function(l,p){function q(){if(e||!0!==k.options.disabled&&!a(this).hasClass("ui-state-disabled"))return("string"==typeof p?k[p]:p).apply(k,arguments)}"string"!=typeof p&&(q.guid=p.guid=p.guid||q.guid||a.guid++);var u=l.match(/^(\w+)\s*(.*)$/);l=u[1]+k.eventNamespace;(u=u[2])?m.delegate(u,l,q):f.bind(l,q)})},_off:function(e,f){f=(f||"").split(" ").join(this.eventNamespace+" ")+this.eventNamespace;e.unbind(f).undelegate(f)},_delay:function(e,f){var h=this;return setTimeout(function(){return("string"==
typeof e?h[e]:e).apply(h,arguments)},f||0)},_hoverable:function(e){this.hoverable=this.hoverable.add(e);this._on(e,{mouseenter:function(f){a(f.currentTarget).addClass("ui-state-hover")},mouseleave:function(f){a(f.currentTarget).removeClass("ui-state-hover")}})},_focusable:function(e){this.focusable=this.focusable.add(e);this._on(e,{focusin:function(f){a(f.currentTarget).addClass("ui-state-focus")},focusout:function(f){a(f.currentTarget).removeClass("ui-state-focus")}})},_trigger:function(e,f,h){var m,
k=this.options[e];h=h||{};f=a.Event(f);f.type=(e===this.widgetEventPrefix?e:this.widgetEventPrefix+e).toLowerCase();f.target=this.element[0];if(e=f.originalEvent)for(m in e)m in f||(f[m]=e[m]);return this.element.trigger(f,h),!(a.isFunction(k)&&!1===k.apply(this.element[0],[f].concat(h))||f.isDefaultPrevented())}};a.each({show:"fadeIn",hide:"fadeOut"},function(e,f){a.Widget.prototype["_"+e]=function(h,m,k){"string"==typeof m&&(m={effect:m});var l=m?!0===m||"number"==typeof m?f:m.effect||f:e;m=m||
{};"number"==typeof m&&(m={duration:m});var p=!a.isEmptyObject(m);m.complete=k;m.delay&&h.delay(m.delay);p&&a.effects&&a.effects.effect[l]?h[e](m):l!==e&&h[l]?h[l](m.duration,m.easing,k):h.queue(function(q){a(this)[e]();k&&k.call(h[0]);q()})}})})(jQuery);
(function(a,g){var d=!1;a(document).mouseup(function(){d=!1});a.widget("ui.mouse",{version:"1.10.1",options:{cancel:"input,textarea,button,select,option",distance:1,delay:0},_mouseInit:function(){var b=this;this.element.bind("mousedown."+this.widgetName,function(c){return b._mouseDown(c)}).bind("click."+this.widgetName,function(c){if(!0===a.data(c.target,b.widgetName+".preventClickEvent"))return a.removeData(c.target,b.widgetName+".preventClickEvent"),c.stopImmediatePropagation(),!1});this.started=
!1},_mouseDestroy:function(){this.element.unbind("."+this.widgetName);this._mouseMoveDelegate&&a(document).unbind("mousemove."+this.widgetName,this._mouseMoveDelegate).unbind("mouseup."+this.widgetName,this._mouseUpDelegate)},_mouseDown:function(b){if(!d){this._mouseStarted&&this._mouseUp(b);this._mouseDownEvent=b;var c=this,e=1===b.which,f="string"==typeof this.options.cancel&&b.target.nodeName?a(b.target).closest(this.options.cancel).length:!1;if(!e||f||!this._mouseCapture(b))return!0;(this.mouseDelayMet=
!this.options.delay)||(this._mouseDelayTimer=setTimeout(function(){c.mouseDelayMet=!0},this.options.delay));return this._mouseDistanceMet(b)&&this._mouseDelayMet(b)&&(this._mouseStarted=!1!==this._mouseStart(b),!this._mouseStarted)?(b.preventDefault(),!0):(!0===a.data(b.target,this.widgetName+".preventClickEvent")&&a.removeData(b.target,this.widgetName+".preventClickEvent"),this._mouseMoveDelegate=function(h){return c._mouseMove(h)},this._mouseUpDelegate=function(h){return c._mouseUp(h)},a(document).bind("mousemove."+
this.widgetName,this._mouseMoveDelegate).bind("mouseup."+this.widgetName,this._mouseUpDelegate),b.preventDefault(),d=!0,!0)}},_mouseMove:function(b){return a.ui.ie&&(!document.documentMode||9>document.documentMode)&&!b.button?this._mouseUp(b):this._mouseStarted?(this._mouseDrag(b),b.preventDefault()):(this._mouseDistanceMet(b)&&this._mouseDelayMet(b)&&(this._mouseStarted=!1!==this._mouseStart(this._mouseDownEvent,b),this._mouseStarted?this._mouseDrag(b):this._mouseUp(b)),!this._mouseStarted)},_mouseUp:function(b){return a(document).unbind("mousemove."+
this.widgetName,this._mouseMoveDelegate).unbind("mouseup."+this.widgetName,this._mouseUpDelegate),this._mouseStarted&&(this._mouseStarted=!1,b.target===this._mouseDownEvent.target&&a.data(b.target,this.widgetName+".preventClickEvent",!0),this._mouseStop(b)),!1},_mouseDistanceMet:function(b){return Math.max(Math.abs(this._mouseDownEvent.pageX-b.pageX),Math.abs(this._mouseDownEvent.pageY-b.pageY))>=this.options.distance},_mouseDelayMet:function(){return this.mouseDelayMet},_mouseStart:function(){},
_mouseDrag:function(){},_mouseStop:function(){},_mouseCapture:function(){return!0}})})(jQuery);
(function(a,g){function d(t,C,D){return[parseFloat(t[0])*(q.test(t[0])?C/100:1),parseFloat(t[1])*(q.test(t[1])?D/100:1)]}function b(t){var C=t[0];return 9===C.nodeType?{width:t.width(),height:t.height(),offset:{top:0,left:0}}:a.isWindow(C)?{width:t.width(),height:t.height(),offset:{top:t.scrollTop(),left:t.scrollLeft()}}:C.preventDefault?{width:0,height:0,offset:{top:C.pageY,left:C.pageX}}:{width:t.outerWidth(),height:t.outerHeight(),offset:t.offset()}}a.ui=a.ui||{};var c,e=Math.max,f=Math.abs,h=
Math.round,m=/left|center|right/,k=/top|center|bottom/,l=/[\+\-]\d+(\.[\d]+)?%?/,p=/^\w+/,q=/%$/,u=a.fn.position;a.position={scrollbarWidth:function(){if(c!==g)return c;var t,C,D=a("<div style='display:block;width:50px;height:50px;overflow:hidden;'><div style='height:100px;width:auto;'></div></div>"),w=D.children()[0];return a("body").append(D),t=w.offsetWidth,D.css("overflow","scroll"),C=w.offsetWidth,t===C&&(C=D[0].clientWidth),D.remove(),c=t-C},getScrollInfo:function(t){var C=t.isWindow?"":t.element.css("overflow-x"),
D=t.isWindow?"":t.element.css("overflow-y");D="scroll"===D||"auto"===D&&t.height<t.element[0].scrollHeight;return{width:"scroll"===C||"auto"===C&&t.width<t.element[0].scrollWidth?a.position.scrollbarWidth():0,height:D?a.position.scrollbarWidth():0}},getWithinInfo:function(t){t=a(t||window);var C=a.isWindow(t[0]);return{element:t,isWindow:C,offset:t.offset()||{left:0,top:0},scrollLeft:t.scrollLeft(),scrollTop:t.scrollTop(),width:C?t.width():t.outerWidth(),height:C?t.height():t.outerHeight()}}};a.fn.position=
function(t){if(!t||!t.of)return u.apply(this,arguments);t=a.extend({},t);var C,D,w,z,L,U,V=a(t.of),Y=a.position.getWithinInfo(t.within),T=a.position.getScrollInfo(Y),J=(t.collision||"flip").split(" "),P={};return U=b(V),V[0].preventDefault&&(t.at="left top"),D=U.width,w=U.height,z=U.offset,L=a.extend({},z),a.each(["my","at"],function(){var K=(t[this]||"").split(" ");1===K.length&&(K=m.test(K[0])?K.concat(["center"]):k.test(K[0])?["center"].concat(K):["center","center"]);K[0]=m.test(K[0])?K[0]:"center";
K[1]=k.test(K[1])?K[1]:"center";var E=l.exec(K[0]);var x=l.exec(K[1]);P[this]=[E?E[0]:0,x?x[0]:0];t[this]=[p.exec(K[0])[0],p.exec(K[1])[0]]}),1===J.length&&(J[1]=J[0]),"right"===t.at[0]?L.left+=D:"center"===t.at[0]&&(L.left+=D/2),"bottom"===t.at[1]?L.top+=w:"center"===t.at[1]&&(L.top+=w/2),C=d(P.at,D,w),L.left+=C[0],L.top+=C[1],this.each(function(){var K,E=a(this),x=E.outerWidth(),H=E.outerHeight(),M=parseInt(a.css(this,"marginLeft"),10)||0,G=parseInt(a.css(this,"marginTop"),10)||0,N=x+M+(parseInt(a.css(this,
"marginRight"),10)||0)+T.width,R=H+G+(parseInt(a.css(this,"marginBottom"),10)||0)+T.height,O=a.extend({},L),da=d(P.my,E.outerWidth(),E.outerHeight());"right"===t.my[0]?O.left-=x:"center"===t.my[0]&&(O.left-=x/2);"bottom"===t.my[1]?O.top-=H:"center"===t.my[1]&&(O.top-=H/2);O.left+=da[0];O.top+=da[1];a.support.offsetFractions||(O.left=h(O.left),O.top=h(O.top));var X={marginLeft:M,marginTop:G};a.each(["left","top"],function(la,qa){a.ui.position[J[la]]&&a.ui.position[J[la]][qa](O,{targetWidth:D,targetHeight:w,
elemWidth:x,elemHeight:H,collisionPosition:X,collisionWidth:N,collisionHeight:R,offset:[C[0]+da[0],C[1]+da[1]],my:t.my,at:t.at,within:Y,elem:E})});t.using&&(K=function(la){var qa=z.left-O.left,va=qa+D-x,pa=z.top-O.top,wa=pa+w-H,oa={target:{element:V,left:z.left,top:z.top,width:D,height:w},element:{element:E,left:O.left,top:O.top,width:x,height:H},horizontal:0>va?"left":0<qa?"right":"center",vertical:0>wa?"top":0<pa?"bottom":"middle"};D<x&&f(qa+va)<D&&(oa.horizontal="center");w<H&&f(pa+wa)<w&&(oa.vertical=
"middle");e(f(qa),f(va))>e(f(pa),f(wa))?oa.important="horizontal":oa.important="vertical";t.using.call(this,la,oa)});E.offset(a.extend(O,{using:K}))})};a.ui.position={fit:{left:function(t,C){var D=C.within,w=D.isWindow?D.scrollLeft:D.offset.left;D=D.width;var z=t.left-C.collisionPosition.marginLeft,L=w-z,U=z+C.collisionWidth-D-w,V;C.collisionWidth>D?0<L&&0>=U?(V=t.left+L+C.collisionWidth-D-w,t.left+=L-V):0<U&&0>=L?t.left=w:L>U?t.left=w+D-C.collisionWidth:t.left=w:0<L?t.left+=L:0<U?t.left-=U:t.left=
e(t.left-z,t.left)},top:function(t,C){var D=C.within;D=D.isWindow?D.scrollTop:D.offset.top;var w=C.within.height,z=t.top-C.collisionPosition.marginTop,L=D-z,U=z+C.collisionHeight-w-D,V;C.collisionHeight>w?0<L&&0>=U?(V=t.top+L+C.collisionHeight-w-D,t.top+=L-V):0<U&&0>=L?t.top=D:L>U?t.top=D+w-C.collisionHeight:t.top=D:0<L?t.top+=L:0<U?t.top-=U:t.top=e(t.top-z,t.top)}},flip:{left:function(t,C){var D=C.within,w=D.offset.left+D.scrollLeft,z=D.width,L=D.isWindow?D.scrollLeft:D.offset.left,U=t.left-C.collisionPosition.marginLeft;
D=U-L;var V=U+C.collisionWidth-z-L;U="left"===C.my[0]?-C.elemWidth:"right"===C.my[0]?C.elemWidth:0;var Y="left"===C.at[0]?C.targetWidth:"right"===C.at[0]?-C.targetWidth:0,T=-2*C.offset[0];if(0>D){if(C=t.left+U+Y+T+C.collisionWidth-z-w,0>C||C<f(D))t.left+=U+Y+T}else 0<V&&(C=t.left-C.collisionPosition.marginLeft+U+Y+T-L,0<C||f(C)<V)&&(t.left+=U+Y+T)},top:function(t,C){var D=C.within,w=D.offset.top+D.scrollTop,z=D.height;D=D.isWindow?D.scrollTop:D.offset.top;var L=t.top-C.collisionPosition.marginTop,
U=L-D;L=L+C.collisionHeight-z-D;var V="top"===C.my[1]?-C.elemHeight:"bottom"===C.my[1]?C.elemHeight:0,Y="top"===C.at[1]?C.targetHeight:"bottom"===C.at[1]?-C.targetHeight:0,T=-2*C.offset[1],J,P;0>U?(P=t.top+V+Y+T+C.collisionHeight-z-w,t.top+V+Y+T>U&&(0>P||P<f(U))&&(t.top+=V+Y+T)):0<L&&(J=t.top-C.collisionPosition.marginTop+V+Y+T-D,t.top+V+Y+T>L&&(0<J||f(J)<L)&&(t.top+=V+Y+T))}},flipfit:{left:function(){a.ui.position.flip.left.apply(this,arguments);a.ui.position.fit.left.apply(this,arguments)},top:function(){a.ui.position.flip.top.apply(this,
arguments);a.ui.position.fit.top.apply(this,arguments)}}};(function(){var t,C=document.getElementsByTagName("body")[0];var D=document.createElement("div");var w=document.createElement(C?"div":"body");var z={visibility:"hidden",width:0,height:0,border:0,margin:0,background:"none"};C&&a.extend(z,{position:"absolute",left:"-1000px",top:"-1000px"});for(t in z)w.style[t]=z[t];w.appendChild(D);z=C||document.documentElement;z.insertBefore(w,z.firstChild);D.style.cssText="position: absolute; left: 10.7432222px;";
D=a(D).offset().left;a.support.offsetFractions=10<D&&11>D;w.innerHTML="";z.removeChild(w)})()})(jQuery);
(function(a,g){a.widget("ui.draggable",a.ui.mouse,{version:"1.10.1",widgetEventPrefix:"drag",options:{addClasses:!0,appendTo:"parent",axis:!1,connectToSortable:!1,containment:!1,cursor:"auto",cursorAt:!1,grid:!1,handle:!1,helper:"original",iframeFix:!1,opacity:!1,refreshPositions:!1,revert:!1,revertDuration:500,scope:"default",scroll:!0,scrollSensitivity:20,scrollSpeed:20,snap:!1,snapMode:"both",snapTolerance:20,stack:!1,zIndex:!1,drag:null,start:null,stop:null},_create:function(){"original"===this.options.helper&&
!/^(?:r|a|f)/.test(this.element.css("position"))&&(this.element[0].style.position="relative");this.options.addClasses&&this.element.addClass("ui-draggable");this.options.disabled&&this.element.addClass("ui-draggable-disabled");this._mouseInit()},_destroy:function(){this.element.removeClass("ui-draggable ui-draggable-dragging ui-draggable-disabled");this._mouseDestroy()},_mouseCapture:function(d){var b=this.options;return this.helper||b.disabled||0<a(d.target).closest(".ui-resizable-handle").length?
!1:(this.handle=this._getHandle(d),this.handle?(a(!0===b.iframeFix?"iframe":b.iframeFix).each(function(){a("<div class='ui-draggable-iframeFix' style='background: #fff;'></div>").css({width:this.offsetWidth+"px",height:this.offsetHeight+"px",position:"absolute",opacity:"0.001",zIndex:1E3}).css(a(this).offset()).appendTo("body")}),!0):!1)},_mouseStart:function(d){var b=this.options;return this.helper=this._createHelper(d),this.helper.addClass("ui-draggable-dragging"),this._cacheHelperProportions(),
a.ui.ddmanager&&(a.ui.ddmanager.current=this),this._cacheMargins(),this.cssPosition=this.helper.css("position"),this.scrollParent=this.helper.scrollParent(),this.offset=this.positionAbs=this.element.offset(),this.offset={top:this.offset.top-this.margins.top,left:this.offset.left-this.margins.left},a.extend(this.offset,{click:{left:d.pageX-this.offset.left,top:d.pageY-this.offset.top},parent:this._getParentOffset(),relative:this._getRelativeOffset()}),this.originalPosition=this.position=this._generatePosition(d),
this.originalPageX=d.pageX,this.originalPageY=d.pageY,b.cursorAt&&this._adjustOffsetFromHelper(b.cursorAt),b.containment&&this._setContainment(),!1===this._trigger("start",d)?(this._clear(),!1):(this._cacheHelperProportions(),a.ui.ddmanager&&!b.dropBehaviour&&a.ui.ddmanager.prepareOffsets(this,d),this._mouseDrag(d,!0),a.ui.ddmanager&&a.ui.ddmanager.dragStart(this,d),!0)},_mouseDrag:function(d,b){this.position=this._generatePosition(d);this.positionAbs=this._convertPositionTo("absolute");if(!b){b=
this._uiHash();if(!1===this._trigger("drag",d,b))return this._mouseUp({}),!1;this.position=b.position}this.options.axis&&"y"===this.options.axis||(this.helper[0].style.left=this.position.left+"px");this.options.axis&&"x"===this.options.axis||(this.helper[0].style.top=this.position.top+"px");return a.ui.ddmanager&&a.ui.ddmanager.drag(this,d),!1},_mouseStop:function(d){var b,c=this,e=!1,f=!1;a.ui.ddmanager&&!this.options.dropBehaviour&&(f=a.ui.ddmanager.drop(this,d));this.dropped&&(f=this.dropped,this.dropped=
!1);for(b=this.element[0];b&&=b.parentNode;)b===document&&(e=!0);return e||"original"!==this.options.helper?("invalid"===this.options.revert&&!f||"valid"===this.options.revert&&f||!0===this.options.revert||a.isFunction(this.options.revert)&&this.options.revert.call(this.element,f)?a(this.helper).animate(this.originalPosition,parseInt(this.options.revertDuration,10),function(){!1!==c._trigger("stop",d)&&c._clear()}):!1!==this._trigger("stop",d)&&this._clear(),!1):!1},_mouseUp:function(d){return a("div.ui-draggable-iframeFix").each(function(){this.parentNode.removeChild(this)}),
a.ui.ddmanager&&a.ui.ddmanager.dragStop(this,d),a.ui.mouse.prototype._mouseUp.call(this,d)},cancel:function(){return this.helper.is(".ui-draggable-dragging")?this._mouseUp({}):this._clear(),this},_getHandle:function(d){var b=this.options.handle&&a(this.options.handle,this.element).length?!1:!0;return a(this.options.handle,this.element).find("*").addBack().each(function(){this===d.target&&(b=!0)}),b},_createHelper:function(d){var b=this.options;d=a.isFunction(b.helper)?a(b.helper.apply(this.element[0],
[d])):"clone"===b.helper?this.element.clone().removeAttr("id"):this.element;return d.parents("body").length||d.appendTo("parent"===b.appendTo?this.element[0].parentNode:b.appendTo),d[0]!==this.element[0]&&!/(fixed|absolute)/.test(d.css("position"))&&d.css("position","absolute"),d},_adjustOffsetFromHelper:function(d){"string"==typeof d&&(d=d.split(" "));a.isArray(d)&&(d={left:+d[0],top:+d[1]||0});"left"in d&&(this.offset.click.left=d.left+this.margins.left);"right"in d&&(this.offset.click.left=this.helperProportions.width-
d.right+this.margins.left);"top"in d&&(this.offset.click.top=d.top+this.margins.top);"bottom"in d&&(this.offset.click.top=this.helperProportions.height-d.bottom+this.margins.top)},_getParentOffset:function(){this.offsetParent=this.helper.offsetParent();var d=this.offsetParent.offset();"absolute"===this.cssPosition&&this.scrollParent[0]!==document&&a.contains(this.scrollParent[0],this.offsetParent[0])&&(d.left+=this.scrollParent.scrollLeft(),d.top+=this.scrollParent.scrollTop());if(this.offsetParent[0]===
document.body||this.offsetParent[0].tagName&&"html"===this.offsetParent[0].tagName.toLowerCase()&&a.ui.ie)d={top:0,left:0};return{top:d.top+(parseInt(this.offsetParent.css("borderTopWidth"),10)||0),left:d.left+(parseInt(this.offsetParent.css("borderLeftWidth"),10)||0)}},_getRelativeOffset:function(){if("relative"===this.cssPosition){var d=this.element.position();return{top:d.top-(parseInt(this.helper.css("top"),10)||0)+this.scrollParent.scrollTop(),left:d.left-(parseInt(this.helper.css("left"),10)||
0)+this.scrollParent.scrollLeft()}}return{top:0,left:0}},_cacheMargins:function(){this.margins={left:parseInt(this.element.css("marginLeft"),10)||0,top:parseInt(this.element.css("marginTop"),10)||0,right:parseInt(this.element.css("marginRight"),10)||0,bottom:parseInt(this.element.css("marginBottom"),10)||0}},_cacheHelperProportions:function(){this.helperProportions={width:this.helper.outerWidth(),height:this.helper.outerHeight()}},_setContainment:function(){var d;var b=this.options;"parent"===b.containment&&
(b.containment=this.helper[0].parentNode);if("document"===b.containment||"window"===b.containment)this.containment=["document"===b.containment?0:a(window).scrollLeft()-this.offset.relative.left-this.offset.parent.left,"document"===b.containment?0:a(window).scrollTop()-this.offset.relative.top-this.offset.parent.top,("document"===b.containment?0:a(window).scrollLeft())+a("document"===b.containment?document:window).width()-this.helperProportions.width-this.margins.left,("document"===b.containment?0:
a(window).scrollTop())+(a("document"===b.containment?document:window).height()||document.body.parentNode.scrollHeight)-this.helperProportions.height-this.margins.top];if(/^(document|window|parent)$/.test(b.containment)||b.containment.constructor===Array)b.containment.constructor===Array&&(this.containment=b.containment);else{var c=a(b.containment);if(d=c[0])b="hidden"!==a(d).css("overflow"),this.containment=[(parseInt(a(d).css("borderLeftWidth"),10)||0)+(parseInt(a(d).css("paddingLeft"),10)||0),(parseInt(a(d).css("borderTopWidth"),
10)||0)+(parseInt(a(d).css("paddingTop"),10)||0),(b?Math.max(d.scrollWidth,d.offsetWidth):d.offsetWidth)-(parseInt(a(d).css("borderLeftWidth"),10)||0)-(parseInt(a(d).css("paddingRight"),10)||0)-this.helperProportions.width-this.margins.left-this.margins.right,(b?Math.max(d.scrollHeight,d.offsetHeight):d.offsetHeight)-(parseInt(a(d).css("borderTopWidth"),10)||0)-(parseInt(a(d).css("paddingBottom"),10)||0)-this.helperProportions.height-this.margins.top-this.margins.bottom],this.relative_container=c}},
_convertPositionTo:function(d,b){b||=this.position;d="absolute"===d?1:-1;var c="absolute"!==this.cssPosition||this.scrollParent[0]!==document&&a.contains(this.scrollParent[0],this.offsetParent[0])?this.scrollParent:this.offsetParent,e=/(html|body)/i.test(c[0].tagName);return{top:b.top+this.offset.relative.top*d+this.offset.parent.top*d-("fixed"===this.cssPosition?-this.scrollParent.scrollTop():e?0:c.scrollTop())*d,left:b.left+this.offset.relative.left*d+this.offset.parent.left*d-("fixed"===this.cssPosition?
-this.scrollParent.scrollLeft():e?0:c.scrollLeft())*d}},_generatePosition:function(d){var b,c,e,f,h=this.options,m="absolute"!==this.cssPosition||this.scrollParent[0]!==document&&a.contains(this.scrollParent[0],this.offsetParent[0])?this.scrollParent:this.offsetParent,k=/(html|body)/i.test(m[0].tagName),l=d.pageX,p=d.pageY;return this.originalPosition&&(this.containment&&(this.relative_container?(c=this.relative_container.offset(),b=[this.containment[0]+c.left,this.containment[1]+c.top,this.containment[2]+
c.left,this.containment[3]+c.top]):b=this.containment,d.pageX-this.offset.click.left<b[0]&&(l=b[0]+this.offset.click.left),d.pageY-this.offset.click.top<b[1]&&(p=b[1]+this.offset.click.top),d.pageX-this.offset.click.left>b[2]&&(l=b[2]+this.offset.click.left),d.pageY-this.offset.click.top>b[3]&&(p=b[3]+this.offset.click.top)),h.grid&&(e=h.grid[1]?this.originalPageY+Math.round((p-this.originalPageY)/h.grid[1])*h.grid[1]:this.originalPageY,p=b?e-this.offset.click.top>=b[1]||e-this.offset.click.top>b[3]?
e:e-this.offset.click.top>=b[1]?e-h.grid[1]:e+h.grid[1]:e,f=h.grid[0]?this.originalPageX+Math.round((l-this.originalPageX)/h.grid[0])*h.grid[0]:this.originalPageX,l=b?f-this.offset.click.left>=b[0]||f-this.offset.click.left>b[2]?f:f-this.offset.click.left>=b[0]?f-h.grid[0]:f+h.grid[0]:f)),{top:p-this.offset.click.top-this.offset.relative.top-this.offset.parent.top+("fixed"===this.cssPosition?-this.scrollParent.scrollTop():k?0:m.scrollTop()),left:l-this.offset.click.left-this.offset.relative.left-
this.offset.parent.left+("fixed"===this.cssPosition?-this.scrollParent.scrollLeft():k?0:m.scrollLeft())}},_clear:function(){this.helper.removeClass("ui-draggable-dragging");this.helper[0]!==this.element[0]&&!this.cancelHelperRemoval&&this.helper.remove();this.helper=null;this.cancelHelperRemoval=!1},_trigger:function(d,b,c){return c=c||this._uiHash(),a.ui.plugin.call(this,d,[b,c]),"drag"===d&&(this.positionAbs=this._convertPositionTo("absolute")),a.Widget.prototype._trigger.call(this,d,b,c)},plugins:{},
_uiHash:function(){return{helper:this.helper,position:this.position,originalPosition:this.originalPosition,offset:this.positionAbs}}});a.ui.plugin.add("draggable","connectToSortable",{start:function(d,b){var c=a(this).data("ui-draggable"),e=c.options,f=a.extend({},b,{item:c.element});c.sortables=[];a(e.connectToSortable).each(function(){var h=a.data(this,"ui-sortable");h&&!h.options.disabled&&(c.sortables.push({instance:h,shouldRevert:h.options.revert}),h.refreshPositions(),h._trigger("activate",
d,f))})},stop:function(d,b){var c=a(this).data("ui-draggable"),e=a.extend({},b,{item:c.element});a.each(c.sortables,function(){this.instance.isOver?(this.instance.isOver=0,c.cancelHelperRemoval=!0,this.instance.cancelHelperRemoval=!1,this.shouldRevert&&(this.instance.options.revert=!0),this.instance._mouseStop(d),this.instance.options.helper=this.instance.options._helper,"original"===c.options.helper&&this.instance.currentItem.css({top:"auto",left:"auto"})):(this.instance.cancelHelperRemoval=!1,this.instance._trigger("deactivate",
d,e))})},drag:function(d,b){var c=a(this).data("ui-draggable"),e=this;a.each(c.sortables,function(){var f=!1,h=this;this.instance.positionAbs=c.positionAbs;this.instance.helperProportions=c.helperProportions;this.instance.offset.click=c.offset.click;this.instance._intersectsWith(this.instance.containerCache)&&(f=!0,a.each(c.sortables,function(){return this.instance.positionAbs=c.positionAbs,this.instance.helperProportions=c.helperProportions,this.instance.offset.click=c.offset.click,this!==h&&this.instance._intersectsWith(this.instance.containerCache)&&
a.contains(h.instance.element[0],this.instance.element[0])&&(f=!1),f}));f?(this.instance.isOver||(this.instance.isOver=1,this.instance.currentItem=a(e).clone().removeAttr("id").appendTo(this.instance.element).data("ui-sortable-item",!0),this.instance.options._helper=this.instance.options.helper,this.instance.options.helper=function(){return b.helper[0]},d.target=this.instance.currentItem[0],this.instance._mouseCapture(d,!0),this.instance._mouseStart(d,!0,!0),this.instance.offset.click.top=c.offset.click.top,
this.instance.offset.click.left=c.offset.click.left,this.instance.offset.parent.left-=c.offset.parent.left-this.instance.offset.parent.left,this.instance.offset.parent.top-=c.offset.parent.top-this.instance.offset.parent.top,c._trigger("toSortable",d),c.dropped=this.instance.element,c.currentItem=c.element,this.instance.fromOutside=c),this.instance.currentItem&&this.instance._mouseDrag(d)):this.instance.isOver&&(this.instance.isOver=0,this.instance.cancelHelperRemoval=!0,this.instance.options.revert=
!1,this.instance._trigger("out",d,this.instance._uiHash(this.instance)),this.instance._mouseStop(d,!0),this.instance.options.helper=this.instance.options._helper,this.instance.currentItem.remove(),this.instance.placeholder&&this.instance.placeholder.remove(),c._trigger("fromSortable",d),c.dropped=!1)})}});a.ui.plugin.add("draggable","cursor",{start:function(){var d=a("body"),b=a(this).data("ui-draggable").options;d.css("cursor")&&(b._cursor=d.css("cursor"));d.css("cursor",b.cursor)},stop:function(){var d=
a(this).data("ui-draggable").options;d._cursor&&a("body").css("cursor",d._cursor)}});a.ui.plugin.add("draggable","opacity",{start:function(d,b){d=a(b.helper);b=a(this).data("ui-draggable").options;d.css("opacity")&&(b._opacity=d.css("opacity"));d.css("opacity",b.opacity)},stop:function(d,b){d=a(this).data("ui-draggable").options;d._opacity&&a(b.helper).css("opacity",d._opacity)}});a.ui.plugin.add("draggable","scroll",{start:function(){var d=a(this).data("ui-draggable");d.scrollParent[0]!==document&&
"HTML"!==d.scrollParent[0].tagName&&(d.overflowOffset=d.scrollParent.offset())},drag:function(d){var b=a(this).data("ui-draggable"),c=b.options,e=!1;b.scrollParent[0]!==document&&"HTML"!==b.scrollParent[0].tagName?(c.axis&&"x"===c.axis||(b.overflowOffset.top+b.scrollParent[0].offsetHeight-d.pageY<c.scrollSensitivity?b.scrollParent[0].scrollTop=e=b.scrollParent[0].scrollTop+c.scrollSpeed:d.pageY-b.overflowOffset.top<c.scrollSensitivity&&(b.scrollParent[0].scrollTop=e=b.scrollParent[0].scrollTop-c.scrollSpeed)),
c.axis&&"y"===c.axis||(b.overflowOffset.left+b.scrollParent[0].offsetWidth-d.pageX<c.scrollSensitivity?b.scrollParent[0].scrollLeft=e=b.scrollParent[0].scrollLeft+c.scrollSpeed:d.pageX-b.overflowOffset.left<c.scrollSensitivity&&(b.scrollParent[0].scrollLeft=e=b.scrollParent[0].scrollLeft-c.scrollSpeed))):(c.axis&&"x"===c.axis||(d.pageY-a(document).scrollTop()<c.scrollSensitivity?e=a(document).scrollTop(a(document).scrollTop()-c.scrollSpeed):a(window).height()-(d.pageY-a(document).scrollTop())<c.scrollSensitivity&&
(e=a(document).scrollTop(a(document).scrollTop()+c.scrollSpeed))),c.axis&&"y"===c.axis||(d.pageX-a(document).scrollLeft()<c.scrollSensitivity?e=a(document).scrollLeft(a(document).scrollLeft()-c.scrollSpeed):a(window).width()-(d.pageX-a(document).scrollLeft())<c.scrollSensitivity&&(e=a(document).scrollLeft(a(document).scrollLeft()+c.scrollSpeed))));!1!==e&&a.ui.ddmanager&&!c.dropBehaviour&&a.ui.ddmanager.prepareOffsets(b,d)}});a.ui.plugin.add("draggable","snap",{start:function(){var d=a(this).data("ui-draggable"),
b=d.options;d.snapElements=[];a(b.snap.constructor!==String?b.snap.items||":data(ui-draggable)":b.snap).each(function(){var c=a(this),e=c.offset();this!==d.element[0]&&d.snapElements.push({item:this,width:c.outerWidth(),height:c.outerHeight(),top:e.top,left:e.left})})},drag:function(d,b){var c,e,f,h,m,k=a(this).data("ui-draggable"),l=k.options,p=l.snapTolerance,q=b.offset.left,u=q+k.helperProportions.width,t=b.offset.top,C=t+k.helperProportions.height;for(m=k.snapElements.length-1;0<=m;m--){var D=
k.snapElements[m].left;var w=D+k.snapElements[m].width;var z=k.snapElements[m].top;var L=z+k.snapElements[m].height;if(D-p<q&&q<w+p&&z-p<t&&t<L+p||D-p<q&&q<w+p&&z-p<C&&C<L+p||D-p<u&&u<w+p&&z-p<t&&t<L+p||D-p<u&&u<w+p&&z-p<C&&C<L+p){"inner"!==l.snapMode&&(c=Math.abs(z-C)<=p,e=Math.abs(L-t)<=p,f=Math.abs(D-u)<=p,h=Math.abs(w-q)<=p,c&&(b.position.top=k._convertPositionTo("relative",{top:z-k.helperProportions.height,left:0}).top-k.margins.top),e&&(b.position.top=k._convertPositionTo("relative",{top:L,
left:0}).top-k.margins.top),f&&(b.position.left=k._convertPositionTo("relative",{top:0,left:D-k.helperProportions.width}).left-k.margins.left),h&&(b.position.left=k._convertPositionTo("relative",{top:0,left:w}).left-k.margins.left));var U=c||e||f||h;"outer"!==l.snapMode&&(c=Math.abs(z-t)<=p,e=Math.abs(L-C)<=p,f=Math.abs(D-q)<=p,h=Math.abs(w-u)<=p,c&&(b.position.top=k._convertPositionTo("relative",{top:z,left:0}).top-k.margins.top),e&&(b.position.top=k._convertPositionTo("relative",{top:L-k.helperProportions.height,
left:0}).top-k.margins.top),f&&(b.position.left=k._convertPositionTo("relative",{top:0,left:D}).left-k.margins.left),h&&(b.position.left=k._convertPositionTo("relative",{top:0,left:w-k.helperProportions.width}).left-k.margins.left));!k.snapElements[m].snapping&&(c||e||f||h||U)&&k.options.snap.snap&&k.options.snap.snap.call(k.element,d,a.extend(k._uiHash(),{snapItem:k.snapElements[m].item}));k.snapElements[m].snapping=c||e||f||h||U}else k.snapElements[m].snapping&&k.options.snap.release&&k.options.snap.release.call(k.element,
d,a.extend(k._uiHash(),{snapItem:k.snapElements[m].item})),k.snapElements[m].snapping=!1}}});a.ui.plugin.add("draggable","stack",{start:function(){var d=this.data("ui-draggable").options;d=a.makeArray(a(d.stack)).sort(function(c,e){return(parseInt(a(c).css("zIndex"),10)||0)-(parseInt(a(e).css("zIndex"),10)||0)});if(d.length){var b=parseInt(a(d[0]).css("zIndex"),10)||0;a(d).each(function(c){a(this).css("zIndex",b+c)});this.css("zIndex",b+d.length)}}});a.ui.plugin.add("draggable","zIndex",{start:function(d,
b){d=a(b.helper);b=a(this).data("ui-draggable").options;d.css("zIndex")&&(b._zIndex=d.css("zIndex"));d.css("zIndex",b.zIndex)},stop:function(d,b){d=a(this).data("ui-draggable").options;d._zIndex&&a(b.helper).css("zIndex",d._zIndex)}})})(jQuery);
(function(a,g){a.widget("ui.droppable",{version:"1.10.1",widgetEventPrefix:"drop",options:{accept:"*",activeClass:!1,addClasses:!0,greedy:!1,hoverClass:!1,scope:"default",tolerance:"intersect",activate:null,deactivate:null,drop:null,out:null,over:null},_create:function(){var d=this.options,b=d.accept;this.isover=!1;this.isout=!0;this.accept=a.isFunction(b)?b:function(c){return c.is(b)};this.proportions={width:this.element[0].offsetWidth,height:this.element[0].offsetHeight};a.ui.ddmanager.droppables[d.scope]=
a.ui.ddmanager.droppables[d.scope]||[];a.ui.ddmanager.droppables[d.scope].push(this);d.addClasses&&this.element.addClass("ui-droppable")},_destroy:function(){for(var d=0,b=a.ui.ddmanager.droppables[this.options.scope];d<b.length;d++)b[d]===this&&b.splice(d,1);this.element.removeClass("ui-droppable ui-droppable-disabled")},_setOption:function(d,b){"accept"===d&&(this.accept=a.isFunction(b)?b:function(c){return c.is(b)});a.Widget.prototype._setOption.apply(this,arguments)},_activate:function(d){var b=
a.ui.ddmanager.current;this.options.activeClass&&this.element.addClass(this.options.activeClass);b&&this._trigger("activate",d,this.ui(b))},_deactivate:function(d){var b=a.ui.ddmanager.current;this.options.activeClass&&this.element.removeClass(this.options.activeClass);b&&this._trigger("deactivate",d,this.ui(b))},_over:function(d){var b=a.ui.ddmanager.current;b&&(b.currentItem||b.element)[0]!==this.element[0]&&this.accept.call(this.element[0],b.currentItem||b.element)&&(this.options.hoverClass&&this.element.addClass(this.options.hoverClass),
this._trigger("over",d,this.ui(b)))},_out:function(d){var b=a.ui.ddmanager.current;b&&(b.currentItem||b.element)[0]!==this.element[0]&&this.accept.call(this.element[0],b.currentItem||b.element)&&(this.options.hoverClass&&this.element.removeClass(this.options.hoverClass),this._trigger("out",d,this.ui(b)))},_drop:function(d,b){var c=b||a.ui.ddmanager.current,e=!1;return c&&(c.currentItem||c.element)[0]!==this.element[0]?(this.element.find(":data(ui-droppable)").not(".ui-draggable-dragging").each(function(){var f=
a.data(this,"ui-droppable");if(f.options.greedy&&!f.options.disabled&&f.options.scope===c.options.scope&&f.accept.call(f.element[0],c.currentItem||c.element)&&a.ui.intersect(c,a.extend(f,{offset:f.element.offset()}),f.options.tolerance))return e=!0,!1}),e?!1:this.accept.call(this.element[0],c.currentItem||c.element)?(this.options.activeClass&&this.element.removeClass(this.options.activeClass),this.options.hoverClass&&this.element.removeClass(this.options.hoverClass),this._trigger("drop",d,this.ui(c)),
this.element):!1):!1},ui:function(d){return{draggable:d.currentItem||d.element,helper:d.helper,position:d.position,offset:d.positionAbs}}});a.ui.intersect=function(d,b,c){if(!b.offset)return!1;var e,f,h=(d.positionAbs||d.position.absolute).left,m=h+d.helperProportions.width,k=(d.positionAbs||d.position.absolute).top,l=k+d.helperProportions.height,p=b.offset.left,q=p+b.proportions.width,u=b.offset.top,t=u+b.proportions.height;switch(c){case "fit":return p<=h&&m<=q&&u<=k&&l<=t;case "intersect":return p<
h+d.helperProportions.width/2&&m-d.helperProportions.width/2<q&&u<k+d.helperProportions.height/2&&l-d.helperProportions.height/2<t;case "pointer":return e=(d.positionAbs||d.position.absolute).left+(d.clickOffset||d.offset.click).left,f=(d.positionAbs||d.position.absolute).top+(d.clickOffset||d.offset.click).top,f>u&&f<u+b.proportions.height&&e>p&&e<p+b.proportions.width;case "touch":return(k>=u&&k<=t||l>=u&&l<=t||k<u&&l>t)&&(h>=p&&h<=q||m>=p&&m<=q||h<p&&m>q);default:return!1}};a.ui.ddmanager={current:null,
droppables:{"default":[]},prepareOffsets:function(d,b){var c,e=a.ui.ddmanager.droppables[d.options.scope]||[],f=b?b.type:null,h=(d.currentItem||d.element).find(":data(ui-droppable)").addBack();var m=0;a:for(;m<e.length;m++)if(!(e[m].options.disabled||d&&!e[m].accept.call(e[m].element[0],d.currentItem||d.element))){for(c=0;c<h.length;c++)if(h[c]===e[m].element[0]){e[m].proportions.height=0;continue a}e[m].visible="none"!==e[m].element.css("display");e[m].visible&&("mousedown"===f&&e[m]._activate.call(e[m],
b),e[m].offset=e[m].element.offset(),e[m].proportions={width:e[m].element[0].offsetWidth,height:e[m].element[0].offsetHeight})}},drop:function(d,b){var c=!1;return a.each(a.ui.ddmanager.droppables[d.options.scope]||[],function(){this.options&&(!this.options.disabled&&this.visible&&a.ui.intersect(d,this,this.options.tolerance)&&(c=this._drop.call(this,b)||c),!this.options.disabled&&this.visible&&this.accept.call(this.element[0],d.currentItem||d.element)&&(this.isout=!0,this.isover=!1,this._deactivate.call(this,
b)))}),c},dragStart:function(d,b){d.element.parentsUntil("body").bind("scroll.droppable",function(){d.options.refreshPositions||a.ui.ddmanager.prepareOffsets(d,b)})},drag:function(d,b){d.options.refreshPositions&&a.ui.ddmanager.prepareOffsets(d,b);a.each(a.ui.ddmanager.droppables[d.options.scope]||[],function(){if(!this.options.disabled&&!this.greedyChild&&this.visible){var c,e,f,h=a.ui.intersect(d,this,this.options.tolerance);if(h=!h&&this.isover?"isout":h&&!this.isover?"isover":null)this.options.greedy&&
(e=this.options.scope,f=this.element.parents(":data(ui-droppable)").filter(function(){return a.data(this,"ui-droppable").options.scope===e}),f.length&&(c=a.data(f[0],"ui-droppable"),c.greedyChild="isover"===h)),c&&"isover"===h&&(c.isover=!1,c.isout=!0,c._out.call(c,b)),this[h]=!0,this["isout"===h?"isover":"isout"]=!1,this["isover"===h?"_over":"_out"].call(this,b),c&&"isout"===h&&(c.isout=!1,c.isover=!0,c._over.call(c,b))}})},dragStop:function(d,b){d.element.parentsUntil("body").unbind("scroll.droppable");
d.options.refreshPositions||a.ui.ddmanager.prepareOffsets(d,b)}}})(jQuery);
(function(a,g){function d(c){return parseInt(c,10)||0}function b(c){return!isNaN(parseInt(c,10))}a.widget("ui.resizable",a.ui.mouse,{version:"1.10.1",widgetEventPrefix:"resize",options:{alsoResize:!1,animate:!1,animateDuration:"slow",animateEasing:"swing",aspectRatio:!1,autoHide:!1,containment:!1,ghost:!1,grid:!1,handles:"e,s,se",helper:!1,maxHeight:null,maxWidth:null,minHeight:10,minWidth:10,zIndex:90,resize:null,start:null,stop:null},_create:function(){var c,e=this,f=this.options;this.element.addClass("ui-resizable");
a.extend(this,{_aspectRatio:!!f.aspectRatio,aspectRatio:f.aspectRatio,originalElement:this.element,_proportionallyResizeElements:[],_helper:f.helper||f.ghost||f.animate?f.helper||"ui-resizable-helper":null});this.element[0].nodeName.match(/canvas|textarea|input|select|button|img/i)&&(this.element.wrap(a("<div class='ui-wrapper' style='overflow: hidden;'></div>").css({position:this.element.css("position"),width:this.element.outerWidth(),height:this.element.outerHeight(),top:this.element.css("top"),
left:this.element.css("left")})),this.element=this.element.parent().data("ui-resizable",this.element.data("ui-resizable")),this.elementIsWrapper=!0,this.element.css({marginLeft:this.originalElement.css("marginLeft"),marginTop:this.originalElement.css("marginTop"),marginRight:this.originalElement.css("marginRight"),marginBottom:this.originalElement.css("marginBottom")}),this.originalElement.css({marginLeft:0,marginTop:0,marginRight:0,marginBottom:0}),this.originalResizeStyle=this.originalElement.css("resize"),
this.originalElement.css("resize","none"),this._proportionallyResizeElements.push(this.originalElement.css({position:"static",zoom:1,display:"block"})),this.originalElement.css({margin:this.originalElement.css("margin")}),this._proportionallyResize());this.handles=f.handles||(a(".ui-resizable-handle",this.element).length?{n:".ui-resizable-n",e:".ui-resizable-e",s:".ui-resizable-s",w:".ui-resizable-w",se:".ui-resizable-se",sw:".ui-resizable-sw",ne:".ui-resizable-ne",nw:".ui-resizable-nw"}:"e,s,se");
if(this.handles.constructor===String){"all"===this.handles&&(this.handles="n,e,s,w,se,sw,ne,nw");var h=this.handles.split(",");this.handles={};for(c=0;c<h.length;c++){var m=a.trim(h[c]);var k="ui-resizable-"+m;var l=a("<div class='ui-resizable-handle "+k+"'></div>");l.css({zIndex:f.zIndex});"se"===m&&l.addClass("ui-icon ui-icon-gripsmall-diagonal-se");this.handles[m]=".ui-resizable-"+m;this.element.append(l)}}this._renderAxis=function(p){var q,u,t,C;p=p||this.element;for(q in this.handles)this.handles[q].constructor===
String&&(this.handles[q]=a(this.handles[q],this.element).show()),this.elementIsWrapper&&this.originalElement[0].nodeName.match(/textarea|input|select|button/i)&&(u=a(this.handles[q],this.element),C=/sw|ne|nw|se|n|s/.test(q)?u.outerHeight():u.outerWidth(),t=["padding",/ne|nw|n/.test(q)?"Top":/se|sw|s/.test(q)?"Bottom":/^e$/.test(q)?"Right":"Left"].join(""),p.css(t,C),this._proportionallyResize()),a(this.handles[q])};this._renderAxis(this.element);this._handles=a(".ui-resizable-handle",this.element).disableSelection();
this._handles.mouseover(function(){e.resizing||(this.className&&(l=this.className.match(/ui-resizable-(se|sw|ne|nw|n|e|s|w)/i)),e.axis=l&&l[1]?l[1]:"se")});f.autoHide&&(this._handles.hide(),a(this.element).addClass("ui-resizable-autohide").mouseenter(function(){f.disabled||(a(this).removeClass("ui-resizable-autohide"),e._handles.show())}).mouseleave(function(){f.disabled||e.resizing||(a(this).addClass("ui-resizable-autohide"),e._handles.hide())}));this._mouseInit()},_destroy:function(){this._mouseDestroy();
var c,e=function(f){a(f).removeClass("ui-resizable ui-resizable-disabled ui-resizable-resizing").removeData("resizable").removeData("ui-resizable").unbind(".resizable").find(".ui-resizable-handle").remove()};return this.elementIsWrapper&&(e(this.element),c=this.element,this.originalElement.css({position:c.css("position"),width:c.outerWidth(),height:c.outerHeight(),top:c.css("top"),left:c.css("left")}).insertAfter(c),c.remove()),this.originalElement.css("resize",this.originalResizeStyle),e(this.originalElement),
this},_mouseCapture:function(c){var e,f=!1;for(e in this.handles){var h=a(this.handles[e])[0];if(h===c.target||a.contains(h,c.target))f=!0}return!this.options.disabled&&f},_mouseStart:function(c){var e,f,h,m=this.options,k=this.element.position(),l=this.element;return this.resizing=!0,/absolute/.test(l.css("position"))?l.css({position:"absolute",top:l.css("top"),left:l.css("left")}):l.is(".ui-draggable")&&l.css({position:"absolute",top:k.top,left:k.left}),this._renderProxy(),e=d(this.helper.css("left")),
f=d(this.helper.css("top")),m.containment&&(e+=a(m.containment).scrollLeft()||0,f+=a(m.containment).scrollTop()||0),this.offset=this.helper.offset(),this.position={left:e,top:f},this.size=this._helper?{width:l.outerWidth(),height:l.outerHeight()}:{width:l.width(),height:l.height()},this.originalSize=this._helper?{width:l.outerWidth(),height:l.outerHeight()}:{width:l.width(),height:l.height()},this.originalPosition={left:e,top:f},this.sizeDiff={width:l.outerWidth()-l.width(),height:l.outerHeight()-
l.height()},this.originalMousePosition={left:c.pageX,top:c.pageY},this.aspectRatio="number"==typeof m.aspectRatio?m.aspectRatio:this.originalSize.width/this.originalSize.height||1,h=a(".ui-resizable-"+this.axis).css("cursor"),a("body").css("cursor","auto"===h?this.axis+"-resize":h),l.addClass("ui-resizable-resizing"),this._propagate("start",c),!0},_mouseDrag:function(c){var e=this.helper,f={};var h=this.originalMousePosition;var m=this.position.top,k=this.position.left,l=this.size.width,p=this.size.height,
q=this._change[this.axis];if(!q)return!1;h=q.apply(this,[c,c.pageX-h.left||0,c.pageY-h.top||0]);this._updateVirtualBoundaries(c.shiftKey);if(this._aspectRatio||c.shiftKey)h=this._updateRatio(h,c);return h=this._respectSize(h,c),this._updateCache(h),this._propagate("resize",c),this.position.top!==m&&(f.top=this.position.top+"px"),this.position.left!==k&&(f.left=this.position.left+"px"),this.size.width!==l&&(f.width=this.size.width+"px"),this.size.height!==p&&(f.height=this.size.height+"px"),e.css(f),
!this._helper&&this._proportionallyResizeElements.length&&this._proportionallyResize(),a.isEmptyObject(f)||this._trigger("resize",c,this.ui()),!1},_mouseStop:function(c){this.resizing=!1;var e,f,h,m,k,l,p,q=this.options;return this._helper&&(e=this._proportionallyResizeElements,f=e.length&&/textarea/i.test(e[0].nodeName),h=f&&a.ui.hasScroll(e[0],"left")?0:this.sizeDiff.height,m=f?0:this.sizeDiff.width,k={width:this.helper.width()-m,height:this.helper.height()-h},l=parseInt(this.element.css("left"),
10)+(this.position.left-this.originalPosition.left)||null,p=parseInt(this.element.css("top"),10)+(this.position.top-this.originalPosition.top)||null,q.animate||this.element.css(a.extend(k,{top:p,left:l})),this.helper.height(this.size.height),this.helper.width(this.size.width),this._helper&&!q.animate&&this._proportionallyResize()),a("body").css("cursor","auto"),this.element.removeClass("ui-resizable-resizing"),this._propagate("stop",c),this._helper&&this.helper.remove(),!1},_updateVirtualBoundaries:function(c){var e=
this.options;e={minWidth:b(e.minWidth)?e.minWidth:0,maxWidth:b(e.maxWidth)?e.maxWidth:Infinity,minHeight:b(e.minHeight)?e.minHeight:0,maxHeight:b(e.maxHeight)?e.maxHeight:Infinity};if(this._aspectRatio||c){c=e.minHeight*this.aspectRatio;var f=e.minWidth/this.aspectRatio;var h=e.maxHeight*this.aspectRatio;var m=e.maxWidth/this.aspectRatio;c>e.minWidth&&(e.minWidth=c);f>e.minHeight&&(e.minHeight=f);h<e.maxWidth&&(e.maxWidth=h);m<e.maxHeight&&(e.maxHeight=m)}this._vBoundaries=e},_updateCache:function(c){this.offset=
this.helper.offset();b(c.left)&&(this.position.left=c.left);b(c.top)&&(this.position.top=c.top);b(c.height)&&(this.size.height=c.height);b(c.width)&&(this.size.width=c.width)},_updateRatio:function(c){var e=this.position,f=this.size,h=this.axis;return b(c.height)?c.width=c.height*this.aspectRatio:b(c.width)&&(c.height=c.width/this.aspectRatio),"sw"===h&&(c.left=e.left+(f.width-c.width),c.top=null),"nw"===h&&(c.top=e.top+(f.height-c.height),c.left=e.left+(f.width-c.width)),c},_respectSize:function(c){var e=
this._vBoundaries,f=this.axis,h=b(c.width)&&e.maxWidth&&e.maxWidth<c.width,m=b(c.height)&&e.maxHeight&&e.maxHeight<c.height,k=b(c.width)&&e.minWidth&&e.minWidth>c.width,l=b(c.height)&&e.minHeight&&e.minHeight>c.height,p=this.originalPosition.left+this.originalSize.width,q=this.position.top+this.size.height,u=/sw|nw|w/.test(f);f=/nw|ne|n/.test(f);return k&&(c.width=e.minWidth),l&&(c.height=e.minHeight),h&&(c.width=e.maxWidth),m&&(c.height=e.maxHeight),k&&u&&(c.left=p-e.minWidth),h&&u&&(c.left=p-e.maxWidth),
l&&f&&(c.top=q-e.minHeight),m&&f&&(c.top=q-e.maxHeight),c.width||c.height||c.left||!c.top?!c.width&&!c.height&&!c.top&&c.left&&(c.left=null):c.top=null,c},_proportionallyResize:function(){if(this._proportionallyResizeElements.length){var c,e,f=this.helper||this.element;for(c=0;c<this._proportionallyResizeElements.length;c++){var h=this._proportionallyResizeElements[c];if(!this.borderDif){this.borderDif=[];var m=[h.css("borderTopWidth"),h.css("borderRightWidth"),h.css("borderBottomWidth"),h.css("borderLeftWidth")];
var k=[h.css("paddingTop"),h.css("paddingRight"),h.css("paddingBottom"),h.css("paddingLeft")];for(e=0;e<m.length;e++)this.borderDif[e]=(parseInt(m[e],10)||0)+(parseInt(k[e],10)||0)}h.css({height:f.height()-this.borderDif[0]-this.borderDif[2]||0,width:f.width()-this.borderDif[1]-this.borderDif[3]||0})}}},_renderProxy:function(){var c=this.options;this.elementOffset=this.element.offset();this._helper?(this.helper=this.helper||a("<div style='overflow:hidden;'></div>"),this.helper.addClass(this._helper).css({width:this.element.outerWidth()-
1,height:this.element.outerHeight()-1,position:"absolute",left:this.elementOffset.left+"px",top:this.elementOffset.top+"px",zIndex:++c.zIndex}),this.helper.appendTo("body").disableSelection()):this.helper=this.element},_change:{e:function(c,e){return{width:this.originalSize.width+e}},w:function(c,e){return{left:this.originalPosition.left+e,width:this.originalSize.width-e}},n:function(c,e,f){return{top:this.originalPosition.top+f,height:this.originalSize.height-f}},s:function(c,e,f){return{height:this.originalSize.height+
f}},se:function(c,e,f){return a.extend(this._change.s.apply(this,arguments),this._change.e.apply(this,[c,e,f]))},sw:function(c,e,f){return a.extend(this._change.s.apply(this,arguments),this._change.w.apply(this,[c,e,f]))},ne:function(c,e,f){return a.extend(this._change.n.apply(this,arguments),this._change.e.apply(this,[c,e,f]))},nw:function(c,e,f){return a.extend(this._change.n.apply(this,arguments),this._change.w.apply(this,[c,e,f]))}},_propagate:function(c,e){a.ui.plugin.call(this,c,[e,this.ui()]);
"resize"!==c&&this._trigger(c,e,this.ui())},plugins:{},ui:function(){return{originalElement:this.originalElement,element:this.element,helper:this.helper,position:this.position,size:this.size,originalSize:this.originalSize,originalPosition:this.originalPosition}}});a.ui.plugin.add("resizable","animate",{stop:function(c){var e=a(this).data("ui-resizable"),f=e.options,h=e._proportionallyResizeElements,m=h.length&&/textarea/i.test(h[0].nodeName),k=m&&a.ui.hasScroll(h[0],"left")?0:e.sizeDiff.height;m=
{width:e.size.width-(m?0:e.sizeDiff.width),height:e.size.height-k};k=parseInt(e.element.css("left"),10)+(e.position.left-e.originalPosition.left)||null;var l=parseInt(e.element.css("top"),10)+(e.position.top-e.originalPosition.top)||null;e.element.animate(a.extend(m,l&&k?{top:l,left:k}:{}),{duration:f.animateDuration,easing:f.animateEasing,step:function(){var p={width:parseInt(e.element.css("width"),10),height:parseInt(e.element.css("height"),10),top:parseInt(e.element.css("top"),10),left:parseInt(e.element.css("left"),
10)};h&&h.length&&a(h[0]).css({width:p.width,height:p.height});e._updateCache(p);e._propagate("resize",c)}})}});a.ui.plugin.add("resizable","containment",{start:function(){var c,e,f,h,m,k,l,p=a(this).data("ui-resizable"),q=p.element,u=p.options.containment;if(q=u instanceof a?u.get(0):/parent/.test(u)?q.parent().get(0):u)p.containerElement=a(q),/document/.test(u)||u===document?(p.containerOffset={left:0,top:0},p.containerPosition={left:0,top:0},p.parentData={element:a(document),left:0,top:0,width:a(document).width(),
height:a(document).height()||document.body.parentNode.scrollHeight}):(c=a(q),e=[],a(["Top","Right","Left","Bottom"]).each(function(t,C){e[t]=d(c.css("padding"+C))}),p.containerOffset=c.offset(),p.containerPosition=c.position(),p.containerSize={height:c.innerHeight()-e[3],width:c.innerWidth()-e[1]},f=p.containerOffset,h=p.containerSize.height,m=p.containerSize.width,k=a.ui.hasScroll(q,"left")?q.scrollWidth:m,l=a.ui.hasScroll(q)?q.scrollHeight:h,p.parentData={element:q,left:f.left,top:f.top,width:k,
height:l})},resize:function(c){var e=a(this).data("ui-resizable");var f=e.options;var h=e.containerOffset;var m=e.position;c=e._aspectRatio||c.shiftKey;var k={top:0,left:0};var l=e.containerElement;l[0]!==document&&/static/.test(l.css("position"))&&(k=h);m.left<(e._helper?h.left:0)&&(e.size.width+=e._helper?e.position.left-h.left:e.position.left-k.left,c&&(e.size.height=e.size.width/e.aspectRatio),e.position.left=f.helper?h.left:0);m.top<(e._helper?h.top:0)&&(e.size.height+=e._helper?e.position.top-
h.top:e.position.top,c&&(e.size.width=e.size.height*e.aspectRatio),e.position.top=e._helper?h.top:0);e.offset.left=e.parentData.left+e.position.left;e.offset.top=e.parentData.top+e.position.top;f=Math.abs(e.offset.left-k.left+e.sizeDiff.width);h=Math.abs((e._helper?e.offset.top-k.top:e.offset.top-h.top)+e.sizeDiff.height);m=e.containerElement.get(0)===e.element.parent().get(0);k=/relative|absolute/.test(e.containerElement.css("position"));m&&k&&(f-=e.parentData.left);f+e.size.width>=e.parentData.width&&
(e.size.width=e.parentData.width-f,c&&(e.size.height=e.size.width/e.aspectRatio));h+e.size.height>=e.parentData.height&&(e.size.height=e.parentData.height-h,c&&(e.size.width=e.size.height*e.aspectRatio))},stop:function(){var c=a(this).data("ui-resizable"),e=c.options,f=c.containerOffset,h=c.containerPosition,m=c.containerElement,k=a(c.helper),l=k.offset(),p=k.outerWidth()-c.sizeDiff.width;k=k.outerHeight()-c.sizeDiff.height;c._helper&&!e.animate&&/relative/.test(m.css("position"))&&a(this).css({left:l.left-
h.left-f.left,width:p,height:k});c._helper&&!e.animate&&/static/.test(m.css("position"))&&a(this).css({left:l.left-h.left-f.left,width:p,height:k})}});a.ui.plugin.add("resizable","alsoResize",{start:function(){var c=a(this).data("ui-resizable").options,e=function(f){a(f).each(function(){var h=a(this);h.data("ui-resizable-alsoresize",{width:parseInt(h.width(),10),height:parseInt(h.height(),10),left:parseInt(h.css("left"),10),top:parseInt(h.css("top"),10)})})};"object"!=typeof c.alsoResize||c.alsoResize.parentNode?
e(c.alsoResize):c.alsoResize.length?(c.alsoResize=c.alsoResize[0],e(c.alsoResize)):a.each(c.alsoResize,function(f){e(f)})},resize:function(c,e){c=a(this).data("ui-resizable");var f=c.options,h=c.originalSize,m=c.originalPosition,k={height:c.size.height-h.height||0,width:c.size.width-h.width||0,top:c.position.top-m.top||0,left:c.position.left-m.left||0},l=function(p,q){a(p).each(function(){var u=a(this),t=a(this).data("ui-resizable-alsoresize"),C={},D=q&&q.length?q:u.parents(e.originalElement[0]).length?
["width","height"]:["width","height","top","left"];a.each(D,function(w,z){(w=(t[z]||0)+(k[z]||0))&&0<=w&&(C[z]=w||null)});u.css(C)})};"object"!=typeof f.alsoResize||f.alsoResize.nodeType?l(f.alsoResize):a.each(f.alsoResize,function(p,q){l(p,q)})},stop:function(){a(this).removeData("resizable-alsoresize")}});a.ui.plugin.add("resizable","ghost",{start:function(){var c=a(this).data("ui-resizable"),e=c.options,f=c.size;c.ghost=c.originalElement.clone();c.ghost.css({opacity:.25,display:"block",position:"relative",
height:f.height,width:f.width,margin:0,left:0,top:0}).addClass("ui-resizable-ghost").addClass("string"==typeof e.ghost?e.ghost:"");c.ghost.appendTo(c.helper)},resize:function(){var c=a(this).data("ui-resizable");c.ghost&&c.ghost.css({position:"relative",height:c.size.height,width:c.size.width})},stop:function(){var c=a(this).data("ui-resizable");c.ghost&&c.helper&&c.helper.get(0).removeChild(c.ghost.get(0))}});a.ui.plugin.add("resizable","grid",{resize:function(){var c=a(this).data("ui-resizable"),
e=c.options,f=c.size,h=c.originalSize,m=c.originalPosition,k=c.axis,l="number"==typeof e.grid?[e.grid,e.grid]:e.grid,p=l[0]||1,q=l[1]||1,u=Math.round((f.width-h.width)/p)*p;f=Math.round((f.height-h.height)/q)*q;var t=h.width+u;h=h.height+f;var C=e.maxWidth&&e.maxWidth<t,D=e.maxHeight&&e.maxHeight<h,w=e.minWidth&&e.minWidth>t,z=e.minHeight&&e.minHeight>h;e.grid=l;w&&(t+=p);z&&(h+=q);C&&(t-=p);D&&(h-=q);/^(se|s|e)$/.test(k)?(c.size.width=t,c.size.height=h):/^(ne)$/.test(k)?(c.size.width=t,c.size.height=
h,c.position.top=m.top-f):/^(sw)$/.test(k)?(c.size.width=t,c.size.height=h,c.position.left=m.left-u):(c.size.width=t,c.size.height=h,c.position.top=m.top-f,c.position.left=m.left-u)}})})(jQuery);
(function(a,g){a.widget("ui.selectable",a.ui.mouse,{version:"1.10.1",options:{appendTo:"body",autoRefresh:!0,distance:0,filter:"*",tolerance:"touch",selected:null,selecting:null,start:null,stop:null,unselected:null,unselecting:null},_create:function(){var d,b=this;this.element.addClass("ui-selectable");this.dragged=!1;this.refresh=function(){d=a(b.options.filter,b.element[0]);d.addClass("ui-selectee");d.each(function(){var c=a(this),e=c.offset();a.data(this,"selectable-item",{element:this,$element:c,
left:e.left,top:e.top,right:e.left+c.outerWidth(),bottom:e.top+c.outerHeight(),startselected:!1,selected:c.hasClass("ui-selected"),selecting:c.hasClass("ui-selecting"),unselecting:c.hasClass("ui-unselecting")})})};this.refresh();this.selectees=d.addClass("ui-selectee");this._mouseInit();this.helper=a("<div class='ui-selectable-helper'></div>")},_destroy:function(){this.selectees.removeClass("ui-selectee").removeData("selectable-item");this.element.removeClass("ui-selectable ui-selectable-disabled");
this._mouseDestroy()},_mouseStart:function(d){var b=this,c=this.options;this.opos=[d.pageX,d.pageY];this.options.disabled||(this.selectees=a(c.filter,this.element[0]),this._trigger("start",d),a(c.appendTo).append(this.helper),this.helper.css({left:d.pageX,top:d.pageY,width:0,height:0}),c.autoRefresh&&this.refresh(),this.selectees.filter(".ui-selected").each(function(){var e=a.data(this,"selectable-item");e.startselected=!0;d.metaKey||d.ctrlKey||(e.$element.removeClass("ui-selected"),e.selected=!1,
e.$element.addClass("ui-unselecting"),e.unselecting=!0,b._trigger("unselecting",d,{unselecting:e.element}))}),a(d.target).parents().addBack().each(function(){var e,f=a.data(this,"selectable-item");if(f)return e=!d.metaKey&&!d.ctrlKey||!f.$element.hasClass("ui-selected"),f.$element.removeClass(e?"ui-unselecting":"ui-selected").addClass(e?"ui-selecting":"ui-unselecting"),f.unselecting=!e,f.selecting=e,f.selected=e,e?b._trigger("selecting",d,{selecting:f.element}):b._trigger("unselecting",d,{unselecting:f.element}),
!1}))},_mouseDrag:function(d){this.dragged=!0;if(!this.options.disabled){var b,c=this,e=this.options,f=this.opos[0],h=this.opos[1],m=d.pageX,k=d.pageY;return f>m&&(b=m,m=f,f=b),h>k&&(b=k,k=h,h=b),this.helper.css({left:f,top:h,width:m-f,height:k-h}),this.selectees.each(function(){var l=a.data(this,"selectable-item"),p=!1;l&&l.element!==c.element[0]&&("touch"===e.tolerance?p=!(l.left>m||l.right<f||l.top>k||l.bottom<h):"fit"===e.tolerance&&(p=l.left>f&&l.right<m&&l.top>h&&l.bottom<k),p?(l.selected&&
(l.$element.removeClass("ui-selected"),l.selected=!1),l.unselecting&&(l.$element.removeClass("ui-unselecting"),l.unselecting=!1),l.selecting||(l.$element.addClass("ui-selecting"),l.selecting=!0,c._trigger("selecting",d,{selecting:l.element}))):(l.selecting&&((d.metaKey||d.ctrlKey)&&l.startselected?(l.$element.removeClass("ui-selecting"),l.selecting=!1,l.$element.addClass("ui-selected"),l.selected=!0):(l.$element.removeClass("ui-selecting"),l.selecting=!1,l.startselected&&(l.$element.addClass("ui-unselecting"),
l.unselecting=!0),c._trigger("unselecting",d,{unselecting:l.element}))),l.selected&&!d.metaKey&&!d.ctrlKey&&!l.startselected&&(l.$element.removeClass("ui-selected"),l.selected=!1,l.$element.addClass("ui-unselecting"),l.unselecting=!0,c._trigger("unselecting",d,{unselecting:l.element}))))}),!1}},_mouseStop:function(d){var b=this;return this.dragged=!1,a(".ui-unselecting",this.element[0]).each(function(){var c=a.data(this,"selectable-item");c.$element.removeClass("ui-unselecting");c.unselecting=!1;
c.startselected=!1;b._trigger("unselected",d,{unselected:c.element})}),a(".ui-selecting",this.element[0]).each(function(){var c=a.data(this,"selectable-item");c.$element.removeClass("ui-selecting").addClass("ui-selected");c.selecting=!1;c.selected=!0;c.startselected=!0;b._trigger("selected",d,{selected:c.element})}),this._trigger("stop",d),this.helper.remove(),!1}})})(jQuery);
(function(a,g){function d(b,c,e){return b>c&&b<c+e}a.widget("ui.sortable",a.ui.mouse,{version:"1.10.1",widgetEventPrefix:"sort",ready:!1,options:{appendTo:"parent",axis:!1,connectWith:!1,containment:!1,cursor:"auto",cursorAt:!1,dropOnEmpty:!0,forcePlaceholderSize:!1,forceHelperSize:!1,grid:!1,handle:!1,helper:"original",items:"> *",opacity:!1,placeholder:!1,revert:!1,scroll:!0,scrollSensitivity:20,scrollSpeed:20,scope:"default",tolerance:"intersect",zIndex:1E3,activate:null,beforeStop:null,change:null,
deactivate:null,out:null,over:null,receive:null,remove:null,sort:null,start:null,stop:null,update:null},_create:function(){var b=this.options;this.containerCache={};this.element.addClass("ui-sortable");this.refresh();this.floating=this.items.length?"x"===b.axis||/left|right/.test(this.items[0].item.css("float"))||/inline|table-cell/.test(this.items[0].item.css("display")):!1;this.offset=this.element.offset();this._mouseInit();this.ready=!0},_destroy:function(){this.element.removeClass("ui-sortable ui-sortable-disabled");
this._mouseDestroy();for(var b=this.items.length-1;0<=b;b--)this.items[b].item.removeData(this.widgetName+"-item");return this},_setOption:function(b,c){"disabled"===b?(this.options[b]=c,this.widget().toggleClass("ui-sortable-disabled",!!c)):a.Widget.prototype._setOption.apply(this,arguments)},_mouseCapture:function(b,c){var e=null,f=!1,h=this;if(this.reverting||this.options.disabled||"static"===this.options.type)return!1;this._refreshItems(b);a(b.target).parents().each(function(){if(a.data(this,
h.widgetName+"-item")===h)return e=a(this),!1});a.data(b.target,h.widgetName+"-item")===h&&(e=a(b.target));return!e||this.options.handle&&!c&&(a(this.options.handle,e).find("*").addBack().each(function(){this===b.target&&(f=!0)}),!f)?!1:(this.currentItem=e,this._removeCurrentsFromItems(),!0)},_mouseStart:function(b,c,e){c=this.options;this.currentContainer=this;this.refreshPositions();this.helper=this._createHelper(b);this._cacheHelperProportions();this._cacheMargins();this.scrollParent=this.helper.scrollParent();
this.offset=this.currentItem.offset();this.offset={top:this.offset.top-this.margins.top,left:this.offset.left-this.margins.left};a.extend(this.offset,{click:{left:b.pageX-this.offset.left,top:b.pageY-this.offset.top},parent:this._getParentOffset(),relative:this._getRelativeOffset()});this.helper.css("position","absolute");this.cssPosition=this.helper.css("position");this.originalPosition=this._generatePosition(b);this.originalPageX=b.pageX;this.originalPageY=b.pageY;c.cursorAt&&this._adjustOffsetFromHelper(c.cursorAt);
this.domPosition={prev:this.currentItem.prev()[0],parent:this.currentItem.parent()[0]};this.helper[0]!==this.currentItem[0]&&this.currentItem.hide();this._createPlaceholder();c.containment&&this._setContainment();c.cursor&&(a("body").css("cursor")&&(this._storedCursor=a("body").css("cursor")),a("body").css("cursor",c.cursor));c.opacity&&(this.helper.css("opacity")&&(this._storedOpacity=this.helper.css("opacity")),this.helper.css("opacity",c.opacity));c.zIndex&&(this.helper.css("zIndex")&&(this._storedZIndex=
this.helper.css("zIndex")),this.helper.css("zIndex",c.zIndex));this.scrollParent[0]!==document&&"HTML"!==this.scrollParent[0].tagName&&(this.overflowOffset=this.scrollParent.offset());this._trigger("start",b,this._uiHash());this._preserveHelperProportions||this._cacheHelperProportions();if(!e)for(e=this.containers.length-1;0<=e;e--)this.containers[e]._trigger("activate",b,this._uiHash(this));return a.ui.ddmanager&&(a.ui.ddmanager.current=this),a.ui.ddmanager&&!c.dropBehaviour&&a.ui.ddmanager.prepareOffsets(this,
b),this.dragging=!0,this.helper.addClass("ui-sortable-helper"),this._mouseDrag(b),!0},_mouseDrag:function(b){var c;var e=this.options;var f=!1;this.position=this._generatePosition(b);this.positionAbs=this._convertPositionTo("absolute");this.lastPositionAbs||(this.lastPositionAbs=this.positionAbs);this.options.scroll&&(this.scrollParent[0]!==document&&"HTML"!==this.scrollParent[0].tagName?(this.overflowOffset.top+this.scrollParent[0].offsetHeight-b.pageY<e.scrollSensitivity?this.scrollParent[0].scrollTop=
f=this.scrollParent[0].scrollTop+e.scrollSpeed:b.pageY-this.overflowOffset.top<e.scrollSensitivity&&(this.scrollParent[0].scrollTop=f=this.scrollParent[0].scrollTop-e.scrollSpeed),this.overflowOffset.left+this.scrollParent[0].offsetWidth-b.pageX<e.scrollSensitivity?this.scrollParent[0].scrollLeft=f=this.scrollParent[0].scrollLeft+e.scrollSpeed:b.pageX-this.overflowOffset.left<e.scrollSensitivity&&(this.scrollParent[0].scrollLeft=f=this.scrollParent[0].scrollLeft-e.scrollSpeed)):(b.pageY-a(document).scrollTop()<
e.scrollSensitivity?f=a(document).scrollTop(a(document).scrollTop()-e.scrollSpeed):a(window).height()-(b.pageY-a(document).scrollTop())<e.scrollSensitivity&&(f=a(document).scrollTop(a(document).scrollTop()+e.scrollSpeed)),b.pageX-a(document).scrollLeft()<e.scrollSensitivity?f=a(document).scrollLeft(a(document).scrollLeft()-e.scrollSpeed):a(window).width()-(b.pageX-a(document).scrollLeft())<e.scrollSensitivity&&(f=a(document).scrollLeft(a(document).scrollLeft()+e.scrollSpeed))),!1!==f&&a.ui.ddmanager&&
!e.dropBehaviour&&a.ui.ddmanager.prepareOffsets(this,b));this.positionAbs=this._convertPositionTo("absolute");this.options.axis&&"y"===this.options.axis||(this.helper[0].style.left=this.position.left+"px");this.options.axis&&"x"===this.options.axis||(this.helper[0].style.top=this.position.top+"px");for(e=this.items.length-1;0<=e;e--){f=this.items[e];var h=f.item[0];if((c=this._intersectsWithPointer(f))&&f.instance===this.currentContainer&&h!==this.currentItem[0]&&this.placeholder[1===c?"next":"prev"]()[0]!==
h&&!a.contains(this.placeholder[0],h)&&("semi-dynamic"===this.options.type?!a.contains(this.element[0],h):1)){this.direction=1===c?"down":"up";if("pointer"!==this.options.tolerance&&!this._intersectsWithSides(f))break;this._rearrange(b,f);this._trigger("change",b,this._uiHash());break}}return this._contactContainers(b),a.ui.ddmanager&&a.ui.ddmanager.drag(this,b),this._trigger("sort",b,this._uiHash()),this.lastPositionAbs=this.positionAbs,!1},_mouseStop:function(b,c){if(b){a.ui.ddmanager&&!this.options.dropBehaviour&&
a.ui.ddmanager.drop(this,b);if(this.options.revert){var e=this;c=this.placeholder.offset();this.reverting=!0;a(this.helper).animate({left:c.left-this.offset.parent.left-this.margins.left+(this.offsetParent[0]===document.body?0:this.offsetParent[0].scrollLeft),top:c.top-this.offset.parent.top-this.margins.top+(this.offsetParent[0]===document.body?0:this.offsetParent[0].scrollTop)},parseInt(this.options.revert,10)||500,function(){e._clear(b)})}else this._clear(b,c);return!1}},cancel:function(){if(this.dragging){this._mouseUp({target:null});
"original"===this.options.helper?this.currentItem.css(this._storedCSS).removeClass("ui-sortable-helper"):this.currentItem.show();for(var b=this.containers.length-1;0<=b;b--)this.containers[b]._trigger("deactivate",null,this._uiHash(this)),this.containers[b].containerCache.over&&(this.containers[b]._trigger("out",null,this._uiHash(this)),this.containers[b].containerCache.over=0)}return this.placeholder&&(this.placeholder[0].parentNode&&this.placeholder[0].parentNode.removeChild(this.placeholder[0]),
"original"!==this.options.helper&&this.helper&&this.helper[0].parentNode&&this.helper.remove(),a.extend(this,{helper:null,dragging:!1,reverting:!1,_noFinalSort:null}),this.domPosition.prev?a(this.domPosition.prev).after(this.currentItem):a(this.domPosition.parent).prepend(this.currentItem)),this},serialize:function(b){var c=this._getItemsAsjQuery(b&&b.connected),e=[];return b=b||{},a(c).each(function(){var f=(a(b.item||this).attr(b.attribute||"id")||"").match(b.expression||/(.+)[\-=_](.+)/);f&&e.push((b.key||
f[1]+"[]")+"="+(b.key&&b.expression?f[1]:f[2]))}),!e.length&&b.key&&e.push(b.key+"="),e.join("&")},toArray:function(b){var c=this._getItemsAsjQuery(b&&b.connected),e=[];return b=b||{},c.each(function(){e.push(a(b.item||this).attr(b.attribute||"id")||"")}),e},_intersectsWith:function(b){var c=this.positionAbs.left,e=c+this.helperProportions.width,f=this.positionAbs.top,h=f+this.helperProportions.height,m=b.left,k=m+b.width,l=b.top,p=l+b.height,q=this.offset.click.top,u=this.offset.click.left;return"pointer"===
this.options.tolerance||this.options.forcePointerForContainers||"pointer"!==this.options.tolerance&&this.helperProportions[this.floating?"width":"height"]>b[this.floating?"width":"height"]?f+q>l&&f+q<p&&c+u>m&&c+u<k:m<c+this.helperProportions.width/2&&e-this.helperProportions.width/2<k&&l<f+this.helperProportions.height/2&&h-this.helperProportions.height/2<p},_intersectsWithPointer:function(b){var c="x"===this.options.axis||d(this.positionAbs.top+this.offset.click.top,b.top,b.height);b="y"===this.options.axis||
d(this.positionAbs.left+this.offset.click.left,b.left,b.width);c=c&&b;b=this._getDragVerticalDirection();var e=this._getDragHorizontalDirection();return c?this.floating?e&&"right"===e||"down"===b?2:1:b&&("down"===b?2:1):!1},_intersectsWithSides:function(b){var c=d(this.positionAbs.top+this.offset.click.top,b.top+b.height/2,b.height);b=d(this.positionAbs.left+this.offset.click.left,b.left+b.width/2,b.width);var e=this._getDragVerticalDirection(),f=this._getDragHorizontalDirection();return this.floating&&
f?"right"===f&&b||"left"===f&&!b:e&&("down"===e&&c||"up"===e&&!c)},_getDragVerticalDirection:function(){var b=this.positionAbs.top-this.lastPositionAbs.top;return 0!==b&&(0<b?"down":"up")},_getDragHorizontalDirection:function(){var b=this.positionAbs.left-this.lastPositionAbs.left;return 0!==b&&(0<b?"right":"left")},refresh:function(b){return this._refreshItems(b),this.refreshPositions(),this},_connectWith:function(){var b=this.options;return b.connectWith.constructor===String?[b.connectWith]:b.connectWith},
_getItemsAsjQuery:function(b){var c,e,f=[],h=[],m=this._connectWith();if(m&&b)for(b=m.length-1;0<=b;b--){var k=a(m[b]);for(c=k.length-1;0<=c;c--)(e=a.data(k[c],this.widgetFullName))&&e!==this&&!e.options.disabled&&h.push([a.isFunction(e.options.items)?e.options.items.call(e.element):a(e.options.items,e.element).not(".ui-sortable-helper").not(".ui-sortable-placeholder"),e])}h.push([a.isFunction(this.options.items)?this.options.items.call(this.element,null,{options:this.options,item:this.currentItem}):
a(this.options.items,this.element).not(".ui-sortable-helper").not(".ui-sortable-placeholder"),this]);for(b=h.length-1;0<=b;b--)h[b][0].each(function(){f.push(this)});return a(f)},_removeCurrentsFromItems:function(){var b=this.currentItem.find(":data("+this.widgetName+"-item)");this.items=a.grep(this.items,function(c){for(var e=0;e<b.length;e++)if(b[e]===c.item[0])return!1;return!0})},_refreshItems:function(b){this.items=[];this.containers=[this];var c,e,f,h,m=this.items,k=[[a.isFunction(this.options.items)?
this.options.items.call(this.element[0],b,{item:this.currentItem}):a(this.options.items,this.element),this]];if((h=this._connectWith())&&this.ready)for(c=h.length-1;0<=c;c--){var l=a(h[c]);for(e=l.length-1;0<=e;e--)(f=a.data(l[e],this.widgetFullName))&&f!==this&&!f.options.disabled&&(k.push([a.isFunction(f.options.items)?f.options.items.call(f.element[0],b,{item:this.currentItem}):a(f.options.items,f.element),f]),this.containers.push(f))}for(c=k.length-1;0<=c;c--)for(b=k[c][1],l=k[c][0],e=0,h=l.length;e<
h;e++)f=a(l[e]),f.data(this.widgetName+"-item",b),m.push({item:f,instance:b,width:0,height:0,left:0,top:0})},refreshPositions:function(b){this.offsetParent&&this.helper&&(this.offset.parent=this._getParentOffset());var c;for(c=this.items.length-1;0<=c;c--){var e=this.items[c];if(e.instance===this.currentContainer||!this.currentContainer||e.item[0]===this.currentItem[0]){var f=this.options.toleranceElement?a(this.options.toleranceElement,e.item):e.item;b||(e.width=f.outerWidth(),e.height=f.outerHeight());
f=f.offset();e.left=f.left;e.top=f.top}}if(this.options.custom&&this.options.custom.refreshContainers)this.options.custom.refreshContainers.call(this);else for(c=this.containers.length-1;0<=c;c--)f=this.containers[c].element.offset(),this.containers[c].containerCache.left=f.left,this.containers[c].containerCache.top=f.top,this.containers[c].containerCache.width=this.containers[c].element.outerWidth(),this.containers[c].containerCache.height=this.containers[c].element.outerHeight();return this},_createPlaceholder:function(b){b=
b||this;var c=b.options;if(!c.placeholder||c.placeholder.constructor===String){var e=c.placeholder;c.placeholder={element:function(){var f=a(document.createElement(b.currentItem[0].nodeName)).addClass(e||b.currentItem[0].className+" ui-sortable-placeholder").removeClass("ui-sortable-helper")[0];return e||(f.style.visibility="hidden"),f},update:function(f,h){if(!e||c.forcePlaceholderSize)h.height()||h.height(b.currentItem.innerHeight()-parseInt(b.currentItem.css("paddingTop")||0,10)-parseInt(b.currentItem.css("paddingBottom")||
0,10)),h.width()||h.width(b.currentItem.innerWidth()-parseInt(b.currentItem.css("paddingLeft")||0,10)-parseInt(b.currentItem.css("paddingRight")||0,10))}}}b.placeholder=a(c.placeholder.element.call(b.element,b.currentItem));b.currentItem.after(b.placeholder);c.placeholder.update(b,b.placeholder)},_contactContainers:function(b){var c,e,f=e=null;for(c=this.containers.length-1;0<=c;c--)a.contains(this.currentItem[0],this.containers[c].element[0])||(this._intersectsWith(this.containers[c].containerCache)?
e&&a.contains(this.containers[c].element[0],e.element[0])||(e=this.containers[c],f=c):this.containers[c].containerCache.over&&(this.containers[c]._trigger("out",b,this._uiHash(this)),this.containers[c].containerCache.over=0));if(e){if(1!==this.containers.length){e=1E4;var h=null;var m=this.containers[f].floating?"left":"top";var k=this.containers[f].floating?"width":"height";var l=this.positionAbs[m]+this.offset.click[m];for(c=this.items.length-1;0<=c;c--)if(a.contains(this.containers[f].element[0],
this.items[c].item[0])&&this.items[c].item[0]!==this.currentItem[0]){var p=this.items[c].item.offset()[m];var q=!1;Math.abs(p-l)>Math.abs(p+this.items[c][k]-l)&&(q=!0,p+=this.items[c][k]);Math.abs(p-l)<e&&(e=Math.abs(p-l),h=this.items[c],this.direction=q?"up":"down")}if(!h&&!this.options.dropOnEmpty)return;this.currentContainer=this.containers[f];h?this._rearrange(b,h,null,!0):this._rearrange(b,null,this.containers[f].element,!0);this._trigger("change",b,this._uiHash());this.containers[f]._trigger("change",
b,this._uiHash(this));this.options.placeholder.update(this.currentContainer,this.placeholder)}this.containers[f]._trigger("over",b,this._uiHash(this));this.containers[f].containerCache.over=1}},_createHelper:function(b){var c=this.options;b=a.isFunction(c.helper)?a(c.helper.apply(this.element[0],[b,this.currentItem])):"clone"===c.helper?this.currentItem.clone():this.currentItem;return b.parents("body").length||a("parent"!==c.appendTo?c.appendTo:this.currentItem[0].parentNode)[0].appendChild(b[0]),
b[0]===this.currentItem[0]&&(this._storedCSS={width:this.currentItem[0].style.width,height:this.currentItem[0].style.height,position:this.currentItem.css("position"),top:this.currentItem.css("top"),left:this.currentItem.css("left")}),(!b[0].style.width||c.forceHelperSize)&&b.width(this.currentItem.width()),(!b[0].style.height||c.forceHelperSize)&&b.height(this.currentItem.height()),b},_adjustOffsetFromHelper:function(b){"string"==typeof b&&(b=b.split(" "));a.isArray(b)&&(b={left:+b[0],top:+b[1]||
0});"left"in b&&(this.offset.click.left=b.left+this.margins.left);"right"in b&&(this.offset.click.left=this.helperProportions.width-b.right+this.margins.left);"top"in b&&(this.offset.click.top=b.top+this.margins.top);"bottom"in b&&(this.offset.click.top=this.helperProportions.height-b.bottom+this.margins.top)},_getParentOffset:function(){this.offsetParent=this.helper.offsetParent();var b=this.offsetParent.offset();"absolute"===this.cssPosition&&this.scrollParent[0]!==document&&a.contains(this.scrollParent[0],
this.offsetParent[0])&&(b.left+=this.scrollParent.scrollLeft(),b.top+=this.scrollParent.scrollTop());if(this.offsetParent[0]===document.body||this.offsetParent[0].tagName&&"html"===this.offsetParent[0].tagName.toLowerCase()&&a.ui.ie)b={top:0,left:0};return{top:b.top+(parseInt(this.offsetParent.css("borderTopWidth"),10)||0),left:b.left+(parseInt(this.offsetParent.css("borderLeftWidth"),10)||0)}},_getRelativeOffset:function(){if("relative"===this.cssPosition){var b=this.currentItem.position();return{top:b.top-
(parseInt(this.helper.css("top"),10)||0)+this.scrollParent.scrollTop(),left:b.left-(parseInt(this.helper.css("left"),10)||0)+this.scrollParent.scrollLeft()}}return{top:0,left:0}},_cacheMargins:function(){this.margins={left:parseInt(this.currentItem.css("marginLeft"),10)||0,top:parseInt(this.currentItem.css("marginTop"),10)||0}},_cacheHelperProportions:function(){this.helperProportions={width:this.helper.outerWidth(),height:this.helper.outerHeight()}},_setContainment:function(){var b,c,e,f=this.options;
"parent"===f.containment&&(f.containment=this.helper[0].parentNode);if("document"===f.containment||"window"===f.containment)this.containment=[0-this.offset.relative.left-this.offset.parent.left,0-this.offset.relative.top-this.offset.parent.top,a("document"===f.containment?document:window).width()-this.helperProportions.width-this.margins.left,(a("document"===f.containment?document:window).height()||document.body.parentNode.scrollHeight)-this.helperProportions.height-this.margins.top];/^(document|window|parent)$/.test(f.containment)||
(b=a(f.containment)[0],c=a(f.containment).offset(),e="hidden"!==a(b).css("overflow"),this.containment=[c.left+(parseInt(a(b).css("borderLeftWidth"),10)||0)+(parseInt(a(b).css("paddingLeft"),10)||0)-this.margins.left,c.top+(parseInt(a(b).css("borderTopWidth"),10)||0)+(parseInt(a(b).css("paddingTop"),10)||0)-this.margins.top,c.left+(e?Math.max(b.scrollWidth,b.offsetWidth):b.offsetWidth)-(parseInt(a(b).css("borderLeftWidth"),10)||0)-(parseInt(a(b).css("paddingRight"),10)||0)-this.helperProportions.width-
this.margins.left,c.top+(e?Math.max(b.scrollHeight,b.offsetHeight):b.offsetHeight)-(parseInt(a(b).css("borderTopWidth"),10)||0)-(parseInt(a(b).css("paddingBottom"),10)||0)-this.helperProportions.height-this.margins.top])},_convertPositionTo:function(b,c){c||=this.position;b="absolute"===b?1:-1;var e="absolute"!==this.cssPosition||this.scrollParent[0]!==document&&a.contains(this.scrollParent[0],this.offsetParent[0])?this.scrollParent:this.offsetParent,f=/(html|body)/i.test(e[0].tagName);return{top:c.top+
this.offset.relative.top*b+this.offset.parent.top*b-("fixed"===this.cssPosition?-this.scrollParent.scrollTop():f?0:e.scrollTop())*b,left:c.left+this.offset.relative.left*b+this.offset.parent.left*b-("fixed"===this.cssPosition?-this.scrollParent.scrollLeft():f?0:e.scrollLeft())*b}},_generatePosition:function(b){var c,e,f=this.options,h=b.pageX,m=b.pageY,k="absolute"!==this.cssPosition||this.scrollParent[0]!==document&&a.contains(this.scrollParent[0],this.offsetParent[0])?this.scrollParent:this.offsetParent,
l=/(html|body)/i.test(k[0].tagName);return"relative"===this.cssPosition&&(this.scrollParent[0]===document||this.scrollParent[0]===this.offsetParent[0])&&(this.offset.relative=this._getRelativeOffset()),this.originalPosition&&(this.containment&&(b.pageX-this.offset.click.left<this.containment[0]&&(h=this.containment[0]+this.offset.click.left),b.pageY-this.offset.click.top<this.containment[1]&&(m=this.containment[1]+this.offset.click.top),b.pageX-this.offset.click.left>this.containment[2]&&(h=this.containment[2]+
this.offset.click.left),b.pageY-this.offset.click.top>this.containment[3]&&(m=this.containment[3]+this.offset.click.top)),f.grid&&(c=this.originalPageY+Math.round((m-this.originalPageY)/f.grid[1])*f.grid[1],m=this.containment?c-this.offset.click.top>=this.containment[1]&&c-this.offset.click.top<=this.containment[3]?c:c-this.offset.click.top>=this.containment[1]?c-f.grid[1]:c+f.grid[1]:c,e=this.originalPageX+Math.round((h-this.originalPageX)/f.grid[0])*f.grid[0],h=this.containment?e-this.offset.click.left>=
this.containment[0]&&e-this.offset.click.left<=this.containment[2]?e:e-this.offset.click.left>=this.containment[0]?e-f.grid[0]:e+f.grid[0]:e)),{top:m-this.offset.click.top-this.offset.relative.top-this.offset.parent.top+("fixed"===this.cssPosition?-this.scrollParent.scrollTop():l?0:k.scrollTop()),left:h-this.offset.click.left-this.offset.relative.left-this.offset.parent.left+("fixed"===this.cssPosition?-this.scrollParent.scrollLeft():l?0:k.scrollLeft())}},_rearrange:function(b,c,e,f){e?e[0].appendChild(this.placeholder[0]):
c.item[0].parentNode.insertBefore(this.placeholder[0],"down"===this.direction?c.item[0]:c.item[0].nextSibling);var h=this.counter=this.counter?++this.counter:1;this._delay(function(){h===this.counter&&this.refreshPositions(!f)})},_clear:function(b,c){this.reverting=!1;var e,f=[];!this._noFinalSort&&this.currentItem.parent().length&&this.placeholder.before(this.currentItem);this._noFinalSort=null;if(this.helper[0]===this.currentItem[0]){for(e in this._storedCSS)if("auto"===this._storedCSS[e]||"static"===
this._storedCSS[e])this._storedCSS[e]="";this.currentItem.css(this._storedCSS).removeClass("ui-sortable-helper")}else this.currentItem.show();this.fromOutside&&!c&&f.push(function(h){this._trigger("receive",h,this._uiHash(this.fromOutside))});!this.fromOutside&&this.domPosition.prev===this.currentItem.prev().not(".ui-sortable-helper")[0]&&this.domPosition.parent===this.currentItem.parent()[0]||c||f.push(function(h){this._trigger("update",h,this._uiHash())});this!==this.currentContainer&&(c||(f.push(function(h){this._trigger("remove",
h,this._uiHash())}),f.push(function(h){return function(m){h._trigger("receive",m,this._uiHash(this))}}.call(this,this.currentContainer)),f.push(function(h){return function(m){h._trigger("update",m,this._uiHash(this))}}.call(this,this.currentContainer))));for(e=this.containers.length-1;0<=e;e--)c||f.push(function(h){return function(m){h._trigger("deactivate",m,this._uiHash(this))}}.call(this,this.containers[e])),this.containers[e].containerCache.over&&(f.push(function(h){return function(m){h._trigger("out",
m,this._uiHash(this))}}.call(this,this.containers[e])),this.containers[e].containerCache.over=0);this._storedCursor&&a("body").css("cursor",this._storedCursor);this._storedOpacity&&this.helper.css("opacity",this._storedOpacity);this._storedZIndex&&this.helper.css("zIndex","auto"===this._storedZIndex?"":this._storedZIndex);this.dragging=!1;if(this.cancelHelperRemoval){if(!c){this._trigger("beforeStop",b,this._uiHash());for(e=0;e<f.length;e++)f[e].call(this,b);this._trigger("stop",b,this._uiHash())}return this.fromOutside=
!1,!1}c||this._trigger("beforeStop",b,this._uiHash());this.placeholder[0].parentNode.removeChild(this.placeholder[0]);this.helper[0]!==this.currentItem[0]&&this.helper.remove();this.helper=null;if(!c){for(e=0;e<f.length;e++)f[e].call(this,b);this._trigger("stop",b,this._uiHash())}return this.fromOutside=!1,!0},_trigger:function(){!1===a.Widget.prototype._trigger.apply(this,arguments)&&this.cancel()},_uiHash:function(b){var c=b||this;return{helper:c.helper,placeholder:c.placeholder||a([]),position:c.position,
originalPosition:c.originalPosition,offset:c.positionAbs,item:c.currentItem,sender:b?b.element:null}}})})(jQuery);
(function(a,g){var d=0,b={},c={};b.height=b.paddingTop=b.paddingBottom=b.borderTopWidth=b.borderBottomWidth="hide";c.height=c.paddingTop=c.paddingBottom=c.borderTopWidth=c.borderBottomWidth="show";a.widget("ui.accordion",{version:"1.10.1",options:{active:0,animate:{},collapsible:!1,event:"click",header:"> li > :first-child,> :not(li):even",heightStyle:"auto",icons:{activeHeader:"ui-icon-triangle-1-s",header:"ui-icon-triangle-1-e"},activate:null,beforeActivate:null},_create:function(){var e=this.options;
this.prevShow=this.prevHide=a();this.element.addClass("ui-accordion ui-widget ui-helper-reset").attr("role","tablist");e.collapsible||!1!==e.active&&null!=e.active||(e.active=0);this._processPanels();0>e.active&&(e.active+=this.headers.length);this._refresh()},_getCreateEventData:function(){return{header:this.active,panel:this.active.length?this.active.next():a(),content:this.active.length?this.active.next():a()}},_createIcons:function(){var e=this.options.icons;e&&(a("<span>").addClass("ui-accordion-header-icon ui-icon "+
e.header).prependTo(this.headers),this.active.children(".ui-accordion-header-icon").removeClass(e.header).addClass(e.activeHeader),this.headers.addClass("ui-accordion-icons"))},_destroyIcons:function(){this.headers.removeClass("ui-accordion-icons").children(".ui-accordion-header-icon").remove()},_destroy:function(){this.element.removeClass("ui-accordion ui-widget ui-helper-reset").removeAttr("role");this.headers.removeClass("ui-accordion-header ui-accordion-header-active ui-helper-reset ui-state-default ui-corner-all ui-state-active ui-state-disabled ui-corner-top").removeAttr("role").removeAttr("aria-selected").removeAttr("aria-controls").removeAttr("tabIndex").each(function(){/^ui-accordion/.test(this.id)&&
this.removeAttribute("id")});this._destroyIcons();var e=this.headers.next().css("display","").removeAttr("role").removeAttr("aria-expanded").removeAttr("aria-hidden").removeAttr("aria-labelledby").removeClass("ui-helper-reset ui-widget-content ui-corner-bottom ui-accordion-content ui-accordion-content-active ui-state-disabled").each(function(){/^ui-accordion/.test(this.id)&&this.removeAttribute("id")});"content"!==this.options.heightStyle&&e.css("height","")},_setOption:function(e,f){"active"===e?
this._activate(f):("event"===e&&(this.options.event&&this._off(this.headers,this.options.event),this._setupEvents(f)),this._super(e,f),"collapsible"===e&&!f&&!1===this.options.active&&this._activate(0),"icons"===e&&(this._destroyIcons(),f&&this._createIcons()),"disabled"===e&&this.headers.add(this.headers.next()).toggleClass("ui-state-disabled",!!f))},_keydown:function(e){if(!e.altKey&&!e.ctrlKey){var f=a.ui.keyCode,h=this.headers.length,m=this.headers.index(e.target),k=!1;switch(e.keyCode){case f.RIGHT:case f.DOWN:k=
this.headers[(m+1)%h];break;case f.LEFT:case f.UP:k=this.headers[(m-1+h)%h];break;case f.SPACE:case f.ENTER:this._eventHandler(e);break;case f.HOME:k=this.headers[0];break;case f.END:k=this.headers[h-1]}k&&(a(e.target).attr("tabIndex",-1),a(k).attr("tabIndex",0),k.focus(),e.preventDefault())}},_panelKeyDown:function(e){e.keyCode===a.ui.keyCode.UP&&e.ctrlKey&&a(e.currentTarget).prev().focus()},refresh:function(){var e=this.options;this._processPanels();if(!1===e.active&&!0===e.collapsible||!this.headers.length)e.active=
!1,this.active=a();!1===e.active?this._activate(0):this.active.length&&!a.contains(this.element[0],this.active[0])?this.headers.length===this.headers.find(".ui-state-disabled").length?(e.active=!1,this.active=a()):this._activate(Math.max(0,e.active-1)):e.active=this.headers.index(this.active);this._destroyIcons();this._refresh()},_processPanels:function(){this.headers=this.element.find(this.options.header).addClass("ui-accordion-header ui-helper-reset ui-state-default ui-corner-all");this.headers.next().addClass("ui-accordion-content ui-helper-reset ui-widget-content ui-corner-bottom").filter(":not(.ui-accordion-content-active)").hide()},
_refresh:function(){var e,f=this.options,h=f.heightStyle,m=this.element.parent(),k=this.accordionId="ui-accordion-"+(this.element.attr("id")||++d);this.active=this._findActive(f.active).addClass("ui-accordion-header-active ui-state-active ui-corner-top").removeClass("ui-corner-all");this.active.next().addClass("ui-accordion-content-active").show();this.headers.attr("role","tab").each(function(l){var p=a(this),q=p.attr("id"),u=p.next(),t=u.attr("id");q||(q=k+"-header-"+l,p.attr("id",q));t||(t=k+"-panel-"+
l,u.attr("id",t));p.attr("aria-controls",t);u.attr("aria-labelledby",q)}).next().attr("role","tabpanel");this.headers.not(this.active).attr({"aria-selected":"false",tabIndex:-1}).next().attr({"aria-expanded":"false","aria-hidden":"true"}).hide();this.active.length?this.active.attr({"aria-selected":"true",tabIndex:0}).next().attr({"aria-expanded":"true","aria-hidden":"false"}):this.headers.eq(0).attr("tabIndex",0);this._createIcons();this._setupEvents(f.event);"fill"===h?(e=m.height(),this.element.siblings(":visible").each(function(){var l=
a(this),p=l.css("position");"absolute"!==p&&"fixed"!==p&&(e-=l.outerHeight(!0))}),this.headers.each(function(){e-=a(this).outerHeight(!0)}),this.headers.next().each(function(){a(this).height(Math.max(0,e-a(this).innerHeight()+a(this).height()))}).css("overflow","auto")):"auto"===h&&(e=0,this.headers.next().each(function(){e=Math.max(e,a(this).css("height","").height())}).height(e))},_activate:function(e){e=this._findActive(e)[0];e!==this.active[0]&&(e=e||this.active[0],this._eventHandler({target:e,
currentTarget:e,preventDefault:a.noop}))},_findActive:function(e){return"number"==typeof e?this.headers.eq(e):a()},_setupEvents:function(e){var f={keydown:"_keydown"};e&&a.each(e.split(" "),function(h,m){f[m]="_eventHandler"});this._off(this.headers.add(this.headers.next()));this._on(this.headers,f);this._on(this.headers.next(),{keydown:"_panelKeyDown"});this._hoverable(this.headers);this._focusable(this.headers)},_eventHandler:function(e){var f=this.options,h=this.active,m=a(e.currentTarget),k=m[0]===
h[0],l=k&&f.collapsible,p=l?a():m.next(),q=h.next();p={oldHeader:h,oldPanel:q,newHeader:l?a():m,newPanel:p};e.preventDefault();k&&!f.collapsible||!1===this._trigger("beforeActivate",e,p)||(f.active=l?!1:this.headers.index(m),this.active=k?a():m,this._toggle(p),h.removeClass("ui-accordion-header-active ui-state-active"),f.icons&&h.children(".ui-accordion-header-icon").removeClass(f.icons.activeHeader).addClass(f.icons.header),k||(m.removeClass("ui-corner-all").addClass("ui-accordion-header-active ui-state-active ui-corner-top"),
f.icons&&m.children(".ui-accordion-header-icon").removeClass(f.icons.header).addClass(f.icons.activeHeader),m.next().addClass("ui-accordion-content-active")))},_toggle:function(e){var f=e.newPanel,h=this.prevShow.length?this.prevShow:e.oldPanel;this.prevShow.add(this.prevHide).stop(!0,!0);this.prevShow=f;this.prevHide=h;this.options.animate?this._animate(f,h,e):(h.hide(),f.show(),this._toggleComplete(e));h.attr({"aria-expanded":"false","aria-hidden":"true"});h.prev().attr("aria-selected","false");
f.length&&h.length?h.prev().attr("tabIndex",-1):f.length&&this.headers.filter(function(){return 0===a(this).attr("tabIndex")}).attr("tabIndex",-1);f.attr({"aria-expanded":"true","aria-hidden":"false"}).prev().attr({"aria-selected":"true",tabIndex:0})},_animate:function(e,f,h){var m,k,l=this,p=0,q=e.length&&(!f.length||e.index()<f.index()),u=this.options.animate||{};q=q&&u.down||u;var t=function(){l._toggleComplete(h)};"number"==typeof q&&(k=q);"string"==typeof q&&(m=q);m=m||q.easing||u.easing;k=k||
q.duration||u.duration;if(!f.length)return e.animate(c,k,m,t);if(!e.length)return f.animate(b,k,m,t);var C=e.show().outerHeight();f.animate(b,{duration:k,easing:m,step:function(D,w){w.now=Math.round(D)}});e.hide().animate(c,{duration:k,easing:m,complete:t,step:function(D,w){w.now=Math.round(D);"height"!==w.prop?p+=w.now:"content"!==l.options.heightStyle&&(w.now=Math.round(C-f.outerHeight()-p),p=0)}})},_toggleComplete:function(e){var f=e.oldPanel;f.removeClass("ui-accordion-content-active").prev().removeClass("ui-corner-top").addClass("ui-corner-all");
f.length&&(f.parent()[0].className=f.parent()[0].className);this._trigger("activate",null,e)}})})(jQuery);
(function(a,g){var d=0;a.widget("ui.autocomplete",{version:"1.10.1",defaultElement:"<input>",options:{appendTo:null,autoFocus:!1,delay:300,minLength:1,position:{my:"left top",at:"left bottom",collision:"none"},source:null,change:null,close:null,focus:null,open:null,response:null,search:null,select:null},pending:0,_create:function(){var b,c,e,f=this.element[0].nodeName.toLowerCase(),h="textarea"===f;f="input"===f;this.isMultiLine=h?!0:f?!1:this.element.prop("isContentEditable");this.valueMethod=this.element[h||
f?"val":"text"];this.isNewMenu=!0;this.element.addClass("ui-autocomplete-input").attr("autocomplete","off");this._on(this.element,{keydown:function(m){if(this.element.prop("readOnly"))c=e=b=!0;else{c=e=b=!1;var k=a.ui.keyCode;switch(m.keyCode){case k.PAGE_UP:b=!0;this._move("previousPage",m);break;case k.PAGE_DOWN:b=!0;this._move("nextPage",m);break;case k.UP:b=!0;this._keyEvent("previous",m);break;case k.DOWN:b=!0;this._keyEvent("next",m);break;case k.ENTER:case k.NUMPAD_ENTER:this.menu.active&&
(b=!0,m.preventDefault(),this.menu.select(m));break;case k.TAB:this.menu.active&&this.menu.select(m);break;case k.ESCAPE:this.menu.element.is(":visible")&&(this._value(this.term),this.close(m),m.preventDefault());break;default:c=!0,this._searchTimeout(m)}}},keypress:function(m){if(b)b=!1,m.preventDefault();else if(!c){var k=a.ui.keyCode;switch(m.keyCode){case k.PAGE_UP:this._move("previousPage",m);break;case k.PAGE_DOWN:this._move("nextPage",m);break;case k.UP:this._keyEvent("previous",m);break;case k.DOWN:this._keyEvent("next",
m)}}},input:function(m){e?(e=!1,m.preventDefault()):this._searchTimeout(m)},focus:function(){this.selectedItem=null;this.previous=this._value()},blur:function(m){this.cancelBlur?delete this.cancelBlur:(clearTimeout(this.searching),this.close(m),this._change(m))}});this._initSource();this.menu=a("<ul>").addClass("ui-autocomplete ui-front").appendTo(this._appendTo()).menu({input:a(),role:null}).hide().data("ui-menu");this._on(this.menu.element,{mousedown:function(m){m.preventDefault();this.cancelBlur=
!0;this._delay(function(){delete this.cancelBlur});var k=this.menu.element[0];a(m.target).closest(".ui-menu-item").length||this._delay(function(){var l=this;this.document.one("mousedown",function(p){p.target!==l.element[0]&&p.target!==k&&!a.contains(k,p.target)&&l.close()})})},menufocus:function(m,k){if(this.isNewMenu&&(this.isNewMenu=!1,m.originalEvent&&/^mouse/.test(m.originalEvent.type))){this.menu.blur();this.document.one("mousemove",function(){a(m.target).trigger(m.originalEvent)});return}k=
k.item.data("ui-autocomplete-item");!1!==this._trigger("focus",m,{item:k})?m.originalEvent&&/^key/.test(m.originalEvent.type)&&this._value(k.value):this.liveRegion.text(k.value)},menuselect:function(m,k){var l=k.item.data("ui-autocomplete-item"),p=this.previous;this.element[0]!==this.document[0].activeElement&&(this.element.focus(),this.previous=p,this._delay(function(){this.previous=p;this.selectedItem=l}));!1!==this._trigger("select",m,{item:l})&&this._value(l.value);this.term=this._value();this.close(m);
this.selectedItem=l}});this.liveRegion=a("<span>",{role:"status","aria-live":"polite"}).addClass("ui-helper-hidden-accessible").insertAfter(this.element);this._on(this.window,{beforeunload:function(){this.element.removeAttr("autocomplete")}})},_destroy:function(){clearTimeout(this.searching);this.element.removeClass("ui-autocomplete-input").removeAttr("autocomplete");this.menu.element.remove();this.liveRegion.remove()},_setOption:function(b,c){this._super(b,c);"source"===b&&this._initSource();"appendTo"===
b&&this.menu.element.appendTo(this._appendTo());"disabled"===b&&c&&this.xhr&&this.xhr.abort()},_appendTo:function(){var b=this.options.appendTo;return b&&=b.jquery||b.nodeType?a(b):this.document.find(b).eq(0),b||=this.element.closest(".ui-front"),b.length||(b=this.document[0].body),b},_initSource:function(){var b,c,e=this;a.isArray(this.options.source)?(b=this.options.source,this.source=function(f,h){h(a.ui.autocomplete.filter(b,f.term))}):"string"==typeof this.options.source?(c=this.options.source,
this.source=function(f,h){e.xhr&&e.xhr.abort();e.xhr=a.ajax({url:c,data:f,dataType:"json",success:function(m){h(m)},error:function(){h([])}})}):this.source=this.options.source},_searchTimeout:function(b){clearTimeout(this.searching);this.searching=this._delay(function(){this.term!==this._value()&&(this.selectedItem=null,this.search(null,b))},this.options.delay)},search:function(b,c){b=null!=b?b:this._value();this.term=this._value();if(b.length<this.options.minLength)return this.close(c);if(!1!==this._trigger("search",
c))return this._search(b)},_search:function(b){this.pending++;this.element.addClass("ui-autocomplete-loading");this.cancelSearch=!1;this.source({term:b},this._response())},_response:function(){var b=this,c=++d;return function(e){c===d&&b.__response(e);b.pending--;b.pending||b.element.removeClass("ui-autocomplete-loading")}},__response:function(b){b&&=this._normalize(b);this._trigger("response",null,{content:b});!this.options.disabled&&b&&b.length&&!this.cancelSearch?(this._suggest(b),this._trigger("open")):
this._close()},close:function(b){this.cancelSearch=!0;this._close(b)},_close:function(b){this.menu.element.is(":visible")&&(this.menu.element.hide(),this.menu.blur(),this.isNewMenu=!0,this._trigger("close",b))},_change:function(b){this.previous!==this._value()&&this._trigger("change",b,{item:this.selectedItem})},_normalize:function(b){return b.length&&b[0].label&&b[0].value?b:a.map(b,function(c){return"string"==typeof c?{label:c,value:c}:a.extend({label:c.label||c.value,value:c.value||c.label},c)})},
_suggest:function(b){var c=this.menu.element.empty();this._renderMenu(c,b);this.menu.refresh();c.show();this._resizeMenu();c.position(a.extend({of:this.element},this.options.position));this.options.autoFocus&&this.menu.next()},_resizeMenu:function(){var b=this.menu.element;b.outerWidth(Math.max(b.width("").outerWidth()+1,this.element.outerWidth()))},_renderMenu:function(b,c){var e=this;a.each(c,function(f,h){e._renderItemData(b,h)})},_renderItemData:function(b,c){return this._renderItem(b,c).data("ui-autocomplete-item",
c)},_renderItem:function(b,c){return a("<li>").append(a("<a>").text(c.label)).appendTo(b)},_move:function(b,c){if(this.menu.element.is(":visible"))if(this.menu.isFirstItem()&&/^previous/.test(b)||this.menu.isLastItem()&&/^next/.test(b))this._value(this.term),this.menu.blur();else this.menu[b](c);else this.search(null,c)},widget:function(){return this.menu.element},_value:function(){return this.valueMethod.apply(this.element,arguments)},_keyEvent:function(b,c){if(!this.isMultiLine||this.menu.element.is(":visible"))this._move(b,
c),c.preventDefault()}});a.extend(a.ui.autocomplete,{escapeRegex:function(b){return b.replace(/[\-\[\]{}()*+?.,\\\^$|#\s]/g,"\\$&")},filter:function(b,c){var e=new RegExp(a.ui.autocomplete.escapeRegex(c),"i");return a.grep(b,function(f){return e.test(f.label||f.value||f)})}});a.widget("ui.autocomplete",a.ui.autocomplete,{options:{messages:{noResults:"No search results.",results:function(b){return b+(1<b?" results are":" result is")+" available, use up and down arrow keys to navigate."}}},__response:function(b){var c;
this._superApply(arguments);this.options.disabled||this.cancelSearch||(b&&b.length?c=this.options.messages.results(b.length):c=this.options.messages.noResults,this.liveRegion.text(c))}})})(jQuery);
(function(a,g){var d,b,c,e,f=function(){var m=a(this).find(":ui-button");setTimeout(function(){m.button("refresh")},1)},h=function(m){var k=m.name,l=m.form,p=a([]);return k&&(k=k.replace(/'/g,"\\'"),l?p=a(l).find("[name='"+k+"']"):p=a("[name='"+k+"']",m.ownerDocument).filter(function(){return!this.form})),p};a.widget("ui.button",{version:"1.10.1",defaultElement:"<button>",options:{disabled:null,text:!0,label:null,icons:{primary:null,secondary:null}},_create:function(){this.element.closest("form").unbind("reset"+
this.eventNamespace).bind("reset"+this.eventNamespace,f);"boolean"!=typeof this.options.disabled?this.options.disabled=!!this.element.prop("disabled"):this.element.prop("disabled",this.options.disabled);this._determineButtonType();this.hasTitle=!!this.buttonElement.attr("title");var m=this,k=this.options,l="checkbox"===this.type||"radio"===this.type,p=l?"":"ui-state-active";null===k.label&&(k.label="input"===this.type?this.buttonElement.val():this.buttonElement.html());this._hoverable(this.buttonElement);
this.buttonElement.addClass("ui-button ui-widget ui-state-default ui-corner-all").attr("role","button").bind("mouseenter"+this.eventNamespace,function(){k.disabled||this===d&&a(this).addClass("ui-state-active")}).bind("mouseleave"+this.eventNamespace,function(){k.disabled||a(this).removeClass(p)}).bind("click"+this.eventNamespace,function(q){k.disabled&&(q.preventDefault(),q.stopImmediatePropagation())});this.element.bind("focus"+this.eventNamespace,function(){m.buttonElement.addClass("ui-state-focus")}).bind("blur"+
this.eventNamespace,function(){m.buttonElement.removeClass("ui-state-focus")});l&&(this.element.bind("change"+this.eventNamespace,function(){e||m.refresh()}),this.buttonElement.bind("mousedown"+this.eventNamespace,function(q){k.disabled||(e=!1,b=q.pageX,c=q.pageY)}).bind("mouseup"+this.eventNamespace,function(q){k.disabled||b===q.pageX&&c===q.pageY||(e=!0)}));"checkbox"===this.type?this.buttonElement.bind("click"+this.eventNamespace,function(){if(k.disabled||e)return!1}):"radio"===this.type?this.buttonElement.bind("click"+
this.eventNamespace,function(){if(k.disabled||e)return!1;a(this).addClass("ui-state-active");m.buttonElement.attr("aria-pressed","true");var q=m.element[0];h(q).not(q).map(function(){return a(this).button("widget")[0]}).removeClass("ui-state-active").attr("aria-pressed","false")}):(this.buttonElement.bind("mousedown"+this.eventNamespace,function(){if(k.disabled)return!1;a(this).addClass("ui-state-active");d=this;m.document.one("mouseup",function(){d=null})}).bind("mouseup"+this.eventNamespace,function(){if(k.disabled)return!1;
a(this).removeClass("ui-state-active")}).bind("keydown"+this.eventNamespace,function(q){if(k.disabled)return!1;q.keyCode!==a.ui.keyCode.SPACE&&q.keyCode!==a.ui.keyCode.ENTER||a(this).addClass("ui-state-active")}).bind("keyup"+this.eventNamespace+" blur"+this.eventNamespace,function(){a(this).removeClass("ui-state-active")}),this.buttonElement.is("a")&&this.buttonElement.keyup(function(q){q.keyCode===a.ui.keyCode.SPACE&&a(this).click()}));this._setOption("disabled",k.disabled);this._resetButton()},
_determineButtonType:function(){var m,k,l;this.element.is("[type=checkbox]")?this.type="checkbox":this.element.is("[type=radio]")?this.type="radio":this.element.is("input")?this.type="input":this.type="button";"checkbox"===this.type||"radio"===this.type?(m=this.element.parents().last(),k="label[for='"+this.element.attr("id")+"']",this.buttonElement=m.find(k),this.buttonElement.length||(m=m.length?m.siblings():this.element.siblings(),this.buttonElement=m.filter(k),this.buttonElement.length||(this.buttonElement=
m.find(k))),this.element.addClass("ui-helper-hidden-accessible"),l=this.element.is(":checked"),l&&this.buttonElement.addClass("ui-state-active"),this.buttonElement.prop("aria-pressed",l)):this.buttonElement=this.element},widget:function(){return this.buttonElement},_destroy:function(){this.element.removeClass("ui-helper-hidden-accessible");this.buttonElement.removeClass("ui-button ui-widget ui-state-default ui-corner-all ui-state-hover ui-state-active  ui-button-icons-only ui-button-icon-only ui-button-text-icons ui-button-text-icon-primary ui-button-text-icon-secondary ui-button-text-only").removeAttr("role").removeAttr("aria-pressed").html(this.buttonElement.find(".ui-button-text").html());
this.hasTitle||this.buttonElement.removeAttr("title")},_setOption:function(m,k){this._super(m,k);"disabled"===m?k?this.element.prop("disabled",!0):this.element.prop("disabled",!1):this._resetButton()},refresh:function(){var m=this.element.is("input, button")?this.element.is(":disabled"):this.element.hasClass("ui-button-disabled");m!==this.options.disabled&&this._setOption("disabled",m);"radio"===this.type?h(this.element[0]).each(function(){a(this).is(":checked")?a(this).button("widget").addClass("ui-state-active").attr("aria-pressed",
"true"):a(this).button("widget").removeClass("ui-state-active").attr("aria-pressed","false")}):"checkbox"===this.type&&(this.element.is(":checked")?this.buttonElement.addClass("ui-state-active").attr("aria-pressed","true"):this.buttonElement.removeClass("ui-state-active").attr("aria-pressed","false"))},_resetButton:function(){if("input"===this.type)this.options.label&&this.element.val(this.options.label);else{var m=this.buttonElement.removeClass("ui-button-icons-only ui-button-icon-only ui-button-text-icons ui-button-text-icon-primary ui-button-text-icon-secondary ui-button-text-only"),
k=a("<span></span>",this.document[0]).addClass("ui-button-text").html(this.options.label).appendTo(m.empty()).text(),l=this.options.icons,p=l.primary&&l.secondary,q=[];l.primary||l.secondary?(this.options.text&&q.push("ui-button-text-icon"+(p?"s":l.primary?"-primary":"-secondary")),l.primary&&m.prepend("<span class='ui-button-icon-primary ui-icon "+l.primary+"'></span>"),l.secondary&&m.append("<span class='ui-button-icon-secondary ui-icon "+l.secondary+"'></span>"),this.options.text||(q.push(p?"ui-button-icons-only":
"ui-button-icon-only"),this.hasTitle||m.attr("title",a.trim(k)))):q.push("ui-button-text-only");m.addClass(q.join(" "))}}});a.widget("ui.buttonset",{version:"1.10.1",options:{items:"button, input[type=button], input[type=submit], input[type=reset], input[type=checkbox], input[type=radio], a, :data(ui-button)"},_create:function(){this.element.addClass("ui-buttonset")},_init:function(){this.refresh()},_setOption:function(m,k){"disabled"===m&&this.buttons.button("option",m,k);this._super(m,k)},refresh:function(){var m=
"rtl"===this.element.css("direction");this.buttons=this.element.find(this.options.items).filter(":ui-button").button("refresh").end().not(":ui-button").button().end().map(function(){return a(this).button("widget")[0]}).removeClass("ui-corner-all ui-corner-left ui-corner-right").filter(":first").addClass(m?"ui-corner-right":"ui-corner-left").end().filter(":last").addClass(m?"ui-corner-left":"ui-corner-right").end().end()},_destroy:function(){this.element.removeClass("ui-buttonset");this.buttons.map(function(){return a(this).button("widget")[0]}).removeClass("ui-corner-left ui-corner-right").end().button("destroy")}})})(jQuery);
(function(a,g){var d={buttons:!0,height:!0,maxHeight:!0,maxWidth:!0,minHeight:!0,minWidth:!0,width:!0},b={maxHeight:!0,maxWidth:!0,minHeight:!0,minWidth:!0};a.widget("ui.dialog",{version:"1.10.1",options:{appendTo:"body",autoOpen:!0,buttons:[],closeOnEscape:!0,closeText:"close",dialogClass:"",draggable:!0,hide:null,height:"auto",maxHeight:null,maxWidth:null,minHeight:150,minWidth:150,modal:!1,position:{my:"center",at:"center",of:window,collision:"fit",using:function(c){var e=a(this).css(c).offset().top;
0>e&&a(this).css("top",c.top-e)}},resizable:!0,show:null,title:null,width:300,beforeClose:null,close:null,drag:null,dragStart:null,dragStop:null,focus:null,open:null,resize:null,resizeStart:null,resizeStop:null},_create:function(){this.originalCss={display:this.element[0].style.display,width:this.element[0].style.width,minHeight:this.element[0].style.minHeight,maxHeight:this.element[0].style.maxHeight,height:this.element[0].style.height};this.originalPosition={parent:this.element.parent(),index:this.element.parent().children().index(this.element)};
this.originalTitle=this.element.attr("title");this.options.title=this.options.title||this.originalTitle;this._createWrapper();this.element.show().removeAttr("title").addClass("ui-dialog-content ui-widget-content").appendTo(this.uiDialog);this._createTitlebar();this._createButtonPane();this.options.draggable&&a.fn.draggable&&this._makeDraggable();this.options.resizable&&a.fn.resizable&&this._makeResizable();this._isOpen=!1},_init:function(){this.options.autoOpen&&this.open()},_appendTo:function(){var c=
this.options.appendTo;return c&&(c.jquery||c.nodeType)?a(c):this.document.find(c||"body").eq(0)},_destroy:function(){var c=this.originalPosition;this._destroyOverlay();this.element.removeUniqueId().removeClass("ui-dialog-content ui-widget-content").css(this.originalCss).detach();this.uiDialog.stop(!0,!0).remove();this.originalTitle&&this.element.attr("title",this.originalTitle);var e=c.parent.children().eq(c.index);e.length&&e[0]!==this.element[0]?e.before(this.element):c.parent.append(this.element)},
widget:function(){return this.uiDialog},disable:a.noop,enable:a.noop,close:function(c){var e=this;this._isOpen&&!1!==this._trigger("beforeClose",c)&&(this._isOpen=!1,this._destroyOverlay(),this.opener.filter(":focusable").focus().length||a(this.document[0].activeElement).blur(),this._hide(this.uiDialog,this.options.hide,function(){e._trigger("close",c)}))},isOpen:function(){return this._isOpen},moveToTop:function(){this._moveToTop()},_moveToTop:function(c,e){var f=!!this.uiDialog.nextAll(":visible").insertBefore(this.uiDialog).length;
return f&&!e&&this._trigger("focus",c),f},open:function(){var c=this;this._isOpen?this._moveToTop()&&this._focusTabbable():(this._isOpen=!0,this.opener=a(this.document[0].activeElement),this._size(),this._position(),this._createOverlay(),this._moveToTop(null,!0),this._show(this.uiDialog,this.options.show,function(){c._focusTabbable();c._trigger("focus")}),this._trigger("open"))},_focusTabbable:function(){var c=this.element.find("[autofocus]");c.length||(c=this.element.find(":tabbable"));c.length||
(c=this.uiDialogButtonPane.find(":tabbable"));c.length||(c=this.uiDialogTitlebarClose.filter(":tabbable"));c.length||(c=this.uiDialog);c.eq(0).focus()},_keepFocus:function(c){function e(){var f=this.document[0].activeElement;this.uiDialog[0]===f||a.contains(this.uiDialog[0],f)||this._focusTabbable()}c.preventDefault();e.call(this);this._delay(e)},_createWrapper:function(){this.uiDialog=a("<div>").addClass("ui-dialog ui-widget ui-widget-content ui-corner-all ui-front "+this.options.dialogClass).hide().attr({tabIndex:-1,
role:"dialog"}).appendTo(this._appendTo());this._on(this.uiDialog,{keydown:function(c){if(this.options.closeOnEscape&&!c.isDefaultPrevented()&&c.keyCode&&c.keyCode===a.ui.keyCode.ESCAPE)c.preventDefault(),this.close(c);else if(c.keyCode===a.ui.keyCode.TAB){var e=this.uiDialog.find(":tabbable"),f=e.filter(":first");e=e.filter(":last");c.target!==e[0]&&c.target!==this.uiDialog[0]||c.shiftKey?(c.target===f[0]||c.target===this.uiDialog[0])&&c.shiftKey&&(e.focus(1),c.preventDefault()):(f.focus(1),c.preventDefault())}},
mousedown:function(c){this._moveToTop(c)&&this._focusTabbable()}});this.element.find("[aria-describedby]").length||this.uiDialog.attr({"aria-describedby":this.element.uniqueId().attr("id")})},_createTitlebar:function(){this.uiDialogTitlebar=a("<div>").addClass("ui-dialog-titlebar ui-widget-header ui-corner-all ui-helper-clearfix").prependTo(this.uiDialog);this._on(this.uiDialogTitlebar,{mousedown:function(e){a(e.target).closest(".ui-dialog-titlebar-close")||this.uiDialog.focus()}});this.uiDialogTitlebarClose=
a("<button></button>").button({label:this.options.closeText,icons:{primary:"ui-icon-closethick"},text:!1}).addClass("ui-dialog-titlebar-close").appendTo(this.uiDialogTitlebar);this._on(this.uiDialogTitlebarClose,{click:function(e){e.preventDefault();this.close(e)}});var c=a("<span>").uniqueId().addClass("ui-dialog-title").prependTo(this.uiDialogTitlebar);this._title(c);this.uiDialog.attr({"aria-labelledby":c.attr("id")})},_title:function(c){this.options.title||c.html("&#160;");c.text(this.options.title)},
_createButtonPane:function(){this.uiDialogButtonPane=a("<div>").addClass("ui-dialog-buttonpane ui-widget-content ui-helper-clearfix");this.uiButtonSet=a("<div>").addClass("ui-dialog-buttonset").appendTo(this.uiDialogButtonPane);this._createButtons()},_createButtons:function(){var c=this,e=this.options.buttons;this.uiDialogButtonPane.remove();this.uiButtonSet.empty();a.isEmptyObject(e)||a.isArray(e)&&!e.length?this.uiDialog.removeClass("ui-dialog-buttons"):(a.each(e,function(f,h){h=a.isFunction(h)?
{click:h,text:f}:h;h=a.extend({type:"button"},h);var m=h.click;h.click=function(){m.apply(c.element[0],arguments)};f={icons:h.icons,text:h.showText};delete h.icons;delete h.showText;a("<button></button>",h).button(f).appendTo(c.uiButtonSet)}),this.uiDialog.addClass("ui-dialog-buttons"),this.uiDialogButtonPane.appendTo(this.uiDialog))},_makeDraggable:function(){function c(h){return{position:h.position,offset:h.offset}}var e=this,f=this.options;this.uiDialog.draggable({cancel:".ui-dialog-content, .ui-dialog-titlebar-close",
handle:".ui-dialog-titlebar",containment:"document",start:function(h,m){a(this).addClass("ui-dialog-dragging");e._blockFrames();e._trigger("dragStart",h,c(m))},drag:function(h,m){e._trigger("drag",h,c(m))},stop:function(h,m){f.position=[m.position.left-e.document.scrollLeft(),m.position.top-e.document.scrollTop()];a(this).removeClass("ui-dialog-dragging");e._unblockFrames();e._trigger("dragStop",h,c(m))}})},_makeResizable:function(){function c(k){return{originalPosition:k.originalPosition,originalSize:k.originalSize,
position:k.position,size:k.size}}var e=this,f=this.options,h=f.resizable,m=this.uiDialog.css("position");h="string"==typeof h?h:"n,e,s,w,se,sw,ne,nw";this.uiDialog.resizable({cancel:".ui-dialog-content",containment:"document",alsoResize:this.element,maxWidth:f.maxWidth,maxHeight:f.maxHeight,minWidth:f.minWidth,minHeight:this._minHeight(),handles:h,start:function(k,l){a(this).addClass("ui-dialog-resizing");e._blockFrames();e._trigger("resizeStart",k,c(l))},resize:function(k,l){e._trigger("resize",
k,c(l))},stop:function(k,l){f.height=a(this).height();f.width=a(this).width();a(this).removeClass("ui-dialog-resizing");e._unblockFrames();e._trigger("resizeStop",k,c(l))}}).css("position",m)},_minHeight:function(){var c=this.options;return"auto"===c.height?c.minHeight:Math.min(c.minHeight,c.height)},_position:function(){var c=this.uiDialog.is(":visible");c||this.uiDialog.show();this.uiDialog.position(this.options.position);c||this.uiDialog.hide()},_setOptions:function(c){var e=this,f=!1,h={};a.each(c,
function(m,k){e._setOption(m,k);m in d&&(f=!0);m in b&&(h[m]=k)});f&&(this._size(),this._position());this.uiDialog.is(":data(ui-resizable)")&&this.uiDialog.resizable("option",h)},_setOption:function(c,e){var f,h,m=this.uiDialog;"dialogClass"===c&&m.removeClass(this.options.dialogClass).addClass(e);"disabled"!==c&&(this._super(c,e),"appendTo"===c&&this.uiDialog.appendTo(this._appendTo()),"buttons"===c&&this._createButtons(),"closeText"===c&&this.uiDialogTitlebarClose.button({label:""+e}),"draggable"===
c&&(f=m.is(":data(ui-draggable)"),f&&!e&&m.draggable("destroy"),!f&&e&&this._makeDraggable()),"position"===c&&this._position(),"resizable"===c&&(h=m.is(":data(ui-resizable)"),h&&!e&&m.resizable("destroy"),h&&"string"==typeof e&&m.resizable("option","handles",e),!h&&!1!==e&&this._makeResizable()),"title"===c&&this._title(this.uiDialogTitlebar.find(".ui-dialog-title")))},_size:function(){var c=this.options;this.element.show().css({width:"auto",minHeight:0,maxHeight:"none",height:0});c.minWidth>c.width&&
(c.width=c.minWidth);var e=this.uiDialog.css({height:"auto",width:c.width}).outerHeight();var f=Math.max(0,c.minHeight-e);var h="number"==typeof c.maxHeight?Math.max(0,c.maxHeight-e):"none";"auto"===c.height?this.element.css({minHeight:f,maxHeight:h,height:"auto"}):this.element.height(Math.max(0,c.height-e));this.uiDialog.is(":data(ui-resizable)")&&this.uiDialog.resizable("option","minHeight",this._minHeight())},_blockFrames:function(){this.iframeBlocks=this.document.find("iframe").map(function(){var c=
a(this);return a("<div>").css({position:"absolute",width:c.outerWidth(),height:c.outerHeight()}).appendTo(c.parent()).offset(c.offset())[0]})},_unblockFrames:function(){this.iframeBlocks&&(this.iframeBlocks.remove(),delete this.iframeBlocks)},_createOverlay:function(){this.options.modal&&(a.ui.dialog.overlayInstances||this._delay(function(){a.ui.dialog.overlayInstances&&this.document.bind("focusin.dialog",function(c){a(c.target).closest(".ui-dialog").length||a(c.target).closest(".ui-datepicker").length||
(c.preventDefault(),a(".ui-dialog:visible:last .ui-dialog-content").data("ui-dialog")._focusTabbable())})}),this.overlay=a("<div>").addClass("ui-widget-overlay ui-front").appendTo(this._appendTo()),this._on(this.overlay,{mousedown:"_keepFocus"}),a.ui.dialog.overlayInstances++)},_destroyOverlay:function(){this.options.modal&&this.overlay&&(a.ui.dialog.overlayInstances--,a.ui.dialog.overlayInstances||this.document.unbind("focusin.dialog"),this.overlay.remove(),this.overlay=null)}});a.ui.dialog.overlayInstances=
0;!1!==a.uiBackCompat&&a.widget("ui.dialog",a.ui.dialog,{_position:function(){var c=this.options.position,e=[],f=[0,0],h;if(c){if("string"==typeof c||"object"==typeof c&&"0"in c)e=c.split?c.split(" "):[c[0],c[1]],1===e.length&&(e[1]=e[0]),a.each(["left","top"],function(m,k){+e[m]===e[m]&&(f[m]=e[m],e[m]=k)}),c={my:e[0]+(0>f[0]?f[0]:"+"+f[0])+" "+e[1]+(0>f[1]?f[1]:"+"+f[1]),at:e.join(" ")};c=a.extend({},a.ui.dialog.prototype.options.position,c)}else c=a.ui.dialog.prototype.options.position;(h=this.uiDialog.is(":visible"))||
this.uiDialog.show();this.uiDialog.position(c);h||this.uiDialog.hide()}})})(jQuery);
(function(a,g){a.widget("ui.menu",{version:"1.10.1",defaultElement:"<ul>",delay:300,options:{icons:{submenu:"ui-icon-carat-1-e"},menus:"ul",position:{my:"left top",at:"right top"},role:"menu",blur:null,focus:null,select:null},_create:function(){this.activeMenu=this.element;this.mouseHandled=!1;this.element.uniqueId().addClass("ui-menu ui-widget ui-widget-content ui-corner-all").toggleClass("ui-menu-icons",!!this.element.find(".ui-icon").length).attr({role:this.options.role,tabIndex:0}).bind("click"+
this.eventNamespace,a.proxy(function(d){this.options.disabled&&d.preventDefault()},this));this.options.disabled&&this.element.addClass("ui-state-disabled").attr("aria-disabled","true");this._on({"mousedown .ui-menu-item > a":function(d){d.preventDefault()},"click .ui-state-disabled > a":function(d){d.preventDefault()},"click .ui-menu-item:has(a)":function(d){var b=a(d.target).closest(".ui-menu-item");!this.mouseHandled&&b.not(".ui-state-disabled").length&&(this.mouseHandled=!0,this.select(d),b.has(".ui-menu").length?
this.expand(d):this.element.is(":focus")||(this.element.trigger("focus",[!0]),this.active&&1===this.active.parents(".ui-menu").length&&clearTimeout(this.timer)))},"mouseenter .ui-menu-item":function(d){var b=a(d.currentTarget);b.siblings().children(".ui-state-active").removeClass("ui-state-active");this.focus(d,b)},mouseleave:"collapseAll","mouseleave .ui-menu":"collapseAll",focus:function(d,b){var c=this.active||this.element.children(".ui-menu-item").eq(0);b||this.focus(d,c)},blur:function(d){this._delay(function(){a.contains(this.element[0],
this.document[0].activeElement)||this.collapseAll(d)})},keydown:"_keydown"});this.refresh();this._on(this.document,{click:function(d){a(d.target).closest(".ui-menu").length||this.collapseAll(d);this.mouseHandled=!1}})},_destroy:function(){this.element.removeAttr("aria-activedescendant").find(".ui-menu").addBack().removeClass("ui-menu ui-widget ui-widget-content ui-corner-all ui-menu-icons").removeAttr("role").removeAttr("tabIndex").removeAttr("aria-labelledby").removeAttr("aria-expanded").removeAttr("aria-hidden").removeAttr("aria-disabled").removeUniqueId().show();
this.element.find(".ui-menu-item").removeClass("ui-menu-item").removeAttr("role").removeAttr("aria-disabled").children("a").removeUniqueId().removeClass("ui-corner-all ui-state-hover").removeAttr("tabIndex").removeAttr("role").removeAttr("aria-haspopup").children().each(function(){var d=a(this);d.data("ui-menu-submenu-carat")&&d.remove()});this.element.find(".ui-menu-divider").removeClass("ui-menu-divider ui-widget-content")},_keydown:function(d){function b(k){return k.replace(/[\-\[\]{}()*+?.,\\\^$|#\s]/g,
"\\$&")}var c=!0;switch(d.keyCode){case a.ui.keyCode.PAGE_UP:this.previousPage(d);break;case a.ui.keyCode.PAGE_DOWN:this.nextPage(d);break;case a.ui.keyCode.HOME:this._move("first","first",d);break;case a.ui.keyCode.END:this._move("last","last",d);break;case a.ui.keyCode.UP:this.previous(d);break;case a.ui.keyCode.DOWN:this.next(d);break;case a.ui.keyCode.LEFT:this.collapse(d);break;case a.ui.keyCode.RIGHT:this.active&&!this.active.is(".ui-state-disabled")&&this.expand(d);break;case a.ui.keyCode.ENTER:case a.ui.keyCode.SPACE:this._activate(d);
break;case a.ui.keyCode.ESCAPE:this.collapse(d);break;default:c=!1;var e=this.previousFilter||"";var f=String.fromCharCode(d.keyCode);var h=!1;clearTimeout(this.filterTimer);f===e?h=!0:f=e+f;var m=new RegExp("^"+b(f),"i");e=this.activeMenu.children(".ui-menu-item").filter(function(){return m.test(a(this).children("a").text())});e=h&&-1!==e.index(this.active.next())?this.active.nextAll(".ui-menu-item"):e;e.length||(f=String.fromCharCode(d.keyCode),m=new RegExp("^"+b(f),"i"),e=this.activeMenu.children(".ui-menu-item").filter(function(){return m.test(a(this).children("a").text())}));
e.length?(this.focus(d,e),1<e.length?(this.previousFilter=f,this.filterTimer=this._delay(function(){delete this.previousFilter},1E3)):delete this.previousFilter):delete this.previousFilter}c&&d.preventDefault()},_activate:function(d){this.active.is(".ui-state-disabled")||(this.active.children("a[aria-haspopup='true']").length?this.expand(d):this.select(d))},refresh:function(){var d=this.options.icons.submenu;var b=this.element.find(this.options.menus);b.filter(":not(.ui-menu)").addClass("ui-menu ui-widget ui-widget-content ui-corner-all").hide().attr({role:this.options.role,
"aria-hidden":"true","aria-expanded":"false"}).each(function(){var c=a(this),e=c.prev("a"),f=a("<span>").addClass("ui-menu-icon ui-icon "+d).data("ui-menu-submenu-carat",!0);e.attr("aria-haspopup","true").prepend(f);c.attr("aria-labelledby",e.attr("id"))});b=b.add(this.element);b.children(":not(.ui-menu-item):has(a)").addClass("ui-menu-item").attr("role","presentation").children("a").uniqueId().addClass("ui-corner-all").attr({tabIndex:-1,role:this._itemRole()});b.children(":not(.ui-menu-item)").each(function(){var c=
a(this);/[^\-\u2014\u2013\s]/.test(c.text())||c.addClass("ui-widget-content ui-menu-divider")});b.children(".ui-state-disabled").attr("aria-disabled","true");this.active&&!a.contains(this.element[0],this.active[0])&&this.blur()},_itemRole:function(){return{menu:"menuitem",listbox:"option"}[this.options.role]},_setOption:function(d,b){"icons"===d&&this.element.find(".ui-menu-icon").removeClass(this.options.icons.submenu).addClass(b.submenu);this._super(d,b)},focus:function(d,b){this.blur(d,d&&"focus"===
d.type);this._scrollIntoView(b);this.active=b.first();var c=this.active.children("a").addClass("ui-state-focus");this.options.role&&this.element.attr("aria-activedescendant",c.attr("id"));this.active.parent().closest(".ui-menu-item").children("a:first").addClass("ui-state-active");d&&"keydown"===d.type?this._close():this.timer=this._delay(function(){this._close()},this.delay);c=b.children(".ui-menu");c.length&&/^mouse/.test(d.type)&&this._startOpening(c);this.activeMenu=b.parent();this._trigger("focus",
d,{item:b})},_scrollIntoView:function(d){var b,c,e,f,h,m;this._hasScroll()&&(b=parseFloat(a.css(this.activeMenu[0],"borderTopWidth"))||0,c=parseFloat(a.css(this.activeMenu[0],"paddingTop"))||0,e=d.offset().top-this.activeMenu.offset().top-b-c,f=this.activeMenu.scrollTop(),h=this.activeMenu.height(),m=d.height(),0>e?this.activeMenu.scrollTop(f+e):e+m>h&&this.activeMenu.scrollTop(f+e-h+m))},blur:function(d,b){b||clearTimeout(this.timer);this.active&&(this.active.children("a").removeClass("ui-state-focus"),
this.active=null,this._trigger("blur",d,{item:this.active}))},_startOpening:function(d){clearTimeout(this.timer);"true"===d.attr("aria-hidden")&&(this.timer=this._delay(function(){this._close();this._open(d)},this.delay))},_open:function(d){var b=a.extend({of:this.active},this.options.position);clearTimeout(this.timer);this.element.find(".ui-menu").not(d.parents(".ui-menu")).hide().attr("aria-hidden","true");d.show().removeAttr("aria-hidden").attr("aria-expanded","true").position(b)},collapseAll:function(d,
b){clearTimeout(this.timer);this.timer=this._delay(function(){var c=b?this.element:a(d&&d.target).closest(this.element.find(".ui-menu"));c.length||(c=this.element);this._close(c);this.blur(d);this.activeMenu=c},this.delay)},_close:function(d){d||=this.active?this.active.parent():this.element;d.find(".ui-menu").hide().attr("aria-hidden","true").attr("aria-expanded","false").end().find("a.ui-state-active").removeClass("ui-state-active")},collapse:function(d){var b=this.active&&this.active.parent().closest(".ui-menu-item",
this.element);b&&b.length&&(this._close(),this.focus(d,b))},expand:function(d){var b=this.active&&this.active.children(".ui-menu ").children(".ui-menu-item").first();b&&b.length&&(this._open(b.parent()),this._delay(function(){this.focus(d,b)}))},next:function(d){this._move("next","first",d)},previous:function(d){this._move("prev","last",d)},isFirstItem:function(){return this.active&&!this.active.prevAll(".ui-menu-item").length},isLastItem:function(){return this.active&&!this.active.nextAll(".ui-menu-item").length},
_move:function(d,b,c){var e;this.active&&("first"===d||"last"===d?e=this.active["first"===d?"prevAll":"nextAll"](".ui-menu-item").eq(-1):e=this.active[d+"All"](".ui-menu-item").eq(0));e&&e.length&&this.active||(e=this.activeMenu.children(".ui-menu-item")[b]());this.focus(c,e)},nextPage:function(d){var b,c,e;this.active?this.isLastItem()||(this._hasScroll()?(c=this.active.offset().top,e=this.element.height(),this.active.nextAll(".ui-menu-item").each(function(){return b=a(this),0>b.offset().top-c-e}),
this.focus(d,b)):this.focus(d,this.activeMenu.children(".ui-menu-item")[this.active?"last":"first"]())):this.next(d)},previousPage:function(d){var b,c,e;this.active?this.isFirstItem()||(this._hasScroll()?(c=this.active.offset().top,e=this.element.height(),this.active.prevAll(".ui-menu-item").each(function(){return b=a(this),0<b.offset().top-c+e}),this.focus(d,b)):this.focus(d,this.activeMenu.children(".ui-menu-item").first())):this.next(d)},_hasScroll:function(){return this.element.outerHeight()<
this.element.prop("scrollHeight")},select:function(d){this.active=this.active||a(d.target).closest(".ui-menu-item");var b={item:this.active};this.active.has(".ui-menu").length||this.collapseAll(d,!0);this._trigger("select",d,b)}})})(jQuery);
(function(a,g){a.widget("ui.progressbar",{version:"1.10.1",options:{max:100,value:0,change:null,complete:null},min:0,_create:function(){this.oldValue=this.options.value=this._constrainedValue();this.element.addClass("ui-progressbar ui-widget ui-widget-content ui-corner-all").attr({role:"progressbar","aria-valuemin":this.min});this.valueDiv=a("<div class='ui-progressbar-value ui-widget-header ui-corner-left'></div>").appendTo(this.element);this._refreshValue()},_destroy:function(){this.element.removeClass("ui-progressbar ui-widget ui-widget-content ui-corner-all").removeAttr("role").removeAttr("aria-valuemin").removeAttr("aria-valuemax").removeAttr("aria-valuenow");
this.valueDiv.remove()},value:function(d){if(d===g)return this.options.value;this.options.value=this._constrainedValue(d);this._refreshValue()},_constrainedValue:function(d){return d===g&&(d=this.options.value),this.indeterminate=!1===d,"number"!=typeof d&&(d=0),this.indeterminate?!1:Math.min(this.options.max,Math.max(this.min,d))},_setOptions:function(d){var b=d.value;delete d.value;this._super(d);this.options.value=this._constrainedValue(b);this._refreshValue()},_setOption:function(d,b){"max"===
d&&(b=Math.max(this.min,b));this._super(d,b)},_percentage:function(){return this.indeterminate?100:100*(this.options.value-this.min)/(this.options.max-this.min)},_refreshValue:function(){var d=this.options.value,b=this._percentage();this.valueDiv.toggle(this.indeterminate||d>this.min).toggleClass("ui-corner-right",d===this.options.max).width(b.toFixed(0)+"%");this.element.toggleClass("ui-progressbar-indeterminate",this.indeterminate);this.indeterminate?(this.element.removeAttr("aria-valuenow"),this.overlayDiv||
(this.overlayDiv=a("<div class='ui-progressbar-overlay'></div>").appendTo(this.valueDiv))):(this.element.attr({"aria-valuemax":this.options.max,"aria-valuenow":d}),this.overlayDiv&&(this.overlayDiv.remove(),this.overlayDiv=null));this.oldValue!==d&&(this.oldValue=d,this._trigger("change"));d===this.options.max&&this._trigger("complete")}})})(jQuery);
(function(a,g){a.widget("ui.slider",a.ui.mouse,{version:"1.10.1",widgetEventPrefix:"slide",options:{animate:!1,distance:0,max:100,min:0,orientation:"horizontal",range:!1,step:1,value:0,values:null,change:null,slide:null,start:null,stop:null},_create:function(){this._mouseSliding=this._keySliding=!1;this._animateOff=!0;this._handleIndex=null;this._detectOrientation();this._mouseInit();this.element.addClass("ui-slider ui-slider-"+this.orientation+" ui-widget ui-widget-content ui-corner-all");this._refresh();
this._setOption("disabled",this.options.disabled);this._animateOff=!1},_refresh:function(){this._createRange();this._createHandles();this._setupEvents();this._refreshValue()},_createHandles:function(){var d=this.options;var b=this.element.find(".ui-slider-handle").addClass("ui-state-default ui-corner-all"),c=[];var e=d.values&&d.values.length||1;b.length>e&&(b.slice(e).remove(),b=b.slice(0,e));for(d=b.length;d<e;d++)c.push("<a class='ui-slider-handle ui-state-default ui-corner-all' href='#'></a>");
this.handles=b.add(a(c.join("")).appendTo(this.element));this.handle=this.handles.eq(0);this.handles.each(function(f){a(this).data("ui-slider-handle-index",f)})},_createRange:function(){var d=this.options,b="";d.range?(!0===d.range&&(d.values?d.values.length&&2!==d.values.length?d.values=[d.values[0],d.values[0]]:a.isArray(d.values)&&(d.values=d.values.slice(0)):d.values=[this._valueMin(),this._valueMin()]),this.range&&this.range.length?this.range.removeClass("ui-slider-range-min ui-slider-range-max").css({left:"",
bottom:""}):(this.range=a("<div></div>").appendTo(this.element),b="ui-slider-range ui-widget-header ui-corner-all"),this.range.addClass(b+("min"===d.range||"max"===d.range?" ui-slider-range-"+d.range:""))):this.range=a([])},_setupEvents:function(){var d=this.handles.add(this.range).filter("a");this._off(d);this._on(d,this._handleEvents);this._hoverable(d);this._focusable(d)},_destroy:function(){this.handles.remove();this.range.remove();this.element.removeClass("ui-slider ui-slider-horizontal ui-slider-vertical ui-widget ui-widget-content ui-corner-all");
this._mouseDestroy()},_mouseCapture:function(d){var b,c,e,f,h,m,k,l,p=this,q=this.options;return q.disabled?!1:(this.elementSize={width:this.element.outerWidth(),height:this.element.outerHeight()},this.elementOffset=this.element.offset(),b={x:d.pageX,y:d.pageY},c=this._normValueFromMouse(b),e=this._valueMax()-this._valueMin()+1,this.handles.each(function(u){var t=Math.abs(c-p.values(u));if(e>t||e===t&&(u===p._lastChangedValue||p.values(u)===q.min))e=t,f=a(this),h=u}),m=this._start(d,h),!1===m?!1:
(this._mouseSliding=!0,this._handleIndex=h,f.addClass("ui-state-active").focus(),k=f.offset(),l=!a(d.target).parents().addBack().is(".ui-slider-handle"),this._clickOffset=l?{left:0,top:0}:{left:d.pageX-k.left-f.width()/2,top:d.pageY-k.top-f.height()/2-(parseInt(f.css("borderTopWidth"),10)||0)-(parseInt(f.css("borderBottomWidth"),10)||0)+(parseInt(f.css("marginTop"),10)||0)},this.handles.hasClass("ui-state-hover")||this._slide(d,h,c),this._animateOff=!0,!0))},_mouseStart:function(){return!0},_mouseDrag:function(d){var b=
this._normValueFromMouse({x:d.pageX,y:d.pageY});return this._slide(d,this._handleIndex,b),!1},_mouseStop:function(d){return this.handles.removeClass("ui-state-active"),this._mouseSliding=!1,this._stop(d,this._handleIndex),this._change(d,this._handleIndex),this._handleIndex=null,this._clickOffset=null,this._animateOff=!1,!1},_detectOrientation:function(){this.orientation="vertical"===this.options.orientation?"vertical":"horizontal"},_normValueFromMouse:function(d){var b,c,e,f,h;return"horizontal"===
this.orientation?(b=this.elementSize.width,c=d.x-this.elementOffset.left-(this._clickOffset?this._clickOffset.left:0)):(b=this.elementSize.height,c=d.y-this.elementOffset.top-(this._clickOffset?this._clickOffset.top:0)),e=c/b,1<e&&(e=1),0>e&&(e=0),"vertical"===this.orientation&&(e=1-e),f=this._valueMax()-this._valueMin(),h=this._valueMin()+e*f,this._trimAlignValue(h)},_start:function(d,b){var c={handle:this.handles[b],value:this.value()};return this.options.values&&this.options.values.length&&(c.value=
this.values(b),c.values=this.values()),this._trigger("start",d,c)},_slide:function(d,b,c){var e,f,h;this.options.values&&this.options.values.length?(e=this.values(b?0:1),2===this.options.values.length&&!0===this.options.range&&(0===b&&c>e||1===b&&c<e)&&(c=e),c!==this.values(b)&&(f=this.values(),f[b]=c,h=this._trigger("slide",d,{handle:this.handles[b],value:c,values:f}),this.values(b?0:1),!1!==h&&this.values(b,c,!0))):c!==this.value()&&(h=this._trigger("slide",d,{handle:this.handles[b],value:c}),!1!==
h&&this.value(c))},_stop:function(d,b){var c={handle:this.handles[b],value:this.value()};this.options.values&&this.options.values.length&&(c.value=this.values(b),c.values=this.values());this._trigger("stop",d,c)},_change:function(d,b){if(!this._keySliding&&!this._mouseSliding){var c={handle:this.handles[b],value:this.value()};this.options.values&&this.options.values.length&&(c.value=this.values(b),c.values=this.values());this._lastChangedValue=b;this._trigger("change",d,c)}},value:function(d){if(arguments.length)this.options.value=
this._trimAlignValue(d),this._refreshValue(),this._change(null,0);else return this._value()},values:function(d,b){var c;if(1<arguments.length)this.options.values[d]=this._trimAlignValue(b),this._refreshValue(),this._change(null,d);else{if(!arguments.length)return this._values();if(!a.isArray(arguments[0]))return this.options.values&&this.options.values.length?this._values(d):this.value();var e=this.options.values;var f=arguments[0];for(c=0;c<e.length;c+=1)e[c]=this._trimAlignValue(f[c]),this._change(null,
c);this._refreshValue()}},_setOption:function(d,b){var c,e=0;"range"===d&&!0===this.options.range&&("min"===b?(this.options.value=this._values(0),this.options.values=null):"max"===b&&(this.options.value=this._values(this.options.values.length-1),this.options.values=null));a.isArray(this.options.values)&&(e=this.options.values.length);a.Widget.prototype._setOption.apply(this,arguments);switch(d){case "orientation":this._detectOrientation();this.element.removeClass("ui-slider-horizontal ui-slider-vertical").addClass("ui-slider-"+
this.orientation);this._refreshValue();break;case "value":this._animateOff=!0;this._refreshValue();this._change(null,0);this._animateOff=!1;break;case "values":this._animateOff=!0;this._refreshValue();for(c=0;c<e;c+=1)this._change(null,c);this._animateOff=!1;break;case "min":case "max":this._animateOff=!0;this._refreshValue();this._animateOff=!1;break;case "range":this._animateOff=!0,this._refresh(),this._animateOff=!1}},_value:function(){var d=this.options.value;return d=this._trimAlignValue(d),
d},_values:function(d){var b,c;if(arguments.length)return b=this.options.values[d],b=this._trimAlignValue(b),b;if(this.options.values&&this.options.values.length){b=this.options.values.slice();for(c=0;c<b.length;c+=1)b[c]=this._trimAlignValue(b[c]);return b}return[]},_trimAlignValue:function(d){if(d<=this._valueMin())return this._valueMin();if(d>=this._valueMax())return this._valueMax();var b=0<this.options.step?this.options.step:1,c=(d-this._valueMin())%b;d-=c;return 2*Math.abs(c)>=b&&(d+=0<c?b:
-b),parseFloat(d.toFixed(5))},_valueMin:function(){return this.options.min},_valueMax:function(){return this.options.max},_refreshValue:function(){var d,b,c,e,f,h=this.options.range,m=this.options,k=this,l=this._animateOff?!1:m.animate,p={};this.options.values&&this.options.values.length?this.handles.each(function(q){b=(k.values(q)-k._valueMin())/(k._valueMax()-k._valueMin())*100;p["horizontal"===k.orientation?"left":"bottom"]=b+"%";a(this).stop(1,1)[l?"animate":"css"](p,m.animate);!0===k.options.range&&
("horizontal"===k.orientation?(0===q&&k.range.stop(1,1)[l?"animate":"css"]({left:b+"%"},m.animate),1===q&&k.range[l?"animate":"css"]({width:b-d+"%"},{queue:!1,duration:m.animate})):(0===q&&k.range.stop(1,1)[l?"animate":"css"]({bottom:b+"%"},m.animate),1===q&&k.range[l?"animate":"css"]({height:b-d+"%"},{queue:!1,duration:m.animate})));d=b}):(c=this.value(),e=this._valueMin(),f=this._valueMax(),b=f!==e?(c-e)/(f-e)*100:0,p["horizontal"===this.orientation?"left":"bottom"]=b+"%",this.handle.stop(1,1)[l?
"animate":"css"](p,m.animate),"min"===h&&"horizontal"===this.orientation&&this.range.stop(1,1)[l?"animate":"css"]({width:b+"%"},m.animate),"max"===h&&"horizontal"===this.orientation&&this.range[l?"animate":"css"]({width:100-b+"%"},{queue:!1,duration:m.animate}),"min"===h&&"vertical"===this.orientation&&this.range.stop(1,1)[l?"animate":"css"]({height:b+"%"},m.animate),"max"===h&&"vertical"===this.orientation&&this.range[l?"animate":"css"]({height:100-b+"%"},{queue:!1,duration:m.animate}))},_handleEvents:{keydown:function(d){var b,
c,e=a(d.target).data("ui-slider-handle-index");switch(d.keyCode){case a.ui.keyCode.HOME:case a.ui.keyCode.END:case a.ui.keyCode.PAGE_UP:case a.ui.keyCode.PAGE_DOWN:case a.ui.keyCode.UP:case a.ui.keyCode.RIGHT:case a.ui.keyCode.DOWN:case a.ui.keyCode.LEFT:if(d.preventDefault(),!this._keySliding){this._keySliding=!0;a(d.target).addClass("ui-state-active");var f=this._start(d,e);if(!1===f)return}}f=this.options.step;this.options.values&&this.options.values.length?b=c=this.values(e):b=c=this.value();
switch(d.keyCode){case a.ui.keyCode.HOME:c=this._valueMin();break;case a.ui.keyCode.END:c=this._valueMax();break;case a.ui.keyCode.PAGE_UP:c=this._trimAlignValue(b+(this._valueMax()-this._valueMin())/5);break;case a.ui.keyCode.PAGE_DOWN:c=this._trimAlignValue(b-(this._valueMax()-this._valueMin())/5);break;case a.ui.keyCode.UP:case a.ui.keyCode.RIGHT:if(b===this._valueMax())return;c=this._trimAlignValue(b+f);break;case a.ui.keyCode.DOWN:case a.ui.keyCode.LEFT:if(b===this._valueMin())return;c=this._trimAlignValue(b-
f)}this._slide(d,e,c)},click:function(d){d.preventDefault()},keyup:function(d){var b=a(d.target).data("ui-slider-handle-index");this._keySliding&&(this._keySliding=!1,this._stop(d,b),this._change(d,b),a(d.target).removeClass("ui-state-active"))}}})})(jQuery);
(function(a){function g(d){return function(){var b=this.element.val();d.apply(this,arguments);this._refresh();b!==this.element.val()&&this._trigger("change")}}a.widget("ui.spinner",{version:"1.10.1",defaultElement:"<input>",widgetEventPrefix:"spin",options:{culture:null,icons:{down:"ui-icon-triangle-1-s",up:"ui-icon-triangle-1-n"},incremental:!0,max:null,min:null,numberFormat:null,page:10,step:1,change:null,spin:null,start:null,stop:null},_create:function(){this._setOption("max",this.options.max);
this._setOption("min",this.options.min);this._setOption("step",this.options.step);this._value(this.element.val(),!0);this._draw();this._on(this._events);this._refresh();this._on(this.window,{beforeunload:function(){this.element.removeAttr("autocomplete")}})},_getCreateOptions:function(){var d={},b=this.element;return a.each(["min","max","step"],function(c,e){c=b.attr(e);void 0!==c&&c.length&&(d[e]=c)}),d},_events:{keydown:function(d){this._start(d)&&this._keydown(d)&&d.preventDefault()},keyup:"_stop",
focus:function(){this.previous=this.element.val()},blur:function(d){this.cancelBlur?delete this.cancelBlur:(this._refresh(),this.previous!==this.element.val()&&this._trigger("change",d))},mousewheel:function(d,b){if(b){if(!this.spinning&&!this._start(d))return!1;this._spin((0<b?1:-1)*this.options.step,d);clearTimeout(this.mousewheelTimer);this.mousewheelTimer=this._delay(function(){this.spinning&&this._stop(d)},100);d.preventDefault()}},"mousedown .ui-spinner-button":function(d){function b(){this.element[0]===
this.document[0].activeElement||(this.element.focus(),this.previous=c,this._delay(function(){this.previous=c}))}var c=this.element[0]===this.document[0].activeElement?this.previous:this.element.val();d.preventDefault();b.call(this);this.cancelBlur=!0;this._delay(function(){delete this.cancelBlur;b.call(this)});!1!==this._start(d)&&this._repeat(null,a(d.currentTarget).hasClass("ui-spinner-up")?1:-1,d)},"mouseup .ui-spinner-button":"_stop","mouseenter .ui-spinner-button":function(d){if(a(d.currentTarget).hasClass("ui-state-active")){if(!1===
this._start(d))return!1;this._repeat(null,a(d.currentTarget).hasClass("ui-spinner-up")?1:-1,d)}},"mouseleave .ui-spinner-button":"_stop"},_draw:function(){var d=this.uiSpinner=this.element.addClass("ui-spinner-input").attr("autocomplete","off").wrap(this._uiSpinnerHtml()).parent().append(this._buttonHtml());this.element.attr("role","spinbutton");this.buttons=d.find(".ui-spinner-button").attr("tabIndex",-1).button().removeClass("ui-corner-all");this.buttons.height()>Math.ceil(.5*d.height())&&0<d.height()&&
d.height(d.height());this.options.disabled&&this.disable()},_keydown:function(d){var b=this.options,c=a.ui.keyCode;switch(d.keyCode){case c.UP:return this._repeat(null,1,d),!0;case c.DOWN:return this._repeat(null,-1,d),!0;case c.PAGE_UP:return this._repeat(null,b.page,d),!0;case c.PAGE_DOWN:return this._repeat(null,-b.page,d),!0}return!1},_uiSpinnerHtml:function(){return"<span class='ui-spinner ui-widget ui-widget-content ui-corner-all'></span>"},_buttonHtml:function(){return"<a class='ui-spinner-button ui-spinner-up ui-corner-tr'><span class='ui-icon "+
this.options.icons.up+"'>&#9650;</span></a><a class='ui-spinner-button ui-spinner-down ui-corner-br'><span class='ui-icon "+this.options.icons.down+"'>&#9660;</span></a>"},_start:function(d){return this.spinning||!1!==this._trigger("start",d)?(this.counter||(this.counter=1),this.spinning=!0,!0):!1},_repeat:function(d,b,c){d=d||500;clearTimeout(this.timer);this.timer=this._delay(function(){this._repeat(40,b,c)},d);this._spin(b*this.options.step,c)},_spin:function(d,b){var c=this.value()||0;this.counter||
(this.counter=1);c=this._adjustValue(c+d*this._increment(this.counter));this.spinning&&!1===this._trigger("spin",b,{value:c})||(this._value(c),this.counter++)},_increment:function(d){var b=this.options.incremental;return b?a.isFunction(b)?b(d):Math.floor(d*d*d/5E4-d*d/500+17*d/200+1):1},_precision:function(){var d=this._precisionOf(this.options.step);return null!==this.options.min&&(d=Math.max(d,this._precisionOf(this.options.min))),d},_precisionOf:function(d){d=d.toString();var b=d.indexOf(".");
return-1===b?0:d.length-b-1},_adjustValue:function(d){var b,c,e=this.options;return b=null!==e.min?e.min:0,c=d-b,c=Math.round(c/e.step)*e.step,d=b+c,d=parseFloat(d.toFixed(this._precision())),null!==e.max&&d>e.max?e.max:null!==e.min&&d<e.min?e.min:d},_stop:function(d){this.spinning&&(clearTimeout(this.timer),clearTimeout(this.mousewheelTimer),this.counter=0,this.spinning=!1,this._trigger("stop",d))},_setOption:function(d,b){if("culture"===d||"numberFormat"===d){var c=this._parse(this.element.val());
this.options[d]=b;this.element.val(this._format(c))}else"max"!==d&&"min"!==d&&"step"!==d||"string"!=typeof b||(b=this._parse(b)),"icons"===d&&(this.buttons.first().find(".ui-icon").removeClass(this.options.icons.up).addClass(b.up),this.buttons.last().find(".ui-icon").removeClass(this.options.icons.down).addClass(b.down)),this._super(d,b),"disabled"===d&&(b?(this.element.prop("disabled",!0),this.buttons.button("disable")):(this.element.prop("disabled",!1),this.buttons.button("enable")))},_setOptions:g(function(d){this._super(d);
this._value(this.element.val())}),_parse:function(d){return"string"==typeof d&&""!==d&&(d=window.Globalize&&this.options.numberFormat?Globalize.parseFloat(d,10,this.options.culture):+d),""===d||isNaN(d)?null:d},_format:function(d){return""===d?"":window.Globalize&&this.options.numberFormat?Globalize.format(d,this.options.numberFormat,this.options.culture):d},_refresh:function(){this.element.attr({"aria-valuemin":this.options.min,"aria-valuemax":this.options.max,"aria-valuenow":this._parse(this.element.val())})},
_value:function(d,b){var c;""!==d&&(c=this._parse(d),null!==c&&(b||(c=this._adjustValue(c)),d=this._format(c)));this.element.val(d);this._refresh()},_destroy:function(){this.element.removeClass("ui-spinner-input").prop("disabled",!1).removeAttr("autocomplete").removeAttr("role").removeAttr("aria-valuemin").removeAttr("aria-valuemax").removeAttr("aria-valuenow");this.uiSpinner.replaceWith(this.element)},stepUp:g(function(d){this._stepUp(d)}),_stepUp:function(d){this._start()&&(this._spin((d||1)*this.options.step),
this._stop())},stepDown:g(function(d){this._stepDown(d)}),_stepDown:function(d){this._start()&&(this._spin((d||1)*-this.options.step),this._stop())},pageUp:g(function(d){this._stepUp((d||1)*this.options.page)}),pageDown:g(function(d){this._stepDown((d||1)*this.options.page)}),value:function(d){if(!arguments.length)return this._parse(this.element.val());g(this._value).call(this,d)},widget:function(){return this.uiSpinner}})})(jQuery);
(function(a,g){function d(e){return 1<e.hash.length&&decodeURIComponent(e.href.replace(c,""))===decodeURIComponent(location.href.replace(c,""))}var b=0,c=/#.*$/;a.widget("ui.tabs",{version:"1.10.1",delay:300,options:{active:null,collapsible:!1,event:"click",heightStyle:"content",hide:null,show:null,activate:null,beforeActivate:null,beforeLoad:null,load:null},_create:function(){var e=this,f=this.options;this.running=!1;this.element.addClass("ui-tabs ui-widget ui-widget-content ui-corner-all").toggleClass("ui-tabs-collapsible",
f.collapsible).delegate(".ui-tabs-nav > li","mousedown"+this.eventNamespace,function(h){a(this).is(".ui-state-disabled")&&h.preventDefault()}).delegate(".ui-tabs-anchor","focus"+this.eventNamespace,function(){a(this).closest("li").is(".ui-state-disabled")&&this.blur()});this._processTabs();f.active=this._initialActive();a.isArray(f.disabled)&&(f.disabled=a.unique(f.disabled.concat(a.map(this.tabs.filter(".ui-state-disabled"),function(h){return e.tabs.index(h)}))).sort());!1!==this.options.active&&
this.anchors.length?this.active=this._findActive(f.active):this.active=a();this._refresh();this.active.length&&this.load(f.active)},_initialActive:function(){var e=this.options.active,f=this.options.collapsible,h=location.hash.substring(1);null===e&&(h&&this.tabs.each(function(m,k){if(a(k).attr("aria-controls")===h)return e=m,!1}),null===e&&(e=this.tabs.index(this.tabs.filter(".ui-tabs-active"))),null===e||-1===e)&&(e=this.tabs.length?0:!1);return!1!==e&&(e=this.tabs.index(this.tabs.eq(e)),-1===e&&
(e=f?!1:0)),!f&&!1===e&&this.anchors.length&&(e=0),e},_getCreateEventData:function(){return{tab:this.active,panel:this.active.length?this._getPanelForTab(this.active):a()}},_tabKeydown:function(e){var f=a(this.document[0].activeElement).closest("li"),h=this.tabs.index(f),m=!0;if(!this._handlePageNav(e)){switch(e.keyCode){case a.ui.keyCode.RIGHT:case a.ui.keyCode.DOWN:h++;break;case a.ui.keyCode.UP:case a.ui.keyCode.LEFT:m=!1;h--;break;case a.ui.keyCode.END:h=this.anchors.length-1;break;case a.ui.keyCode.HOME:h=
0;break;case a.ui.keyCode.SPACE:e.preventDefault();clearTimeout(this.activating);this._activate(h);return;case a.ui.keyCode.ENTER:e.preventDefault();clearTimeout(this.activating);this._activate(h===this.options.active?!1:h);return;default:return}e.preventDefault();clearTimeout(this.activating);h=this._focusNextTab(h,m);e.ctrlKey||(f.attr("aria-selected","false"),this.tabs.eq(h).attr("aria-selected","true"),this.activating=this._delay(function(){this.option("active",h)},this.delay))}},_panelKeydown:function(e){this._handlePageNav(e)||
e.ctrlKey&&e.keyCode===a.ui.keyCode.UP&&(e.preventDefault(),this.active.focus())},_handlePageNav:function(e){if(e.altKey&&e.keyCode===a.ui.keyCode.PAGE_UP)return this._activate(this._focusNextTab(this.options.active-1,!1)),!0;if(e.altKey&&e.keyCode===a.ui.keyCode.PAGE_DOWN)return this._activate(this._focusNextTab(this.options.active+1,!0)),!0},_findNextTab:function(e,f){for(var h=this.tabs.length-1;-1!==a.inArray((e>h&&(e=0),0>e&&(e=h),e),this.options.disabled);)e=f?e+1:e-1;return e},_focusNextTab:function(e,
f){return e=this._findNextTab(e,f),this.tabs.eq(e).focus(),e},_setOption:function(e,f){"active"===e?this._activate(f):"disabled"===e?this._setupDisabled(f):(this._super(e,f),"collapsible"===e&&(this.element.toggleClass("ui-tabs-collapsible",f),!f&&!1===this.options.active&&this._activate(0)),"event"===e&&this._setupEvents(f),"heightStyle"===e&&this._setupHeightStyle(f))},_tabId:function(e){return e.attr("aria-controls")||"ui-tabs-"+ ++b},_sanitizeSelector:function(e){return e?e.replace(/[!"$%&'()*+,.\/:;<=>?@\[\]\^`{|}~]/g,
"\\$&"):""},refresh:function(){var e=this.options,f=this.tablist.children(":has(a[href])");e.disabled=a.map(f.filter(".ui-state-disabled"),function(h){return f.index(h)});this._processTabs();!1!==e.active&&this.anchors.length?this.active.length&&!a.contains(this.tablist[0],this.active[0])?this.tabs.length===e.disabled.length?(e.active=!1,this.active=a()):this._activate(this._findNextTab(Math.max(0,e.active-1),!1)):e.active=this.tabs.index(this.active):(e.active=!1,this.active=a());this._refresh()},
_refresh:function(){this._setupDisabled(this.options.disabled);this._setupEvents(this.options.event);this._setupHeightStyle(this.options.heightStyle);this.tabs.not(this.active).attr({"aria-selected":"false",tabIndex:-1});this.panels.not(this._getPanelForTab(this.active)).hide().attr({"aria-expanded":"false","aria-hidden":"true"});this.active.length?(this.active.addClass("ui-tabs-active ui-state-active").attr({"aria-selected":"true",tabIndex:0}),this._getPanelForTab(this.active).show().attr({"aria-expanded":"true",
"aria-hidden":"false"})):this.tabs.eq(0).attr("tabIndex",0)},_processTabs:function(){var e=this;this.tablist=this._getList().addClass("ui-tabs-nav ui-helper-reset ui-helper-clearfix ui-widget-header ui-corner-all").attr("role","tablist");this.tabs=this.tablist.find("> li:has(a[href])").addClass("ui-state-default ui-corner-top").attr({role:"tab",tabIndex:-1});this.anchors=this.tabs.map(function(){return a("a",this)[0]}).addClass("ui-tabs-anchor").attr({role:"presentation",tabIndex:-1});this.panels=
a();this.anchors.each(function(f,h){var m,k,l,p=a(h).uniqueId().attr("id"),q=a(h).closest("li"),u=q.attr("aria-controls");d(h)?(m=h.hash,k=e.element.find(e._sanitizeSelector(m))):(l=e._tabId(q),m="#"+l,k=e.element.find(m),k.length||(k=e._createPanel(l),k.insertAfter(e.panels[f-1]||e.tablist)),k.attr("aria-live","polite"));k.length&&(e.panels=e.panels.add(k));u&&q.data("ui-tabs-aria-controls",u);q.attr({"aria-controls":m.substring(1),"aria-labelledby":p});k.attr("aria-labelledby",p)});this.panels.addClass("ui-tabs-panel ui-widget-content ui-corner-bottom").attr("role",
"tabpanel")},_getList:function(){return this.element.find("ol,ul").eq(0)},_createPanel:function(e){return a("<div>").attr("id",e).addClass("ui-tabs-panel ui-widget-content ui-corner-bottom").data("ui-tabs-destroy",!0)},_setupDisabled:function(e){a.isArray(e)&&(e.length?e.length===this.anchors.length&&(e=!0):e=!1);for(var f=0,h;h=this.tabs[f];f++)!0===e||-1!==a.inArray(f,e)?a(h).addClass("ui-state-disabled").attr("aria-disabled","true"):a(h).removeClass("ui-state-disabled").removeAttr("aria-disabled");
this.options.disabled=e},_setupEvents:function(e){var f={click:function(h){h.preventDefault()}};e&&a.each(e.split(" "),function(h,m){f[m]="_eventHandler"});this._off(this.anchors.add(this.tabs).add(this.panels));this._on(this.anchors,f);this._on(this.tabs,{keydown:"_tabKeydown"});this._on(this.panels,{keydown:"_panelKeydown"});this._focusable(this.tabs);this._hoverable(this.tabs)},_setupHeightStyle:function(e){var f,h=this.element.parent();"fill"===e?(f=h.height(),f-=this.element.outerHeight()-this.element.height(),
this.element.siblings(":visible").each(function(){var m=a(this),k=m.css("position");"absolute"!==k&&"fixed"!==k&&(f-=m.outerHeight(!0))}),this.element.children().not(this.panels).each(function(){f-=a(this).outerHeight(!0)}),this.panels.each(function(){a(this).height(Math.max(0,f-a(this).innerHeight()+a(this).height()))}).css("overflow","auto")):"auto"===e&&(f=0,this.panels.each(function(){f=Math.max(f,a(this).height("").height())}).height(f))},_eventHandler:function(e){var f=this.options,h=this.active,
m=a(e.currentTarget).closest("li"),k=m[0]===h[0],l=k&&f.collapsible,p=l?a():this._getPanelForTab(m),q=h.length?this._getPanelForTab(h):a();h={oldTab:h,oldPanel:q,newTab:l?a():m,newPanel:p};e.preventDefault();m.hasClass("ui-state-disabled")||m.hasClass("ui-tabs-loading")||this.running||k&&!f.collapsible||!1===this._trigger("beforeActivate",e,h)||(f.active=l?!1:this.tabs.index(m),this.active=k?a():m,this.xhr&&this.xhr.abort(),q.length||p.length||a.error("jQuery UI Tabs: Mismatching fragment identifier."),
p.length&&this.load(this.tabs.index(m),e),this._toggle(e,h))},_toggle:function(e,f){function h(){k.running=!1;k._trigger("activate",e,f)}function m(){f.newTab.closest("li").addClass("ui-tabs-active ui-state-active");l.length&&k.options.show?k._show(l,k.options.show,h):(l.show(),h())}var k=this,l=f.newPanel,p=f.oldPanel;this.running=!0;p.length&&this.options.hide?this._hide(p,this.options.hide,function(){f.oldTab.closest("li").removeClass("ui-tabs-active ui-state-active");m()}):(f.oldTab.closest("li").removeClass("ui-tabs-active ui-state-active"),
p.hide(),m());p.attr({"aria-expanded":"false","aria-hidden":"true"});f.oldTab.attr("aria-selected","false");l.length&&p.length?f.oldTab.attr("tabIndex",-1):l.length&&this.tabs.filter(function(){return 0===a(this).attr("tabIndex")}).attr("tabIndex",-1);l.attr({"aria-expanded":"true","aria-hidden":"false"});f.newTab.attr({"aria-selected":"true",tabIndex:0})},_activate:function(e){e=this._findActive(e);e[0]!==this.active[0]&&(e.length||(e=this.active),e=e.find(".ui-tabs-anchor")[0],this._eventHandler({target:e,
currentTarget:e,preventDefault:a.noop}))},_findActive:function(e){return!1===e?a():this.tabs.eq(e)},_getIndex:function(e){return"string"==typeof e&&(e=this.anchors.index(this.anchors.filter("[href$='"+e+"']"))),e},_destroy:function(){this.xhr&&this.xhr.abort();this.element.removeClass("ui-tabs ui-widget ui-widget-content ui-corner-all ui-tabs-collapsible");this.tablist.removeClass("ui-tabs-nav ui-helper-reset ui-helper-clearfix ui-widget-header ui-corner-all").removeAttr("role");this.anchors.removeClass("ui-tabs-anchor").removeAttr("role").removeAttr("tabIndex").removeUniqueId();
this.tabs.add(this.panels).each(function(){a.data(this,"ui-tabs-destroy")?a(this).remove():a(this).removeClass("ui-state-default ui-state-active ui-state-disabled ui-corner-top ui-corner-bottom ui-widget-content ui-tabs-active ui-tabs-panel").removeAttr("tabIndex").removeAttr("aria-live").removeAttr("aria-busy").removeAttr("aria-selected").removeAttr("aria-labelledby").removeAttr("aria-hidden").removeAttr("aria-expanded").removeAttr("role")});this.tabs.each(function(){var e=a(this),f=e.data("ui-tabs-aria-controls");
f?e.attr("aria-controls",f).removeData("ui-tabs-aria-controls"):e.removeAttr("aria-controls")});this.panels.show();"content"!==this.options.heightStyle&&this.panels.css("height","")},enable:function(e){var f=this.options.disabled;!1!==f&&(e===g?f=!1:(e=this._getIndex(e),a.isArray(f)?f=a.map(f,function(h){return h!==e?h:null}):f=a.map(this.tabs,function(h,m){return m!==e?m:null})),this._setupDisabled(f))},disable:function(e){var f=this.options.disabled;if(!0!==f){if(e===g)f=!0;else{e=this._getIndex(e);
if(-1!==a.inArray(e,f))return;a.isArray(f)?f=a.merge([e],f).sort():f=[e]}this._setupDisabled(f)}},load:function(e,f){e=this._getIndex(e);var h=this,m=this.tabs.eq(e);e=m.find(".ui-tabs-anchor");var k=this._getPanelForTab(m),l={tab:m,panel:k};d(e[0])||(this.xhr=a.ajax(this._ajaxSettings(e,f,l)))&&"canceled"!==this.xhr.statusText&&(m.addClass("ui-tabs-loading"),k.attr("aria-busy","true"),this.xhr.success(function(p){setTimeout(function(){k.html(p);h._trigger("load",f,l)},1)}).complete(function(p,q){setTimeout(function(){"abort"===
q&&h.panels.stop(!1,!0);m.removeClass("ui-tabs-loading");k.removeAttr("aria-busy");p===h.xhr&&delete h.xhr},1)}))},_ajaxSettings:function(e,f,h){var m=this;return{url:e.attr("href"),beforeSend:function(k,l){return m._trigger("beforeLoad",f,a.extend({jqXHR:k,ajaxSettings:l},h))}}},_getPanelForTab:function(e){e=a(e).attr("aria-controls");return this.element.find(this._sanitizeSelector("#"+e))}})})(jQuery);
(function(a){function g(c,e){var f=(c.attr("aria-describedby")||"").split(/\s+/);f.push(e);c.data("ui-tooltip-id",e).attr("aria-describedby",a.trim(f.join(" ")))}function d(c){var e=c.data("ui-tooltip-id"),f=(c.attr("aria-describedby")||"").split(/\s+/);e=a.inArray(e,f);-1!==e&&f.splice(e,1);c.removeData("ui-tooltip-id");(f=a.trim(f.join(" ")))?c.attr("aria-describedby",f):c.removeAttr("aria-describedby")}var b=0;a.widget("ui.tooltip",{version:"1.10.1",options:{content:function(){var c=a(this).attr("title")||
"";return a("<a>").text(c).html()},hide:!0,items:"[title]:not([disabled])",position:{my:"left top+15",at:"left bottom",collision:"flipfit flip"},show:!0,tooltipClass:null,track:!1,close:null,open:null},_create:function(){this._on({mouseover:"open",focusin:"open"});this.tooltips={};this.parents={};this.options.disabled&&this._disable()},_setOption:function(c,e){var f=this;"disabled"===c?(this[e?"_disable":"_enable"](),this.options[c]=e):(this._super(c,e),"content"===c&&a.each(this.tooltips,function(h,
m){f._updateContent(m)}))},_disable:function(){var c=this;a.each(this.tooltips,function(e,f){e=a.Event("blur");e.target=e.currentTarget=f[0];c.close(e,!0)});this.element.find(this.options.items).addBack().each(function(){var e=a(this);e.is("[title]")&&e.data("ui-tooltip-title",e.attr("title")).attr("title","")})},_enable:function(){this.element.find(this.options.items).addBack().each(function(){var c=a(this);c.data("ui-tooltip-title")&&c.attr("title",c.data("ui-tooltip-title"))})},open:function(c){var e=
this,f=a(c?c.target:this.element).closest(this.options.items);f.length&&!f.data("ui-tooltip-id")&&(f.attr("title")&&f.data("ui-tooltip-title",f.attr("title")),f.data("ui-tooltip-open",!0),c&&"mouseover"===c.type&&f.parents().each(function(){var h=a(this),m;h.data("ui-tooltip-open")&&(m=a.Event("blur"),m.target=m.currentTarget=this,e.close(m,!0));h.attr("title")&&(h.uniqueId(),e.parents[this.id]={element:this,title:h.attr("title")},h.attr("title",""))}),this._updateContent(f,c))},_updateContent:function(c,
e){var f=this.options.content;var h=this,m=e?e.type:null;if("string"==typeof f)return this._open(e,c,f);(f=f.call(c[0],function(k){c.data("ui-tooltip-open")&&h._delay(function(){e&&(e.type=m);this._open(e,c,k)})}))&&this._open(e,c,f)},_open:function(c,e,f){function h(p){k.of=p;l.is(":hidden")||l.position(k)}var m,k=a.extend({},this.options.position);if(f){var l=this._find(e);l.length?l.find(".ui-tooltip-content").html(f):(e.is("[title]")&&(c&&"mouseover"===c.type?e.attr("title",""):e.removeAttr("title")),
l=this._tooltip(e),g(e,l.attr("id")),l.find(".ui-tooltip-content").html(f),this.options.track&&c&&/^mouse/.test(c.type)?(this._on(this.document,{mousemove:h}),h(c)):l.position(a.extend({of:e},this.options.position)),l.hide(),this._show(l,this.options.show),this.options.show&&this.options.show.delay&&(m=this.delayedShow=setInterval(function(){l.is(":visible")&&(h(k.of),clearInterval(m))},a.fx.interval)),this._trigger("open",c,{tooltip:l}),f={keyup:function(p){p.keyCode===a.ui.keyCode.ESCAPE&&(p=a.Event(p),
p.currentTarget=e[0],this.close(p,!0))},remove:function(){this._removeTooltip(l)}},c&&"mouseover"!==c.type||(f.mouseleave="close"),c&&"focusin"!==c.type||(f.focusout="close"),this._on(!0,e,f))}},close:function(c){var e=this,f=a(c?c.currentTarget:this.element),h=this._find(f);this.closing||(clearInterval(this.delayedShow),f.data("ui-tooltip-title")&&f.attr("title",f.data("ui-tooltip-title")),d(f),h.stop(!0),this._hide(h,this.options.hide,function(){e._removeTooltip(a(this))}),f.removeData("ui-tooltip-open"),
this._off(f,"mouseleave focusout keyup"),f[0]!==this.element[0]&&this._off(f,"remove"),this._off(this.document,"mousemove"),c&&"mouseleave"===c.type&&a.each(this.parents,function(m,k){a(k.element).attr("title",k.title);delete e.parents[m]}),this.closing=!0,this._trigger("close",c,{tooltip:h}),this.closing=!1)},_tooltip:function(c){var e="ui-tooltip-"+b++,f=a("<div>").attr({id:e,role:"tooltip"}).addClass("ui-tooltip ui-widget ui-corner-all ui-widget-content "+(this.options.tooltipClass||""));return a("<div>").addClass("ui-tooltip-content").appendTo(f),
f.appendTo(this.document[0].body),this.tooltips[e]=c,f},_find:function(c){return(c=c.data("ui-tooltip-id"))?a("#"+c):a()},_removeTooltip:function(c){c.remove();delete this.tooltips[c.attr("id")]},_destroy:function(){var c=this;a.each(this.tooltips,function(e,f){var h=a.Event("blur");h.target=h.currentTarget=f[0];c.close(h,!0);a("#"+e).remove();f.data("ui-tooltip-title")&&(f.attr("title",f.data("ui-tooltip-title")),f.removeData("ui-tooltip-title"))})}})})(jQuery);
jQuery.effects||function(a,g){a.effects={effect:{}};(function(d,b){function c(D,w,z){var L=p[w.type]||{};return null==D?z||!w.def?null:w.def:(D=L.floor?~~D:parseFloat(D),isNaN(D)?w.def:L.mod?(D+L.mod)%L.mod:0>D?0:L.max<D?L.max:D)}function e(D){var w=k(),z=w._rgba=[];return D=D.toLowerCase(),t(m,function(L,U){var V;L=(L=U.re.exec(D))&&U.parse(L);U=U.space||"rgba";if(L)return V=w[U](L),w[l[U].cache]=V[l[U].cache],z=w._rgba=V._rgba,!1}),z.length?("0,0,0,0"===z.join()&&d.extend(z,C.transparent),w):C[D]}
function f(D,w,z){return z=(z+1)%1,1>6*z?D+(w-D)*z*6:1>2*z?w:2>3*z?D+(w-D)*(2/3-z)*6:D}var h=/^([\-+])=\s*(\d+\.?\d*)/,m=[{re:/rgba?\(\s*(\d{1,3})\s*,\s*(\d{1,3})\s*,\s*(\d{1,3})\s*(?:,\s*(\d?(?:\.\d+)?)\s*)?\)/,parse:function(D){return[D[1],D[2],D[3],D[4]]}},{re:/rgba?\(\s*(\d+(?:\.\d+)?)%\s*,\s*(\d+(?:\.\d+)?)%\s*,\s*(\d+(?:\.\d+)?)%\s*(?:,\s*(\d?(?:\.\d+)?)\s*)?\)/,parse:function(D){return[2.55*D[1],2.55*D[2],2.55*D[3],D[4]]}},{re:/#([a-f0-9]{2})([a-f0-9]{2})([a-f0-9]{2})/,parse:function(D){return[parseInt(D[1],
16),parseInt(D[2],16),parseInt(D[3],16)]}},{re:/#([a-f0-9])([a-f0-9])([a-f0-9])/,parse:function(D){return[parseInt(D[1]+D[1],16),parseInt(D[2]+D[2],16),parseInt(D[3]+D[3],16)]}},{re:/hsla?\(\s*(\d+(?:\.\d+)?)\s*,\s*(\d+(?:\.\d+)?)%\s*,\s*(\d+(?:\.\d+)?)%\s*(?:,\s*(\d?(?:\.\d+)?)\s*)?\)/,space:"hsla",parse:function(D){return[D[1],D[2]/100,D[3]/100,D[4]]}}],k=d.Color=function(D,w,z,L){return new d.Color.fn.parse(D,w,z,L)},l={rgba:{props:{red:{idx:0,type:"byte"},green:{idx:1,type:"byte"},blue:{idx:2,
type:"byte"}}},hsla:{props:{hue:{idx:0,type:"degrees"},saturation:{idx:1,type:"percent"},lightness:{idx:2,type:"percent"}}}},p={"byte":{floor:!0,max:255},percent:{max:1},degrees:{mod:360,floor:!0}},q=k.support={},u=d("<p>")[0],t=d.each;u.style.cssText="background-color:rgba(1,1,1,.5)";q.rgba=-1<u.style.backgroundColor.indexOf("rgba");t(l,function(D,w){w.cache="_"+D;w.props.alpha={idx:3,type:"percent",def:1}});k.fn=d.extend(k.prototype,{parse:function(D,w,z,L){if(D===b)return this._rgba=[null,null,
null,null],this;if(D.jquery||D.nodeType)D=d(D).css(w),w=b;var U=this,V=d.type(D),Y=this._rgba=[];w!==b&&(D=[D,w,z,L],V="array");if("string"===V)return this.parse(e(D)||C._default);if("array"===V)return t(l.rgba.props,function(T,J){Y[J.idx]=c(D[J.idx],J)}),this;if("object"===V)return D instanceof k?t(l,function(T,J){D[J.cache]&&(U[J.cache]=D[J.cache].slice())}):t(l,function(T,J){var P=J.cache;t(J.props,function(K,E){if(!U[P]&&J.to){if("alpha"===K||null==D[K])return;U[P]=J.to(U._rgba)}U[P][E.idx]=c(D[K],
E,!0)});U[P]&&0>d.inArray(null,U[P].slice(0,3))&&(U[P][3]=1,J.from&&(U._rgba=J.from(U[P])))}),this},is:function(D){var w=k(D),z=!0,L=this;return t(l,function(U,V){var Y,T=w[V.cache];return T&&(Y=L[V.cache]||V.to&&V.to(L._rgba)||[],t(V.props,function(J,P){if(null!=T[P.idx])return z=T[P.idx]===Y[P.idx],z})),z}),z},_space:function(){var D=[],w=this;return t(l,function(z,L){w[L.cache]&&D.push(z)}),D.pop()},transition:function(D,w){var z=k(D);D=z._space();var L=l[D],U=0===this.alpha()?k("transparent"):
this,V=U[L.cache]||L.to(U._rgba),Y=V.slice();return z=z[L.cache],t(L.props,function(T,J){T=J.idx;var P=V[T],K=z[T],E=p[J.type]||{};null!==K&&(null===P?Y[T]=K:(E.mod&&(K-P>E.mod/2?P+=E.mod:P-K>E.mod/2&&(P-=E.mod)),Y[T]=c((K-P)*w+P,J)))}),this[D](Y)},blend:function(D){if(1===this._rgba[3])return this;var w=this._rgba.slice(),z=w.pop(),L=k(D)._rgba;return k(d.map(w,function(U,V){return(1-z)*L[V]+z*U}))},toRgbaString:function(){var D="rgba(",w=d.map(this._rgba,function(z,L){return null==z?2<L?1:0:z});
return 1===w[3]&&(w.pop(),D="rgb("),D+w.join()+")"},toHslaString:function(){var D="hsla(",w=d.map(this.hsla(),function(z,L){return null==z&&(z=2<L?1:0),L&&3>L&&(z=Math.round(100*z)+"%"),z});return 1===w[3]&&(w.pop(),D="hsl("),D+w.join()+")"},toHexString:function(D){var w=this._rgba.slice(),z=w.pop();return D&&w.push(~~(255*z)),"#"+d.map(w,function(L){return L=(L||0).toString(16),1===L.length?"0"+L:L}).join("")},toString:function(){return 0===this._rgba[3]?"transparent":this.toRgbaString()}});k.fn.parse.prototype=
k.fn;l.hsla.to=function(D){if(null==D[0]||null==D[1]||null==D[2])return[null,null,null,D[3]];var w=D[0]/255,z=D[1]/255,L=D[2]/255;D=D[3];var U=Math.max(w,z,L),V=Math.min(w,z,L),Y=U-V,T=U+V,J=.5*T,P,K;return V===U?P=0:w===U?P=60*(z-L)/Y+360:z===U?P=60*(L-w)/Y+120:P=60*(w-z)/Y+240,0===Y?K=0:.5>=J?K=Y/T:K=Y/(2-T),[Math.round(P)%360,K,J,null==D?1:D]};l.hsla.from=function(D){if(null==D[0]||null==D[1]||null==D[2])return[null,null,null,D[3]];var w=D[0]/360,z=D[1],L=D[2];D=D[3];z=.5>=L?L*(1+z):L+z-L*z;L=
2*L-z;return[Math.round(255*f(L,z,w+1/3)),Math.round(255*f(L,z,w)),Math.round(255*f(L,z,w-1/3)),D]};t(l,function(D,w){var z=w.props,L=w.cache,U=w.to,V=w.from;k.fn[D]=function(Y){U&&!this[L]&&(this[L]=U(this._rgba));if(Y===b)return this[L].slice();var T,J=d.type(Y),P="array"===J||"object"===J?Y:arguments,K=this[L].slice();return t(z,function(E,x){E=P["object"===J?E:x.idx];null==E&&(E=K[x.idx]);K[x.idx]=c(E,x)}),V?(T=k(V(K)),T[L]=K,T):k(K)};t(z,function(Y,T){k.fn[Y]||(k.fn[Y]=function(J){var P=d.type(J),
K="alpha"===Y?this._hsla?"hsla":"rgba":D,E=this[K](),x=E[T.idx],H;return"undefined"===P?x:("function"===P&&(J=J.call(this,x),P=d.type(J)),null==J&&T.empty?this:("string"===P&&(H=h.exec(J),H&&(J=x+parseFloat(H[2])*("+"===H[1]?1:-1))),E[T.idx]=J,this[K](E)))})})});k.hook=function(D){D=D.split(" ");t(D,function(w,z){d.cssHooks[z]={set:function(L,U){var V,Y="";if("transparent"!==U&&("string"!==d.type(U)||(V=e(U)))){U=k(V||U);if(!q.rgba&&1!==U._rgba[3]){for(V="backgroundColor"===z?L.parentNode:L;(""===
Y||"transparent"===Y)&&V&&V.style;)try{Y=d.css(V,"backgroundColor"),V=V.parentNode}catch(T){}U=U.blend(Y&&"transparent"!==Y?Y:"_default")}U=U.toRgbaString()}try{L.style[z]=U}catch(T){}}};d.fx.step[z]=function(L){L.colorInit||(L.start=k(L.elem,z),L.end=k(L.end),L.colorInit=!0);d.cssHooks[z].set(L.elem,L.start.transition(L.end,L.pos))}})};k.hook("backgroundColor borderBottomColor borderLeftColor borderRightColor borderTopColor color columnRuleColor outlineColor textDecorationColor textEmphasisColor");
d.cssHooks.borderColor={expand:function(D){var w={};return t(["Top","Right","Bottom","Left"],function(z,L){w["border"+L+"Color"]=D}),w}};var C=d.Color.names={aqua:"#00ffff",black:"#000000",blue:"#0000ff",fuchsia:"#ff00ff",gray:"#808080",green:"#008000",lime:"#00ff00",maroon:"#800000",navy:"#000080",olive:"#808000",purple:"#800080",red:"#ff0000",silver:"#c0c0c0",teal:"#008080",white:"#ffffff",yellow:"#ffff00",transparent:[null,null,null,0],_default:"#ffffff"}})(jQuery);(function(){function d(e){var f=
e.ownerDocument.defaultView?e.ownerDocument.defaultView.getComputedStyle(e,null):e.currentStyle,h={};if(f&&f.length&&f[0]&&f[f[0]])for(e=f.length;e--;){var m=f[e];"string"==typeof f[m]&&(h[a.camelCase(m)]=f[m])}else for(m in f)"string"==typeof f[m]&&(h[m]=f[m]);return h}var b=["add","remove","toggle"],c={border:1,borderBottom:1,borderColor:1,borderLeft:1,borderRight:1,borderTop:1,borderWidth:1,margin:1,padding:1};a.each(["borderLeftStyle","borderRightStyle","borderBottomStyle","borderTopStyle"],function(e,
f){a.fx.step[f]=function(h){if("none"!==h.end&&!h.setAttr||1===h.pos&&!h.setAttr)jQuery.style(h.elem,f,h.end),h.setAttr=!0}});a.fn.addBack||(a.fn.addBack=function(e){return this.add(null==e?this.prevObject:this.prevObject.filter(e))});a.effects.animateClass=function(e,f,h,m){var k=a.speed(f,h,m);return this.queue(function(){var l=a(this),p=l.attr("class")||"",q=k.children?l.find("*").addBack():l;q=q.map(function(){return{el:a(this),start:d(this)}});var u=function(){a.each(b,function(t,C){e[C]&&l[C+
"Class"](e[C])})};u();q=q.map(function(){this.end=d(this.el[0]);var t=this.start,C=this.end,D={},w;for(w in C){var z=C[w];t[w]===z||c[w]||!a.fx.step[w]&&isNaN(parseFloat(z))||(D[w]=z)}return this.diff=D,this});l.attr("class",p);q=q.map(function(){var t=this,C=a.Deferred(),D=a.extend({},k,{queue:!1,complete:function(){C.resolve(t)}});return this.el.animate(this.diff,D),C.promise()});a.when.apply(a,q.get()).done(function(){u();a.each(arguments,function(){var t=this.el;a.each(this.diff,function(C){t.css(C,
"")})});k.complete.call(l[0])})})};a.fn.extend({_addClass:a.fn.addClass,addClass:function(e,f,h,m){return f?a.effects.animateClass.call(this,{add:e},f,h,m):this._addClass(e)},_removeClass:a.fn.removeClass,removeClass:function(e,f,h,m){return 1<arguments.length?a.effects.animateClass.call(this,{remove:e},f,h,m):this._removeClass.apply(this,arguments)},_toggleClass:a.fn.toggleClass,toggleClass:function(e,f,h,m,k){return"boolean"==typeof f||f===g?h?a.effects.animateClass.call(this,f?{add:e}:{remove:e},
h,m,k):this._toggleClass(e,f):a.effects.animateClass.call(this,{toggle:e},f,h,m)},switchClass:function(e,f,h,m,k){return a.effects.animateClass.call(this,{add:f,remove:e},h,m,k)}})})();(function(){function d(c,e,f,h){a.isPlainObject(c)&&(e=c,c=c.effect);c={effect:c};null==e&&(e={});a.isFunction(e)&&(h=e,f=null,e={});if("number"==typeof e||a.fx.speeds[e])h=f,f=e,e={};return a.isFunction(f)&&(h=f,f=null),e&&a.extend(c,e),f=f||e.duration,c.duration=a.fx.off?0:"number"==typeof f?f:f in a.fx.speeds?a.fx.speeds[f]:
a.fx.speeds._default,c.complete=h||e.complete,c}function b(c){return!c||"number"==typeof c||a.fx.speeds[c]?!0:"string"==typeof c&&!a.effects.effect[c]}a.extend(a.effects,{version:"1.10.1",save:function(c,e){for(var f=0;f<e.length;f++)null!==e[f]&&c.data("ui-effects-"+e[f],c[0].style[e[f]])},restore:function(c,e){var f,h;for(h=0;h<e.length;h++)null!==e[h]&&(f=c.data("ui-effects-"+e[h]),f===g&&(f=""),c.css(e[h],f))},setMode:function(c,e){return"toggle"===e&&(e=c.is(":hidden")?"show":"hide"),e},getBaseline:function(c,
e){switch(c[0]){case "top":var f=0;break;case "middle":f=.5;break;case "bottom":f=1;break;default:f=c[0]/e.height}switch(c[1]){case "left":c=0;break;case "center":c=.5;break;case "right":c=1;break;default:c=c[1]/e.width}return{x:c,y:f}},createWrapper:function(c){if(c.parent().is(".ui-effects-wrapper"))return c.parent();var e={width:c.outerWidth(!0),height:c.outerHeight(!0),"float":c.css("float")},f=a("<div></div>").addClass("ui-effects-wrapper").css({fontSize:"100%",background:"transparent",border:"none",
margin:0,padding:0}),h={width:c.width(),height:c.height()},m=document.activeElement;try{m.id}catch(k){m=document.body}return c.wrap(f),(c[0]===m||a.contains(c[0],m))&&a(m).focus(),f=c.parent(),"static"===c.css("position")?(f.css({position:"relative"}),c.css({position:"relative"})):(a.extend(e,{position:c.css("position"),zIndex:c.css("z-index")}),a.each(["top","left","bottom","right"],function(k,l){e[l]=c.css(l);isNaN(parseInt(e[l],10))&&(e[l]="auto")}),c.css({position:"relative",top:0,left:0,right:"auto",
bottom:"auto"})),c.css(h),f.css(e).show()},removeWrapper:function(c){var e=document.activeElement;return c.parent().is(".ui-effects-wrapper")&&(c.parent().replaceWith(c),(c[0]===e||a.contains(c[0],e))&&a(e).focus()),c},setTransition:function(c,e,f,h){return h=h||{},a.each(e,function(m,k){m=c.cssUnit(k);0<m[0]&&(h[k]=m[0]*f+m[1])}),h}});a.fn.extend({effect:function(){function c(k){function l(){a.isFunction(q)&&q.call(p[0]);a.isFunction(k)&&k()}var p=a(this),q=e.complete,u=e.mode;(p.is(":hidden")?"hide"===
u:"show"===u)?l():m.call(p[0],e,l)}var e=d.apply(this,arguments),f=e.mode,h=e.queue,m=a.effects.effect[e.effect];return a.fx.off||!m?f?this[f](e.duration,e.complete):this.each(function(){e.complete&&e.complete.call(this)}):!1===h?this.each(c):this.queue(h||"fx",c)},_show:a.fn.show,show:function(c){if(b(c))return this._show.apply(this,arguments);var e=d.apply(this,arguments);return e.mode="show",this.effect.call(this,e)},_hide:a.fn.hide,hide:function(c){if(b(c))return this._hide.apply(this,arguments);
var e=d.apply(this,arguments);return e.mode="hide",this.effect.call(this,e)},__toggle:a.fn.toggle,toggle:function(c){if(b(c)||"boolean"==typeof c||a.isFunction(c))return this.__toggle.apply(this,arguments);var e=d.apply(this,arguments);return e.mode="toggle",this.effect.call(this,e)},cssUnit:function(c){var e=this.css(c),f=[];return a.each(["em","px","%","pt"],function(h,m){0<e.indexOf(m)&&(f=[parseFloat(e),m])}),f}})})();(function(){var d={};a.each(["Quad","Cubic","Quart","Quint","Expo"],function(b,
c){d[c]=function(e){return Math.pow(e,b+2)}});a.extend(d,{Sine:function(b){return 1-Math.cos(b*Math.PI/2)},Circ:function(b){return 1-Math.sqrt(1-b*b)},Elastic:function(b){return 0===b||1===b?b:-Math.pow(2,8*(b-1))*Math.sin((80*(b-1)-7.5)*Math.PI/15)},Back:function(b){return b*b*(3*b-2)},Bounce:function(b){for(var c,e=4;b<((c=Math.pow(2,--e))-1)/11;);return 1/Math.pow(4,3-e)-7.5625*Math.pow((3*c-2)/22-b,2)}});a.each(d,function(b,c){a.easing["easeIn"+b]=c;a.easing["easeOut"+b]=function(e){return 1-
c(1-e)};a.easing["easeInOut"+b]=function(e){return.5>e?c(2*e)/2:1-c(-2*e+2)/2}})})()}(jQuery);
(function(a,g){var d=/up|down|vertical/,b=/up|left|vertical|horizontal/;a.effects.effect.blind=function(c,e){var f=a(this),h="position top bottom left right height width".split(" "),m=a.effects.setMode(f,c.mode||"hide"),k=c.direction||"up",l=d.test(k),p=l?"height":"width",q=l?"top":"left";k=b.test(k);var u={},t="show"===m;f.parent().is(".ui-effects-wrapper")?a.effects.save(f.parent(),h):a.effects.save(f,h);f.show();var C=a.effects.createWrapper(f).css({overflow:"hidden"});var D=C[p]();var w=parseFloat(C.css(q))||
0;u[p]=t?D:0;k||(f.css(l?"bottom":"right",0).css(l?"top":"left","auto").css({position:"absolute"}),u[q]=t?w:D+w);t&&(C.css(p,0),k||C.css(q,w+D));C.animate(u,{duration:c.duration,easing:c.easing,queue:!1,complete:function(){"hide"===m&&f.hide();a.effects.restore(f,h);a.effects.removeWrapper(f);e()}})}})(jQuery);
(function(a,g){a.effects.effect.bounce=function(d,b){var c=a(this),e="position top bottom left right height width".split(" "),f=a.effects.setMode(c,d.mode||"effect"),h="hide"===f,m="show"===f,k=d.direction||"up";f=d.distance;var l=d.times||5,p=2*l+(m||h?1:0),q=d.duration/p;d=d.easing;var u="up"===k||"down"===k?"top":"left";k="up"===k||"left"===k;var t,C=c.queue(),D=C.length;(m||h)&&e.push("opacity");a.effects.save(c,e);c.show();a.effects.createWrapper(c);f||=c["top"===u?"outerHeight":"outerWidth"]()/
3;m&&(t={opacity:1},t[u]=0,c.css("opacity",0).css(u,k?2*-f:2*f).animate(t,q,d));h&&(f/=Math.pow(2,l-1));t={};for(m=t[u]=0;m<l;m++){var w={};w[u]=(k?"-=":"+=")+f;c.animate(w,q,d).animate(t,q,d);f=h?2*f:f/2}h&&(w={opacity:0},w[u]=(k?"-=":"+=")+f,c.animate(w,q,d));c.queue(function(){h&&c.hide();a.effects.restore(c,e);a.effects.removeWrapper(c);b()});1<D&&C.splice.apply(C,[1,0].concat(C.splice(D,p+1)));c.dequeue()}})(jQuery);
(function(a,g){a.effects.effect.clip=function(d,b){var c=a(this),e="position top bottom left right height width".split(" "),f="show"===a.effects.setMode(c,d.mode||"hide"),h="vertical"===(d.direction||"vertical"),m=h?"height":"width";h=h?"top":"left";var k={};a.effects.save(c,e);c.show();var l=a.effects.createWrapper(c).css({overflow:"hidden"});l="IMG"===c[0].tagName?l:c;var p=l[m]();f&&(l.css(m,0),l.css(h,p/2));k[m]=f?p:0;k[h]=f?0:p/2;l.animate(k,{queue:!1,duration:d.duration,easing:d.easing,complete:function(){f||
c.hide();a.effects.restore(c,e);a.effects.removeWrapper(c);b()}})}})(jQuery);
(function(a,g){a.effects.effect.drop=function(d,b){var c=a(this),e="position top bottom left right opacity height width".split(" "),f=a.effects.setMode(c,d.mode||"hide"),h="show"===f,m=d.direction||"left",k="up"===m||"down"===m?"top":"left";m="up"===m||"left"===m?"pos":"neg";var l={opacity:h?1:0};a.effects.save(c,e);c.show();a.effects.createWrapper(c);var p=d.distance||c["top"===k?"outerHeight":"outerWidth"](!0)/2;h&&c.css("opacity",0).css(k,"pos"===m?-p:p);l[k]=(h?"pos"===m?"+=":"-=":"pos"===m?"-=":
"+=")+p;c.animate(l,{queue:!1,duration:d.duration,easing:d.easing,complete:function(){"hide"===f&&c.hide();a.effects.restore(c,e);a.effects.removeWrapper(c);b()}})}})(jQuery);
(function(a,g){a.effects.effect.explode=function(d,b){function c(){q.push(this);q.length===e*f&&(h.css({visibility:"visible"}),a(q).remove(),m||h.hide(),b())}var e=d.pieces?Math.round(Math.sqrt(d.pieces)):3,f=e,h=a(this),m="show"===a.effects.setMode(h,d.mode||"hide"),k=h.show().css("visibility","hidden").offset(),l=Math.ceil(h.outerWidth()/f),p=Math.ceil(h.outerHeight()/e),q=[],u,t;for(u=0;u<e;u++){var C=k.top+u*p;var D=u-(e-1)/2;for(t=0;t<f;t++){var w=k.left+t*l;var z=t-(f-1)/2;h.clone().appendTo("body").wrap("<div></div>").css({position:"absolute",
visibility:"visible",left:-t*l,top:-u*p}).parent().addClass("ui-effects-explode").css({position:"absolute",overflow:"hidden",width:l,height:p,left:w+(m?z*l:0),top:C+(m?D*p:0),opacity:m?0:1}).animate({left:w+(m?0:z*l),top:C+(m?0:D*p),opacity:m?1:0},d.duration||500,d.easing,c)}}}})(jQuery);(function(a,g){a.effects.effect.fade=function(d,b){var c=a(this),e=a.effects.setMode(c,d.mode||"toggle");c.animate({opacity:e},{queue:!1,duration:d.duration,easing:d.easing,complete:b})}})(jQuery);
(function(a,g){a.effects.effect.fold=function(d,b){var c=a(this),e="position top bottom left right height width".split(" "),f=a.effects.setMode(c,d.mode||"hide"),h="show"===f,m="hide"===f;f=d.size||15;var k=/([0-9]+)%/.exec(f),l=!!d.horizFirst,p=h!==l,q=p?["width","height"]:["height","width"],u=d.duration/2,t={},C={};a.effects.save(c,e);c.show();var D=a.effects.createWrapper(c).css({overflow:"hidden"});p=p?[D.width(),D.height()]:[D.height(),D.width()];k&&(f=parseInt(k[1],10)/100*p[m?0:1]);h&&D.css(l?
{height:0,width:f}:{height:f,width:0});t[q[0]]=h?p[0]:f;C[q[1]]=h?p[1]:0;D.animate(t,u,d.easing).animate(C,u,d.easing,function(){m&&c.hide();a.effects.restore(c,e);a.effects.removeWrapper(c);b()})}})(jQuery);
(function(a,g){a.effects.effect.highlight=function(d,b){var c=a(this),e=["backgroundImage","backgroundColor","opacity"],f=a.effects.setMode(c,d.mode||"show"),h={backgroundColor:c.css("backgroundColor")};"hide"===f&&(h.opacity=0);a.effects.save(c,e);c.show().css({backgroundImage:"none",backgroundColor:d.color||"#ffff99"}).animate(h,{queue:!1,duration:d.duration,easing:d.easing,complete:function(){"hide"===f&&c.hide();a.effects.restore(c,e);b()}})}})(jQuery);
(function(a,g){a.effects.effect.pulsate=function(d,b){var c=a(this),e=a.effects.setMode(c,d.mode||"show"),f="show"===e,h="hide"===e;e=2*(d.times||5)+(f||"hide"===e?1:0);var m=d.duration/e,k=0,l=c.queue(),p=l.length;if(f||!c.is(":visible"))c.css("opacity",0).show(),k=1;for(f=1;f<e;f++)c.animate({opacity:k},m,d.easing),k=1-k;c.animate({opacity:k},m,d.easing);c.queue(function(){h&&c.hide();b()});1<p&&l.splice.apply(l,[1,0].concat(l.splice(p,e+1)));c.dequeue()}})(jQuery);
(function(a,g){a.effects.effect.puff=function(d,b){var c=a(this),e=a.effects.setMode(c,d.mode||"hide"),f="hide"===e,h=parseInt(d.percent,10)||150,m=h/100,k={height:c.height(),width:c.width(),outerHeight:c.outerHeight(),outerWidth:c.outerWidth()};a.extend(d,{effect:"scale",queue:!1,fade:!0,mode:e,complete:b,percent:f?h:100,from:f?k:{height:k.height*m,width:k.width*m,outerHeight:k.outerHeight*m,outerWidth:k.outerWidth*m}});c.effect(d)};a.effects.effect.scale=function(d,b){var c=a(this),e=a.extend(!0,
{},d),f=a.effects.setMode(c,d.mode||"effect"),h=parseInt(d.percent,10)||(0===parseInt(d.percent,10)?0:"hide"===f?0:100),m=d.direction||"both",k=d.origin,l={height:c.height(),width:c.width(),outerHeight:c.outerHeight(),outerWidth:c.outerWidth()},p="horizontal"!==m?h/100:1;h="vertical"!==m?h/100:1;e.effect="size";e.queue=!1;e.complete=b;"effect"!==f&&(e.origin=k||["middle","center"],e.restore=!0);e.from=d.from||("show"===f?{height:0,width:0,outerHeight:0,outerWidth:0}:l);e.to={height:l.height*p,width:l.width*
h,outerHeight:l.outerHeight*p,outerWidth:l.outerWidth*h};e.fade&&("show"===f&&(e.from.opacity=0,e.to.opacity=1),"hide"===f&&(e.from.opacity=1,e.to.opacity=0));c.effect(e)};a.effects.effect.size=function(d,b){var c,e=a(this),f="position top bottom left right width height overflow opacity".split(" ");var h="position top bottom left right overflow opacity".split(" ");var m=["width","height","overflow"],k=["fontSize"],l=["borderTopWidth","borderBottomWidth","paddingTop","paddingBottom"],p=["borderLeftWidth",
"borderRightWidth","paddingLeft","paddingRight"],q=a.effects.setMode(e,d.mode||"effect"),u=d.restore||"effect"!==q,t=d.scale||"both",C=d.origin||["middle","center"],D=e.css("position"),w=u?f:h,z={height:0,width:0,outerHeight:0,outerWidth:0};"show"===q&&e.show();h={height:e.height(),width:e.width(),outerHeight:e.outerHeight(),outerWidth:e.outerWidth()};"toggle"===d.mode&&"show"===q?(e.from=d.to||z,e.to=d.from||h):(e.from=d.from||("show"===q?z:h),e.to=d.to||("hide"===q?z:h));var L=e.from.height/h.height;
var U=e.from.width/h.width;var V=e.to.height/h.height;var Y=e.to.width/h.width;if("box"===t||"both"===t)L!==V&&(w=w.concat(l),e.from=a.effects.setTransition(e,l,L,e.from),e.to=a.effects.setTransition(e,l,V,e.to)),U!==Y&&(w=w.concat(p),e.from=a.effects.setTransition(e,p,U,e.from),e.to=a.effects.setTransition(e,p,Y,e.to));("content"===t||"both"===t)&&L!==V&&(w=w.concat(k).concat(m),e.from=a.effects.setTransition(e,k,L,e.from),e.to=a.effects.setTransition(e,k,V,e.to));a.effects.save(e,w);e.show();a.effects.createWrapper(e);
e.css("overflow","hidden").css(e.from);C&&(c=a.effects.getBaseline(C,h),e.from.top=(h.outerHeight-e.outerHeight())*c.y,e.from.left=(h.outerWidth-e.outerWidth())*c.x,e.to.top=(h.outerHeight-e.to.outerHeight)*c.y,e.to.left=(h.outerWidth-e.to.outerWidth)*c.x);e.css(e.from);if("content"===t||"both"===t)l=l.concat(["marginTop","marginBottom"]).concat(k),p=p.concat(["marginLeft","marginRight"]),m=f.concat(l).concat(p),e.find("*[width]").each(function(){var T=a(this),J=T.height(),P=T.width(),K=T.outerHeight(),
E=T.outerWidth();u&&a.effects.save(T,m);T.from={height:J*L,width:P*U,outerHeight:K*L,outerWidth:E*U};T.to={height:J*V,width:P*Y,outerHeight:J*V,outerWidth:P*Y};L!==V&&(T.from=a.effects.setTransition(T,l,L,T.from),T.to=a.effects.setTransition(T,l,V,T.to));U!==Y&&(T.from=a.effects.setTransition(T,p,U,T.from),T.to=a.effects.setTransition(T,p,Y,T.to));T.css(T.from);T.animate(T.to,d.duration,d.easing,function(){u&&a.effects.restore(T,m)})});e.animate(e.to,{queue:!1,duration:d.duration,easing:d.easing,
complete:function(){0===e.to.opacity&&e.css("opacity",e.from.opacity);"hide"===q&&e.hide();a.effects.restore(e,w);u||("static"===D?e.css({position:"relative",top:e.to.top,left:e.to.left}):a.each(["top","left"],function(T,J){e.css(J,function(P,K){P=parseInt(K,10);var E=T?e.to.left:e.to.top;return"auto"===K?E+"px":P+E+"px"})}));a.effects.removeWrapper(e);b()}})}})(jQuery);
(function(a,g){a.effects.effect.shake=function(d,b){var c=a(this),e="position top bottom left right height width".split(" "),f=a.effects.setMode(c,d.mode||"effect"),h=d.direction||"left",m=d.distance||20,k=d.times||3,l=2*k+1,p=Math.round(d.duration/l),q="up"===h||"down"===h?"top":"left",u="up"===h||"left"===h;h={};var t={},C={},D=c.queue(),w=D.length;a.effects.save(c,e);c.show();a.effects.createWrapper(c);h[q]=(u?"-=":"+=")+m;t[q]=(u?"+=":"-=")+2*m;C[q]=(u?"-=":"+=")+2*m;c.animate(h,p,d.easing);for(m=
1;m<k;m++)c.animate(t,p,d.easing).animate(C,p,d.easing);c.animate(t,p,d.easing).animate(h,p/2,d.easing).queue(function(){"hide"===f&&c.hide();a.effects.restore(c,e);a.effects.removeWrapper(c);b()});1<w&&D.splice.apply(D,[1,0].concat(D.splice(w,l+1)));c.dequeue()}})(jQuery);
(function(a,g){a.effects.effect.slide=function(d,b){var c=a(this),e="position top bottom left right width height".split(" "),f=a.effects.setMode(c,d.mode||"show"),h="show"===f,m=d.direction||"left",k="up"===m||"down"===m?"top":"left";m="up"===m||"left"===m;var l={};a.effects.save(c,e);c.show();var p=d.distance||c["top"===k?"outerHeight":"outerWidth"](!0);a.effects.createWrapper(c).css({overflow:"hidden"});h&&c.css(k,m?isNaN(p)?"-"+p:-p:p);l[k]=(h?m?"+=":"-=":m?"-=":"+=")+p;c.animate(l,{queue:!1,duration:d.duration,
easing:d.easing,complete:function(){"hide"===f&&c.hide();a.effects.restore(c,e);a.effects.removeWrapper(c);b()}})}})(jQuery);
(function(a,g){a.effects.effect.transfer=function(d,b){var c=a(this),e=a(d.to),f="fixed"===e.css("position"),h=a("body"),m=f?h.scrollTop():0;h=f?h.scrollLeft():0;var k=e.offset();e={top:k.top-m,left:k.left-h,height:e.innerHeight(),width:e.innerWidth()};k=c.offset();var l=a("<div class='ui-effects-transfer'></div>").appendTo(document.body).addClass(d.className).css({top:k.top-m,left:k.left-h,height:c.innerHeight(),width:c.innerWidth(),position:f?"fixed":"absolute"}).animate(e,d.duration,d.easing,function(){l.remove();
b()})}})(jQuery);/*
 matchMedia() polyfill - Test a CSS media type/query in JS. Authors & copyright (c) 2012: Scott Jehl, Paul Irish, Nicholas Zakas. Dual MIT/BSD license  NOTE: If you're already including a window.matchMedia polyfill via Modernizr or otherwise, you don't need this part  Respond.js v1.1.0: min/max-width media query polyfill. (c) Scott Jehl. MIT/GPLv2 Lic. j.mp/respondjs  */
window.Modernizr=function(a,g,d){function b(E,x){return typeof E===x}function c(E,x){for(var H in E)if(l[E[H]]!==d)return"pfx"==x?E[H]:!0;return!1}function e(E,x,H){var M=E.charAt(0).toUpperCase()+E.substr(1),G=(E+" "+C.join(M+" ")+M).split(" ");if(b(x,"string")||b(x,"undefined"))x=c(G,x);else a:{G=(E+" "+D.join(M+" ")+M).split(" "),E=G;for(var N in E)if(M=x[E[N]],M!==d){x=!1===H?E[N]:b(M,"function")?M.bind(H||x):M;break a}x=!1}return x}function f(){h.input=function(E){for(var x=0,H=E.length;x<H;x++)z[E[x]]=
E[x]in p;return z.list&&(z.list=!!g.createElement("datalist")&&!!a.HTMLDataListElement),z}("autocomplete autofocus list placeholder max min multiple pattern required step".split(" "));h.inputtypes=function(E){for(var x=0,H,M,G,N=E.length;x<N;x++)p.setAttribute("type",M=E[x]),(H="text"!==p.type)&&(p.value=q,p.style.cssText="position:absolute;visibility:hidden;",/^range$/.test(M)&&p.style.WebkitAppearance!==d?(m.appendChild(p),G=g.defaultView,H=G.getComputedStyle&&"textfield"!==G.getComputedStyle(p,
null).WebkitAppearance&&0!==p.offsetHeight,m.removeChild(p)):/^(search|tel)$/.test(M)||(/^(url|email)$/.test(M)?H=p.checkValidity&&!1===p.checkValidity():/^color$/.test(M)?(m.appendChild(p),m.offsetWidth,H=p.value!=q,m.removeChild(p)):H=p.value!=q)),w[E[x]]=!!H;return w}("search tel url email datetime date month week time datetime-local number range color".split(" "))}var h={},m=g.documentElement,k=g.createElement("modernizr"),l=k.style,p=g.createElement("input"),q=":)",u={}.toString,t=" -webkit- -moz- -o- -ms- ".split(" "),
C=["Webkit","Moz","O","ms"],D=["webkit","moz","o","ms"];k={};var w={},z={},L=[],U=L.slice,V,Y=function(E,x,H,M){var G,N,R=g.createElement("div"),O=g.body,da=O?O:g.createElement("body");if(parseInt(H,10))for(;H--;){var X=g.createElement("div");X.id=M?M[H]:"modernizr"+(H+1);R.appendChild(X)}return G=["&#173;<style>",E,"</style>"].join(""),R.id="modernizr",da.innerHTML+=G,da.appendChild(R),O||(da.style.background="",m.appendChild(da)),N=x(R,E),O?R.parentNode.removeChild(R):da.parentNode.removeChild(da),
!!N},T=function(){var E={select:"input",change:"input",submit:"form",reset:"form",error:"img",load:"img",abort:"img"};return function(x,H){H=H||g.createElement(E[x]||"div");x="on"+x;var M=x in H;return M||(H.setAttribute||(H=g.createElement("div")),H.setAttribute&&H.removeAttribute&&(H.setAttribute(x,""),M=b(H[x],"function"),b(H[x],"undefined")||(H[x]=d),H.removeAttribute(x))),M}}(),J={}.hasOwnProperty,P;b(J,"undefined")||b(J.call,"undefined")?P=function(E,x){return x in E&&b(E.constructor.prototype[x],
"undefined")}:P=function(E,x){return J.call(E,x)};Function.prototype.bind||(Function.prototype.bind=function(E){var x=this;if("function"!=typeof x)throw new TypeError;var H=U.call(arguments,1),M=function(){if(this instanceof M){var G=function(){};G.prototype=x.prototype;G=new G;var N=x.apply(G,H.concat(U.call(arguments)));return Object(N)===N?N:G}return x.apply(E,H.concat(U.call(arguments)))};return M});(function(E,x){E=E.join("");var H=x.length;Y(E,function(M,G){var N=g.styleSheets[g.styleSheets.length-
1];N=N?N.cssRules&&N.cssRules[0]?N.cssRules[0].cssText:N.cssText||"":"";M=M.childNodes;for(var R={};H--;)R[M[H].id]=M[H];h.touch="ontouchstart"in a||a.DocumentTouch&&g instanceof DocumentTouch||9===(R.touch&&R.touch.offsetTop);h.csstransforms3d=9===(R.csstransforms3d&&R.csstransforms3d.offsetLeft)&&3===R.csstransforms3d.offsetHeight;h.generatedcontent=1<=(R.generatedcontent&&R.generatedcontent.offsetHeight);h.fontface=/src/i.test(N)&&0===N.indexOf(G.split(" ")[0])},H,x)})(['@font-face {font-family:"font";src:url("https://")}',
["@media (",t.join("touch-enabled),("),"modernizr){#touch{top:9px;position:absolute}}"].join(""),["@media (",t.join("transform-3d),("),"modernizr){#csstransforms3d{left:9px;position:absolute;height:3px;}}"].join(""),['#generatedcontent:after{content:"',q,'";visibility:hidden}'].join("")],["fontface","touch","csstransforms3d","generatedcontent"]);k.flexbox=function(){return e("flexOrder")};k.canvas=function(){var E=g.createElement("canvas");return!!E.getContext&&!!E.getContext("2d")};k.canvastext=
function(){return!!h.canvas&&!!b(g.createElement("canvas").getContext("2d").fillText,"function")};k.webgl=function(){try{var E=g.createElement("canvas");var x=!(!a.WebGLRenderingContext||!E.getContext("experimental-webgl")&&!E.getContext("webgl"))}catch(H){x=!1}return x};k.touch=function(){return h.touch};k.geolocation=function(){return!!navigator.geolocation};k.postmessage=function(){return!!a.postMessage};k.websqldatabase=function(){return!!a.openDatabase};k.indexedDB=function(){return!!e("indexedDB",
a)};k.hashchange=function(){return T("hashchange",a)&&(g.documentMode===d||7<g.documentMode)};k.history=function(){return!!a.history&&!!history.pushState};k.draganddrop=function(){var E=g.createElement("div");return"draggable"in E||"ondragstart"in E&&"ondrop"in E};k.websockets=function(){for(var E=-1,x=C.length;++E<x;)if(a[C[E]+"WebSocket"])return!0;return"WebSocket"in a};k.rgba=function(){l.cssText="background-color:rgba(150,255,150,.5)";return!!~(""+l.backgroundColor).indexOf("rgba")};k.hsla=function(){l.cssText=
"background-color:hsla(120,40%,100%,.5)";return!!~(""+l.backgroundColor).indexOf("rgba")||!!~(""+l.backgroundColor).indexOf("hsla")};k.multiplebgs=function(){l.cssText="background:url(https://),url(https://),red url(https://)";return/(url\s*\(.*?){3}/.test(l.background)};k.backgroundsize=function(){return e("backgroundSize")};k.borderimage=function(){return e("borderImage")};k.borderradius=function(){return e("borderRadius")};k.boxshadow=function(){return e("boxShadow")};k.textshadow=function(){return""===
g.createElement("div").style.textShadow};k.opacity=function(){l.cssText=t.join("opacity:.55;")+"";return/^0.55$/.test(l.opacity)};k.cssanimations=function(){return e("animationName")};k.csscolumns=function(){return e("columnCount")};k.cssgradients=function(){l.cssText=("background-image:-webkit-gradient(linear,left top,right bottom,from(#9f9),to(white));background-image:"+t.join("linear-gradient(left top,#9f9, white);background-image:")).slice(0,-17);return!!~(""+l.backgroundImage).indexOf("gradient")};
k.cssreflections=function(){return e("boxReflect")};k.csstransforms=function(){return!!e("transform")};k.csstransforms3d=function(){var E=!!e("perspective");return E&&"webkitPerspective"in m.style&&(E=h.csstransforms3d),E};k.csstransitions=function(){return e("transition")};k.fontface=function(){return h.fontface};k.generatedcontent=function(){return h.generatedcontent};k.video=function(){var E=g.createElement("video"),x=!1;try{if(x=!!E.canPlayType)x=new Boolean(x),x.ogg=E.canPlayType('video/ogg; codecs="theora"').replace(/^no$/,
""),x.h264=E.canPlayType('video/mp4; codecs="avc1.42E01E"').replace(/^no$/,""),x.webm=E.canPlayType('video/webm; codecs="vp8, vorbis"').replace(/^no$/,"")}catch(H){}return x};k.audio=function(){var E=g.createElement("audio"),x=!1;try{if(x=!!E.canPlayType)x=new Boolean(x),x.ogg=E.canPlayType('audio/ogg; codecs="vorbis"').replace(/^no$/,""),x.mp3=E.canPlayType("audio/mpeg;").replace(/^no$/,""),x.wav=E.canPlayType('audio/wav; codecs="1"').replace(/^no$/,""),x.m4a=(E.canPlayType("audio/x-m4a;")||E.canPlayType("audio/aac;")).replace(/^no$/,
"")}catch(H){}return x};k.localstorage=function(){try{return localStorage.setItem("modernizr","modernizr"),localStorage.removeItem("modernizr"),!0}catch(E){return!1}};k.sessionstorage=function(){try{return sessionStorage.setItem("modernizr","modernizr"),sessionStorage.removeItem("modernizr"),!0}catch(E){return!1}};k.webworkers=function(){return!!a.Worker};k.applicationcache=function(){return!!a.applicationCache};k.svg=function(){return!!g.createElementNS&&!!g.createElementNS("http://www.w3.org/2000/svg",
"svg").createSVGRect};k.inlinesvg=function(){var E=g.createElement("div");return E.innerHTML="<svg/>","http://www.w3.org/2000/svg"==(E.firstChild&&E.firstChild.namespaceURI)};k.smil=function(){return!!g.createElementNS&&/SVGAnimate/.test(u.call(g.createElementNS("http://www.w3.org/2000/svg","animate")))};k.svgclippaths=function(){return!!g.createElementNS&&/SVGClipPath/.test(u.call(g.createElementNS("http://www.w3.org/2000/svg","clipPath")))};for(var K in k)P(k,K)&&(V=K.toLowerCase(),h[V]=k[K](),
L.push((h[V]?"":"no-")+V));h.input||f();h.addTest=function(E,x){if("object"==typeof E)for(var H in E)P(E,H)&&h.addTest(H,E[H]);else{E=E.toLowerCase();if(h[E]!==d)return h;x="function"==typeof x?x():x;m.className+=" "+(x?"":"no-")+E;h[E]=x}return h};l.cssText="";return k=p=null,function(E,x){function H(){var la=X.elements;return"string"==typeof la?la.split(" "):la}function M(la){var qa={},va=la.createElement,pa=la.createDocumentFragment,wa=pa();la.createElement=function(oa){var Fa=(qa[oa]||(qa[oa]=
va(oa))).cloneNode();return X.shivMethods&&Fa.canHaveChildren&&!R.test(oa)?wa.appendChild(Fa):Fa};la.createDocumentFragment=Function("h,f","return function(){var n=f.cloneNode(),c=n.createElement;h.shivMethods&&("+H().join().replace(/\w+/g,function(oa){return qa[oa]=va(oa),wa.createElement(oa),'c("'+oa+'")'})+");return n}")(X,wa)}function G(la){if(la.documentShived)var qa=la;else{if(X.shivCSS&&!O){var va=la.createElement("p");qa=la.getElementsByTagName("head")[0]||la.documentElement;va=!(va.innerHTML=
"x<style>article,aside,details,figcaption,figure,footer,header,hgroup,nav,section{display:block}audio{display:none}canvas,video{display:inline-block;*display:inline;*zoom:1}[hidden]{display:none}audio[controls]{display:inline-block;*display:inline;*zoom:1}mark{background:#FF0;color:#000}</style>",!qa.insertBefore(va.lastChild,qa.firstChild))}qa=(da||(va=!M(la)),va&&(la.documentShived=va),la)}return qa}var N=E.html5||{},R=/^<|^(?:button|form|map|select|textarea)$/i,O,da;(function(){var la=x.createElement("a");
la.innerHTML="<xyz></xyz>";O="hidden"in la;if(!(la=1==la.childNodes.length))a:{try{x.createElement("a")}catch(qa){la=!0;break a}la=x.createDocumentFragment();la="undefined"==typeof la.cloneNode||"undefined"==typeof la.createDocumentFragment||"undefined"==typeof la.createElement}da=la})();var X={elements:N.elements||"abbr article aside audio bdi canvas data datalist details figcaption figure footer header hgroup mark meter nav output progress section summary time video",shivCSS:!1!==N.shivCSS,shivMethods:!1!==
N.shivMethods,type:"default",shivDocument:G};E.html5=X;G(x)}(this,g),h._version="2.5.3",h._prefixes=t,h._domPrefixes=D,h._cssomPrefixes=C,h.mq=function(E){var x=a.matchMedia||a.msMatchMedia;if(x)return x(E).matches;var H;return Y("@media "+E+" { #modernizr { position: absolute; } }",function(M){H="absolute"==(a.getComputedStyle?getComputedStyle(M,null):M.currentStyle).position}),H},h.hasEvent=T,h.testProp=function(E){return c([E])},h.testAllProps=e,h.testStyles=Y,h.prefixed=function(E,x,H){return x?
e(E,x,H):e(E,"pfx")},m.className=m.className.replace(/(^|\s)no-js(\s|$)/,"$1$2")+(" js "+L.join(" ")),h}(this,this.document);
(function(a,g,d){function b(x){return"[object Function]"==t.call(x)}function c(x){return"string"==typeof x}function e(){}function f(x){return!x||"loaded"==x||"complete"==x||"uninitialized"==x}function h(){var x=C.shift();D=1;x?x.t?q(function(){("c"==x.t?E.injectCss:E.injectJs)(x.s,0,x.a,x.x,x.e,1)},0):(x(),h()):D=0}function m(x,H,M,G,N,R,O){function da(pa){if(!la&&f(X.readyState)&&(va.r=la=1,!D&&h(),X.onload=X.onreadystatechange=null,pa)){"img"!=x&&q(function(){L.removeChild(X)},50);for(var wa in J[H])J[H].hasOwnProperty(wa)&&
J[H][wa].onload()}}O=O||E.errorTimeout;var X={},la=0,qa=0,va={t:M,s:H,e:N,a:R,x:O};1===J[H]&&(qa=1,J[H]=[],X=g.createElement(x));"object"==x?X.data=H:(X.src=H,X.type=x);X.width=X.height="0";X.onerror=X.onload=X.onreadystatechange=function(){da.call(this,qa)};C.splice(G,0,va);"img"!=x&&(qa||2===J[H]?(L.insertBefore(X,z?null:u),q(da,O)):J[H].push(X))}function k(x,H,M,G,N){return D=0,H=H||"j",c(x)?m("c"==H?V:U,x,H,this.i++,M,G,N):(C.splice(this.i++,0,x),1==C.length&&h()),this}function l(){var x=E;return x.loader=
{load:k,i:0},x}var p=g.documentElement,q=a.setTimeout,u=g.getElementsByTagName("script")[0],t={}.toString,C=[],D=0,w="MozAppearance"in p.style,z=w&&!!g.createRange().compareNode,L=z?p:u.parentNode;p=a.opera&&"[object Opera]"==t.call(a.opera);p=!!g.attachEvent&&!p;var U=w?"object":p?"script":"img",V=p?"script":U,Y=Array.isArray||function(x){return"[object Array]"==t.call(x)},T=[],J={},P={timeout:function(x,H){return H.length&&(x.timeout=H[0]),x}},K;var E=function(x){function H(da){da=da.split("!");
var X=T.length,la=da.pop(),qa=da.length;la={url:la,origUrl:la,prefixes:da};var va,pa;for(pa=0;pa<qa;pa++){var wa=da[pa].split("=");(va=P[wa.shift()])&&(la=va(la,wa))}for(pa=0;pa<X;pa++)la=T[pa](la);return la}function M(da,X,la,qa,va){var pa=H(da),wa=pa.autoCallback;pa.url.split(".").pop().split("?").shift();pa.bypass||(X&&=b(X)?X:X[da]||X[qa]||X[da.split("/").pop().split("?")[0]]||h,pa.instead?pa.instead(da,X,la,qa,va):(J[pa.url]?pa.noexec=!0:J[pa.url]=1,la.load(pa.url,pa.forceCSS||!pa.forceJS&&"css"==
pa.url.split(".").pop().split("?").shift()?"c":d,pa.noexec,pa.attrs,pa.timeout),(b(X)||b(wa))&&la.load(function(){l();X&&X(pa.origUrl,va,qa);wa&&wa(pa.origUrl,va,qa);J[pa.url]=2})))}function G(da,X){function la(Ka,$a){if(Ka)if(c(Ka))$a||(pa=function(){var Za=[].slice.call(arguments);wa.apply(this,Za);oa()}),M(Ka,pa,X,0,qa);else{if(Object(Ka)===Ka)for(Ja in Fa=function(){var Za=0,Ma;for(Ma in Ka)Ka.hasOwnProperty(Ma)&&Za++;return Za}(),Ka)Ka.hasOwnProperty(Ja)&&(!$a&&!--Fa&&(b(pa)?pa=function(){var Za=
[].slice.call(arguments);wa.apply(this,Za);oa()}:pa[Ja]=function(Za){return function(){var Ma=[].slice.call(arguments);Za&&Za.apply(this,Ma);oa()}}(wa[Ja])),M(Ka[Ja],pa,X,Ja,qa))}else!$a&&oa()}var qa=!!da.test,va=da.load||da.both,pa=da.callback||e,wa=pa,oa=da.complete||e,Fa,Ja;la(qa?da.yep:da.nope,!!va);va&&la(va)}var N,R=this.yepnope.loader;if(c(x))M(x,0,R,0);else if(Y(x))for(N=0;N<x.length;N++){var O=x[N];c(O)?M(O,0,R,0):Y(O)?E(O):Object(O)===O&&G(O,R)}else Object(x)===x&&G(x,R)};E.addPrefix=function(x,
H){P[x]=H};E.addFilter=function(x){T.push(x)};E.errorTimeout=1E4;null==g.readyState&&g.addEventListener&&(g.readyState="loading",g.addEventListener("DOMContentLoaded",K=function(){g.removeEventListener("DOMContentLoaded",K,0);g.readyState="complete"},0));a.yepnope=l();a.yepnope.executeStack=h;a.yepnope.injectJs=function(x,H,M,G,N,R){var O=g.createElement("script"),da,X;G=G||E.errorTimeout;O.src=x;for(X in M)O.setAttribute(X,M[X]);H=R?h:H||e;O.onreadystatechange=O.onload=function(){!da&&f(O.readyState)&&
(da=1,H(),O.onload=O.onreadystatechange=null)};q(function(){da||(da=1,H(1))},G);N?O.onload():u.parentNode.insertBefore(O,u)};a.yepnope.injectCss=function(x,H,M,G,N,R){G=g.createElement("link");var O;H=R?h:H||e;G.href=x;G.rel="stylesheet";G.type="text/css";for(O in M)G.setAttribute(O,M[O]);N||(u.parentNode.insertBefore(G,u),q(H,0))}})(this,document);Modernizr.load=function(){yepnope.apply(window,[].slice.call(arguments,0))};
window.matchMedia=window.matchMedia||function(a,g){var d,b=a.documentElement,c=b.firstElementChild||b.firstChild,e=a.createElement("body"),f=a.createElement("div");f.id="mq-test-1";f.style.cssText="position:absolute;top:-100em";e.appendChild(f);return function(h){f.innerHTML='&shy;<style media="'+h+'"> #mq-test-1 { width: 42px; }</style>';b.insertBefore(e,c);d=42==f.offsetWidth;b.removeChild(e);return{matches:d,media:h}}}(document);
(function(a){function g(){z(!0)}a.respond={};respond.update=function(){};respond.mediaQueriesSupported=a.matchMedia&&a.matchMedia("only all").matches;if(!respond.mediaQueriesSupported){var d=a.document,b=d.documentElement,c=[],e=[],f=[],h={},m=d.getElementsByTagName("head")[0]||b,k=m.getElementsByTagName("link"),l=[],p=function(){for(var V=k.length,Y=0,T,J,P,K;Y<V;Y++)T=k[Y],J=T.href,P=T.media,K=T.rel&&"stylesheet"===T.rel.toLowerCase(),J&&K&&!h[J]&&(T.styleSheet&&T.styleSheet.rawCssText?(u(T.styleSheet.rawCssText,
J,P),h[J]=!0):/^([a-zA-Z:]*\/\/)/.test(J)&&J.replace(RegExp.$1,"").split("/")[0]!==a.location.host||l.push({href:J,media:P}));q()},q=function(){if(l.length){var V=l.shift();L(V.href,function(Y){u(Y,V.href,V.media);h[V.href]=!0;q()})}},u=function(V,Y,T){var J=V.match(/@media[^\{]+\{([^\{\}]*\{[^\}\{]*\})+/gi),P=J&&J.length||0;Y=Y.substring(0,Y.lastIndexOf("/"));var K=function(R){return R.replace(/(url\()['"]?([^\/\)'"][^:\)'"]+)['"]?(\))/g,"$1"+Y+"$2$3")},E=!P&&T,x=0,H;Y.length&&(Y+="/");for(E&&(P=
1);x<P;x++){var M=0;if(E){var G=T;e.push(K(V))}else G=J[x].match(/@media *([^\{]+)\{([\S\s]+?)$/)&&RegExp.$1,e.push(RegExp.$2&&K(RegExp.$2));var N=G.split(",");for(H=N.length;M<H;M++)G=N[M],c.push({media:G.split("(")[0].match(/(only\s+)?([a-zA-Z]+)\s?/)&&RegExp.$2||"all",rules:e.length-1,hasquery:-1<G.indexOf("("),minw:G.match(/\(min\-width:[\s]*([\s]*[0-9\.]+)(px|em)[\s]*\)/)&&parseFloat(RegExp.$1)+(RegExp.$2||""),maxw:G.match(/\(max\-width:[\s]*([\s]*[0-9\.]+)(px|em)[\s]*\)/)&&parseFloat(RegExp.$1)+
(RegExp.$2||"")})}z()},t,C,D=function(){var V=d.createElement("div"),Y=d.body,T=!1;V.style.cssText="position:absolute;font-size:1em;width:1em";Y||=T=d.createElement("body");Y.appendChild(V);b.insertBefore(Y,b.firstChild);var J=V.offsetWidth;T?b.removeChild(Y):Y.removeChild(V);return J=w=parseFloat(J)},w,z=function(V){var Y=b.clientWidth,T="CSS1Compat"===d.compatMode&&Y||d.body.clientWidth||Y;Y={};var J=k[k.length-1],P=(new Date).getTime();if(V&&t&&30>P-t)clearTimeout(C),C=setTimeout(z,30);else{t=
P;for(var K in c){V=c[K];P=V.minw;var E=V.maxw,x=null===P,H=null===E;P&&=parseFloat(P)*(-1<P.indexOf("em")?w||D():1);E&&=parseFloat(E)*(-1<E.indexOf("em")?w||D():1);V.hasquery&&(x&&H||!(x||T>=P)||!(H||T<=E))||(Y[V.media]||(Y[V.media]=[]),Y[V.media].push(e[V.rules]))}for(K in f)f[K]&&f[K].parentNode===m&&m.removeChild(f[K]);for(K in Y)T=d.createElement("style"),V=Y[K].join("\n"),T.type="text/css",T.media=K,m.insertBefore(T,J.nextSibling),T.styleSheet?T.styleSheet.cssText=V:T.appendChild(d.createTextNode(V)),
f.push(T)}},L=function(V,Y){var T=U();T&&(T.open("GET",V,!0),T.onreadystatechange=function(){4!=T.readyState||200!=T.status&&304!=T.status||Y(T.responseText)},4!=T.readyState&&T.send(null))},U=function(){var V=!1;try{V=new XMLHttpRequest}catch(Y){V=new ActiveXObject("Microsoft.XMLHTTP")}return function(){return V}}();p();respond.update=p;a.addEventListener?a.addEventListener("resize",g,!1):a.attachEvent&&a.attachEvent("onresize",g)}})(this);!function(a){var g=0;a.fn.upload=function(d,b,c,e){var f=this;var h="jquery_upload"+ ++g;var m=a('<iframe name="'+h+'" style="position:absolute;top:-9999px" />').appendTo("body"),k='<form target="'+h+'" method="post" enctype="multipart/form-data" />';a.isFunction(b)&&(e=c,c=b,b={});var l=a("input:checkbox",this);h=a("input:checked",this);k=f.wrapAll(k).parent("form").attr("action",d);l.removeAttr("checked");h.attr("checked",!0);var p=(p=a.map(function(u){function t(D,w){C.push({name:D,value:w})}if(a.isArray(u))return u;
var C=[];return"object"==typeof u?a.each(u,function(D){a.isArray(this)?a.each(this,function(){t(D,this)}):t(D,a.isFunction(this)?this():this)}):"string"==typeof u&&a.each(u.split("&"),function(){var D=a.map(this.split("="),function(w){return decodeURIComponent(w.replace(/\+/g," "))});t(D[0],D[1])}),C}(b),function(u){return'<input type="hidden" name="'+u.name+'" value="'+u.value+'"/>'}).join(""))?a(p).appendTo(k):null;var q=k.parent();return k.appendTo("body"),k.submit(function(){m.load(function(){var u=
function(C,D){C=a(C).contents().get(0);if(a.isXMLDoc(C)||C.XMLDocument)return C.XMLDocument||C;switch(C=a(C).find("body").html(),D){case "xml":D=C;window.DOMParser?C=(new DOMParser).parseFromString(D,"application/xml"):(C=new ActiveXObject("Microsoft.XMLDOM"),C=(C.async=!1,C.loadXML(D),C));break;case "json":C=window.eval("("+C+")")}return C}(this,e),t=a("input:checked",f);k.prependTo(q);k.after(f).remove();l.removeAttr("checked");t.attr("checked",!0);p&&p.remove();setTimeout(function(){m.remove();
"script"===e&&a.globalEval(u);c&&c.call(f,u)},0)})}).submit(),this}}(jQuery);
(function(a){var g,d=document.createElement("input"),b=(d.setAttribute("onpaste",""),"function"==typeof d.onpaste?"paste":"input")+".mask";d=navigator.userAgent;var c=/iphone/i.test(d),e=/android/i.test(d);a.mask={definitions:{9:"[0-9]",a:"[A-Za-z]","*":"[A-Za-z0-9]"},dataName:"rawMaskFn",placeholder:"_"};a.fn.extend({caret:function(f,h){var m;if(0!==this.length&&!this.is(":hidden"))return"number"==typeof f?(h="number"==typeof h?h:f,this.each(function(){this.setSelectionRange?this.setSelectionRange(f,
h):this.createTextRange&&(m=this.createTextRange(),m.collapse(!0),m.moveEnd("character",h),m.moveStart("character",f),m.select())})):(this[0].setSelectionRange?(f=this[0].selectionStart,h=this[0].selectionEnd):document.selection&&document.selection.createRange&&(m=document.selection.createRange(),f=0-m.duplicate().moveStart("character",-1E5),h=f+m.text.length),{begin:f,end:h})},unmask:function(){return this.trigger("unmask")},mask:function(f,h){var m,k,l,p,q,u;return!f&&0<this.length?(m=a(this[0]),
m.data(a.mask.dataName)()):(h=a.extend({placeholder:a.mask.placeholder,completed:null},h),k=a.mask.definitions,l=[],p=u=f.length,q=null,a.each(f.split(""),function(t,C){"?"==C?(u--,p=t):k[C]?(l.push(RegExp(k[C])),null===q&&(q=l.length-1)):l.push(null)}),this.trigger("unmask").each(function(){function t(J){for(;u>++J&&!l[J];);return J}function C(J,P){if(!(0>J)){var K=J;for(P=t(P);u>K;K++)if(l[K]){if(!(u>P&&l[K].test(Y[P])))break;Y[K]=Y[P];Y[P]=h.placeholder;P=t(P)}L();V.caret(Math.max(q,J))}}function D(J){var P=
J.which;if(8===P||46===P||c&&127===P){var K=V.caret();var E=K.begin;K=K.end;if(0===K-E){if(46!==P)for(;0<=--E&&!l[E];);else E=K=t(E-1);K=46===P?t(K):K}z(E,K);C(E,K-1);J.preventDefault()}else 27==P&&(V.val(T),V.caret(0,U()),J.preventDefault())}function w(J){var P;var K=J.which;var E=V.caret();if(!(J.ctrlKey||J.altKey||J.metaKey||32>K)&&K){0!==E.end-E.begin&&(z(E.begin,E.end),C(E.begin,E.end-1));E=t(E.begin-1);if(u>E&&(K=String.fromCharCode(K),l[E].test(K))){var x,H;var M=E;for(x=h.placeholder;u>M;M++)if(l[M]){if(P=
t(M),H=Y[M],Y[M]=x,!(u>P&&l[P].test(H)))break;x=H}Y[E]=K;L();P=t(E);e?setTimeout(a.proxy(a.fn.caret,V,P),0):V.caret(P);h.completed&&P>=u&&h.completed.call(V)}J.preventDefault()}}function z(J,P){for(;P>J&&u>J;J++)l[J]&&(Y[J]=h.placeholder)}function L(){V.val(Y.join(""))}function U(J){var P,K,E=V.val(),x=-1;for(pos=P=0;u>P;P++)if(l[P]){for(Y[P]=h.placeholder;pos++<E.length;)if(K=E.charAt(pos-1),l[P].test(K)){Y[P]=K;x=P;break}if(pos>E.length)break}else Y[P]===E.charAt(pos)&&P!==p&&(pos++,x=P);return J?
L():p>x+1?(V.val(""),z(0,u)):(L(),V.val(V.val().substring(0,x+1))),p?P:q}var V=a(this),Y=a.map(f.split(""),function(J){return"?"!=J?k[J]?h.placeholder:J:void 0}),T=V.val();V.data(a.mask.dataName,function(){return a.map(Y,function(J,P){return l[P]&&J!=h.placeholder?J:null}).join("")});V.attr("readonly")||V.one("unmask",function(){V.unbind(".mask").removeData(a.mask.dataName)}).bind("focus.mask",function(){clearTimeout(g);T=V.val();var J=U();g=setTimeout(function(){L();J==f.length?V.caret(0,J):V.caret(J)},
10)}).bind("blur.mask",function(){U();V.val()!=T&&V.change()}).bind("keydown.mask",D).bind("keypress.mask",w).bind(b,function(){setTimeout(function(){var J=U(!0);V.caret(J);h.completed&&J==V.val().length&&h.completed.call(V)},0)});U()}))}})})(jQuery);
(function(a){a.fn.decimalMask=function(g){var d={separator:",",decSize:4,intSize:8};d=a.extend(d,g);var b=-1===[",","."].indexOf(d.separator.substring(0,1))?",":d.separator.substring(0,1);var c=d.intSize,e=d.decSize,f=function(){for(var h=!1,m=1,k=arguments.length;m<k;m++)if(arguments[0]===arguments[m]){h=!0;break}return h};a(this).each(function(){a(this).attr("maxlength",c+e+1);var h=a(this).val().replace(".",b);0===h.indexOf(b)&&(h="0"+value);a(this).val(h)});a(this).bind("input",function(){for(var h=
a(this).val(),m="",k=-1<h.indexOf(b)?!0:!1,l=0,p=h.length;l<p;l++)h.substring(l,l+1).match("[0-9,"+b+"]")&&(h.substring(l,l+1)===b&&-1===m.indexOf(b)&&(m+=h.substring(l,l+1)),h.substring(l,l+1)!==b&&(m+=h.substring(l,l+1)));h=m.split(b);h[0].length>c&&(void 0===h[1]&&!k&&(k=!0,h[1]=h[0].substring(c,h[0].length)),h[0]=h[0].substring(0,c));void 0!==h[1]&&h[1].length>e&&(h[1]=h[1].substring(0,e));a(this).val((void 0===h[0]?"":h[0])+(k?b:"")+(void 0===h[1]?"":h[1]))});a(this).bind("keydown",function(h){var m=
h.keyCode;if(h.shiftKey||h.ctrlKey||h.altKey||f(m,35,36,9)||f(m,37,38,39,40))return!0;if(46===m)return m=a(this).val(),a(this).caret().start===a(this).val().indexOf(b)&&a(this).caret().start==a(this).caret().end&&1<m.length&&0<m.indexOf(b)&&m.indexOf(b)+1<m.length?!1:m.indexOf(b)>=a(this).caret().start&&m.indexOf(b)<a(this).caret().end?(a(this).val(m.substring(0,a(this).caret().start)+b+m.substring(a(this).caret().end,m.length)),1===a(this).val().length&&a(this).val(""),!1):!0;if(8===m)return m=a(this).val(),
a(this).caret().start===m.indexOf(b)+1&&a(this).caret().start===a(this).caret().end&&1<m.length&&0<m.indexOf(b)&&m.indexOf(b)+1<m.length?!1:m.indexOf(b)>=a(this).caret().start&&m.indexOf(b)<a(this).caret().end?(a(this).val(m.substring(0,a(this).caret().start)+b+m.substring(a(this).caret().end,m.length)),1===a(this).val().length&&a(this).val(""),!1):!0;if(f(m,110,188))return"."===b||","===b&&-1!==a(this).val().indexOf(",")?!1:!0;if(f(m,190,194))return","===b||"."===b&&-1!==a(this).val().indexOf(".")?
!1:!0;if(96<=m&&105>=m||48<=m&&57>=m){if(a(this).val().length>c+e+1)return!1;h=a(this).val();var k=h.split(b);if(f(m,48,96)&&0===a(this).caret().start&&0<h.length)return!1;if(a(this).caret().start===a(this).caret().end){if(a(this).caret().start>h.indexOf(b)&&-1<h.indexOf(b)&&k[1].length>=e)return!1;a(this).caret().start<=h.indexOf(b)||h.indexOf(b)}else{if(a(this).caret().end-a(this).caret().start===h.length)return!0;if(a(this).caret().start<=h.indexOf(b)&&a(this).caret().end>h.indexOf(b))return!1}return!0}return!1})}})(jQuery);
(function(){jQuery.support.placeholder=!1;"placeholder"in document.createElement("input")&&(jQuery.support.placeholder=!0);$.fn.placeholder=function(){$.support.placeholder||this.focus(function(){var a=$(this),g=a.attr("placeholder");g&&a.val()==g&&a.val("").removeClass("hasPlaceholder")}).blur(function(){var a=$(this),g=a.attr("placeholder");g&&(""==a.val()||a.val()==g)&&a.val(g).addClass("hasPlaceholder")}).blur();return this}})();
$(function(){$.support.placeholder||($(":text").placeholder(),$(document.activeElement).focus(),$("form:eq(0)").submit(function(){$(":text.hasPlaceholder").val("")}))});
(function(a){a.fn.jqm=function(q){var u={overlay:50,overlayClass:"jqmOverlay",closeClass:"jqmClose",trigger:".jqModal",ajax:e,ajaxText:"",target:e,modal:e,toTop:e,onShow:e,onHide:e,onLoad:e};return this.each(function(){if(this._jqm)return d[this._jqm].c=a.extend({},d[this._jqm].c,q);g++;this._jqm=g;d[g]={c:a.extend(u,a.jqm.params,q),a:e,w:a(this).addClass("jqmID"+g),s:g};u.trigger&&a(this).jqmAddTrigger(u.trigger)})};a.fn.jqmAddClose=function(q){return p(this,q,"jqmHide")};a.fn.jqmAddTrigger=function(q){return p(this,
q,"jqmShow")};a.fn.jqmShow=function(q){return this.each(function(){q=q||window.event;a.jqm.open(this._jqm,q)})};a.fn.jqmHide=function(q){return this.each(function(){q=q||window.event;a.jqm.close(this._jqm,q)})};a.jqm={hash:{},open:function(q,u){var t=d[q],C=t.c,D="."+C.closeClass,w=parseInt(t.w.css("z-index"));w=0<w?w:3E3;var z=a("<div></div>").css({height:"100%",width:"100%",position:"fixed",left:0,top:0,"z-index":w-1,opacity:C.overlay/100});if(t.a)return e;t.t=u;t.a=!0;t.w.css("z-index",w);C.modal?
(b[0]||k("bind"),b.push(q)):0<C.overlay?t.w.jqmAddClose(z):z=e;t.o=z?z.addClass(C.overlayClass).prependTo("body"):e;if(c&&(a("html,body").css({height:"100%",width:"100%"}),z)){z=z.css({position:"absolute"})[0];for(var L in{Top:1,Left:1})z.style.setExpression(L.toLowerCase(),"(_=(document.documentElement.scroll"+L+" || document.body.scroll"+L+"))+'px'")}C.ajax?(w=C.target||t.w,z=C.ajax,w="string"==typeof w?a(w,t.w):a(w),z="@"==z.substr(0,1)?a(u).attr(z.substring(1)):z,w.html(C.ajaxText).load(z,function(){C.onLoad&&
C.onLoad.call(this,t);D&&t.w.jqmAddClose(a(D,t.w));h(t)})):D&&t.w.jqmAddClose(a(D,t.w));C.toTop&&t.o&&t.w.before('<span id="jqmP'+t.w[0]._jqm+'"></span>').insertAfter(t.o);C.onShow?C.onShow(t):t.w.show();h(t);return e},close:function(q){q=d[q];if(!q.a)return e;q.a=e;b[0]&&(b.pop(),b[0]||k("unbind"));q.c.toTop&&q.o&&a("#jqmP"+q.w[0]._jqm).after(q.w).remove();if(q.c.onHide)q.c.onHide(q);else q.w.hide(),q.o&&q.o.remove();return e},params:{}};var g=0,d=a.jqm.hash,b=[],c=/MISE 6.0/.test((navigator||"").userAgent||
""),e=!1,f=a('<iframe src="javascript:false;document.write(\'\');" class="jqm"></iframe>').css({opacity:0}),h=function(q){c&&(q.o?q.o.html('<p style="width:100%;height:100%"/>').prepend(f):a("iframe.jqm",q.w)[0]||q.w.prepend(f));m(q)},m=function(q){try{a(":input:visible",q.w)[0].focus()}catch(u){}},k=function(q){a()[q]("keypress",l)[q]("keydown",l)[q]("mousedown",l)},l=function(q){var u=d[b[b.length-1]];(q=!a(q.target).parents(".jqmID"+u.s)[0])&&m(u);return!q},p=function(q,u,t){return q.each(function(){var C=
this._jqm;a(u).each(function(){this[t]||(this[t]=[],a(this).click(function(){for(var D in{jqmShow:1,jqmHide:1})for(var w in this[D])if(d[this[D][w]])d[this[D][w]].w[D](this);return e}));this[t].push(C)})})}})(jQuery);
(function(a){a.fn.bPopup=function(g,d){function b(){u.modal&&a('<div class="b-modal '+U+'"></div>').css({backgroundColor:u.modalColor,position:"fixed",top:0,right:0,bottom:0,left:0,opacity:0,zIndex:u.zIndex+L}).appendTo(u.appendTo).fadeTo(u.speed,u.opacity);p();t.data("bPopup",u).data("id",U).css({left:"slideIn"===u.transition?-1*(K+x):m(!(!u.follow[0]&&T||J)),position:u.positionStyle||"absolute",top:"slideDown"===u.transition?-1*(P+x):k(!(!u.follow[1]&&Y||J)),"z-index":u.zIndex+L+1}).each(function(){u.appending&&
a(this).appendTo(u.appendTo)});f(!0)}function c(){u.modal&&a(".b-modal."+t.data("id")).fadeTo(u.speed,0,function(){a(this).remove()});u.scrollBar||a("html").css("overflow","auto");a(".b-modal."+U).unbind("click");C.unbind("keydown."+U);D.unbind("."+U).data("bPopup",0<D.data("bPopup")-1?D.data("bPopup")-1:null);t.undelegate(".bClose, ."+u.closeClass,"click."+U,c).data("bPopup",null);f();return!1}function e(M){var G=M.width(),N=M.height(),R={};u.contentContainer.css({height:N,width:G});N>=t.height()&&
(R.height=t.height());G>=t.width()&&(R.width=t.width());E=t.outerHeight(!0);x=t.outerWidth(!0);p();u.contentContainer.css({height:"auto",width:"auto"});R.left=m(!(!u.follow[0]&&T||J));R.top=k(!(!u.follow[1]&&Y||J));t.animate(R,250,function(){M.show();V=q()})}function f(M){switch(u.transition){case "slideIn":t.css({display:"block",opacity:1}).animate({left:M?m(!(!u.follow[0]&&T||J)):C.scrollLeft()-(x||t.outerWidth(!0))-200},u.speed,u.easing,function(){h(M)});break;case "slideDown":t.css({display:"block",
opacity:1}).animate({top:M?k(!(!u.follow[1]&&Y||J)):C.scrollTop()-(E||t.outerHeight(!0))-200},u.speed,u.easing,function(){h(M)});break;default:t.stop().fadeTo(u.speed,M?1:0,function(){h(M)})}}function h(M){M?(D.data("bPopup",L),t.delegate(".bClose, ."+u.closeClass,"click."+U,c),u.modalClose&&a(".b-modal."+U).css("cursor","pointer").bind("click",c),!w&&(u.follow[0]||u.follow[1])&&D.bind("scroll."+U,function(){V&&t.dequeue().animate({left:u.follow[0]?m(!J):"auto",top:u.follow[1]?k(!J):"auto"},u.followSpeed,
u.followEasing)}).bind("resize."+U,function(){if(V=q())clearTimeout(H),H=setTimeout(function(){p();t.dequeue().each(function(){J?a(this).css({left:K,top:P}):a(this).animate({left:u.follow[0]?m(!0):"auto",top:u.follow[1]?k(!0):"auto"},u.followSpeed,u.followEasing)})},50)}),u.escClose&&C.bind("keydown."+U,function(G){27==G.which&&c()}),l(d)):(t.hide(),l(u.onClose),u.loadUrl&&(u.contentContainer.empty(),t.css({height:"auto",width:"auto"})))}function m(M){return M?K+C.scrollLeft():K}function k(M){return M?
P+C.scrollTop():P}function l(M){a.isFunction(M)&&M.call(t)}function p(){var M;Y?M=u.position[1]:(M=((window.innerHeight||D.height())-t.outerHeight(!0))/2-u.amsl,M=M<z?z:M);P=M;K=T?u.position[0]:((window.innerWidth||D.width())-t.outerWidth(!0))/2;V=q()}function q(){return(window.innerHeight||D.height())>t.outerHeight(!0)+z&&(window.innerWidth||D.width())>t.outerWidth(!0)+z}a.isFunction(g)&&(d=g,g=null);var u=a.extend({},a.fn.bPopup.defaults,g);u.scrollBar||a("html").css("overflow","hidden");var t=
this,C=a(document),D=a(window),w=/OS 6(_\d)+/i.test(navigator.userAgent),z=20,L=0,U,V,Y,T,J,P,K,E,x,H;t.close=function(){u=this.data("bPopup");U="__b-popup"+D.data("bPopup")+"__";c()};return t.each(function(){if(!a(this).data("bPopup"))if(l(u.onOpen),L=(D.data("bPopup")||0)+1,U="__b-popup"+L+"__",Y="auto"!==u.position[1],T="auto"!==u.position[0],J="fixed"===u.positionStyle,E=t.outerHeight(!0),x=t.outerWidth(!0),u.loadUrl)switch(u.contentContainer=a(u.contentContainer||t),u.content){case "iframe":var M=
a('<iframe class="b-iframe" scrolling="no" frameborder="0"></iframe>');M.appendTo(u.contentContainer);E=t.outerHeight(!0);x=t.outerWidth(!0);b();M.attr("src",u.loadUrl);l(u.loadCallback);break;case "image":b();a("<img />").load(function(){l(u.loadCallback);e(a(this))}).attr("src",u.loadUrl).hide().appendTo(u.contentContainer);break;default:b(),a('<div class="b-ajax-wrapper"></div>').load(u.loadUrl,u.loadData,function(){l(u.loadCallback);e(a(this))}).hide().appendTo(u.contentContainer)}else b()})};
a.fn.bPopup.defaults={amsl:50,appending:!0,appendTo:"body",closeClass:"b-close",content:"ajax",contentContainer:!1,easing:"swing",escClose:!0,follow:[!0,!0],followEasing:"swing",followSpeed:500,loadCallback:!1,loadData:!1,loadUrl:!1,modal:!0,modalClose:!0,modalColor:"#000",onClose:!1,onOpen:!1,opacity:.7,position:["auto","auto"],positionStyle:"absolute",scrollBar:!0,speed:250,transition:"fadeIn",zIndex:9997}})(jQuery);!function(a,g){"function"==typeof define&&define.amd?define(["jquery"],g):"object"==typeof exports?module.exports=g(require("jquery")):g(a.jQuery)}(this,function(a){"function"!=typeof Object.create&&(Object.create=function(b){function c(){}return c.prototype=b,new c});var g={init:function(b){if(this.options=a.extend({},a.noty.defaults,b),this.options.layout=this.options.custom?a.noty.layouts.inline:a.noty.layouts[this.options.layout],a.noty.themes[this.options.theme]?(this.options.theme=a.noty.themes[this.options.theme],
this.options.theme.template&&(this.options.template=this.options.theme.template),this.options.theme.animation&&(this.options.animation=this.options.theme.animation)):this.options.themeClassName=this.options.theme,this.options=a.extend({},this.options,this.options.layout.options),this.options.id){if(a.noty.store[this.options.id])return a.noty.store[this.options.id]}else this.options.id="noty_"+(new Date).getTime()*Math.floor(1E6*Math.random());return this._build(),this},_build:function(){var b=a('<div class="noty_bar noty_type_'+
this.options.type+'"></div>').attr("id",this.options.id);if(b.append(this.options.template).find(".noty_text").html(this.options.text),this.$bar=null!==this.options.layout.parent.object?a(this.options.layout.parent.object).css(this.options.layout.parent.css).append(b):b,this.options.themeClassName&&this.$bar.addClass(this.options.themeClassName).addClass("noty_container_type_"+this.options.type),this.options.buttons){var c;0<this.$bar.find(".noty_buttons").length?c=this.$bar.find(".noty_buttons"):
(c=a("<div/>").addClass("noty_buttons"),null!==this.options.layout.parent.object?this.$bar.find(".noty_bar").append(c):this.$bar.append(c));var e=this;a.each(this.options.buttons,function(f,h){var m=a("<button/>").addClass(h.addClass?h.addClass:"gray").html(h.text).attr("id",h.id?h.id:"button-"+f).attr("title",h.title).appendTo(c).on("click",function(k){a.isFunction(h.onClick)&&h.onClick.call(m,e,k)})})}else this.$bar.find(".noty_buttons").remove();this.options.progressBar&&this.options.timeout&&
(b=a("<div/>").addClass("noty_progress_bar"),null!==this.options.layout.parent.object?this.$bar.find(".noty_bar").append(b):this.$bar.append(b));this.$message=this.$bar.find(".noty_message");this.$closeButton=this.$bar.find(".noty_close");this.$buttons=this.$bar.find(".noty_buttons");this.$progressBar=this.$bar.find(".noty_progress_bar");a.noty.store[this.options.id]=this},show:function(){var b=this;return b.options.custom?b.options.custom.find(b.options.layout.container.selector).append(b.$bar):
a(b.options.layout.container.selector).append(b.$bar),b.options.theme&&b.options.theme.style&&b.options.theme.style.apply(b),"function"===a.type(b.options.layout.css)?this.options.layout.css.apply(b.$bar):b.$bar.css(this.options.layout.css||{}),b.$bar.addClass(b.options.layout.addClass),b.options.layout.container.style.apply(a(b.options.layout.container.selector),[b.options.within]),b.showing=!0,b.options.theme&&b.options.theme.style&&b.options.theme.callback.onShow.apply(this),-1<a.inArray("click",
b.options.closeWith)&&b.$bar.css("cursor","pointer").on("click",function(c){b.stopPropagation(c);b.options.callback.onCloseClick&&b.options.callback.onCloseClick.apply(b);b.close()}),-1<a.inArray("hover",b.options.closeWith)&&b.$bar.one("mouseenter",function(){b.close()}),-1<a.inArray("button",b.options.closeWith)&&b.$closeButton.one("click",function(c){b.stopPropagation(c);b.close()}),-1==a.inArray("button",b.options.closeWith)&&b.$closeButton.remove(),b.options.callback.beforeShow&&b.options.callback.beforeShow.apply(b),
"string"==typeof b.options.animation.open?(b.animationTypeOpen="css",b.$bar.css("min-height",b.$bar.innerHeight()),b.$bar.on("click",function(c){b.wasClicked=!0}),b.$bar.show(),b.options.callback.onShow&&b.options.callback.onShow.apply(b),b.$bar.addClass(b.options.animation.open).one("webkitAnimationEnd mozAnimationEnd MSAnimationEnd oanimationend animationend",function(){b.options.callback.afterShow&&b.options.callback.afterShow.apply(b);b.showing=!1;b.shown=!0;b.bindTimeout();b.hasOwnProperty("wasClicked")&&
(b.$bar.off("click",function(c){b.wasClicked=!0}),b.close())})):"object"==typeof b.options.animation.open&&null==b.options.animation.open?(b.animationTypeOpen="none",b.showing=!1,b.shown=!0,b.$bar.show(),b.bindTimeout(),b.options.callback.onShow&&b.options.callback.onShow.apply(b),b.$bar.queue(function(){b.options.callback.afterShow&&b.options.callback.afterShow.apply(b)})):(b.animationTypeOpen="anim",b.options.callback.onShow&&b.options.callback.onShow.apply(b),b.$bar.animate(b.options.animation.open,
b.options.animation.speed,b.options.animation.easing,function(){b.options.callback.afterShow&&b.options.callback.afterShow.apply(b);b.showing=!1;b.shown=!0;b.bindTimeout()})),this},bindTimeout:function(){this.options.timeout&&(this.options.progressBar&&this.$progressBar&&this.$progressBar.css({transition:"all "+this.options.timeout+"ms linear",width:"0%"}),this.queueClose(this.options.timeout),this.$bar.on("mouseenter",this.dequeueClose.bind(this)),this.$bar.on("mouseleave",this.queueClose.bind(this,
this.options.timeout)))},dequeueClose:function(){this.options.progressBar&&this.$progressBar.css({transition:"none",width:"100%"});this.closeTimer&&(clearTimeout(this.closeTimer),this.closeTimer=null)},queueClose:function(b){var c=this;if(c.options.progressBar&&c.$progressBar.css({transition:"all "+c.options.timeout+"ms linear",width:"0%"}),!this.closeTimer)return c.closeTimer=window.setTimeout(function(){c.close()},b),c.closeTimer},close:function(){if(this.$progressBar&&this.$progressBar.remove(),
this.closeTimer&&this.dequeueClose(),!(this.closed||this.$bar&&this.$bar.hasClass("i-am-closing-now"))){var b=this;if(this.showing&&("anim"==this.animationTypeOpen||"none"==this.animationTypeOpen))return void b.$bar.queue(function(){b.close.apply(b)});if(this.showing&&"css"==this.animationTypeOpen&&b.$bar.on("webkitAnimationEnd mozAnimationEnd MSAnimationEnd oanimationend animationend",function(){b.close()}),!this.shown&&!this.showing){var c=[];return a.each(a.noty.queue,function(e,f){f.options.id!=
b.options.id&&c.push(f)}),void(a.noty.queue=c)}b.$bar.addClass("i-am-closing-now");b.options.callback.onClose&&b.options.callback.onClose.apply(b);"string"==typeof b.options.animation.close?b.$bar.removeClass(b.options.animation.open).addClass(b.options.animation.close).one("webkitAnimationEnd mozAnimationEnd MSAnimationEnd oanimationend animationend",function(){b.options.callback.afterClose&&b.options.callback.afterClose.apply(b);b.closeCleanUp()}):"object"==typeof b.options.animation.close&&null==
b.options.animation.close?b.$bar.dequeue().hide(0,function(){b.options.callback.afterClose&&b.options.callback.afterClose.apply(b);b.closeCleanUp()}):b.$bar.clearQueue().stop().animate(b.options.animation.close,b.options.animation.speed,b.options.animation.easing,function(){b.options.callback.afterClose&&b.options.callback.afterClose.apply(b)}).promise().done(function(){b.closeCleanUp()})}},closeCleanUp:function(){var b=this;b.options.modal&&(a.notyRenderer.setModalCount(-1),0!=a.notyRenderer.getModalCount()||
a.noty.queue.length||a(".noty_modal").fadeOut(b.options.animation.fadeSpeed,function(){a(this).remove()}));a.notyRenderer.setLayoutCountFor(b,-1);0==a.notyRenderer.getLayoutCountFor(b)&&a(b.options.layout.container.selector).remove();"undefined"!=typeof b.$bar&&null!==b.$bar?"string"==typeof b.options.animation.close?(b.$bar.css("transition","all 10ms ease").css("border",0).css("margin",0).height(0),b.$bar.one("transitionend webkitTransitionEnd oTransitionEnd MSTransitionEnd",function(){b.$bar.remove();
b.$bar=null;b.closed=!0;b.options.theme.callback&&b.options.theme.callback.onClose&&b.options.theme.callback.onClose.apply(b);b.handleNext()})):(b.$bar.remove(),b.$bar=null,b.closed=!0,b.handleNext()):b.handleNext()},handleNext:function(){delete a.noty.store[this.options.id];this.options.theme.callback&&this.options.theme.callback.onClose&&this.options.theme.callback.onClose.apply(this);this.options.dismissQueue||(a.noty.ontap=!0,a.notyRenderer.render());0<this.options.maxVisible&&this.options.dismissQueue&&
a.notyRenderer.render()},setText:function(b){return this.closed||(this.options.text=b,this.$bar.find(".noty_text").html(b)),this},setType:function(b){return this.closed||(this.options.type=b,this.options.theme.style.apply(this),this.options.theme.callback.onShow.apply(this)),this},setTimeout:function(b){if(!this.closed){var c=this;this.options.timeout=b;c.$bar.delay(c.options.timeout).promise().done(function(){c.close()})}return this},stopPropagation:function(b){b=b||window.event;"undefined"!=typeof b.stopPropagation?
b.stopPropagation():b.cancelBubble=!0},closed:!1,showing:!1,shown:!1};a.notyRenderer={};a.notyRenderer.init=function(b){b=Object.create(g).init(b);return b.options.killer&&a.noty.closeAll(),b.options.force?a.noty.queue.unshift(b):a.noty.queue.push(b),a.notyRenderer.render(),"object"==a.noty.returns?b:b.options.id};a.notyRenderer.render=function(){var b=a.noty.queue[0];"object"===a.type(b)?b.options.dismissQueue?0<b.options.maxVisible?a(b.options.layout.container.selector+" > li").length<b.options.maxVisible&&
a.notyRenderer.show(a.noty.queue.shift()):a.notyRenderer.show(a.noty.queue.shift()):a.noty.ontap&&(a.notyRenderer.show(a.noty.queue.shift()),a.noty.ontap=!1):a.noty.ontap=!0};a.notyRenderer.show=function(b){b.options.modal&&(a.notyRenderer.createModalFor(b),a.notyRenderer.setModalCount(1));b.options.custom?0==b.options.custom.find(b.options.layout.container.selector).length?b.options.custom.append(a(b.options.layout.container.object).addClass("i-am-new")):b.options.custom.find(b.options.layout.container.selector).removeClass("i-am-new"):
0==a(b.options.layout.container.selector).length?a("body").append(a(b.options.layout.container.object).addClass("i-am-new")):a(b.options.layout.container.selector).removeClass("i-am-new");a.notyRenderer.setLayoutCountFor(b,1);b.show()};a.notyRenderer.createModalFor=function(b){if(0==a(".noty_modal").length){var c=a("<div/>").addClass("noty_modal").addClass(b.options.theme).data("noty_modal_count",0);b.options.theme.modal&&b.options.theme.modal.css&&c.css(b.options.theme.modal.css);c.prependTo(a("body")).fadeIn(b.options.animation.fadeSpeed);
-1<a.inArray("backdrop",b.options.closeWith)&&c.on("click",function(){a.noty.closeAll()})}};a.notyRenderer.getLayoutCountFor=function(b){return a(b.options.layout.container.selector).data("noty_layout_count")||0};a.notyRenderer.setLayoutCountFor=function(b,c){return a(b.options.layout.container.selector).data("noty_layout_count",a.notyRenderer.getLayoutCountFor(b)+c)};a.notyRenderer.getModalCount=function(){return a(".noty_modal").data("noty_modal_count")||0};a.notyRenderer.setModalCount=function(b){return a(".noty_modal").data("noty_modal_count",
a.notyRenderer.getModalCount()+b)};a.fn.noty=function(b){return b.custom=a(this),a.notyRenderer.init(b)};a.noty={};a.noty.queue=[];a.noty.ontap=!0;a.noty.layouts={};a.noty.themes={};a.noty.returns="object";a.noty.store={};a.noty.get=function(b){return!!a.noty.store.hasOwnProperty(b)&&a.noty.store[b]};a.noty.close=function(b){return!!a.noty.get(b)&&a.noty.get(b).close()};a.noty.setText=function(b,c){return!!a.noty.get(b)&&a.noty.get(b).setText(c)};a.noty.setType=function(b,c){return!!a.noty.get(b)&&
a.noty.get(b).setType(c)};a.noty.clearQueue=function(){a.noty.queue=[]};a.noty.closeAll=function(){a.noty.clearQueue();a.each(a.noty.store,function(b,c){c.close()})};var d=window.alert;return a.noty.consumeAlert=function(b){window.alert=function(c){b?b.text=c:b={text:c};a.notyRenderer.init(b)}},a.noty.stopConsumeAlert=function(){window.alert=d},a.noty.defaults={layout:"topRight",theme:"relax",type:"alert",text:"",progressBar:!1,dismissQueue:!0,template:'<div class="noty_message"><span class="noty_text"></span><div class="noty_close"></div></div>',
animation:{open:{height:"toggle"},close:{height:"toggle"},easing:"swing",speed:500,fadeSpeed:"fast"},timeout:!1,force:!1,modal:!1,maxVisible:5,killer:!1,closeWith:["click"],callback:{beforeShow:function(){},onShow:function(){},afterShow:function(){},onClose:function(){},afterClose:function(){},onCloseClick:function(){}},buttons:!1},a(window).on("resize",function(){a.each(a.noty.layouts,function(b,c){c.container.style.apply(a(c.container.selector))})}),window.noty=function(b){return a.notyRenderer.init(b)},
a.noty.layouts.bottom={name:"bottom",options:{},container:{object:'<ul id="noty_bottom_layout_container" />',selector:"ul#noty_bottom_layout_container",style:function(){a(this).css({bottom:0,left:"5%",position:"fixed",width:"90%",height:"auto",margin:0,padding:0,listStyleType:"none",zIndex:9999999})}},parent:{object:"<li />",selector:"li",css:{}},css:{display:"none"},addClass:""},a.noty.layouts.bottomCenter={name:"bottomCenter",options:{},container:{object:'<ul id="noty_bottomCenter_layout_container" />',
selector:"ul#noty_bottomCenter_layout_container",style:function(){a(this).css({bottom:20,left:0,position:"fixed",width:"310px",height:"auto",margin:0,padding:0,listStyleType:"none",zIndex:1E7});a(this).css({left:(a(window).width()-a(this).outerWidth(!1))/2+"px"})}},parent:{object:"<li />",selector:"li",css:{}},css:{display:"none",width:"310px"},addClass:""},a.noty.layouts.bottomLeft={name:"bottomLeft",options:{},container:{object:'<ul id="noty_bottomLeft_layout_container" />',selector:"ul#noty_bottomLeft_layout_container",
style:function(){a(this).css({bottom:20,left:20,position:"fixed",width:"310px",height:"auto",margin:0,padding:0,listStyleType:"none",zIndex:1E7});600>window.innerWidth&&a(this).css({left:5})}},parent:{object:"<li />",selector:"li",css:{}},css:{display:"none",width:"310px"},addClass:""},a.noty.layouts.bottomRight={name:"bottomRight",options:{},container:{object:'<ul id="noty_bottomRight_layout_container" />',selector:"ul#noty_bottomRight_layout_container",style:function(){a(this).css({bottom:20,right:20,
position:"fixed",width:"310px",height:"auto",margin:0,padding:0,listStyleType:"none",zIndex:1E7});600>window.innerWidth&&a(this).css({right:5})}},parent:{object:"<li />",selector:"li",css:{}},css:{display:"none",width:"310px"},addClass:""},a.noty.layouts.center={name:"center",options:{},container:{object:'<ul id="noty_center_layout_container" />',selector:"ul#noty_center_layout_container",style:function(){a(this).css({position:"fixed",width:"310px",height:"auto",margin:0,padding:0,listStyleType:"none",
zIndex:1E7});var b=a(this).clone().css({visibility:"hidden",display:"block",position:"absolute",top:0,left:0}).attr("id","dupe");a("body").append(b);b.find(".i-am-closing-now").remove();b.find("li").css("display","block");var c=b.height();b.remove();a(this).hasClass("i-am-new")?a(this).css({left:(a(window).width()-a(this).outerWidth(!1))/2+"px",top:(a(window).height()-c)/2+"px"}):a(this).animate({left:(a(window).width()-a(this).outerWidth(!1))/2+"px",top:(a(window).height()-c)/2+"px"},500)}},parent:{object:"<li />",
selector:"li",css:{}},css:{display:"none",width:"310px"},addClass:""},a.noty.layouts.centerLeft={name:"centerLeft",options:{},container:{object:'<ul id="noty_centerLeft_layout_container" />',selector:"ul#noty_centerLeft_layout_container",style:function(){a(this).css({left:20,position:"fixed",width:"310px",height:"auto",margin:0,padding:0,listStyleType:"none",zIndex:1E7});var b=a(this).clone().css({visibility:"hidden",display:"block",position:"absolute",top:0,left:0}).attr("id","dupe");a("body").append(b);
b.find(".i-am-closing-now").remove();b.find("li").css("display","block");var c=b.height();b.remove();a(this).hasClass("i-am-new")?a(this).css({top:(a(window).height()-c)/2+"px"}):a(this).animate({top:(a(window).height()-c)/2+"px"},500);600>window.innerWidth&&a(this).css({left:5})}},parent:{object:"<li />",selector:"li",css:{}},css:{display:"none",width:"310px"},addClass:""},a.noty.layouts.centerRight={name:"centerRight",options:{},container:{object:'<ul id="noty_centerRight_layout_container" />',
selector:"ul#noty_centerRight_layout_container",style:function(){a(this).css({right:20,position:"fixed",width:"310px",height:"auto",margin:0,padding:0,listStyleType:"none",zIndex:1E7});var b=a(this).clone().css({visibility:"hidden",display:"block",position:"absolute",top:0,left:0}).attr("id","dupe");a("body").append(b);b.find(".i-am-closing-now").remove();b.find("li").css("display","block");var c=b.height();b.remove();a(this).hasClass("i-am-new")?a(this).css({top:(a(window).height()-c)/2+"px"}):a(this).animate({top:(a(window).height()-
c)/2+"px"},500);600>window.innerWidth&&a(this).css({right:5})}},parent:{object:"<li />",selector:"li",css:{}},css:{display:"none",width:"310px"},addClass:""},a.noty.layouts.inline={name:"inline",options:{},container:{object:'<ul class="noty_inline_layout_container" />',selector:"ul.noty_inline_layout_container",style:function(){a(this).css({width:"100%",height:"auto",margin:0,padding:0,listStyleType:"none",zIndex:9999999})}},parent:{object:"<li />",selector:"li",css:{}},css:{display:"none"},addClass:""},
a.noty.layouts.top={name:"top",options:{},container:{object:'<ul id="noty_top_layout_container" />',selector:"ul#noty_top_layout_container",style:function(){a(this).css({top:0,left:"5%",position:"fixed",width:"90%",height:"auto",margin:0,padding:0,listStyleType:"none",zIndex:9999999})}},parent:{object:"<li />",selector:"li",css:{}},css:{display:"none"},addClass:""},a.noty.layouts.topCenter={name:"topCenter",options:{},container:{object:'<ul id="noty_topCenter_layout_container" />',selector:"ul#noty_topCenter_layout_container",
style:function(){a(this).css({top:20,left:0,position:"fixed",width:"310px",height:"auto",margin:0,padding:0,listStyleType:"none",zIndex:1E7});a(this).css({left:(a(window).width()-a(this).outerWidth(!1))/2+"px"})}},parent:{object:"<li />",selector:"li",css:{}},css:{display:"none",width:"310px"},addClass:""},a.noty.layouts.topLeft={name:"topLeft",options:{},container:{object:'<ul id="noty_topLeft_layout_container" />',selector:"ul#noty_topLeft_layout_container",style:function(){a(this).css({top:20,
left:20,position:"fixed",width:"310px",height:"auto",margin:0,padding:0,listStyleType:"none",zIndex:1E7});600>window.innerWidth&&a(this).css({left:5})}},parent:{object:"<li />",selector:"li",css:{}},css:{display:"none",width:"310px"},addClass:""},a.noty.layouts.topRight={name:"topRight",options:{},container:{object:'<ul id="noty_topRight_layout_container" />',selector:"ul#noty_topRight_layout_container",style:function(){a(this).css({top:20,right:20,position:"fixed",width:"310px",height:"auto",margin:0,
padding:0,listStyleType:"none",zIndex:1E7});600>window.innerWidth&&a(this).css({right:5})}},parent:{object:"<li />",selector:"li",css:{}},css:{display:"none",width:"310px"},addClass:""},a.noty.themes.bootstrapTheme={name:"bootstrapTheme",modal:{css:{position:"fixed",width:"100%",height:"100%",backgroundColor:"#000",zIndex:1E4,opacity:.6,display:"none",left:0,top:0,wordBreak:"break-all"}},style:function(){switch(a(this.options.layout.container.selector).addClass("list-group"),this.$closeButton.append('<span aria-hidden="true">&times;</span><span class="sr-only">Close</span>'),
this.$closeButton.addClass("close"),this.$bar.addClass("list-group-item").css("padding","0px").css("position","relative"),this.$progressBar.css({position:"absolute",left:0,bottom:0,height:4,width:"100%",backgroundColor:"#000000",opacity:.2,"-ms-filter":"progid:DXImageTransform.Microsoft.Alpha(Opacity=20)",filter:"alpha(opacity=20)"}),this.options.type){case "alert":case "notification":this.$bar.addClass("list-group-item-info");break;case "warning":this.$bar.addClass("list-group-item-warning");break;
case "error":this.$bar.addClass("list-group-item-danger");break;case "information":this.$bar.addClass("list-group-item-info");break;case "success":this.$bar.addClass("list-group-item-success")}this.$message.css({textAlign:"center",padding:"8px 10px 9px",width:"auto",position:"relative"})},callback:{onShow:function(){},onClose:function(){}}},a.noty.themes.defaultTheme={name:"defaultTheme",helpers:{borderFix:function(){if(this.options.dismissQueue){var b=this.options.layout.container.selector+" "+this.options.layout.parent.selector;
switch(this.options.layout.name){case "top":a(b).css({borderRadius:"0px 0px 0px 0px"});a(b).last().css({borderRadius:"0px 0px 5px 5px"});break;case "topCenter":case "topLeft":case "topRight":case "bottomCenter":case "bottomLeft":case "bottomRight":case "center":case "centerLeft":case "centerRight":case "inline":a(b).css({borderRadius:"0px 0px 0px 0px"});a(b).first().css({"border-top-left-radius":"5px","border-top-right-radius":"5px"});a(b).last().css({"border-bottom-left-radius":"5px","border-bottom-right-radius":"5px"});
break;case "bottom":a(b).css({borderRadius:"0px 0px 0px 0px"}),a(b).first().css({borderRadius:"5px 5px 0px 0px"})}}}},modal:{css:{position:"fixed",width:"100%",height:"100%",backgroundColor:"#000",zIndex:1E4,opacity:.6,display:"none",left:0,top:0}},style:function(){switch(this.$bar.css({overflow:"hidden",background:"url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABsAAAAoCAQAAAClM0ndAAAAhklEQVR4AdXO0QrCMBBE0bttkk38/w8WRERpdyjzVOc+HxhIHqJGMQcFFkpYRQotLLSw0IJ5aBdovruMYDA/kT8plF9ZKLFQcgF18hDj1SbQOMlCA4kao0iiXmah7qBWPdxpohsgVZyj7e5I9KcID+EhiDI5gxBYKLBQYKHAQoGFAoEks/YEGHYKB7hFxf0AAAAASUVORK5CYII=') repeat-x scroll left top #fff",
position:"relative"}),this.$progressBar.css({position:"absolute",left:0,bottom:0,height:4,width:"100%",backgroundColor:"#000000",opacity:.2,"-ms-filter":"progid:DXImageTransform.Microsoft.Alpha(Opacity=20)",filter:"alpha(opacity=20)"}),this.$message.css({textAlign:"center",padding:"8px 10px 9px",width:"auto",position:"relative"}),this.$closeButton.css({position:"absolute",top:4,right:4,width:10,height:10,background:"url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAoAAAAKCAQAAAAnOwc2AAAAxUlEQVR4AR3MPUoDURSA0e++uSkkOxC3IAOWNtaCIDaChfgXBMEZbQRByxCwk+BasgQRZLSYoLgDQbARxry8nyumPcVRKDfd0Aa8AsgDv1zp6pYd5jWOwhvebRTbzNNEw5BSsIpsj/kurQBnmk7sIFcCF5yyZPDRG6trQhujXYosaFoc+2f1MJ89uc76IND6F9BvlXUdpb6xwD2+4q3me3bysiHvtLYrUJto7PD/ve7LNHxSg/woN2kSz4txasBdhyiz3ugPGetTjm3XRokAAAAASUVORK5CYII=)",
display:"none",cursor:"pointer"}),this.$buttons.css({padding:5,textAlign:"right",borderTop:"1px solid #ccc",backgroundColor:"#fff"}),this.$buttons.find("button").css({marginLeft:5}),this.$buttons.find("button:first").css({marginLeft:0}),this.$bar.on({mouseenter:function(){a(this).find(".noty_close").stop().fadeTo("normal",1)},mouseleave:function(){a(this).find(".noty_close").stop().fadeTo("normal",0)}}),this.options.layout.name){case "top":this.$bar.css({borderRadius:"0px 0px 5px 5px",borderBottom:"2px solid #eee",
borderLeft:"2px solid #eee",borderRight:"2px solid #eee",boxShadow:"0 2px 4px rgba(0, 0, 0, 0.1)"});break;case "topCenter":case "center":case "bottomCenter":case "inline":this.$bar.css({borderRadius:"5px",border:"1px solid #eee",boxShadow:"0 2px 4px rgba(0, 0, 0, 0.1)"});this.$message.css({textAlign:"center"});break;case "topLeft":case "topRight":case "bottomLeft":case "bottomRight":case "centerLeft":case "centerRight":this.$bar.css({borderRadius:"5px",border:"1px solid #eee",boxShadow:"0 2px 4px rgba(0, 0, 0, 0.1)"});
this.$message.css({textAlign:"left"});break;case "bottom":this.$bar.css({borderRadius:"5px 5px 0px 0px",borderTop:"2px solid #eee",borderLeft:"2px solid #eee",borderRight:"2px solid #eee",boxShadow:"0 -2px 4px rgba(0, 0, 0, 0.1)"});break;default:this.$bar.css({border:"2px solid #eee",boxShadow:"0 2px 4px rgba(0, 0, 0, 0.1)"})}switch(this.options.type){case "alert":case "notification":this.$bar.css({backgroundColor:"#FFF",borderColor:"#CCC",color:"#444"});break;case "warning":this.$bar.css({backgroundColor:"#FFEAA8",
borderColor:"#FFC237",color:"#826200"});this.$buttons.css({borderTop:"1px solid #FFC237"});break;case "error":this.$bar.css({backgroundColor:"red",borderColor:"darkred",color:"#FFF"});this.$message.css({fontWeight:"bold"});this.$buttons.css({borderTop:"1px solid darkred"});break;case "information":this.$bar.css({backgroundColor:"#57B7E2",borderColor:"#0B90C4",color:"#FFF"});this.$buttons.css({borderTop:"1px solid #0B90C4"});break;case "success":this.$bar.css({backgroundColor:"lightgreen",borderColor:"#50C24E",
color:"darkgreen"});this.$buttons.css({borderTop:"1px solid #50C24E"});break;default:this.$bar.css({backgroundColor:"#FFF",borderColor:"#CCC",color:"#444"})}},callback:{onShow:function(){a.noty.themes.defaultTheme.helpers.borderFix.apply(this)},onClose:function(){a.noty.themes.defaultTheme.helpers.borderFix.apply(this)}}},a.noty.themes.metroui={name:"metroui",helpers:{},modal:{css:{position:"fixed",width:"100%",height:"100%",backgroundColor:"#000",zIndex:1E4,opacity:.6,display:"none",left:0,top:0}},
style:function(){switch(this.$bar.css({overflow:"hidden",margin:"4px 0",borderRadius:"0",position:"relative"}),this.$progressBar.css({position:"absolute",left:0,bottom:0,height:4,width:"100%",backgroundColor:"#000000",opacity:.2,"-ms-filter":"progid:DXImageTransform.Microsoft.Alpha(Opacity=20)",filter:"alpha(opacity=20)"}),this.$message.css({textAlign:"center",padding:"1.25rem",width:"auto",position:"relative"}),this.$closeButton.css({position:"absolute",top:".25rem",right:".25rem",width:10,height:10,
background:"url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAoAAAAKCAQAAAAnOwc2AAAAxUlEQVR4AR3MPUoDURSA0e++uSkkOxC3IAOWNtaCIDaChfgXBMEZbQRByxCwk+BasgQRZLSYoLgDQbARxry8nyumPcVRKDfd0Aa8AsgDv1zp6pYd5jWOwhvebRTbzNNEw5BSsIpsj/kurQBnmk7sIFcCF5yyZPDRG6trQhujXYosaFoc+2f1MJ89uc76IND6F9BvlXUdpb6xwD2+4q3me3bysiHvtLYrUJto7PD/ve7LNHxSg/woN2kSz4txasBdhyiz3ugPGetTjm3XRokAAAAASUVORK5CYII=)",display:"none",cursor:"pointer"}),this.$buttons.css({padding:5,textAlign:"right",borderTop:"1px solid #ccc",backgroundColor:"#fff"}),
this.$buttons.find("button").css({marginLeft:5}),this.$buttons.find("button:first").css({marginLeft:0}),this.$bar.on({mouseenter:function(){a(this).find(".noty_close").stop().fadeTo("normal",1)},mouseleave:function(){a(this).find(".noty_close").stop().fadeTo("normal",0)}}),this.options.layout.name){case "top":this.$bar.css({border:"none",boxShadow:"0 0 5px 0 rgba(0, 0, 0, 0.3)"});break;case "topCenter":case "center":case "bottomCenter":case "inline":this.$bar.css({border:"none",boxShadow:"0 0 5px 0 rgba(0, 0, 0, 0.3)"});
this.$message.css({textAlign:"center"});break;case "topLeft":case "topRight":case "bottomLeft":case "bottomRight":case "centerLeft":case "centerRight":this.$bar.css({border:"none",boxShadow:"0 0 5px 0 rgba(0, 0, 0, 0.3)"});this.$message.css({textAlign:"left"});break;case "bottom":this.$bar.css({border:"none",boxShadow:"0 0 5px 0 rgba(0, 0, 0, 0.3)"});break;default:this.$bar.css({border:"none",boxShadow:"0 0 5px 0 rgba(0, 0, 0, 0.3)"})}switch(this.options.type){case "alert":case "notification":this.$bar.css({backgroundColor:"#fff",
border:"none",color:"#1d1d1d"});break;case "warning":this.$bar.css({backgroundColor:"#FA6800",border:"none",color:"#fff"});this.$buttons.css({borderTop:"1px solid #FA6800"});break;case "error":this.$bar.css({backgroundColor:"#CE352C",border:"none",color:"#fff"});this.$message.css({fontWeight:"bold"});this.$buttons.css({borderTop:"1px solid #CE352C"});break;case "information":this.$bar.css({backgroundColor:"#1BA1E2",border:"none",color:"#fff"});this.$buttons.css({borderTop:"1px solid #1BA1E2"});break;
case "success":this.$bar.css({backgroundColor:"#60A917",border:"none",color:"#fff"});this.$buttons.css({borderTop:"1px solid #50C24E"});break;default:this.$bar.css({backgroundColor:"#fff",border:"none",color:"#1d1d1d"})}},callback:{onShow:function(){},onClose:function(){}}},a.noty.themes.relax={name:"relax",helpers:{},modal:{css:{position:"fixed",width:"100%",height:"100%",backgroundColor:"#000",zIndex:1E4,opacity:.6,display:"none",left:0,top:0}},style:function(){switch(this.$bar.css({overflow:"hidden",
margin:"4px 0",borderRadius:"2px",position:"relative"}),this.$progressBar.css({position:"absolute",left:0,bottom:0,height:4,width:"100%",backgroundColor:"#000000",opacity:.2,"-ms-filter":"progid:DXImageTransform.Microsoft.Alpha(Opacity=20)",filter:"alpha(opacity=20)"}),this.$message.css({textAlign:"center",padding:"10px",width:"auto",position:"relative"}),this.$closeButton.css({position:"absolute",top:4,right:4,width:10,height:10,background:"url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAoAAAAKCAQAAAAnOwc2AAAAxUlEQVR4AR3MPUoDURSA0e++uSkkOxC3IAOWNtaCIDaChfgXBMEZbQRByxCwk+BasgQRZLSYoLgDQbARxry8nyumPcVRKDfd0Aa8AsgDv1zp6pYd5jWOwhvebRTbzNNEw5BSsIpsj/kurQBnmk7sIFcCF5yyZPDRG6trQhujXYosaFoc+2f1MJ89uc76IND6F9BvlXUdpb6xwD2+4q3me3bysiHvtLYrUJto7PD/ve7LNHxSg/woN2kSz4txasBdhyiz3ugPGetTjm3XRokAAAAASUVORK5CYII=)",
display:"none",cursor:"pointer"}),this.$buttons.css({padding:5,textAlign:"right",borderTop:"1px solid #ccc",backgroundColor:"#fff"}),this.$buttons.find("button").css({marginLeft:5}),this.$buttons.find("button:first").css({marginLeft:0}),this.$bar.on({mouseenter:function(){a(this).find(".noty_close").stop().fadeTo("normal",1)},mouseleave:function(){a(this).find(".noty_close").stop().fadeTo("normal",0)}}),this.options.layout.name){case "top":this.$bar.css({borderBottom:"2px solid #eee",borderLeft:"2px solid #eee",
borderRight:"2px solid #eee",borderTop:"2px solid #eee",boxShadow:"0 2px 4px rgba(0, 0, 0, 0.1)"});break;case "topCenter":case "center":case "bottomCenter":case "inline":this.$bar.css({border:"1px solid #eee",boxShadow:"0 2px 4px rgba(0, 0, 0, 0.1)"});this.$message.css({textAlign:"center"});break;case "topLeft":case "topRight":case "bottomLeft":case "bottomRight":case "centerLeft":case "centerRight":this.$bar.css({border:"1px solid #eee",boxShadow:"0 2px 4px rgba(0, 0, 0, 0.1)"});this.$message.css({textAlign:"left"});
break;case "bottom":this.$bar.css({borderTop:"2px solid #eee",borderLeft:"2px solid #eee",borderRight:"2px solid #eee",borderBottom:"2px solid #eee",boxShadow:"0 -2px 4px rgba(0, 0, 0, 0.1)"});break;default:this.$bar.css({border:"2px solid #eee",boxShadow:"0 2px 4px rgba(0, 0, 0, 0.1)"})}switch(this.options.type){case "alert":case "notification":this.$bar.css({backgroundColor:"#FFF",borderColor:"#dedede",color:"#444"});break;case "warning":this.$bar.css({backgroundColor:"#FFEAA8",borderColor:"#FFC237",
color:"#826200"});this.$buttons.css({borderTop:"1px solid #FFC237"});break;case "error":this.$bar.css({backgroundColor:"#FF8181",borderColor:"#e25353",color:"#FFF"});this.$message.css({fontWeight:"bold"});this.$buttons.css({borderTop:"1px solid darkred"});break;case "information":this.$bar.css({backgroundColor:"#78C5E7",borderColor:"#3badd6",color:"#FFF"});this.$buttons.css({borderTop:"1px solid #0B90C4"});break;case "success":this.$bar.css({backgroundColor:"#BCF5BC",borderColor:"#7cdd77",color:"darkgreen"});
this.$buttons.css({borderTop:"1px solid #50C24E"});break;default:this.$bar.css({backgroundColor:"#FFF",borderColor:"#CCC",color:"#444"})}},callback:{onShow:function(){},onClose:function(){}}},a.noty.themes.semanticUI={name:"semanticUI",template:'<div class="ui message"><div class="content"><div class="header"></div></div></div>',animation:{open:{animation:"fade",duration:"800ms"},close:{animation:"fade left",duration:"800ms"}},modal:{css:{position:"fixed",width:"100%",height:"100%",backgroundColor:"#000",
zIndex:1E4,opacity:.6,display:"none",left:0,top:0}},style:function(){switch(this.$message=this.$bar.find(".ui.message"),this.$message.find(".header").html(this.options.header),this.$message.find(".content").append(this.options.text),this.$bar.css({margin:"0.5em",position:"relative"}),this.options.icon&&this.$message.addClass("icon").prepend(a("<i/>").addClass(this.options.icon)),this.$progressBar.css({position:"absolute",left:0,bottom:0,height:4,width:"100%",backgroundColor:"#000000",opacity:.2,"-ms-filter":"progid:DXImageTransform.Microsoft.Alpha(Opacity=20)",
filter:"alpha(opacity=20)"}),this.options.size){case "mini":this.$message.addClass("mini");break;case "tiny":this.$message.addClass("tiny");break;case "small":this.$message.addClass("small");break;case "large":this.$message.addClass("large");break;case "big":this.$message.addClass("big");break;case "huge":this.$message.addClass("huge");break;case "massive":this.$message.addClass("massive")}switch(this.options.type){case "info":this.$message.addClass("info");break;case "warning":this.$message.addClass("warning");
break;case "error":this.$message.addClass("error");break;case "negative":this.$message.addClass("negative");break;case "success":this.$message.addClass("success");break;case "positive":this.$message.addClass("positive");break;case "floating":this.$message.addClass("floating")}},callback:{onShow:function(){this.$bar.addClass("transition");this.$bar.transition(this.options.animation.open)},onClose:function(){this.$bar.transition(this.options.animation.close)}}},window.noty});if(!jQuery)throw Error("Bootstrap requires jQuery");
+function(a){a.fn.emulateTransitionEnd=function(g){var d=!1,b=this;a(this).one(a.support.transition.end,function(){d=!0});return setTimeout(function(){d||a(b).trigger(a.support.transition.end)},g),this};a(function(){var g=a.support;a:{var d=document.createElement("bootstrap");var b={WebkitTransition:"webkitTransitionEnd",MozTransition:"transitionend",OTransition:"oTransitionEnd otransitionend",transition:"transitionend"},c;for(c in b)if(void 0!==d.style[c]){d={end:b[c]};break a}d=void 0}g.transition=
d})}(window.jQuery);
+function(a){var g=function(b){a(b).on("click",'[data-dismiss="alert"]',this.close)};g.prototype.close=function(b){function c(){h.trigger("closed.bs.alert").remove()}var e=a(this),f=e.attr("data-target");f||(f=e.attr("href"),f=f&&f.replace(/.*(?=#[^\s]*$)/,""));var h=a(f);b&&b.preventDefault();h.length||(h=e.hasClass("alert")?e:e.parent());h.trigger(b=a.Event("close.bs.alert"));b.isDefaultPrevented()||(h.removeClass("in"),a.support.transition&&h.hasClass("fade")?h.one(a.support.transition.end,c).emulateTransitionEnd(150):
c())};var d=a.fn.alert;a.fn.alert=function(b){return this.each(function(){var c=a(this),e=c.data("bs.alert");e||c.data("bs.alert",e=new g(this));"string"==typeof b&&e[b].call(c)})};a.fn.alert.Constructor=g;a.fn.alert.noConflict=function(){return a.fn.alert=d,this};a(document).on("click.bs.alert.data-api",'[data-dismiss="alert"]',g.prototype.close)}(window.jQuery);
+function(a){var g=function(b,c){this.$element=a(b);this.options=a.extend({},g.DEFAULTS,c)};g.DEFAULTS={loadingText:"loading..."};g.prototype.setState=function(b){var c=this.$element,e=c.is("input")?"val":"html",f=c.data();b+="Text";f.resetText||c.data("resetText",c[e]());c[e](f[b]||this.options[b]);setTimeout(function(){"loadingText"==b?c.addClass("disabled").attr("disabled","disabled"):c.removeClass("disabled").removeAttr("disabled")},0)};g.prototype.toggle=function(){var b=this.$element.closest('[data-toggle="buttons"]');
b.length&&"radio"===this.$element.find("input").prop("checked",!this.$element.hasClass("active")).trigger("change").prop("type")&&b.find(".active").removeClass("active");this.$element.toggleClass("active")};var d=a.fn.button;a.fn.button=function(b){return this.each(function(){var c=a(this),e=c.data("bs.button"),f="object"==typeof b&&b;e||c.data("bs.button",e=new g(this,f));"toggle"==b?e.toggle():b&&e.setState(b)})};a.fn.button.Constructor=g;a.fn.button.noConflict=function(){return a.fn.button=d,this};
a(document).on("click.bs.button.data-api","[data-toggle^=button]",function(b){var c=a(b.target);c.hasClass("btn")||(c=c.closest(".btn"));c.button("toggle");b.preventDefault()})}(window.jQuery);
+function(a){var g=function(b,c){this.$element=a(b);this.$indicators=this.$element.find(".carousel-indicators");this.options=c;this.paused=this.sliding=this.interval=this.$active=this.$items=null;"hover"==this.options.pause&&this.$element.on("mouseenter",a.proxy(this.pause,this)).on("mouseleave",a.proxy(this.cycle,this))};g.DEFAULTS={interval:5E3,pause:"hover",wrap:!0};g.prototype.cycle=function(b){return b||(this.paused=!1),this.interval&&clearInterval(this.interval),this.options.interval&&!this.paused&&
(this.interval=setInterval(a.proxy(this.next,this),this.options.interval)),this};g.prototype.getActiveIndex=function(){return this.$active=this.$element.find(".item.active"),this.$items=this.$active.parent().children(),this.$items.index(this.$active)};g.prototype.to=function(b){var c=this,e=this.getActiveIndex();return b>this.$items.length-1||0>b?void 0:this.sliding?this.$element.one("slid",function(){c.to(b)}):e==b?this.pause().cycle():this.slide(b>e?"next":"prev",a(this.$items[b]))};g.prototype.pause=
function(b){return b||(this.paused=!0),this.$element.find(".next, .prev").length&&a.support.transition.end&&(this.$element.trigger(a.support.transition.end),this.cycle(!0)),this.interval=clearInterval(this.interval),this};g.prototype.next=function(){return this.sliding?void 0:this.slide("next")};g.prototype.prev=function(){return this.sliding?void 0:this.slide("prev")};g.prototype.slide=function(b,c){var e=this.$element.find(".item.active"),f=c||e[b]();c=this.interval;var h="next"==b?"left":"right",
m="next"==b?"first":"last",k=this;if(!f.length){if(!this.options.wrap)return;f=this.$element.find(".item")[m]()}this.sliding=!0;c&&this.pause();m=a.Event("slide.bs.carousel",{relatedTarget:f[0],direction:h});if(!f.hasClass("active")){if(this.$indicators.length&&(this.$indicators.find(".active").removeClass("active"),this.$element.one("slid",function(){var l=a(k.$indicators.children()[k.getActiveIndex()]);l&&l.addClass("active")})),a.support.transition&&this.$element.hasClass("slide")){if(this.$element.trigger(m),
m.isDefaultPrevented())return;f.addClass(b);f[0].offsetWidth;e.addClass(h);f.addClass(h);e.one(a.support.transition.end,function(){f.removeClass([b,h].join(" ")).addClass("active");e.removeClass(["active",h].join(" "));k.sliding=!1;setTimeout(function(){k.$element.trigger("slid")},0)}).emulateTransitionEnd(600)}else{if(this.$element.trigger(m),m.isDefaultPrevented())return;e.removeClass("active");f.addClass("active");this.sliding=!1;this.$element.trigger("slid")}return c&&this.cycle(),this}};var d=
a.fn.carousel;a.fn.carousel=function(b){return this.each(function(){var c=a(this),e=c.data("bs.carousel"),f=a.extend({},g.DEFAULTS,c.data(),"object"==typeof b&&b),h="string"==typeof b?b:f.slide;e||c.data("bs.carousel",e=new g(this,f));"number"==typeof b?e.to(b):h?e[h]():f.interval&&e.pause().cycle()})};a.fn.carousel.Constructor=g;a.fn.carousel.noConflict=function(){return a.fn.carousel=d,this};a(document).on("click.bs.carousel.data-api","[data-slide], [data-slide-to]",function(b){var c,e=a(this),
f=a(e.attr("data-target")||(c=e.attr("href"))&&c.replace(/.*(?=#[^\s]+$)/,""));c=a.extend({},f.data(),e.data());var h=e.attr("data-slide-to");h&&(c.interval=!1);f.carousel(c);(h=e.attr("data-slide-to"))&&f.data("bs.carousel").to(h);b.preventDefault()});a(window).on("load",function(){a('[data-ride="carousel"]').each(function(){var b=a(this);b.carousel(b.data())})})}(window.jQuery);
+function(a){var g=function(b,c){this.$element=a(b);this.options=a.extend({},g.DEFAULTS,c);this.transitioning=null;this.options.parent&&(this.$parent=a(this.options.parent));this.options.toggle&&this.toggle()};g.DEFAULTS={toggle:!0};g.prototype.dimension=function(){return this.$element.hasClass("width")?"width":"height"};g.prototype.show=function(){if(!this.transitioning&&!this.$element.hasClass("in")){var b=a.Event("show.bs.collapse");if(this.$element.trigger(b),!b.isDefaultPrevented()){if((b=this.$parent&&
this.$parent.find("> .panel > .in"))&&b.length){var c=b.data("bs.collapse");if(c&&c.transitioning)return;b.collapse("hide");c||b.data("bs.collapse",null)}var e=this.dimension();this.$element.removeClass("collapse").addClass("collapsing")[e](0);this.transitioning=1;b=function(){this.$element.removeClass("collapsing").addClass("in")[e]("auto");this.transitioning=0;this.$element.trigger("shown.bs.collapse")};if(!a.support.transition)return b.call(this);c=a.camelCase(["scroll",e].join("-"));this.$element.one(a.support.transition.end,
a.proxy(b,this)).emulateTransitionEnd(350)[e](this.$element[0][c])}}};g.prototype.hide=function(){if(!this.transitioning&&this.$element.hasClass("in")){var b=a.Event("hide.bs.collapse");if(this.$element.trigger(b),!b.isDefaultPrevented()){b=this.dimension();this.$element[b](this.$element[b]())[0].offsetHeight;this.$element.addClass("collapsing").removeClass("collapse").removeClass("in");this.transitioning=1;var c=function(){this.transitioning=0;this.$element.trigger("hidden.bs.collapse").removeClass("collapsing").addClass("collapse")};
return a.support.transition?(this.$element[b](0).one(a.support.transition.end,a.proxy(c,this)).emulateTransitionEnd(350),void 0):c.call(this)}}};g.prototype.toggle=function(){this[this.$element.hasClass("in")?"hide":"show"]()};var d=a.fn.collapse;a.fn.collapse=function(b){return this.each(function(){var c=a(this),e=c.data("bs.collapse"),f=a.extend({},g.DEFAULTS,c.data(),"object"==typeof b&&b);e||c.data("bs.collapse",e=new g(this,f));"string"==typeof b&&e[b]()})};a.fn.collapse.Constructor=g;a.fn.collapse.noConflict=
function(){return a.fn.collapse=d,this};a(document).on("click.bs.collapse.data-api","[data-toggle=collapse]",function(b){var c,e=a(this);b=e.attr("data-target")||b.preventDefault()||(c=e.attr("href"))&&c.replace(/.*(?=#[^\s]+$)/,"");c=a(b);var f=(b=c.data("bs.collapse"))?"toggle":e.data(),h=e.attr("data-parent"),m=h&&a(h);b&&b.transitioning||(m&&m.find('[data-toggle=collapse][data-parent="'+h+'"]').not(e).addClass("collapsed"),e[c.hasClass("in")?"addClass":"removeClass"]("collapsed"));c.collapse(f)})}(window.jQuery);
+function(a){function g(){a(b).remove();a(c).each(function(h){var m=d(a(this));m.hasClass("open")&&(m.trigger(h=a.Event("hide.bs.dropdown")),h.isDefaultPrevented()||m.removeClass("open").trigger("hidden.bs.dropdown"))})}function d(h){var m=h.attr("data-target");m||(m=h.attr("href"),m=m&&/#/.test(m)&&m.replace(/.*(?=#[^\s]*$)/,""));return(m=m&&a(m))&&m.length?m:h.parent()}var b=".dropdown-backdrop",c="[data-toggle=dropdown]",e=function(h){a(h).on("click.bs.dropdown",this.toggle)};e.prototype.toggle=
function(h){var m=a(this);if(!m.is(".disabled, :disabled")){var k=d(m),l=k.hasClass("open");if(g(),!l){if("ontouchstart"in document.documentElement&&!k.closest(".navbar-nav").length&&a('<div class="dropdown-backdrop"/>').insertAfter(a(this)).on("click",g),k.trigger(h=a.Event("show.bs.dropdown")),h.isDefaultPrevented())return;k.toggleClass("open").trigger("shown.bs.dropdown");m.focus()}return!1}};e.prototype.keydown=function(h){if(/(38|40|27)/.test(h.keyCode)){var m=a(this);if(h.preventDefault(),h.stopPropagation(),
!m.is(".disabled, :disabled")){var k=d(m),l=k.hasClass("open");if(!l||l&&27==h.keyCode)return 27==h.which&&k.find(c).focus(),m.click();m=a("[role=menu] li:not(.divider):visible a",k);m.length&&(k=m.index(m.filter(":focus")),38==h.keyCode&&0<k&&k--,40==h.keyCode&&k<m.length-1&&k++,~k||(k=0),m.eq(k).focus())}}};var f=a.fn.dropdown;a.fn.dropdown=function(h){return this.each(function(){var m=a(this),k=m.data("dropdown");k||m.data("dropdown",k=new e(this));"string"==typeof h&&k[h].call(m)})};a.fn.dropdown.Constructor=
e;a.fn.dropdown.noConflict=function(){return a.fn.dropdown=f,this};a(document).on("click.bs.dropdown.data-api",g).on("click.bs.dropdown.data-api",".dropdown form",function(h){h.stopPropagation()}).on("click.bs.dropdown.data-api",c,e.prototype.toggle).on("keydown.bs.dropdown.data-api",c+", [role=menu]",e.prototype.keydown)}(window.jQuery);
+function(a){var g=function(b,c){this.options=c;this.$element=a(b);this.$backdrop=this.isShown=null;this.options.remote&&this.$element.load(this.options.remote)};g.DEFAULTS={backdrop:!0,keyboard:!0,show:!0};g.prototype.toggle=function(b){return this[this.isShown?"hide":"show"](b)};g.prototype.show=function(b){var c=this,e=a.Event("show.bs.modal",{relatedTarget:b});this.$element.trigger(e);this.isShown||e.isDefaultPrevented()||(this.isShown=!0,this.escape(),this.$element.on("click.dismiss.modal",'[data-dismiss="modal"]',
a.proxy(this.hide,this)),this.backdrop(function(){var f=a.support.transition&&c.$element.hasClass("fade");c.$element.parent().length||c.$element.appendTo(document.body);c.$element.show();f&&c.$element[0].offsetWidth;c.$element.addClass("in").attr("aria-hidden",!1);c.enforceFocus();var h=a.Event("shown.bs.modal",{relatedTarget:b});f?c.$element.find(".modal-dialog").one(a.support.transition.end,function(){c.$element.focus().trigger(h)}).emulateTransitionEnd(300):c.$element.focus().trigger(h)}))};g.prototype.hide=
function(b){b&&b.preventDefault();b=a.Event("hide.bs.modal");this.$element.trigger(b);this.isShown&&!b.isDefaultPrevented()&&(this.isShown=!1,this.escape(),a(document).off("focusin.bs.modal"),this.$element.removeClass("in").attr("aria-hidden",!0).off("click.dismiss.modal"),a.support.transition&&this.$element.hasClass("fade")?this.$element.one(a.support.transition.end,a.proxy(this.hideModal,this)).emulateTransitionEnd(300):this.hideModal())};g.prototype.enforceFocus=function(){a(document).off("focusin.bs.modal").on("focusin.bs.modal",
a.proxy(function(b){this.$element[0]===b.target||this.$element.has(b.target).length||this.$element.focus()},this))};g.prototype.escape=function(){this.isShown&&this.options.keyboard?this.$element.on("keyup.dismiss.bs.modal",a.proxy(function(b){27==b.which&&this.hide()},this)):this.isShown||this.$element.off("keyup.dismiss.bs.modal")};g.prototype.hideModal=function(){var b=this;this.$element.hide();this.backdrop(function(){b.removeBackdrop();b.$element.trigger("hidden.bs.modal")})};g.prototype.removeBackdrop=
function(){this.$backdrop&&this.$backdrop.remove();this.$backdrop=null};g.prototype.backdrop=function(b){var c=this.$element.hasClass("fade")?"fade":"";if(this.isShown&&this.options.backdrop){var e=a.support.transition&&c;if(this.$backdrop=a('<div class="modal-backdrop '+c+'" />').appendTo(document.body),this.$element.on("click.dismiss.modal",a.proxy(function(f){f.target===f.currentTarget&&("static"==this.options.backdrop?this.$element[0].focus.call(this.$element[0]):this.hide.call(this))},this)),
e&&this.$backdrop[0].offsetWidth,this.$backdrop.addClass("in"),b)e?this.$backdrop.one(a.support.transition.end,b).emulateTransitionEnd(150):b()}else!this.isShown&&this.$backdrop?(this.$backdrop.removeClass("in"),a.support.transition&&this.$element.hasClass("fade")?this.$backdrop.one(a.support.transition.end,b).emulateTransitionEnd(150):b()):b&&b()};var d=a.fn.modal;a.fn.modal=function(b,c){return this.each(function(){var e=a(this),f=e.data("bs.modal"),h=a.extend({},g.DEFAULTS,e.data(),"object"==typeof b&&
b);f||e.data("bs.modal",f=new g(this,h));"string"==typeof b?f[b](c):h.show&&f.show(c)})};a.fn.modal.Constructor=g;a.fn.modal.noConflict=function(){return a.fn.modal=d,this};a(document).on("click.bs.modal.data-api",'[data-toggle="modal"]',function(b){var c=a(this),e=c.attr("href"),f=a(c.attr("data-target")||e&&e.replace(/.*(?=#[^\s]+$)/,""));e=f.data("modal")?"toggle":a.extend({remote:!/#/.test(e)&&e},f.data(),c.data());b.preventDefault();f.modal(e,this).one("hide",function(){c.is(":visible")&&c.focus()})});
a(document).on("show.bs.modal",".modal",function(){a(document.body).addClass("modal-open")}).on("hidden.bs.modal",".modal",function(){a(document.body).removeClass("modal-open")})}(window.jQuery);
+function(a){var g=function(b,c){this.type=this.options=this.enabled=this.timeout=this.hoverState=this.$element=null;this.init("tooltip",b,c)};g.DEFAULTS={animation:!0,placement:"top",selector:!1,template:'<div class="tooltip"><div class="tooltip-arrow"></div><div class="tooltip-inner"></div></div>',trigger:"hover focus",title:"",delay:0,html:!1,container:!1};g.prototype.init=function(b,c,e){this.enabled=!0;this.type=b;this.$element=a(c);this.options=this.getOptions(e);b=this.options.trigger.split(" ");
for(c=b.length;c--;)if(e=b[c],"click"==e)this.$element.on("click."+this.type,this.options.selector,a.proxy(this.toggle,this));else if("manual"!=e){var f="hover"==e?"mouseleave":"blur";this.$element.on(("hover"==e?"mouseenter":"focus")+"."+this.type,this.options.selector,a.proxy(this.enter,this));this.$element.on(f+"."+this.type,this.options.selector,a.proxy(this.leave,this))}this.options.selector?this._options=a.extend({},this.options,{trigger:"manual",selector:""}):this.fixTitle()};g.prototype.getDefaults=
function(){return g.DEFAULTS};g.prototype.getOptions=function(b){return b=a.extend({},this.getDefaults(),this.$element.data(),b),b.delay&&"number"==typeof b.delay&&(b.delay={show:b.delay,hide:b.delay}),b};g.prototype.getDelegateOptions=function(){var b={},c=this.getDefaults();return this._options&&a.each(this._options,function(e,f){c[e]!=f&&(b[e]=f)}),b};g.prototype.enter=function(b){var c=b instanceof this.constructor?b:a(b.currentTarget)[this.type](this.getDelegateOptions()).data("bs."+this.type);
return clearTimeout(c.timeout),c.hoverState="in",c.options.delay&&c.options.delay.show?(c.timeout=setTimeout(function(){"in"==c.hoverState&&c.show()},c.options.delay.show),void 0):c.show()};g.prototype.leave=function(b){var c=b instanceof this.constructor?b:a(b.currentTarget)[this.type](this.getDelegateOptions()).data("bs."+this.type);return clearTimeout(c.timeout),c.hoverState="out",c.options.delay&&c.options.delay.hide?(c.timeout=setTimeout(function(){"out"==c.hoverState&&c.hide()},c.options.delay.hide),
void 0):c.hide()};g.prototype.show=function(){var b=a.Event("show.bs."+this.type);if(this.hasContent()&&this.enabled&&(this.$element.trigger(b),!b.isDefaultPrevented())){var c=this.tip();this.setContent();this.options.animation&&c.addClass("fade");b="function"==typeof this.options.placement?this.options.placement.call(this,c[0],this.$element[0]):this.options.placement;var e=/\s?auto?\s?/i,f=e.test(b);f&&(b=b.replace(e,"")||"top");c.detach().css({top:0,left:0,display:"block"}).addClass(b);this.options.container?
c.appendTo(this.options.container):c.insertAfter(this.$element);e=this.getPosition();var h=c[0].offsetWidth,m=c[0].offsetHeight;if(f){var k=this.$element.parent();f=b;var l=document.documentElement.scrollTop||document.body.scrollTop,p="body"==this.options.container?window.innerWidth:k.outerWidth(),q="body"==this.options.container?window.innerHeight:k.outerHeight();k="body"==this.options.container?0:k.offset().left;b="bottom"==b&&e.top+e.height+m-l>q?"top":"top"==b&&0>e.top-l-m?"bottom":"right"==b&&
e.right+h>p?"left":"left"==b&&e.left-h<k?"right":b;c.removeClass(f).addClass(b)}c=this.getCalculatedOffset(b,e,h,m);this.applyPlacement(c,b);this.$element.trigger("shown.bs."+this.type)}};g.prototype.applyPlacement=function(b,c){var e,f=this.tip(),h=f[0].offsetWidth,m=f[0].offsetHeight,k=parseInt(f.css("margin-top"),10),l=parseInt(f.css("margin-left"),10);isNaN(k)&&(k=0);isNaN(l)&&(l=0);b.top+=k;b.left+=l;f.offset(b).addClass("in");k=f[0].offsetWidth;l=f[0].offsetHeight;("top"==c&&l!=m&&(e=!0,b.top=
b.top+m-l),/bottom|top/.test(c))?(c=0,0>b.left&&(c=-2*b.left,b.left=0,f.offset(b),k=f[0].offsetWidth),this.replaceArrow(c-h+k,k,"left")):this.replaceArrow(l-m,l,"top");e&&f.offset(b)};g.prototype.replaceArrow=function(b,c,e){this.arrow().css(e,b?50*(1-b/c)+"%":"")};g.prototype.setContent=function(){var b=this.tip(),c=this.getTitle();b.find(".tooltip-inner")[this.options.html?"html":"text"](c);b.removeClass("fade in top bottom left right")};g.prototype.hide=function(){function b(){"in"!=c.hoverState&&
e.detach()}var c=this,e=this.tip(),f=a.Event("hide.bs."+this.type);return this.$element.trigger(f),f.isDefaultPrevented()?void 0:(e.removeClass("in"),a.support.transition&&this.$tip.hasClass("fade")?e.one(a.support.transition.end,b).emulateTransitionEnd(150):b(),this.$element.trigger("hidden.bs."+this.type),this)};g.prototype.fixTitle=function(){var b=this.$element;(b.attr("title")||"string"!=typeof b.attr("data-original-title"))&&b.attr("data-original-title",b.attr("title")||"").attr("title","")};
g.prototype.hasContent=function(){return this.getTitle()};g.prototype.getPosition=function(){var b=this.$element[0];return a.extend({},"function"==typeof b.getBoundingClientRect?b.getBoundingClientRect():{width:b.offsetWidth,height:b.offsetHeight},this.$element.offset())};g.prototype.getCalculatedOffset=function(b,c,e,f){return"bottom"==b?{top:c.top+c.height,left:c.left+c.width/2-e/2}:"top"==b?{top:c.top-f,left:c.left+c.width/2-e/2}:"left"==b?{top:c.top+c.height/2-f/2,left:c.left-e}:{top:c.top+c.height/
2-f/2,left:c.left+c.width}};g.prototype.getTitle=function(){var b=this.$element,c=this.options;return b.attr("data-original-title")||("function"==typeof c.title?c.title.call(b[0]):c.title)};g.prototype.tip=function(){return this.$tip=this.$tip||a(this.options.template)};g.prototype.arrow=function(){return this.$arrow=this.$arrow||this.tip().find(".tooltip-arrow")};g.prototype.validate=function(){this.$element[0].parentNode||(this.hide(),this.$element=null,this.options=null)};g.prototype.enable=function(){this.enabled=
!0};g.prototype.disable=function(){this.enabled=!1};g.prototype.toggleEnabled=function(){this.enabled=!this.enabled};g.prototype.toggle=function(b){b=b?a(b.currentTarget)[this.type](this.getDelegateOptions()).data("bs."+this.type):this;b.tip().hasClass("in")?b.leave(b):b.enter(b)};g.prototype.destroy=function(){this.hide().$element.off("."+this.type).removeData("bs."+this.type)};var d=a.fn.tooltip;a.fn.tooltip=function(b){return this.each(function(){var c=a(this),e=c.data("bs.tooltip"),f="object"==
typeof b&&b;e||c.data("bs.tooltip",e=new g(this,f));"string"==typeof b&&e[b]()})};a.fn.tooltip.Constructor=g;a.fn.tooltip.noConflict=function(){return a.fn.tooltip=d,this}}(window.jQuery);
+function(a){var g=function(b,c){this.init("popover",b,c)};if(!a.fn.tooltip)throw Error("Popover requires tooltip.js");g.DEFAULTS=a.extend({},a.fn.tooltip.Constructor.DEFAULTS,{placement:"right",trigger:"click",content:"",template:'<div class="popover"><div class="arrow"></div><h3 class="popover-title"></h3><div class="popover-content"></div></div>'});g.prototype=a.extend({},a.fn.tooltip.Constructor.prototype);g.prototype.constructor=g;g.prototype.getDefaults=function(){return g.DEFAULTS};g.prototype.setContent=
function(){var b=this.tip(),c=this.getTitle(),e=this.getContent();b.find(".popover-title")[this.options.html?"html":"text"](c);b.find(".popover-content")[this.options.html?"html":"text"](e);b.removeClass("fade top bottom left right in");b.find(".popover-title").html()||b.find(".popover-title").hide()};g.prototype.hasContent=function(){return this.getTitle()||this.getContent()};g.prototype.getContent=function(){var b=this.$element,c=this.options;return b.attr("data-content")||("function"==typeof c.content?
c.content.call(b[0]):c.content)};g.prototype.arrow=function(){return this.$arrow=this.$arrow||this.tip().find(".arrow")};g.prototype.tip=function(){return this.$tip||(this.$tip=a(this.options.template)),this.$tip};var d=a.fn.popover;a.fn.popover=function(b){return this.each(function(){var c=a(this),e=c.data("bs.popover"),f="object"==typeof b&&b;e||c.data("bs.popover",e=new g(this,f));"string"==typeof b&&e[b]()})};a.fn.popover.Constructor=g;a.fn.popover.noConflict=function(){return a.fn.popover=d,
this}}(window.jQuery);
+function(a){function g(b,c){var e,f=a.proxy(this.process,this);this.$element=a(b).is("body")?a(window):a(b);this.$body=a("body");this.$scrollElement=this.$element.on("scroll.bs.scroll-spy.data-api",f);this.options=a.extend({},g.DEFAULTS,c);this.selector=(this.options.target||(e=a(b).attr("href"))&&e.replace(/.*(?=#[^\s]+$)/,"")||"")+" .nav li > a";this.offsets=a([]);this.targets=a([]);this.activeTarget=null;this.refresh();this.process()}g.DEFAULTS={offset:10};g.prototype.refresh=function(){var b=
this.$element[0]==window?"offset":"position";this.offsets=a([]);this.targets=a([]);var c=this;this.$body.find(this.selector).map(function(){var e=a(this);e=e.data("target")||e.attr("href");var f=/^#\w/.test(e)&&a(e);return f&&f.length&&[[f[b]().top+(!a.isWindow(c.$scrollElement.get(0))&&c.$scrollElement.scrollTop()),e]]||null}).sort(function(e,f){return e[0]-f[0]}).each(function(){c.offsets.push(this[0]);c.targets.push(this[1])})};g.prototype.process=function(){var b,c=this.$scrollElement.scrollTop()+
this.options.offset,e=(this.$scrollElement[0].scrollHeight||this.$body[0].scrollHeight)-this.$scrollElement.height(),f=this.offsets,h=this.targets,m=this.activeTarget;if(c>=e)return m!=(b=h.last()[0])&&this.activate(b);for(b=f.length;b--;)m!=h[b]&&c>=f[b]&&(!f[b+1]||c<=f[b+1])&&this.activate(h[b])};g.prototype.activate=function(b){this.activeTarget=b;a(this.selector).parents(".active").removeClass("active");b=a(this.selector+'[data-target="'+b+'"],'+this.selector+'[href="'+b+'"]').parents("li").addClass("active");
b.parent(".dropdown-menu").length&&(b=b.closest("li.dropdown").addClass("active"));b.trigger("activate")};var d=a.fn.scrollspy;a.fn.scrollspy=function(b){return this.each(function(){var c=a(this),e=c.data("bs.scrollspy"),f="object"==typeof b&&b;e||c.data("bs.scrollspy",e=new g(this,f));"string"==typeof b&&e[b]()})};a.fn.scrollspy.Constructor=g;a.fn.scrollspy.noConflict=function(){return a.fn.scrollspy=d,this};a(window).on("load",function(){a('[data-spy="scroll"]').each(function(){var b=a(this);b.scrollspy(b.data())})})}(window.jQuery);
+function(a){var g=function(b){this.element=a(b)};g.prototype.show=function(){var b=this.element,c=b.closest("ul:not(.dropdown-menu)"),e=b.attr("data-target");if(e||(e=b.attr("href"),e=e&&e.replace(/.*(?=#[^\s]*$)/,"")),!b.parent("li").hasClass("active")){var f=c.find(".active:last a")[0],h=a.Event("show.bs.tab",{relatedTarget:f});(b.trigger(h),h.isDefaultPrevented())||(e=a(e),this.activate(b.parent("li"),c),this.activate(e,e.parent(),function(){b.trigger({type:"shown.bs.tab",relatedTarget:f})}))}};
g.prototype.activate=function(b,c,e){function f(){h.removeClass("active").find("> .dropdown-menu > .active").removeClass("active");b.addClass("active");m?(b[0].offsetWidth,b.addClass("in")):b.removeClass("fade");b.parent(".dropdown-menu")&&b.closest("li.dropdown").addClass("active");e&&e()}var h=c.find("> .active"),m=e&&a.support.transition&&h.hasClass("fade");m?h.one(a.support.transition.end,f).emulateTransitionEnd(150):f();h.removeClass("in")};var d=a.fn.tab;a.fn.tab=function(b){return this.each(function(){var c=
a(this),e=c.data("bs.tab");e||c.data("bs.tab",e=new g(this));"string"==typeof b&&e[b]()})};a.fn.tab.Constructor=g;a.fn.tab.noConflict=function(){return a.fn.tab=d,this};a(document).on("click.bs.tab.data-api",'[data-toggle="tab"], [data-toggle="pill"]',function(b){b.preventDefault();a(this).tab("show")})}(window.jQuery);
+function(a){var g=function(b,c){this.options=a.extend({},g.DEFAULTS,c);this.$window=a(window).on("scroll.bs.affix.data-api",a.proxy(this.checkPosition,this)).on("click.bs.affix.data-api",a.proxy(this.checkPositionWithEventLoop,this));this.$element=a(b);this.affixed=this.unpin=null;this.checkPosition()};g.RESET="affix affix-top affix-bottom";g.DEFAULTS={offset:0};g.prototype.checkPositionWithEventLoop=function(){setTimeout(a.proxy(this.checkPosition,this),1)};g.prototype.checkPosition=function(){if(this.$element.is(":visible")){var b=
a(document).height(),c=this.$window.scrollTop(),e=this.$element.offset(),f=this.options.offset,h=f.top,m=f.bottom;"object"!=typeof f&&(m=h=f);"function"==typeof h&&(h=f.top());"function"==typeof m&&(m=f.bottom());b=null!=this.unpin&&c+this.unpin<=e.top?!1:null!=m&&e.top+this.$element.height()>=b-m?"bottom":null!=h&&h>=c?"top":!1;this.affixed!==b&&(this.unpin&&this.$element.css("top",""),this.affixed=b,this.unpin="bottom"==b?e.top-c:null,this.$element.removeClass(g.RESET).addClass("affix"+(b?"-"+b:
"")),"bottom"==b&&this.$element.offset({top:document.body.offsetHeight-m-this.$element.height()}))}};var d=a.fn.affix;a.fn.affix=function(b){return this.each(function(){var c=a(this),e=c.data("bs.affix"),f="object"==typeof b&&b;e||c.data("bs.affix",e=new g(this,f));"string"==typeof b&&e[b]()})};a.fn.affix.Constructor=g;a.fn.affix.noConflict=function(){return a.fn.affix=d,this};a(window).on("load",function(){a('[data-spy="affix"]').each(function(){var b=a(this),c=b.data();c.offset=c.offset||{};c.offsetBottom&&
(c.offset.bottom=c.offsetBottom);c.offsetTop&&(c.offset.top=c.offsetTop);b.affix(c)})})}(window.jQuery);/*
 jQuery Cookie Plugin v1.3.1
 https://github.com/carhartl/jquery-cookie

 Copyright 2013 Klaus Hartl
 Released under the MIT license
*/
(function(a){"function"===typeof define&&define.amd?define(["jquery"],a):a(jQuery)})(function(a){function g(f){return f}function d(f){return decodeURIComponent(f.replace(c," "))}function b(f){0===f.indexOf('"')&&(f=f.slice(1,-1).replace(/\\"/g,'"').replace(/\\\\/g,"\\"));try{return e.json?JSON.parse(f):f}catch(h){}}var c=/\+/g,e=a.cookie=function(f,h,m){if(void 0!==h){m=a.extend({},e.defaults,m);if("number"===typeof m.expires){var k=m.expires,l=m.expires=new Date;l.setDate(l.getDate()+k)}h=e.json?
JSON.stringify(h):String(h);return document.cookie=[e.raw?f:encodeURIComponent(f),"=",e.raw?h:encodeURIComponent(h),m.expires?"; expires="+m.expires.toUTCString():"",m.path?"; path="+m.path:"",m.domain?"; domain="+m.domain:"",m.secure?"; secure":""].join("")}h=e.raw?g:d;m=document.cookie.split("; ");k=f?void 0:{};l=0;for(var p=m.length;l<p;l++){var q=m[l].split("="),u=h(q.shift());q=h(q.join("="));if(f&&f===u){k=b(q);break}f||(k[u]=b(q))}return k};e.defaults={};a.removeCookie=function(f,h){return void 0!==
a.cookie(f)?(a.cookie(f,"",a.extend({},h,{expires:-1})),!0):!1}});(function(a,g,d,b){function c(f,h){this.element=f;this.$elem=a(this.element);this.options=a.extend({},e,h);this._defaults=e;this._name="tabulous";this.init()}var e={effect:"scale"};c.prototype={init:function(){var f=this.$elem.find("a"),h=this.$elem.find("li:first-child").find("a");this.$elem.find("li:last-child").after('<span class="tabulousclear"></span>');"scale"==this.options.effect?tab_content=this.$elem.find("div").not(":first").not(":nth-child(1)").addClass("hidescale"):"slideLeft"==this.options.effect?
tab_content=this.$elem.find("div").not(":first").not(":nth-child(1)").addClass("hideleft"):"scaleUp"==this.options.effect?tab_content=this.$elem.find("div").not(":first").not(":nth-child(1)").addClass("hidescaleup"):"flip"==this.options.effect&&(tab_content=this.$elem.find("div").not(":first").not(":nth-child(1)").addClass("hideflip"));var m=this.$elem.find("#tabs_container"),k=m.find("div:first").height(),l=this.$elem.find("div:first").find("div");l.css({position:"absolute",top:"20px"});m.css("min-height",
k+"px");h.addClass("tabulous_active");f.bind("click",{myOptions:this.options},function(p){p.preventDefault();p=p.data.myOptions.effect;var q=a(this),u=q.parent().parent().parent(),t=q.attr("href");m.addClass("transition");f.removeClass("tabulous_active");q.addClass("tabulous_active");thisdivwidth=u.find("div"+t).height();"scale"==p?(l.removeClass("showscale").addClass("make_transist").addClass("hidescale"),u.find("div"+t).addClass("make_transist").addClass("showscale")):"slideLeft"==p?(l.removeClass("showleft").addClass("make_transist").addClass("hideleft"),
u.find("div"+t).addClass("make_transist").addClass("showleft")):"scaleUp"==p?(l.removeClass("showscaleup").addClass("make_transist").addClass("hidescaleup"),u.find("div"+t).addClass("make_transist").addClass("showscaleup")):"flip"==p&&(l.removeClass("showflip").addClass("make_transist").addClass("hideflip"),u.find("div"+t).addClass("make_transist").addClass("showflip"));m.css("height",thisdivwidth+"px")})},yourOtherFunction:function(f,h){}};a.fn.tabulous=function(f){return this.each(function(){new c(this,
f)})}})(jQuery,window,document);(function(a){a.fn.liFixar=function(g){var d=a.extend({relative:"top",fixStart:0},g);return this.each(function(){var b=a(this),c=b.outerHeight(),e=b.outerWidth(),f=b.offset().top,h=b.offset().left,m=b.css("margin-top"),k=b.css("margin-bottom"),l=b.css("left"),p=b.css("right"),q=b.css("bottom"),u=b.css("top"),t=b.css("position"),C=a(window).height(),D=a("<div>").hide().addClass("menuClear").css({height:c,marginTop:m,marginBottom:k,position:t}),w=function(){"bottom"==d.relative?a(window).scrollTop()+
C<f+c+parseFloat(k)+parseFloat(d.fixStart)?(b.css({left:h,bottom:0+parseFloat(d.fixStart),position:"fixed"}).addClass("menuFixar"),D.show()):(b.css({left:l,top:u,bottom:q,right:p,position:t}).removeClass("menuFixar"),D.hide()):a(window).scrollTop()>f-parseFloat(m)-parseFloat(d.fixStart)?(b.css({left:h,top:0+parseFloat(d.fixStart),position:"fixed"}).addClass("menuFixar"),D.show()):(b.css({left:l,top:u,bottom:q,right:p,position:t}).removeClass("menuFixar"),D.hide())};b.after(D);b.css({width:e});"bottom"==
d.relative&&b.addClass("fixarBottom");w();a(window).on("scroll",function(){w()})})}})(jQuery);/*
 Colorbox v1.4.27 - 2013-07-16
 jQuery lightbox and modal window plugin
 (c) 2013 Jack Moore - http://www.jacklmoore.com/colorbox
 license: http://www.opensource.org/licenses/mit-license.php
*/
(function(a,g,d){function b(xa,Ca,Ga){xa=g.createElement(xa);return Ca&&(xa.id=Ra+Ca),Ga&&(xa.style.cssText=Ga),a(xa)}function c(){return d.innerHeight?d.innerHeight:a(d).height()}function e(xa){var Ca=J.length;xa=(oa+xa)%Ca;return 0>xa?Ca+xa:xa}function f(xa,Ca){return Math.round((/%/.test(xa)?("x"===Ca?P.width():c())/100:1)*parseInt(xa,10))}function h(xa,Ca){return xa.retinaUrl&&1<d.devicePixelRatio?Ca.replace(xa.photoRegex,xa.retinaSuffix):Ca}function m(xa){"contains"in w[0]&&!w[0].contains(xa.target)&&
(xa.stopPropagation(),w.focus())}function k(){var xa,Ca=a.data(wa,tb);null==Ca?(X=a.extend({},jb),console&&console.log&&console.log("Error: cboxElement missing settings object")):X=a.extend({},Ca);for(xa in X)a.isFunction(X[xa])&&"on"!==xa.slice(0,2)&&(X[xa]=X[xa].call(wa));X.rel=X.rel||wa.rel||a(wa).data("rel")||"nofollow";X.href=X.href||a(wa).attr("href");X.title=X.title||wa.title;"string"==typeof X.href&&(X.href=a.trim(X.href))}function l(xa,Ca){a(g).trigger(xa);mb.trigger(xa);a.isFunction(Ca)&&
Ca.call(wa)}function p(){var xa,Ca,Ga,Aa,Va,db=Ra+"Slideshow_",kb="click."+Ra;X.slideshow&&J[1]?(Ca=function(){clearTimeout(xa)},Ga=function(){(X.loop||J[oa+1])&&(xa=setTimeout(Ma.next,X.slideshowSpeed))},Aa=function(){G.html(X.slideshowStop).unbind(kb).one(kb,Va);mb.bind(pb,Ga).bind(Na,Ca).bind(ib,Va);w.removeClass(db+"off").addClass(db+"on")},Va=function(){Ca();mb.unbind(pb,Ga).unbind(Na,Ca).unbind(ib,Va);G.html(X.slideshowStart).unbind(kb).one(kb,function(){Ma.next();Aa()});w.removeClass(db+"on").addClass(db+
"off")},X.slideshowAuto?Aa():Va()):w.removeClass(db+"off "+db+"on")}function q(xa){$a||(wa=xa,k(),J=a(wa),oa=0,"nofollow"!==X.rel&&(J=a("."+ia).filter(function(){var Ca,Ga=a.data(this,tb);return Ga&&(Ca=a(this).data("rel")||Ga.rel||this.rel),Ca===X.rel}),oa=J.index(wa),-1===oa&&(J=J.add(wa),oa=J.length-1)),D.css({opacity:parseFloat(X.opacity),cursor:X.overlayClose?"pointer":"auto",visibility:"visible"}).show(),sb&&w.add(D).removeClass(sb),X.className&&w.add(D).addClass(X.className),sb=X.className,
X.closeButton?O.html(X.close).appendTo(L):O.appendTo("<div/>"),Ja||(Ja=Ka=!0,w.css({visibility:"hidden",display:"block"}),K=b(Sa,"LoadedContent","width:0; height:0; overflow:hidden"),L.css({width:"",height:""}).append(K),la=U.height()+T.height()+L.outerHeight(!0)-L.height(),qa=V.width()+Y.width()+L.outerWidth(!0)-L.width(),va=K.outerHeight(!0),pa=K.outerWidth(!0),X.w=f(X.initialWidth,"x"),X.h=f(X.initialHeight,"y"),Ma.position(),p(),l(y,X.onOpen),da.add(H).hide(),w.focus(),X.trapFocus&&g.addEventListener&&
(g.addEventListener("focus",m,!0),mb.one(Ab,function(){g.removeEventListener("focus",m,!0)})),X.returnFocus&&mb.one(Ab,function(){a(wa).focus()})),C())}function u(){!w&&g.body&&(lb=!1,P=a(d),w=b(Sa).attr({id:tb,"class":!1===a.support.opacity?Ra+"IE":"",role:"dialog",tabindex:"-1"}).hide(),D=b(Sa,"Overlay").hide(),x=a([b(Sa,"LoadingOverlay")[0],b(Sa,"LoadingGraphic")[0]]),z=b(Sa,"Wrapper"),L=b(Sa,"Content").append(H=b(Sa,"Title"),M=b(Sa,"Current"),R=a('<button type="button"/>').attr({id:Ra+"Previous"}),
N=a('<button type="button"/>').attr({id:Ra+"Next"}),G=b("button","Slideshow"),x),O=a('<button type="button"/>').attr({id:Ra+"Close"}),z.append(b(Sa).append(b(Sa,"TopLeft"),U=b(Sa,"TopCenter"),b(Sa,"TopRight")),b(Sa,!1,"clear:left").append(V=b(Sa,"MiddleLeft"),L,Y=b(Sa,"MiddleRight")),b(Sa,!1,"clear:left").append(b(Sa,"BottomLeft"),T=b(Sa,"BottomCenter"),b(Sa,"BottomRight"))).find("div div").css({"float":"left"}),E=b(Sa,!1,"position:absolute; width:9999px; visibility:hidden; display:none"),da=N.add(R).add(M).add(G),
a(g.body).append(D,w.append(z,E)))}function t(){function xa(Ca){1<Ca.which||Ca.shiftKey||Ca.altKey||Ca.metaKey||Ca.ctrlKey||(Ca.preventDefault(),q(this))}return w?(lb||(lb=!0,N.click(function(){Ma.next()}),R.click(function(){Ma.prev()}),O.click(function(){Ma.close()}),D.click(function(){X.overlayClose&&Ma.close()}),a(g).bind("keydown."+Ra,function(Ca){var Ga=Ca.keyCode;Ja&&X.escKey&&27===Ga&&(Ca.preventDefault(),Ma.close());Ja&&X.arrowKey&&J[1]&&!Ca.altKey&&(37===Ga?(Ca.preventDefault(),R.click()):
39===Ga&&(Ca.preventDefault(),N.click()))}),a.isFunction(a.fn.on)?a(g).on("click."+Ra,"."+ia,xa):a("."+ia).live("click."+Ra,xa)),!0):!1}function C(){var xa,Ca,Ga=Ma.prep,Aa=++Kb;Ka=!0;Fa=!1;wa=J[oa];k();l(vb);l(Na,X.onLoad);X.h=X.height?f(X.height,"y")-va-la:X.innerHeight&&f(X.innerHeight,"y");X.w=X.width?f(X.width,"x")-pa-qa:X.innerWidth&&f(X.innerWidth,"x");X.mw=X.w;X.mh=X.h;X.maxWidth&&(X.mw=f(X.maxWidth,"x")-pa-qa,X.mw=X.w&&X.w<X.mw?X.w:X.mw);X.maxHeight&&(X.mh=f(X.maxHeight,"y")-va-la,X.mh=X.h&&
X.h<X.mh?X.h:X.mh);var Va=X.href;Za=setTimeout(function(){x.show()},100);X.inline?(Ca=b(Sa).hide().insertBefore(a(Va)[0]),mb.one(vb,function(){Ca.replaceWith(K.children())}),Ga(a(Va))):X.iframe?Ga(" "):X.html?Ga(X.html):X.photo||X.photoRegex.test(Va)?(Va=h(X,Va),Fa=g.createElement("img"),a(Fa).addClass(Ra+"Photo").bind("error",function(){X.title=!1;Ga(b(Sa,"Error").html(X.imgError))}).one("load",function(){var db;Aa===Kb&&(Fa.alt=a(wa).attr("alt")||a(wa).attr("data-alt")||"",X.retinaImage&&1<d.devicePixelRatio&&
(Fa.height/=d.devicePixelRatio,Fa.width/=d.devicePixelRatio),X.scalePhotos&&(xa=function(){Fa.height-=Fa.height*db;Fa.width-=Fa.width*db},X.mw&&Fa.width>X.mw&&(db=(Fa.width-X.mw)/Fa.width,xa()),X.mh&&Fa.height>X.mh&&(db=(Fa.height-X.mh)/Fa.height,xa())),X.h&&(Fa.style.marginTop=Math.max(X.mh-Fa.height,0)/2+"px"),J[1]&&(X.loop||J[oa+1])&&(Fa.style.cursor="pointer",Fa.onclick=function(){Ma.next()}),Fa.style.width=Fa.width+"px",Fa.style.height=Fa.height+"px",setTimeout(function(){Ga(Fa)},1))}),setTimeout(function(){Fa.src=
Va},1)):Va&&E.load(Va,X.data,function(db,kb){Aa===Kb&&Ga("error"===kb?b(Sa,"Error").html(X.xhrError):a(this).contents())})}var D,w,z,L,U,V,Y,T,J,P,K,E,x,H,M,G,N,R,O,da,X,la,qa,va,pa,wa,oa,Fa,Ja,Ka,$a,Za,Ma,sb,lb,jb={transition:"elastic",speed:300,fadeOut:300,width:!1,initialWidth:"600",innerWidth:!1,maxWidth:!1,height:!1,initialHeight:"450",innerHeight:!1,maxHeight:!1,scalePhotos:!0,scrolling:!0,inline:!1,html:!1,iframe:!1,fastIframe:!0,photo:!1,href:!1,title:!1,rel:!1,opacity:.9,preloading:!0,className:!1,
retinaImage:!1,retinaUrl:!1,retinaSuffix:"@2x.$1",current:"image {current} of {total}",previous:"previous",next:"next",close:"close",xhrError:"This content failed to load.",imgError:"This image failed to load.",open:!1,returnFocus:!0,trapFocus:!0,reposition:!0,loop:!0,slideshow:!1,slideshowAuto:!0,slideshowSpeed:2500,slideshowStart:"start slideshow",slideshowStop:"stop slideshow",photoRegex:/\.(gif|png|jp(e|g|eg)|bmp|ico|webp)((#|\?).*)?$/i,onOpen:!1,onLoad:!1,onComplete:!1,onCleanup:!1,onClosed:!1,
overlayClose:!0,escKey:!0,arrowKey:!0,top:!1,bottom:!1,left:!1,right:!1,fixed:!1,data:void 0,closeButton:!0},tb="colorbox",Ra="cbox",ia=Ra+"Element",y=Ra+"_open",Na=Ra+"_load",pb=Ra+"_complete",ib=Ra+"_cleanup",Ab=Ra+"_closed",vb=Ra+"_purge",mb=a("<a/>"),Sa="div",Kb=0,Mb={};a.colorbox||(a(u),Ma=a.fn[tb]=a[tb]=function(xa,Ca){var Ga=this;if(xa=xa||{},u(),t()){if(a.isFunction(Ga))Ga=a("<a/>"),xa.open=!0;else if(!Ga[0])return Ga;Ca&&(xa.onComplete=Ca);Ga.each(function(){a.data(this,tb,a.extend({},a.data(this,
tb)||jb,xa))}).addClass(ia);(a.isFunction(xa.open)&&xa.open.call(Ga)||xa.open)&&q(Ga[0])}return Ga},Ma.position=function(xa,Ca){function Ga(){U[0].style.width=T[0].style.width=L[0].style.width=parseInt(w[0].style.width,10)-qa+"px";L[0].style.height=V[0].style.height=Y[0].style.height=parseInt(w[0].style.height,10)-la+"px"}var Aa,Va,db,kb=0,rb=0,Db=w.offset();if(P.unbind("resize."+Ra),w.css({top:-9E4,left:-9E4}),Va=P.scrollTop(),db=P.scrollLeft(),X.fixed?(Db.top-=Va,Db.left-=db,w.css({position:"fixed"})):
(kb=Va,rb=db,w.css({position:"absolute"})),rb+=!1!==X.right?Math.max(P.width()-X.w-pa-qa-f(X.right,"x"),0):!1!==X.left?f(X.left,"x"):Math.round(Math.max(P.width()-X.w-pa-qa,0)/2),kb+=!1!==X.bottom?Math.max(c()-X.h-va-la-f(X.bottom,"y"),0):!1!==X.top?f(X.top,"y"):Math.round(Math.max(c()-X.h-va-la,0)/2),w.css({top:Db.top,left:Db.left,visibility:"visible"}),z[0].style.width=z[0].style.height="9999px",Aa={width:X.w+pa+qa,height:X.h+va+la,top:kb,left:rb},xa){var Eb=0;a.each(Aa,function(Ib){return Aa[Ib]!==
Mb[Ib]?(Eb=xa,void 0):void 0});xa=Eb}Mb=Aa;xa||w.css(Aa);w.dequeue().animate(Aa,{duration:xa||0,complete:function(){Ga();Ka=!1;z[0].style.width=X.w+pa+qa+"px";z[0].style.height=X.h+va+la+"px";X.reposition&&setTimeout(function(){P.bind("resize."+Ra,Ma.position)},1);Ca&&Ca()},step:Ga})},Ma.resize=function(xa){var Ca;Ja&&(xa=xa||{},xa.width&&(X.w=f(xa.width,"x")-pa-qa),xa.innerWidth&&(X.w=f(xa.innerWidth,"x")),K.css({width:X.w}),xa.height&&(X.h=f(xa.height,"y")-va-la),xa.innerHeight&&(X.h=f(xa.innerHeight,
"y")),xa.innerHeight||xa.height||(Ca=K.scrollTop(),K.css({height:"auto"}),X.h=K.height()),K.css({height:X.h}),Ca&&K.scrollTop(Ca),Ma.position("none"===X.transition?0:X.speed))},Ma.prep=function(xa){if(Ja){var Ca="none"===X.transition?0:X.speed;K.empty().remove();K=b(Sa,"LoadedContent").append(xa);K.hide().appendTo(E.show()).css({width:(X.w=X.w||K.width(),X.w=X.mw&&X.mw<X.w?X.mw:X.w,X.w),overflow:X.scrolling?"auto":"hidden"}).css({height:(X.h=X.h||K.height(),X.h=X.mh&&X.mh<X.h?X.mh:X.h,X.h)}).prependTo(L);
E.hide();a(Fa).css({"float":"none"});var Ga=function(){function Aa(){!1===a.support.opacity&&w[0].style.removeAttribute("filter")}var Va,db,kb=J.length;Ja&&(db=function(){clearTimeout(Za);x.hide();l(pb,X.onComplete)},H.html(X.title).add(K).show(),1<kb?("string"==typeof X.current&&M.html(X.current.replace("{current}",oa+1).replace("{total}",kb)).show(),N[X.loop||kb-1>oa?"show":"hide"]().html(X.next),R[X.loop||oa?"show":"hide"]().html(X.previous),X.slideshow&&G.show(),X.preloading&&a.each([e(-1),e(1)],
function(){var rb,Db,Eb=J[this],Ib=a.data(Eb,tb);Ib&&Ib.href?(rb=Ib.href,a.isFunction(rb)&&(rb=rb.call(Eb))):rb=a(Eb).attr("href");rb&&(Ib.photo||Ib.photoRegex.test(rb))&&(rb=h(Ib,rb),Db=g.createElement("img"),Db.src=rb)})):da.hide(),X.iframe?(Va=b("iframe")[0],"frameBorder"in Va&&(Va.frameBorder=0),"allowTransparency"in Va&&(Va.allowTransparency="true"),X.scrolling||(Va.scrolling="no"),a(Va).attr({src:X.href,name:(new Date).getTime(),"class":Ra+"Iframe",allowFullScreen:!0,webkitAllowFullScreen:!0,
mozallowfullscreen:!0}).one("load",db).appendTo(K),mb.one(vb,function(){Va.src="//about:blank"}),X.fastIframe&&a(Va).trigger("load")):db(),"fade"===X.transition?w.fadeTo(Ca,1,Aa):Aa())};"fade"===X.transition?w.fadeTo(Ca,0,function(){Ma.position(0,Ga)}):Ma.position(Ca,Ga)}},Ma.next=function(){!Ka&&J[1]&&(X.loop||J[oa+1])&&(oa=e(1),q(J[oa]))},Ma.prev=function(){!Ka&&J[1]&&(X.loop||oa)&&(oa=e(-1),q(J[oa]))},Ma.close=function(){Ja&&!$a&&($a=!0,Ja=!1,l(ib,X.onCleanup),P.unbind("."+Ra),D.fadeTo(X.fadeOut||
0,0),w.stop().fadeTo(X.fadeOut||0,0,function(){w.add(D).css({opacity:1,cursor:"auto"}).hide();l(vb);K.empty().remove();setTimeout(function(){$a=!1;l(Ab,X.onClosed)},1)}))},Ma.remove=function(){w&&(w.stop(),a.colorbox.close(),w.stop().remove(),D.remove(),$a=!1,w=null,a("."+ia).removeData(tb).removeClass(ia),a(g).unbind("click."+Ra))},Ma.element=function(){return a(wa)},Ma.settings=jb)})(jQuery,document,window);/*
 offline-js 0.7.11 */
(function(){var a=function(f,h){var m;var k=[];for(m in h.prototype)try{var l=h.prototype[m];k.push(null==f[m]&&"function"!=typeof l?f[m]=l:void 0)}catch(p){}return k};var g={};null==g.options&&(g.options={});var d={checks:{xhr:{url:function(){return"/favicon.ico?_="+Math.floor(1E9*Math.random())},timeout:5E3},image:{url:function(){return"/favicon.ico?_="+Math.floor(1E9*Math.random())}},active:"xhr"},checkOnLoad:!1,interceptRequests:!0,reconnect:!0};var b=function(f,h){var m,k,l;var p=h.split(".");
h=k=0;for(l=p.length;l>k&&(m=p[h],f=f[m],"object"==typeof f);h=++k);return h===p.length-1?f:void 0};g.getOption=function(f){var h,m;return h=null!=(m=b(g.options,f))?m:b(d,f),"function"==typeof h?h():h};"function"==typeof window.addEventListener&&window.addEventListener("online",function(){return setTimeout(g.confirmUp,100)},!1);"function"==typeof window.addEventListener&&window.addEventListener("offline",function(){return g.confirmDown()},!1);g.state="up";g.markUp=function(){return g.trigger("confirmed-up"),
"up"!==g.state?(g.state="up",g.trigger("up")):void 0};g.markDown=function(){return g.trigger("confirmed-down"),"down"!==g.state?(g.state="down",g.trigger("down")):void 0};var c={};g.on=function(f,h,m){var k,l;if(k=f.split(" "),1<k.length){var p=[];var q=0;for(l=k.length;l>q;q++)f=k[q],p.push(g.on(f,h,m));return p}return null==c[f]&&(c[f]=[]),c[f].push([m,h])};g.off=function(f,h){var m;if(null!=c[f]){if(h){var k=0;for(m=[];k<c[f].length;){var l=c[f][k];l=l[1];m.push(l===h?c[f].splice(k,1):k++)}return m}return c[f]=
[]}};g.trigger=function(f){var h;if(null!=c[f]){var m=c[f];var k=[];var l=0;for(h=m.length;h>l;l++){var p=m[l];f=p[0];p=p[1];k.push(p.call(f))}return k}};var e=function(f,h,m){var k,l,p,q,u;return k=function(){return f.status&&12E3>f.status?h():m()},null===f.onprogress?(l=f.onerror,f.onerror=function(){return m(),"function"==typeof l?l.apply(null,arguments):void 0},u=f.ontimeout,f.ontimeout=function(){return m(),"function"==typeof u?u.apply(null,arguments):void 0},p=f.onload,f.onload=function(){return k(),
"function"==typeof p?p.apply(null,arguments):void 0}):(q=f.onreadystatechange,f.onreadystatechange=function(){return 4===f.readyState?k():0===f.readyState&&m(),"function"==typeof q?q.apply(null,arguments):void 0})};g.checks={};g.checks.xhr=function(){var f=new XMLHttpRequest;f.offline=!1;f.open("HEAD",g.getOption("checks.xhr.url"),!0);null!=f.timeout&&(f.timeout=g.getOption("checks.xhr.timeout"));e(f,g.markUp,g.markDown);try{f.send()}catch(h){g.markDown()}return f};g.checks.image=function(){var f;
return f=document.createElement("img"),f.onerror=g.markDown,f.onload=g.markUp,void(f.src=g.getOption("checks.image.url"))};g.checks.down=g.markDown;g.checks.up=g.markUp;g.check=function(){return g.trigger("checking"),g.checks[g.getOption("checks.active")]()};g.confirmUp=g.confirmDown=g.check;g.onXHR=function(f){var h,m,k;return h=function(l,p){var q;return q=l.open,l.open=function(u,t,C,D,w){return f({type:u,url:t,async:C,flags:p,user:D,password:w,xhr:l}),q.apply(l,arguments)}},k=window.XMLHttpRequest,
window.XMLHttpRequest=function(l){var p,q,u;return p=new k(l),h(p,l),u=p.setRequestHeader,p.headers={},p.setRequestHeader=function(t,C){return p.headers[t]=C,u.call(p,t,C)},q=p.overrideMimeType,p.overrideMimeType=function(t){return p.mimeType=t,q.call(p,t)},p},a(window.XMLHttpRequest,k),null!=window.XDomainRequest?(m=window.XDomainRequest,window.XDomainRequest=function(){var l;return l=new m,h(l),l},a(window.XDomainRequest,m)):void 0};setTimeout(function(){return g.getOption("interceptRequests")&&
g.onXHR(function(f){var h;return h=f.xhr,!1!==h.offline?e(h,g.markUp,g.confirmDown):void 0}),g.getOption("checkOnLoad")?g.check():void 0},0);window.Offline=g}).call(this);
(function(){if(!window.Offline)throw Error("Offline Reconnect brought in without offline.js");var a=Offline.reconnect={};var g=null;var d=function(){var f;return null!=a.state&&"inactive"!==a.state&&Offline.trigger("reconnect:stopped"),a.state="inactive",a.remaining=a.delay=null!=(f=Offline.getOption("reconnect.initialDelay"))?f:3};var b=function(){var f,h;return f=null!=(h=Offline.getOption("reconnect.delay"))?h:Math.min(Math.ceil(1.5*a.delay),3600),a.remaining=a.delay=f};var c=function(){return"connecting"!==
a.state?(--a.remaining,Offline.trigger("reconnect:tick"),0===a.remaining?e():void 0):void 0};var e=function(){return"waiting"===a.state?(Offline.trigger("reconnect:connecting"),a.state="connecting",Offline.check()):void 0};a.tryNow=e;d();Offline.on("down",function(){return Offline.getOption("reconnect")?(d(),a.state="waiting",Offline.trigger("reconnect:started"),g=setInterval(c,1E3)):void 0});Offline.on("confirmed-down",function(){return Offline.getOption("reconnect")&&"connecting"===a.state?(Offline.trigger("reconnect:failure"),
a.state="waiting",b()):void 0});Offline.on("up",function(){return null!=g&&clearInterval(g),d()})}).call(this);
(function(){if(!window.Offline)throw Error("Requests module brought in without offline.js");var a=[];var g=!1;var d=function(f){return Offline.trigger("requests:capture"),"down"!==Offline.state&&(g=!0),a.push(f)};var b=function(f){var h;var m=f.xhr;var k=f.url;var l=f.type;var p=f.user;var q=f.password;f=f.body;m.abort();m.open(l,k,!0,p,q);l=m.headers;for(h in l)q=l[h],m.setRequestHeader(h,q);return m.mimeType&&m.overrideMimeType(m.mimeType),m.send(f)};var c=function(){return a=[]};var e=function(){var f,
h;Offline.trigger("requests:flush");var m={};var k=0;for(h=a.length;h>k;k++){var l=a[k];var p=l.url.replace(/(\?|&)_=[0-9]+/,function(q,u){return"?"===u?u:""});m[""+l.type.toUpperCase()+" - "+p]=l}for(f in m)l=m[f],b(l);return c()};setTimeout(function(){return!1!==Offline.getOption("requests")?(Offline.on("confirmed-up",function(){return g?(g=!1,c()):void 0}),Offline.on("up",e),Offline.on("down",function(){return g=!1}),Offline.onXHR(function(f){var h,m,k,l,p;return k=f.xhr,h=f.async,!1!==k.offline&&
(m=function(){return d(f)},p=k.send,k.send=function(q){return f.body=q,p.apply(k,arguments)},h)?null===k.onprogress?(k.addEventListener("error",m,!1),k.addEventListener("timeout",m,!1)):(l=k.onreadystatechange,k.onreadystatechange=function(){return 0===k.readyState?m():4===k.readyState&&(0===k.status||12E3<=k.status)&&m(),"function"==typeof l?l.apply(null,arguments):void 0}):void 0}),Offline.requests={flush:e,clear:c}):void 0},0)}).call(this);
(function(){var a,g;if(!Offline)throw Error("Offline simulate brought in without offline.js");var d=["up","down"];var b=0;for(g=d.length;g>b;b++){var c=d[b];(document.querySelector("script[data-simulate='"+c+"']")||localStorage.OFFLINE_SIMULATE===c)&&(null==Offline.options&&(Offline.options={}),null==(a=Offline.options).checks&&(a.checks={}),Offline.options.checks.active=c)}}).call(this);
(function(){var a,g;if(!window.Offline)throw Error("Offline UI brought in without offline.js");var d=function(p){var q;return q=document.createElement("div"),q.innerHTML=p,q.children[0]};var b=a=null;var c=function(p){return e(p),b.className+=" "+p};var e=function(p){return b.className=b.className.replace(new RegExp("(^| )"+p.split(" ").join("|")+"( |$)","gi")," ")};var f={};var h=function(p,q){return c(p),null!=f[p]&&clearTimeout(f[p]),f[p]=setTimeout(function(){return e(p),delete f[p]},1E3*q)};
var m=function(p){var q,u,t;var C={day:86400,hour:3600,minute:60,second:1};for(u in C)if(q=C[u],p>=q)return t=Math.floor(p/q),[t,u];return["now",""]};var k=function(){var p,q;return b=d('<div class="offline-ui"><div class="offline-ui-content"></div></div>'),document.body.appendChild(b),null!=Offline.reconnect&&Offline.getOption("reconnect")&&(b.appendChild(d('<a href class="offline-ui-retry"></a>')),p=b.querySelector(".offline-ui-retry"),q=function(u){return u.preventDefault(),Offline.reconnect.tryNow()},
null!=p.addEventListener?p.addEventListener("click",q,!1):p.attachEvent("click",q)),c("offline-ui-"+Offline.state),a=b.querySelector(".offline-ui-content")};var l=function(){return k(),Offline.on("up",function(){return e("offline-ui-down"),c("offline-ui-up"),h("offline-ui-up-2s",2),h("offline-ui-up-5s",5)}),Offline.on("down",function(){return e("offline-ui-up"),c("offline-ui-down"),h("offline-ui-down-2s",2),h("offline-ui-down-5s",5)}),Offline.on("reconnect:connecting",function(){return c("offline-ui-connecting"),
e("offline-ui-waiting")}),Offline.on("reconnect:tick",function(){var p,q,u;return c("offline-ui-waiting"),e("offline-ui-connecting"),u=m(Offline.reconnect.remaining),p=u[0],q=u[1],a.setAttribute("data-retry-in-value",p),a.setAttribute("data-retry-in-unit",q)}),Offline.on("reconnect:stopped",function(){return e("offline-ui-connecting offline-ui-waiting"),a.setAttribute("data-retry-in-value",null),a.setAttribute("data-retry-in-unit",null)}),Offline.on("reconnect:failure",function(){return h("offline-ui-reconnect-failed-2s",
2),h("offline-ui-reconnect-failed-5s",5)}),Offline.on("reconnect:success",function(){return h("offline-ui-reconnect-succeeded-2s",2),h("offline-ui-reconnect-succeeded-5s",5)})};"complete"===document.readyState?l():null!=document.addEventListener?document.addEventListener("DOMContentLoaded",l,!1):(g=document.onreadystatechange,document.onreadystatechange=function(){return"complete"===document.readyState&&l(),"function"==typeof g?g.apply(null,arguments):void 0})}).call(this);(function(a){a.fn.ajaxifyForm=function(g){function d(b){$output=a('<div class="message alert info '+(1==b.code?"alert-success":"alert-error")+'"><a class="close" data-dismiss="alert">\u00d7</a><ul></ul></div>');a("ul",$output).append(function(){var c="";a.each(b.messages,function(e,f){c+="<li>"+f+"</li>"});return c});return $output}g=a.extend({submitUrl:null,method:"POST",expectBack:"json",showFeedback:!0,hideFeedbackAfter:!1,sendWithData:{}},g);a(document).on("submit",this.selector,{defaults:g},
function(b){b.preventDefault();var c=a(this),e=a.extend(b.data.defaults,{submitUrl:c.attr("action")||b.data.defaults.submitUrl,method:c.attr("method")||b.data.defaults.method,showFeedback:"true"===c.attr("data-show-feedback")||b.data.defaults.showFeedback,hideFeedbackAfter:+c.attr("data-hide-feedback-after")||b.data.defaults.hideFeedbackAfter});b=function(f){var h=c.serializeArray();if(!a.isEmptyObject(f))for(var m in f)h.push({name:m,value:f[m]});return h}(e.sendWithData);a.ajax(e.submitUrl,{data:b,
type:e.method,dataType:e.expectBack,success:function(f){e.showFeedback&&"json"==e.expectBack&&($output=d(f),c.prepend($output),1<=e.hideFeedbackAfter&&setTimeout(function(h){h.remove()},e.hideFeedbackAfter,$output));c.trigger("ajaxify_complete",[f,e])},beforeSend:function(){a(".message",c).remove()}})})}})(jQuery);/*
 Datepicker for Bootstrap v1.9.0 (https://github.com/uxsolutions/bootstrap-datepicker)

 Licensed under the Apache License v2.0 (http://www.apache.org/licenses/LICENSE-2.0)
*/
(function(a){"function"===typeof define&&define.amd?define(["jquery"],a):"object"===typeof exports?a(require("jquery")):a(jQuery)})(function(a,g){function d(){return new Date(Date.UTC.apply(Date,arguments))}function b(){var w=new Date;return d(w.getFullYear(),w.getMonth(),w.getDate())}function c(w,z){return w.getUTCFullYear()===z.getUTCFullYear()&&w.getUTCMonth()===z.getUTCMonth()&&w.getUTCDate()===z.getUTCDate()}function e(w,z){return function(){z!==g&&a.fn.datepicker.deprecated(z);return this[w].apply(this,
arguments)}}function f(w,z){function L(J,P){return P.toLowerCase()}w=a(w).data();var U={},V=new RegExp("^"+z.toLowerCase()+"([A-Z])");z=new RegExp("^"+z.toLowerCase());for(var Y in w)if(z.test(Y)){var T=Y.replace(V,L);U[T]=w[Y]}return U}function h(w){var z={};if(!C[w]&&(w=w.split("-")[0],!C[w]))return;var L=C[w];a.each(t,function(U,V){V in L&&(z[V]=L[V])});return z}var m=function(){var w={get:function(z){return this.slice(z)[0]},contains:function(z){z=z&&z.valueOf();for(var L=0,U=this.length;L<U;L++)if(0<=
this[L].valueOf()-z&&864E5>this[L].valueOf()-z)return L;return-1},remove:function(z){this.splice(z,1)},replace:function(z){z&&(a.isArray(z)||(z=[z]),this.clear(),this.push.apply(this,z))},clear:function(){this.length=0},copy:function(){var z=new m;z.replace(this);return z}};return function(){var z=[];z.push.apply(z,arguments);a.extend(z,w);return z}}(),k=function(w,z){a.data(w,"datepicker",this);this._events=[];this._secondaryEvents=[];this._process_options(z);this.dates=new m;this.viewDate=this.o.defaultViewDate;
this.focusDate=null;this.element=a(w);this.inputField=(this.isInput=this.element.is("input"))?this.element:this.element.find("input");(this.component=this.element.hasClass("date")?this.element.find(".add-on, .input-group-addon, .input-group-append, .input-group-prepend, .btn"):!1)&&0===this.component.length&&(this.component=!1);this.isInline=!this.component&&this.element.is("div");this.picker=a(D.template);this._check_template(this.o.templates.leftArrow)&&this.picker.find(".prev").html(this.o.templates.leftArrow);
this._check_template(this.o.templates.rightArrow)&&this.picker.find(".next").html(this.o.templates.rightArrow);this._buildEvents();this._attachEvents();this.isInline?this.picker.addClass("datepicker-inline").appendTo(this.element):this.picker.addClass("datepicker-dropdown dropdown-menu");this.o.rtl&&this.picker.addClass("datepicker-rtl");this.o.calendarWeeks&&this.picker.find(".datepicker-days .datepicker-switch, thead .datepicker-title, tfoot .today, tfoot .clear").attr("colspan",function(L,U){return Number(U)+
1});this._process_options({startDate:this._o.startDate,endDate:this._o.endDate,daysOfWeekDisabled:this.o.daysOfWeekDisabled,daysOfWeekHighlighted:this.o.daysOfWeekHighlighted,datesDisabled:this.o.datesDisabled});this._allow_update=!1;this.setViewMode(this.o.startView);this._allow_update=!0;this.fillDow();this.fillMonths();this.update();this.isInline&&this.show()};k.prototype={constructor:k,_resolveViewName:function(w){a.each(D.viewModes,function(z,L){if(w===z||-1!==a.inArray(w,L.names))return w=z,
!1});return w},_resolveDaysOfWeek:function(w){a.isArray(w)||(w=w.split(/[,\s]*/));return a.map(w,Number)},_check_template:function(w){try{return w===g||""===w?!1:0>=(w.match(/[<>]/g)||[]).length?!0:0<a(w).length}catch(z){return!1}},_process_options:function(w){this._o=a.extend({},this._o,w);var z=this.o=a.extend({},this._o);w=z.language;C[w]||(w=w.split("-")[0],C[w]||(w=u.language));z.language=w;z.startView=this._resolveViewName(z.startView);z.minViewMode=this._resolveViewName(z.minViewMode);z.maxViewMode=
this._resolveViewName(z.maxViewMode);z.startView=Math.max(this.o.minViewMode,Math.min(this.o.maxViewMode,z.startView));!0!==z.multidate&&(z.multidate=Number(z.multidate)||!1,!1!==z.multidate&&(z.multidate=Math.max(0,z.multidate)));z.multidateSeparator=String(z.multidateSeparator);z.weekStart%=7;z.weekEnd=(z.weekStart+6)%7;var L=D.parseFormat(z.format);-Infinity!==z.startDate&&(z.startDate=z.startDate?z.startDate instanceof Date?this._local_to_utc(this._zero_time(z.startDate)):D.parseDate(z.startDate,
L,z.language,z.assumeNearbyYear):-Infinity);Infinity!==z.endDate&&(z.endDate=z.endDate?z.endDate instanceof Date?this._local_to_utc(this._zero_time(z.endDate)):D.parseDate(z.endDate,L,z.language,z.assumeNearbyYear):Infinity);z.daysOfWeekDisabled=this._resolveDaysOfWeek(z.daysOfWeekDisabled||[]);z.daysOfWeekHighlighted=this._resolveDaysOfWeek(z.daysOfWeekHighlighted||[]);z.datesDisabled=z.datesDisabled||[];a.isArray(z.datesDisabled)||(z.datesDisabled=z.datesDisabled.split(","));z.datesDisabled=a.map(z.datesDisabled,
function(V){return D.parseDate(V,L,z.language,z.assumeNearbyYear)});w=String(z.orientation).toLowerCase().split(/\s+/g);var U=z.orientation.toLowerCase();w=a.grep(w,function(V){return/^auto|left|right|top|bottom$/.test(V)});z.orientation={x:"auto",y:"auto"};if(U&&"auto"!==U)if(1===w.length)switch(w[0]){case "top":case "bottom":z.orientation.y=w[0];break;case "left":case "right":z.orientation.x=w[0]}else U=a.grep(w,function(V){return/^left|right$/.test(V)}),z.orientation.x=U[0]||"auto",U=a.grep(w,
function(V){return/^top|bottom$/.test(V)}),z.orientation.y=U[0]||"auto";z.defaultViewDate instanceof Date||"string"===typeof z.defaultViewDate?z.defaultViewDate=D.parseDate(z.defaultViewDate,L,z.language,z.assumeNearbyYear):z.defaultViewDate?(w=z.defaultViewDate.year||(new Date).getFullYear(),z.defaultViewDate=d(w,z.defaultViewDate.month||0,z.defaultViewDate.day||1)):z.defaultViewDate=b()},_applyEvents:function(w){for(var z=0,L,U,V;z<w.length;z++)L=w[z][0],2===w[z].length?(U=g,V=w[z][1]):3===w[z].length&&
(U=w[z][1],V=w[z][2]),L.on(V,U)},_unapplyEvents:function(w){for(var z=0,L,U,V;z<w.length;z++)L=w[z][0],2===w[z].length?(V=g,U=w[z][1]):3===w[z].length&&(V=w[z][1],U=w[z][2]),L.off(U,V)},_buildEvents:function(){var w={keyup:a.proxy(function(z){-1===a.inArray(z.keyCode,[27,37,39,38,40,32,13,9])&&this.update()},this),keydown:a.proxy(this.keydown,this),paste:a.proxy(this.paste,this)};!0===this.o.showOnFocus&&(w.focus=a.proxy(this.show,this));this._events=this.isInput?[[this.element,w]]:this.component&&
this.inputField.length?[[this.inputField,w],[this.component,{click:a.proxy(this.show,this)}]]:[[this.element,{click:a.proxy(this.show,this),keydown:a.proxy(this.keydown,this)}]];this._events.push([this.element,"*",{blur:a.proxy(function(z){this._focused_from=z.target},this)}],[this.element,{blur:a.proxy(function(z){this._focused_from=z.target},this)}]);this.o.immediateUpdates&&this._events.push([this.element,{"changeYear changeMonth":a.proxy(function(z){this.update(z.date)},this)}]);this._secondaryEvents=
[[this.picker,{click:a.proxy(this.click,this)}],[this.picker,".prev, .next",{click:a.proxy(this.navArrowsClick,this)}],[this.picker,".day:not(.disabled)",{click:a.proxy(this.dayCellClick,this)}],[a(window),{resize:a.proxy(this.place,this)}],[a(document),{"mousedown touchstart":a.proxy(function(z){this.element.is(z.target)||this.element.find(z.target).length||this.picker.is(z.target)||this.picker.find(z.target).length||this.isInline||this.hide()},this)}]]},_attachEvents:function(){this._detachEvents();
this._applyEvents(this._events)},_detachEvents:function(){this._unapplyEvents(this._events)},_attachSecondaryEvents:function(){this._detachSecondaryEvents();this._applyEvents(this._secondaryEvents)},_detachSecondaryEvents:function(){this._unapplyEvents(this._secondaryEvents)},_trigger:function(w,z){z=z||this.dates.get(-1);z=this._utc_to_local(z);this.element.trigger({type:w,date:z,viewMode:this.viewMode,dates:a.map(this.dates,this._utc_to_local),format:a.proxy(function(L,U){0===arguments.length?(L=
this.dates.length-1,U=this.o.format):"string"===typeof L&&(U=L,L=this.dates.length-1);U=U||this.o.format;var V=this.dates.get(L);return D.formatDate(V,U,this.o.language)},this)})},show:function(){if(!(this.inputField.is(":disabled")||this.inputField.prop("readonly")&&!1===this.o.enableOnReadonly))return this.isInline||this.picker.appendTo(this.o.container),this.place(),this.picker.show(),this._attachSecondaryEvents(),this._trigger("show"),(window.navigator.msMaxTouchPoints||"ontouchstart"in document)&&
this.o.disableTouchKeyboard&&a(this.element).blur(),this},hide:function(){if(this.isInline||!this.picker.is(":visible"))return this;this.focusDate=null;this.picker.hide().detach();this._detachSecondaryEvents();this.setViewMode(this.o.startView);this.o.forceParse&&this.inputField.val()&&this.setValue();this._trigger("hide");return this},destroy:function(){this.hide();this._detachEvents();this._detachSecondaryEvents();this.picker.remove();delete this.element.data().datepicker;this.isInput||delete this.element.data().date;
return this},paste:function(w){if(w.originalEvent.clipboardData&&w.originalEvent.clipboardData.types&&-1!==a.inArray("text/plain",w.originalEvent.clipboardData.types))var z=w.originalEvent.clipboardData.getData("text/plain");else if(window.clipboardData)z=window.clipboardData.getData("Text");else return;this.setDate(z);this.update();w.preventDefault()},_utc_to_local:function(w){if(!w)return w;var z=new Date(w.getTime()+6E4*w.getTimezoneOffset());z.getTimezoneOffset()!==w.getTimezoneOffset()&&(z=new Date(w.getTime()+
6E4*z.getTimezoneOffset()));return z},_local_to_utc:function(w){return w&&new Date(w.getTime()-6E4*w.getTimezoneOffset())},_zero_time:function(w){return w&&new Date(w.getFullYear(),w.getMonth(),w.getDate())},_zero_utc_time:function(w){return w&&d(w.getUTCFullYear(),w.getUTCMonth(),w.getUTCDate())},getDates:function(){return a.map(this.dates,this._utc_to_local)},getUTCDates:function(){return a.map(this.dates,function(w){return new Date(w)})},getDate:function(){return this._utc_to_local(this.getUTCDate())},
getUTCDate:function(){var w=this.dates.get(-1);return w!==g?new Date(w):null},clearDates:function(){this.inputField.val("");this.update();this._trigger("changeDate");this.o.autoclose&&this.hide()},setDates:function(){var w=a.isArray(arguments[0])?arguments[0]:arguments;this.update.apply(this,w);this._trigger("changeDate");this.setValue();return this},setUTCDates:function(){var w=a.isArray(arguments[0])?arguments[0]:arguments;this.setDates.apply(this,a.map(w,this._utc_to_local));return this},setDate:e("setDates"),
setUTCDate:e("setUTCDates"),remove:e("destroy","Method `remove` is deprecated and will be removed in version 2.0. Use `destroy` instead"),setValue:function(){var w=this.getFormattedDate();this.inputField.val(w);return this},getFormattedDate:function(w){w===g&&(w=this.o.format);var z=this.o.language;return a.map(this.dates,function(L){return D.formatDate(L,w,z)}).join(this.o.multidateSeparator)},getStartDate:function(){return this.o.startDate},setStartDate:function(w){this._process_options({startDate:w});
this.update();this.updateNavArrows();return this},getEndDate:function(){return this.o.endDate},setEndDate:function(w){this._process_options({endDate:w});this.update();this.updateNavArrows();return this},setDaysOfWeekDisabled:function(w){this._process_options({daysOfWeekDisabled:w});this.update();return this},setDaysOfWeekHighlighted:function(w){this._process_options({daysOfWeekHighlighted:w});this.update();return this},setDatesDisabled:function(w){this._process_options({datesDisabled:w});this.update();
return this},place:function(){if(this.isInline)return this;var w=this.picker.outerWidth(),z=this.picker.outerHeight(),L=a(this.o.container),U=L.width(),V="body"===this.o.container?a(document).scrollTop():L.scrollTop(),Y=L.offset(),T=[0];this.element.parents().each(function(){var x=a(this).css("z-index");"auto"!==x&&0!==Number(x)&&T.push(Number(x))});L=Math.max.apply(Math,T)+this.o.zIndexOffset;var J=this.component?this.component.parent().offset():this.element.offset(),P=this.component?this.component.outerHeight(!0):
this.element.outerHeight(!1),K=this.component?this.component.outerWidth(!0):this.element.outerWidth(!1),E=J.left-Y.left;Y=J.top-Y.top;"body"!==this.o.container&&(Y+=V);this.picker.removeClass("datepicker-orient-top datepicker-orient-bottom datepicker-orient-right datepicker-orient-left");"auto"!==this.o.orientation.x?(this.picker.addClass("datepicker-orient-"+this.o.orientation.x),"right"===this.o.orientation.x&&(E-=w-K)):0>J.left?(this.picker.addClass("datepicker-orient-left"),E-=J.left-10):E+w>
U?(this.picker.addClass("datepicker-orient-right"),E+=K-w):this.o.rtl?this.picker.addClass("datepicker-orient-right"):this.picker.addClass("datepicker-orient-left");w=this.o.orientation.y;"auto"===w&&(w=0>-V+Y-z?"bottom":"top");this.picker.addClass("datepicker-orient-"+w);Y="top"===w?Y-(z+parseInt(this.picker.css("padding-top"))):Y+P;this.o.rtl?this.picker.css({top:Y,right:U-(E+K),zIndex:L}):this.picker.css({top:Y,left:E,zIndex:L});return this},_allow_update:!0,update:function(){if(!this._allow_update)return this;
var w=this.dates.copy(),z=[],L=!1;arguments.length?(a.each(arguments,a.proxy(function(U,V){V instanceof Date&&(V=this._local_to_utc(V));z.push(V)},this)),L=!0):(z=(z=this.isInput?this.element.val():this.element.data("date")||this.inputField.val())&&this.o.multidate?z.split(this.o.multidateSeparator):[z],delete this.element.data().date);z=a.map(z,a.proxy(function(U){return D.parseDate(U,this.o.format,this.o.language,this.o.assumeNearbyYear)},this));z=a.grep(z,a.proxy(function(U){return!this.dateWithinRange(U)||
!U},this),!0);this.dates.replace(z);this.o.updateViewDate&&(this.viewDate=this.dates.length?new Date(this.dates.get(-1)):this.viewDate<this.o.startDate?new Date(this.o.startDate):this.viewDate>this.o.endDate?new Date(this.o.endDate):this.o.defaultViewDate);L?(this.setValue(),this.element.change()):this.dates.length&&String(w)!==String(this.dates)&&L&&(this._trigger("changeDate"),this.element.change());!this.dates.length&&w.length&&(this._trigger("clearDate"),this.element.change());this.fill();return this},
fillDow:function(){if(this.o.showWeekDays){var w=this.o.weekStart,z="<tr>";for(this.o.calendarWeeks&&(z+='<th class="cw">&#160;</th>');w<this.o.weekStart+7;)z+='<th class="dow',-1!==a.inArray(w,this.o.daysOfWeekDisabled)&&(z+=" disabled"),z+='">'+C[this.o.language].daysMin[w++%7]+"</th>";z+="</tr>";this.picker.find(".datepicker-days thead").append(z)}},fillMonths:function(){for(var w=this._utc_to_local(this.viewDate),z="",L,U=0;12>U;U++)L=w&&w.getMonth()===U?" focused":"",z+='<span class="month'+
L+'">'+C[this.o.language].monthsShort[U]+"</span>";this.picker.find(".datepicker-months td").html(z)},setRange:function(w){w&&w.length?this.range=a.map(w,function(z){return z.valueOf()}):delete this.range;this.fill()},getClassNames:function(w){var z=[],L=this.viewDate.getUTCFullYear(),U=this.viewDate.getUTCMonth(),V=b();w.getUTCFullYear()<L||w.getUTCFullYear()===L&&w.getUTCMonth()<U?z.push("old"):(w.getUTCFullYear()>L||w.getUTCFullYear()===L&&w.getUTCMonth()>U)&&z.push("new");this.focusDate&&w.valueOf()===
this.focusDate.valueOf()&&z.push("focused");this.o.todayHighlight&&c(w,V)&&z.push("today");-1!==this.dates.contains(w)&&z.push("active");this.dateWithinRange(w)||z.push("disabled");this.dateIsDisabled(w)&&z.push("disabled","disabled-date");-1!==a.inArray(w.getUTCDay(),this.o.daysOfWeekHighlighted)&&z.push("highlighted");this.range&&(w>this.range[0]&&w<this.range[this.range.length-1]&&z.push("range"),-1!==a.inArray(w.valueOf(),this.range)&&z.push("selected"),w.valueOf()===this.range[0]&&z.push("range-start"),
w.valueOf()===this.range[this.range.length-1]&&z.push("range-end"));return z},_fill_yearsView:function(w,z,L,U,V,Y,T){var J="",P=L/10;w=this.picker.find(w);L*=Math.floor(U/L);U=L+9*P;for(var K=Math.floor(this.viewDate.getFullYear()/P)*P,E=a.map(this.dates,function(N){return Math.floor(N.getUTCFullYear()/P)*P}),x,H,M,G=L-P;G<=U+P;G+=P)x=[z],H=null,G===L-P?x.push("old"):G===U+P&&x.push("new"),-1!==a.inArray(G,E)&&x.push("active"),(G<V||G>Y)&&x.push("disabled"),G===K&&x.push("focused"),T!==a.noop&&(M=
T(new Date(G,0,1)),M===g?M={}:"boolean"===typeof M?M={enabled:M}:"string"===typeof M&&(M={classes:M}),!1===M.enabled&&x.push("disabled"),M.classes&&(x=x.concat(M.classes.split(/\s+/))),M.tooltip&&(H=M.tooltip)),J+='<span class="'+x.join(" ")+'"'+(H?' title="'+H+'"':"")+">"+G+"</span>";w.find(".datepicker-switch").text(L+"-"+U);w.find("td").html(J)},fill:function(){var w=new Date(this.viewDate),z=w.getUTCFullYear(),L=w.getUTCMonth(),U=-Infinity!==this.o.startDate?this.o.startDate.getUTCFullYear():
-Infinity,V=-Infinity!==this.o.startDate?this.o.startDate.getUTCMonth():-Infinity,Y=Infinity!==this.o.endDate?this.o.endDate.getUTCFullYear():Infinity,T=Infinity!==this.o.endDate?this.o.endDate.getUTCMonth():Infinity,J=C[this.o.language].today||C.en.today||"",P=C[this.o.language].clear||C.en.clear||"",K=C[this.o.language].titleFormat||C.en.titleFormat,E=b();E=(!0===this.o.todayBtn||"linked"===this.o.todayBtn)&&E>=this.o.startDate&&E<=this.o.endDate&&!this.weekOfDateIsDisabled(E);if(!isNaN(z)&&!isNaN(L)){this.picker.find(".datepicker-days .datepicker-switch").text(D.formatDate(w,
K,this.o.language));this.picker.find("tfoot .today").text(J).css("display",E?"table-cell":"none");this.picker.find("tfoot .clear").text(P).css("display",!0===this.o.clearBtn?"table-cell":"none");this.picker.find("thead .datepicker-title").text(this.o.title).css("display","string"===typeof this.o.title&&""!==this.o.title?"table-cell":"none");this.updateNavArrows();this.fillMonths();w=d(z,L,0);L=w.getUTCDate();w.setUTCDate(L-(w.getUTCDay()-this.o.weekStart+7)%7);L=new Date(w);100>w.getUTCFullYear()&&
L.setUTCFullYear(w.getUTCFullYear());L.setUTCDate(L.getUTCDate()+42);L=L.valueOf();for(J=[];w.valueOf()<L;){P=w.getUTCDay();if(P===this.o.weekStart&&(J.push("<tr>"),this.o.calendarWeeks)){K=new Date(+w+(this.o.weekStart-P-7)%7*864E5);K=new Date(Number(K)+(11-K.getUTCDay())%7*864E5);var x=new Date(Number(x=d(K.getUTCFullYear(),0,1))+(11-x.getUTCDay())%7*864E5);J.push('<td class="cw">'+((K-x)/864E5/7+1)+"</td>")}E=this.getClassNames(w);E.push("day");var H=w.getUTCDate();if(this.o.beforeShowDay!==a.noop){K=
this.o.beforeShowDay(this._utc_to_local(w));K===g?K={}:"boolean"===typeof K?K={enabled:K}:"string"===typeof K&&(K={classes:K});!1===K.enabled&&E.push("disabled");K.classes&&(E=E.concat(K.classes.split(/\s+/)));if(K.tooltip)var M=K.tooltip;K.content&&(H=K.content)}E=a.isFunction(a.uniqueSort)?a.uniqueSort(E):a.unique(E);J.push('<td class="'+E.join(" ")+'"'+(M?' title="'+M+'"':"")+' data-date="'+w.getTime().toString()+'">'+H+"</td>");M=null;P===this.o.weekEnd&&J.push("</tr>");w.setUTCDate(w.getUTCDate()+
1)}this.picker.find(".datepicker-days tbody").html(J.join(""));M=C[this.o.language].monthsTitle||C.en.monthsTitle||"Months";var G=this.picker.find(".datepicker-months").find(".datepicker-switch").text(2>this.o.maxViewMode?M:z).end().find("tbody span").removeClass("active");a.each(this.dates,function(R,O){O.getUTCFullYear()===z&&G.eq(O.getUTCMonth()).addClass("active")});(z<U||z>Y)&&G.addClass("disabled");z===U&&G.slice(0,V).addClass("disabled");z===Y&&G.slice(T+1).addClass("disabled");if(this.o.beforeShowMonth!==
a.noop){var N=this;a.each(G,function(R,O){R=N.o.beforeShowMonth(new Date(z,R,1));R===g?R={}:"boolean"===typeof R?R={enabled:R}:"string"===typeof R&&(R={classes:R});!1!==R.enabled||a(O).hasClass("disabled")||a(O).addClass("disabled");R.classes&&a(O).addClass(R.classes);R.tooltip&&a(O).prop("title",R.tooltip)})}this._fill_yearsView(".datepicker-years","year",10,z,U,Y,this.o.beforeShowYear);this._fill_yearsView(".datepicker-decades","decade",100,z,U,Y,this.o.beforeShowDecade);this._fill_yearsView(".datepicker-centuries",
"century",1E3,z,U,Y,this.o.beforeShowCentury)}},updateNavArrows:function(){if(this._allow_update){var w=new Date(this.viewDate),z=w.getUTCFullYear();w=w.getUTCMonth();var L=-Infinity!==this.o.startDate?this.o.startDate.getUTCFullYear():-Infinity,U=-Infinity!==this.o.startDate?this.o.startDate.getUTCMonth():-Infinity,V=Infinity!==this.o.endDate?this.o.endDate.getUTCFullYear():Infinity,Y=Infinity!==this.o.endDate?this.o.endDate.getUTCMonth():Infinity,T=1;switch(this.viewMode){case 4:T*=10;case 3:T*=
10;case 2:T*=10;case 1:var J=Math.floor(z/T)*T<=L;var P=Math.floor(z/T)*T+T>V;break;case 0:J=z<=L&&w<=U,P=z>=V&&w>=Y}this.picker.find(".prev").toggleClass("disabled",J);this.picker.find(".next").toggleClass("disabled",P)}},click:function(w){w.preventDefault();w.stopPropagation();var z=a(w.target);z.hasClass("datepicker-switch")&&this.viewMode!==this.o.maxViewMode&&this.setViewMode(this.viewMode+1);z.hasClass("today")&&!z.hasClass("day")&&(this.setViewMode(0),this._setDate(b(),"linked"===this.o.todayBtn?
null:"view"));z.hasClass("clear")&&this.clearDates();!z.hasClass("disabled")&&(z.hasClass("month")||z.hasClass("year")||z.hasClass("decade")||z.hasClass("century"))&&(this.viewDate.setUTCDate(1),1===this.viewMode?(w=z.parent().find("span").index(z),z=this.viewDate.getUTCFullYear(),this.viewDate.setUTCMonth(w)):(w=0,z=Number(z.text()),this.viewDate.setUTCFullYear(z)),this._trigger(D.viewModes[this.viewMode-1].e,this.viewDate),this.viewMode===this.o.minViewMode?this._setDate(d(z,w,1)):(this.setViewMode(this.viewMode-
1),this.fill()));this.picker.is(":visible")&&this._focused_from&&this._focused_from.focus();delete this._focused_from},dayCellClick:function(w){w=a(w.currentTarget).data("date");w=new Date(w);this.o.updateViewDate&&(w.getUTCFullYear()!==this.viewDate.getUTCFullYear()&&this._trigger("changeYear",this.viewDate),w.getUTCMonth()!==this.viewDate.getUTCMonth()&&this._trigger("changeMonth",this.viewDate));this._setDate(w)},navArrowsClick:function(w){w=a(w.currentTarget).hasClass("prev")?-1:1;0!==this.viewMode&&
(w*=12*D.viewModes[this.viewMode].navStep);this.viewDate=this.moveMonth(this.viewDate,w);this._trigger(D.viewModes[this.viewMode].e,this.viewDate);this.fill()},_toggle_multidate:function(w){var z=this.dates.contains(w);w||this.dates.clear();-1!==z?(!0===this.o.multidate||1<this.o.multidate||this.o.toggleActive)&&this.dates.remove(z):(!1===this.o.multidate&&this.dates.clear(),this.dates.push(w));if("number"===typeof this.o.multidate)for(;this.dates.length>this.o.multidate;)this.dates.remove(0)},_setDate:function(w,
z){z&&"date"!==z||this._toggle_multidate(w&&new Date(w));if(!z&&this.o.updateViewDate||"view"===z)this.viewDate=w&&new Date(w);this.fill();this.setValue();z&&"view"===z||this._trigger("changeDate");this.inputField.trigger("change");!this.o.autoclose||z&&"date"!==z||this.hide()},moveDay:function(w,z){var L=new Date(w);L.setUTCDate(w.getUTCDate()+z);return L},moveWeek:function(w,z){return this.moveDay(w,7*z)},moveMonth:function(w,z){if(!w||isNaN(w.getTime()))return this.o.defaultViewDate;if(!z)return w;
var L=new Date(w.valueOf());w=L.getUTCDate();var U=L.getUTCMonth(),V=Math.abs(z);z=0<z?1:-1;if(1===V){V=-1===z?function(){return L.getUTCMonth()===U}:function(){return L.getUTCMonth()!==Y};var Y=U+z;L.setUTCMonth(Y);Y=(Y+12)%12}else{for(var T=0;T<V;T++)L=this.moveMonth(L,z);Y=L.getUTCMonth();L.setUTCDate(w);V=function(){return Y!==L.getUTCMonth()}}for(;V();)L.setUTCDate(--w),L.setUTCMonth(Y);return L},moveYear:function(w,z){return this.moveMonth(w,12*z)},moveAvailableDate:function(w,z,L){do{w=this[L](w,
z);if(!this.dateWithinRange(w))return!1;L="moveDay"}while(this.dateIsDisabled(w));return w},weekOfDateIsDisabled:function(w){return-1!==a.inArray(w.getUTCDay(),this.o.daysOfWeekDisabled)},dateIsDisabled:function(w){return this.weekOfDateIsDisabled(w)||0<a.grep(this.o.datesDisabled,function(z){return c(w,z)}).length},dateWithinRange:function(w){return w>=this.o.startDate&&w<=this.o.endDate},keydown:function(w){if(this.picker.is(":visible")){var z=!1,L,U=this.focusDate||this.viewDate;switch(w.keyCode){case 27:this.focusDate?
(this.focusDate=null,this.viewDate=this.dates.get(-1)||this.viewDate,this.fill()):this.hide();w.preventDefault();w.stopPropagation();break;case 37:case 38:case 39:case 40:if(!this.o.keyboardNavigation||7===this.o.daysOfWeekDisabled.length)break;var V=37===w.keyCode||38===w.keyCode?-1:1;if(0===this.viewMode)w.ctrlKey?(L=this.moveAvailableDate(U,V,"moveYear"))&&this._trigger("changeYear",this.viewDate):w.shiftKey?(L=this.moveAvailableDate(U,V,"moveMonth"))&&this._trigger("changeMonth",this.viewDate):
37===w.keyCode||39===w.keyCode?L=this.moveAvailableDate(U,V,"moveDay"):this.weekOfDateIsDisabled(U)||(L=this.moveAvailableDate(U,V,"moveWeek"));else if(1===this.viewMode){if(38===w.keyCode||40===w.keyCode)V*=4;L=this.moveAvailableDate(U,V,"moveMonth")}else if(2===this.viewMode){if(38===w.keyCode||40===w.keyCode)V*=4;L=this.moveAvailableDate(U,V,"moveYear")}L&&(this.focusDate=this.viewDate=L,this.setValue(),this.fill(),w.preventDefault());break;case 13:if(!this.o.forceParse)break;U=this.focusDate||
this.dates.get(-1)||this.viewDate;this.o.keyboardNavigation&&(this._toggle_multidate(U),z=!0);this.focusDate=null;this.viewDate=this.dates.get(-1)||this.viewDate;this.setValue();this.fill();this.picker.is(":visible")&&(w.preventDefault(),w.stopPropagation(),this.o.autoclose&&this.hide());break;case 9:this.focusDate=null,this.viewDate=this.dates.get(-1)||this.viewDate,this.fill(),this.hide()}z&&(this.dates.length?this._trigger("changeDate"):this._trigger("clearDate"),this.inputField.trigger("change"))}else if(40===
w.keyCode||27===w.keyCode)this.show(),w.stopPropagation()},setViewMode:function(w){this.viewMode=w;this.picker.children("div").hide().filter(".datepicker-"+D.viewModes[this.viewMode].clsName).show();this.updateNavArrows();this._trigger("changeViewMode",new Date(this.viewDate))}};var l=function(w,z){a.data(w,"datepicker",this);this.element=a(w);this.inputs=a.map(z.inputs,function(L){return L.jquery?L[0]:L});delete z.inputs;this.keepEmptyValues=z.keepEmptyValues;delete z.keepEmptyValues;q.call(a(this.inputs),
z).on("changeDate",a.proxy(this.dateUpdated,this));this.pickers=a.map(this.inputs,function(L){return a.data(L,"datepicker")});this.updateDates()};l.prototype={updateDates:function(){this.dates=a.map(this.pickers,function(w){return w.getUTCDate()});this.updateRanges()},updateRanges:function(){var w=a.map(this.dates,function(z){return z.valueOf()});a.each(this.pickers,function(z,L){L.setRange(w)})},clearDates:function(){a.each(this.pickers,function(w,z){z.clearDates()})},dateUpdated:function(w){if(!this.updating){this.updating=
!0;var z=a.data(w.target,"datepicker");if(z!==g){var L=z.getUTCDate(),U=this.keepEmptyValues;w=a.inArray(w.target,this.inputs);var V=w-1,Y=w+1,T=this.inputs.length;if(-1!==w){a.each(this.pickers,function(J,P){P.getUTCDate()||P!==z&&U||P.setUTCDate(L)});if(L<this.dates[V])for(;0<=V&&L<this.dates[V];)this.pickers[V--].setUTCDate(L);else if(L>this.dates[Y])for(;Y<T&&L>this.dates[Y];)this.pickers[Y++].setUTCDate(L);this.updateDates();delete this.updating}}}},destroy:function(){a.map(this.pickers,function(w){w.destroy()});
a(this.inputs).off("changeDate",this.dateUpdated);delete this.element.data().datepicker},remove:e("destroy","Method `remove` is deprecated and will be removed in version 2.0. Use `destroy` instead")};var p=a.fn.datepicker,q=function(w){var z=Array.apply(null,arguments);z.shift();var L;this.each(function(){var U=a(this),V=U.data("datepicker"),Y="object"===typeof w&&w;if(!V){V=f(this,"date");var T=a.extend({},u,V,Y);T=h(T.language);Y=a.extend({},u,T,V,Y);U.hasClass("input-daterange")||Y.inputs?(a.extend(Y,
{inputs:Y.inputs||U.find("input").toArray()}),V=new l(this,Y)):V=new k(this,Y);U.data("datepicker",V)}"string"===typeof w&&"function"===typeof V[w]&&(L=V[w].apply(V,z))});if(L===g||L instanceof k||L instanceof l)return this;if(1<this.length)throw Error("Using only allowed for the collection of a single element ("+w+" function)");return L};a.fn.datepicker=q;var u=a.fn.datepicker.defaults={assumeNearbyYear:!1,autoclose:!1,beforeShowDay:a.noop,beforeShowMonth:a.noop,beforeShowYear:a.noop,beforeShowDecade:a.noop,
beforeShowCentury:a.noop,calendarWeeks:!1,clearBtn:!1,toggleActive:!1,daysOfWeekDisabled:[],daysOfWeekHighlighted:[],datesDisabled:[],endDate:Infinity,forceParse:!0,format:"mm/dd/yyyy",keepEmptyValues:!1,keyboardNavigation:!0,language:"en",minViewMode:0,maxViewMode:4,multidate:!1,multidateSeparator:",",orientation:"auto",rtl:!1,startDate:-Infinity,startView:0,todayBtn:!1,todayHighlight:!1,updateViewDate:!0,weekStart:0,disableTouchKeyboard:!1,enableOnReadonly:!0,showOnFocus:!0,zIndexOffset:10,container:"body",
immediateUpdates:!1,title:"",templates:{leftArrow:"&#x00AB;",rightArrow:"&#x00BB;"},showWeekDays:!0},t=a.fn.datepicker.locale_opts=["format","rtl","weekStart"];a.fn.datepicker.Constructor=k;var C=a.fn.datepicker.dates={en:{days:"Sunday Monday Tuesday Wednesday Thursday Friday Saturday".split(" "),daysShort:"Sun Mon Tue Wed Thu Fri Sat".split(" "),daysMin:"Su Mo Tu We Th Fr Sa".split(" "),months:"January February March April May June July August September October November December".split(" "),monthsShort:"Jan Feb Mar Apr May Jun Jul Aug Sep Oct Nov Dec".split(" "),
today:"Today",clear:"Clear",titleFormat:"MM yyyy"}},D={viewModes:[{names:["days","month"],clsName:"days",e:"changeMonth"},{names:["months","year"],clsName:"months",e:"changeYear",navStep:1},{names:["years","decade"],clsName:"years",e:"changeDecade",navStep:10},{names:["decades","century"],clsName:"decades",e:"changeCentury",navStep:100},{names:["centuries","millennium"],clsName:"centuries",e:"changeMillennium",navStep:1E3}],validParts:/dd?|DD?|mm?|MM?|yy(?:yy)?/g,nonpunctuation:/[^ -\/:-@\u5e74\u6708\u65e5\[-`{-~\t\n\r]+/g,
parseFormat:function(w){if("function"===typeof w.toValue&&"function"===typeof w.toDisplay)return w;var z=w.replace(this.validParts,"\x00").split("\x00");w=w.match(this.validParts);if(!z||!z.length||!w||0===w.length)throw Error("Invalid date format.");return{separators:z,parts:w}},parseDate:function(w,z,L,U){function V(){var M=this.slice(0,P[J].length),G=P[J].slice(0,M.length);return M.toLowerCase()===G.toLowerCase()}if(!w)return g;if(w instanceof Date)return w;"string"===typeof z&&(z=D.parseFormat(z));
if(z.toValue)return z.toValue(w,z,L);var Y={d:"moveDay",m:"moveMonth",w:"moveWeek",y:"moveYear"},T={yesterday:"-1d",today:"+0d",tomorrow:"+1d"},J;w in T&&(w=T[w]);if(/^[\-+]\d+[dmwy]([\s,]+[\-+]\d+[dmwy])*$/i.test(w)){var P=w.match(/([\-+]\d+)([dmwy])/gi);w=new Date;for(J=0;J<P.length;J++)z=P[J].match(/([\-+]\d+)([dmwy])/i),L=Number(z[1]),T=Y[z[2].toLowerCase()],w=k.prototype[T](w,L);return k.prototype._zero_utc_time(w)}P=w&&w.match(this.nonpunctuation)||[];Y={};var K="yyyy yy M MM m mm d dd".split(" ");
T={yyyy:function(M,G){var N=M.setUTCFullYear;if(U){var R=U;!0===R&&(R=10);100>G&&(G+=2E3,G>(new Date).getFullYear()+R&&(G-=100))}return N.call(M,G)},m:function(M,G){if(isNaN(M))return M;for(--G;0>G;)G+=12;G%=12;for(M.setUTCMonth(G);M.getUTCMonth()!==G;)M.setUTCDate(M.getUTCDate()-1);return M},d:function(M,G){return M.setUTCDate(G)}};T.yy=T.yyyy;T.M=T.MM=T.mm=T.m;T.dd=T.d;w=b();var E=z.parts.slice();P.length!==E.length&&(E=a(E).filter(function(M,G){return-1!==a.inArray(G,K)}).toArray());if(P.length===
E.length){var x;J=0;for(x=E.length;J<x;J++){var H=parseInt(P[J],10);z=E[J];if(isNaN(H))switch(z){case "MM":H=a(C[L].months).filter(V);H=a.inArray(H[0],C[L].months)+1;break;case "M":H=a(C[L].monthsShort).filter(V),H=a.inArray(H[0],C[L].monthsShort)+1}Y[z]=H}for(J=0;J<K.length;J++)z=K[J],z in Y&&!isNaN(Y[z])&&(L=new Date(w),T[z](L,Y[z]),isNaN(L)||(w=L))}return w},formatDate:function(w,z,L){if(!w)return"";"string"===typeof z&&(z=D.parseFormat(z));if(z.toDisplay)return z.toDisplay(w,z,L);L={d:w.getUTCDate(),
D:C[L].daysShort[w.getUTCDay()],DD:C[L].days[w.getUTCDay()],m:w.getUTCMonth()+1,M:C[L].monthsShort[w.getUTCMonth()],MM:C[L].months[w.getUTCMonth()],yy:w.getUTCFullYear().toString().substring(2),yyyy:w.getUTCFullYear()};L.dd=(10>L.d?"0":"")+L.d;L.mm=(10>L.m?"0":"")+L.m;w=[];for(var U=a.extend([],z.separators),V=0,Y=z.parts.length;V<=Y;V++)U.length&&w.push(U.shift()),w.push(L[z.parts[V]]);return w.join("")},headTemplate:'<thead><tr><th colspan="7" class="datepicker-title"></th></tr><tr><th class="prev">'+
u.templates.leftArrow+'</th><th colspan="5" class="datepicker-switch"></th><th class="next">'+u.templates.rightArrow+"</th></tr></thead>",contTemplate:'<tbody><tr><td colspan="7"></td></tr></tbody>',footTemplate:'<tfoot><tr><th colspan="7" class="today"></th></tr><tr><th colspan="7" class="clear"></th></tr></tfoot>'};D.template='<div class="datepicker"><div class="datepicker-days"><table class="table-condensed">'+D.headTemplate+"<tbody></tbody>"+D.footTemplate+'</table></div><div class="datepicker-months"><table class="table-condensed">'+
D.headTemplate+D.contTemplate+D.footTemplate+'</table></div><div class="datepicker-years"><table class="table-condensed">'+D.headTemplate+D.contTemplate+D.footTemplate+'</table></div><div class="datepicker-decades"><table class="table-condensed">'+D.headTemplate+D.contTemplate+D.footTemplate+'</table></div><div class="datepicker-centuries"><table class="table-condensed">'+D.headTemplate+D.contTemplate+D.footTemplate+"</table></div></div>";a.fn.datepicker.DPGlobal=D;a.fn.datepicker.noConflict=function(){a.fn.datepicker=
p;return this};a.fn.datepicker.version="1.9.0";a.fn.datepicker.deprecated=function(w){var z=window.console;z&&z.warn&&z.warn("DEPRECATED: "+w)};a(document).on("focus.datepicker.data-api click.datepicker.data-api",'[data-provide="datepicker"]',function(w){var z=a(this);z.data("datepicker")||(w.preventDefault(),q.call(z,"show"))});a(function(){q.call(a('[data-provide="datepicker-inline"]'))})});(function(a,g,d){function b(k,l){this.callbacks={hide:[],show:[]};this.checkInterval=null;this.content;this.$el=a(k);this.$elProxy;this.elProxyPosition;this.enabled=!0;this.options=a.extend({},f,l);this.mouseIsOverProxy=!1;this.namespace="tooltipster-"+Math.round(1E5*Math.random());this.status="hidden";this.timerShow=this.timerHide=null;this.$tooltip;this.options.iconTheme=this.options.iconTheme.replace(".","");this.options.theme=this.options.theme.replace(".","");this.init()}function c(k,l){var p=
!0;a.each(k,function(q,u){if("undefined"===typeof l[q]||k[q]!==l[q])return p=!1});return p}function e(){var k=(d.body||d.documentElement).style,l="transition";if("string"==typeof k[l])return!0;v=["Moz","Webkit","Khtml","O","ms"];l=l.charAt(0).toUpperCase()+l.substr(1);for(var p=0;p<v.length;p++)if("string"==typeof k[v[p]+l])return!0;return!1}var f={animation:"fade",arrow:!0,arrowColor:"",autoClose:!0,content:null,contentAsHTML:!1,contentCloning:!0,delay:200,fixedWidth:0,maxWidth:0,functionInit:function(k,
l){},functionBefore:function(k,l){l()},functionReady:function(k,l){},functionAfter:function(k){},icon:"(?)",iconCloning:!0,iconDesktop:!1,iconTouch:!1,iconTheme:"tooltipster-icon",interactive:!1,interactiveTolerance:350,offsetX:0,offsetY:0,onlyOne:!1,position:"top",positionTracker:!1,speed:350,timer:0,theme:"tooltipster-default",touchDevices:!0,trigger:"hover",updateAnimation:!0};b.prototype={init:function(){var k=this;if(d.querySelector){if(null!==k.options.content)k.setContent(k.options.content);
else{var l=k.$el.attr("title");"undefined"===typeof l&&(l=null);k.setContent(l)}l=k.options.functionInit.call(k.$el,k.$el,k.content);"undefined"!==typeof l&&k.setContent(l);k.$el.removeAttr("title").addClass("tooltipstered");!h&&k.options.iconDesktop||h&&k.options.iconTouch?("string"===typeof k.options.icon?(k.$elProxy=a('<span class="'+k.options.iconTheme+'"></span>'),k.$elProxy.text(k.options.icon)):k.$elProxy=k.options.iconCloning?k.options.icon.clone(!0):k.options.icon,k.$elProxy.insertAfter(k.$el)):
k.$elProxy=k.$el;if("hover"==k.options.trigger){if(k.$elProxy.on("mouseenter."+k.namespace,function(){if(m||!h||k.options.touchDevices)k.mouseIsOverProxy=!0,k.showTooltip()}).on("mouseleave."+k.namespace,function(){if(m||!h||k.options.touchDevices)k.mouseIsOverProxy=!1}),h&&k.options.touchDevices)k.$elProxy.on("touchstart."+k.namespace,function(){k.showTooltipNow()})}else if("click"==k.options.trigger)k.$elProxy.on("click."+k.namespace,function(){(m||!h||k.options.touchDevices)&&k.showTooltip()})}},
showTooltip:function(){var k=this;"shown"!=k.status&&"appearing"!=k.status&&(k.options.delay?k.timerShow=setTimeout(function(){("click"==k.options.trigger||"hover"==k.options.trigger&&k.mouseIsOverProxy)&&k.showTooltipNow()},k.options.delay):k.showTooltipNow())},showTooltipNow:function(k){var l=this;l.options.functionBefore.call(l.$el,l.$el,function(){if(l.enabled&&null!==l.content){k&&l.callbacks.show.push(k);l.callbacks.hide=[];clearTimeout(l.timerShow);l.timerShow=null;clearTimeout(l.timerHide);
l.timerHide=null;l.options.onlyOne&&a(".tooltipstered").not(l.$el).each(function(C,D){C=a(D);D=C.tooltipster("status");var w=C.tooltipster("option","autoClose");"hidden"!==D&&"disappearing"!==D&&w&&C.tooltipster("hide")});var p=function(){l.status="shown";a.each(l.callbacks.show,function(C,D){D.call(l.$el)});l.callbacks.show=[]};if("hidden"!==l.status){var q=0;"disappearing"===l.status?(l.status="appearing",e()?(l.$tooltip.clearQueue().removeClass("tooltipster-dying").addClass("tooltipster-"+l.options.animation+
"-show"),0<l.options.speed&&l.$tooltip.delay(l.options.speed),l.$tooltip.queue(p)):l.$tooltip.stop().fadeIn(p)):"shown"===l.status&&p()}else{l.status="appearing";q=l.options.speed;var u="tooltipster-"+l.options.animation;l.$tooltip=a('<div class="tooltipster-base '+l.options.theme+'" style="'+(0<l.options.fixedWidth?"width:"+Math.round(l.options.fixedWidth)+"px;":"")+" "+(0<l.options.maxWidth?"max-width:"+Math.round(l.options.maxWidth)+"px;":"")+" "+(l.options.interactive?"pointer-events: auto;":
"")+" -webkit-transition-duration: "+(l.options.speed+"ms; -webkit-animation-duration: "+l.options.speed+"ms; -moz-transition-duration: "+l.options.speed+"ms; -moz-animation-duration: "+l.options.speed+"ms; -o-transition-duration: "+l.options.speed+"ms; -o-animation-duration: "+l.options.speed+"ms; -ms-transition-duration: "+l.options.speed+"ms; -ms-animation-duration: "+l.options.speed+"ms; transition-duration: "+l.options.speed+"ms; animation-duration: "+l.options.speed+'ms;"><div class="tooltipster-content"></div></div>'));
e()&&l.$tooltip.addClass(u);l.insertContent();l.$tooltip.appendTo("body");l.positionTooltip();l.options.functionReady.call(l.$el,l.$el,l.$tooltip);e()?(l.$tooltip.addClass(u+"-show"),0<l.options.speed&&l.$tooltip.delay(l.options.speed),l.$tooltip.queue(p)):l.$tooltip.css("display","none").fadeIn(l.options.speed,p);l.setCheckInterval();a(g).on("scroll."+l.namespace+" resize."+l.namespace,function(){l.positionTooltip()});if(l.options.autoClose)if(a("body").off("."+l.namespace),"hover"==l.options.trigger)if(h&&
setTimeout(function(){a("body").on("touchstart."+l.namespace,function(){l.hideTooltip()})},0),l.options.interactive){if(h)l.$tooltip.on("touchstart."+l.namespace,function(C){C.stopPropagation()});var t=null;l.$elProxy.add(l.$tooltip).on("mouseleave."+l.namespace+"-autoClose",function(){clearTimeout(t);t=setTimeout(function(){l.hideTooltip()},l.options.interactiveTolerance)}).on("mouseenter."+l.namespace+"-autoClose",function(){clearTimeout(t)})}else l.$elProxy.on("mouseleave."+l.namespace+"-autoClose",
function(){l.hideTooltip()});else if("click"==l.options.trigger&&(setTimeout(function(){a("body").on("click."+l.namespace+" touchstart."+l.namespace,function(){l.hideTooltip()})},0),l.options.interactive))l.$tooltip.on("click."+l.namespace+" touchstart."+l.namespace,function(C){C.stopPropagation()})}0<l.options.timer&&(l.timerHide=setTimeout(function(){l.timerHide=null;l.hideTooltip()},l.options.timer+q))}})},setCheckInterval:function(){var k=this;k.checkInterval=setInterval(function(){if(0===a("body").find(k.$el).length||
0===a("body").find(k.$elProxy).length||"hidden"==k.status||0===a("body").find(k.$tooltip).length)"shown"!=k.status&&"appearing"!=k.status||k.hideTooltip(),k.cancelCheckInterval();else if(k.options.positionTracker){var l=k.positionInfo(k.$elProxy),p=!1;c(l.dimension,k.elProxyPosition.dimension)&&("fixed"===k.$elProxy.css("position")?c(l.position,k.elProxyPosition.position)&&(p=!0):c(l.offset,k.elProxyPosition.offset)&&(p=!0));p||k.positionTooltip()}},200)},cancelCheckInterval:function(){clearInterval(this.checkInterval);
this.checkInterval=null},hideTooltip:function(k){var l=this;k&&l.callbacks.hide.push(k);l.callbacks.show=[];clearTimeout(l.timerShow);l.timerShow=null;clearTimeout(l.timerHide);l.timerHide=null;var p=function(){a.each(l.callbacks.hide,function(q,u){u.call(l.$el)});l.callbacks.hide=[]};"shown"==l.status||"appearing"==l.status?(l.status="disappearing",k=function(){l.status="hidden";"object"==typeof l.content&&null!==l.content&&l.content.detach();l.$tooltip.remove();l.$tooltip=null;a(g).off("."+l.namespace);
a("body").off("."+l.namespace);l.$elProxy.off("."+l.namespace+"-autoClose");l.options.functionAfter.call(l.$el,l.$el);p()},e()?(l.$tooltip.clearQueue().removeClass("tooltipster-"+l.options.animation+"-show").addClass("tooltipster-dying"),0<l.options.speed&&l.$tooltip.delay(l.options.speed),l.$tooltip.queue(k)):l.$tooltip.stop().fadeOut(l.options.speed,k)):"hidden"==l.status&&p()},setContent:function(k){"object"===typeof k&&null!==k&&this.options.contentCloning&&(k=k.clone(!0));this.content=k},insertContent:function(){var k=
this.$tooltip.find(".tooltipster-content");"string"!==typeof this.content||this.options.contentAsHTML?k.empty().append(this.content):k.text(this.content)},updateTooltip:function(k){var l=this;l.setContent(k);null!==l.content?"hidden"!==l.status&&(l.insertContent(),l.positionTooltip(),l.options.updateAnimation&&(e()?(l.$tooltip.css({width:"","-webkit-transition":"all "+l.options.speed+"ms, width 0ms, height 0ms, left 0ms, top 0ms","-moz-transition":"all "+l.options.speed+"ms, width 0ms, height 0ms, left 0ms, top 0ms",
"-o-transition":"all "+l.options.speed+"ms, width 0ms, height 0ms, left 0ms, top 0ms","-ms-transition":"all "+l.options.speed+"ms, width 0ms, height 0ms, left 0ms, top 0ms",transition:"all "+l.options.speed+"ms, width 0ms, height 0ms, left 0ms, top 0ms"}).addClass("tooltipster-content-changing"),setTimeout(function(){"hidden"!=l.status&&(l.$tooltip.removeClass("tooltipster-content-changing"),setTimeout(function(){"hidden"!==l.status&&l.$tooltip.css({"-webkit-transition":l.options.speed+"ms","-moz-transition":l.options.speed+
"ms","-o-transition":l.options.speed+"ms","-ms-transition":l.options.speed+"ms",transition:l.options.speed+"ms"})},l.options.speed))},l.options.speed)):l.$tooltip.fadeTo(l.options.speed,.5,function(){"hidden"!=l.status&&l.$tooltip.fadeTo(l.options.speed,1)}))):l.hideTooltip()},positionInfo:function(k){return{dimension:{height:k.outerHeight(!1),width:k.outerWidth(!1)},offset:k.offset(),position:{left:parseInt(k.css("left")),top:parseInt(k.css("top"))}}},positionTooltip:function(){if(0!==a("body").find(this.$tooltip).length){this.$tooltip.css("width",
"");this.elProxyPosition=this.positionInfo(this.$elProxy);var k=null,l=a(g).width(),p=this.elProxyPosition,q=this.$tooltip.outerWidth(!1),u=this.$tooltip.innerWidth()+1,t=this.$tooltip.outerHeight(!1);if(this.$elProxy.is("area")){var C=this.$elProxy.attr("shape"),D=this.$elProxy.parent().attr("name"),w=a('img[usemap="#'+D+'"]');D=w.offset().left;var z=w.offset().top,L=void 0!==this.$elProxy.attr("coords")?this.$elProxy.attr("coords").split(","):void 0;if("circle"==C)C=parseInt(L[0]),w=parseInt(L[1]),
L=parseInt(L[2]),p.dimension.height=2*L,p.dimension.width=2*L,p.offset.top=z+w-L,p.offset.left=D+C-L;else if("rect"==C){C=parseInt(L[0]);w=parseInt(L[1]);var U=parseInt(L[2]);L=parseInt(L[3]);p.dimension.height=L-w;p.dimension.width=U-C;p.offset.top=z+w;p.offset.left=D+C}else if("poly"==C){for(var V=U=w=C=0,Y="even",T=0;T<L.length;T++){var J=parseInt(L[T]);"even"==Y?(J>U&&(U=J,0===T&&(C=U)),J<C&&(C=J),Y="odd"):(J>V&&(V=J,1==T&&(w=V)),J<w&&(w=J),Y="even")}p.dimension.height=V-w;p.dimension.width=U-
C;p.offset.top=z+w;p.offset.left=D+C}else p.dimension.height=w.outerHeight(!1),p.dimension.width=w.outerWidth(!1),p.offset.top=z,p.offset.left=D}0===this.options.fixedWidth&&this.$tooltip.css({width:Math.round(u)+"px","padding-left":"0px","padding-right":"0px"});var P=0,K=D=0,E=parseInt(this.options.offsetY);u=parseInt(this.options.offsetX);var x=this.options.position;function H(){var G=a(g).scrollLeft();0>P-G&&(k=P-G,P=G);P+q-G>l&&(k=P-(l+G-q),P=l+G-q)}function M(G,N){0>p.offset.top-a(g).scrollTop()-
t-E-12&&-1<N.indexOf("top")&&(x=G);p.offset.top+p.dimension.height+t+12+E>a(g).scrollTop()+a(g).height()&&-1<N.indexOf("bottom")&&(x=G,K=p.offset.top-t-E-12)}"top"==x&&(D=p.offset.left+q-(p.offset.left+p.dimension.width),P=p.offset.left+u-D/2,K=p.offset.top-t-E-12,H(),M("bottom","top"));"top-left"==x&&(P=p.offset.left+u,K=p.offset.top-t-E-12,H(),M("bottom-left","top-left"));"top-right"==x&&(P=p.offset.left+p.dimension.width+u-q,K=p.offset.top-t-E-12,H(),M("bottom-right","top-right"));"bottom"==x&&
(D=p.offset.left+q-(p.offset.left+p.dimension.width),P=p.offset.left-D/2+u,K=p.offset.top+p.dimension.height+E+12,H(),M("top","bottom"));"bottom-left"==x&&(P=p.offset.left+u,K=p.offset.top+p.dimension.height+E+12,H(),M("top-left","bottom-left"));"bottom-right"==x&&(P=p.offset.left+p.dimension.width+u-q,K=p.offset.top+p.dimension.height+E+12,H(),M("top-right","bottom-right"));"left"==x&&(P=p.offset.left-u-q-12,D=p.offset.left+u+p.dimension.width+12,z=p.offset.top+t-(p.offset.top+p.dimension.height),
K=p.offset.top-z/2-E,0>P&&D+q>l?(D=2*parseFloat(this.$tooltip.css("border-width")),z=q+P-D,this.$tooltip.css("width",z+"px"),t=this.$tooltip.outerHeight(!1),P=p.offset.left-u-z-12-D,z=p.offset.top+t-(p.offset.top+p.dimension.height),K=p.offset.top-z/2-E):0>P&&(P=p.offset.left+u+p.dimension.width+12,k="left"));"right"==x&&(P=p.offset.left+u+p.dimension.width+12,D=p.offset.left-u-q-12,z=p.offset.top+t-(p.offset.top+p.dimension.height),K=p.offset.top-z/2-E,P+q>l&&0>D?(D=2*parseFloat(this.$tooltip.css("border-width")),
this.$tooltip.css("width",l-P-D+"px"),t=this.$tooltip.outerHeight(!1),z=p.offset.top+t-(p.offset.top+p.dimension.height),K=p.offset.top-z/2-E):P+q>l&&(P=p.offset.left-u-q-12,k="right"));this.options.arrow&&(u="tooltipster-arrow-"+x,D=1>this.options.arrowColor.length?this.$tooltip.css("background-color"):this.options.arrowColor,k?"left"==k?(u="tooltipster-arrow-right",k=""):"right"==k?(u="tooltipster-arrow-left",k=""):k="left:"+Math.round(k)+"px;":k="","top"==x||"top-left"==x||"top-right"==x?(z=parseFloat(this.$tooltip.css("border-bottom-width")),
L=this.$tooltip.css("border-bottom-color")):"bottom"==x||"bottom-left"==x||"bottom-right"==x?(z=parseFloat(this.$tooltip.css("border-top-width")),L=this.$tooltip.css("border-top-color")):"left"==x?(z=parseFloat(this.$tooltip.css("border-right-width")),L=this.$tooltip.css("border-right-color")):"right"==x?(z=parseFloat(this.$tooltip.css("border-left-width")),L=this.$tooltip.css("border-left-color")):(z=parseFloat(this.$tooltip.css("border-bottom-width")),L=this.$tooltip.css("border-bottom-color")),
1<z&&z++,C="",0!==z&&(C="",L="border-color: "+L+";",-1!==u.indexOf("bottom")?C="margin-top: -"+Math.round(z)+"px;":-1!==u.indexOf("top")?C="margin-bottom: -"+Math.round(z)+"px;":-1!==u.indexOf("left")?C="margin-right: -"+Math.round(z)+"px;":-1!==u.indexOf("right")&&(C="margin-left: -"+Math.round(z)+"px;"),C='<span class="tooltipster-arrow-border" style="'+C+" "+L+';"></span>'),this.$tooltip.find(".tooltipster-arrow").remove(),this.$tooltip.append('<div class="'+u+' tooltipster-arrow" style="'+k+'">'+
C+'<span style="border-color:'+D+';"></span></div>'));this.$tooltip.css({top:Math.round(K)+"px",left:Math.round(P)+"px"})}}};a.fn.tooltipster=function(){var k=arguments;if(0===this.length){if("string"===typeof k[0]){var l=!0;switch(k[0]){case "setDefaults":a.extend(f,k[1]);break;default:l=!1}return l?!0:this}return this}if("string"===typeof k[0]){var p="#*$~&";this.each(function(){var q=a(this).data("tooltipster");if(q)switch(k[0]){case "content":case "update":if("undefined"===typeof k[1])return p=
q.content,!1;q.updateTooltip(k[1]);break;case "destroy":q.hideTooltip();q.$el[0]!==q.$elProxy[0]&&q.$elProxy.remove();var u="string"===typeof q.content?q.content:a("<div></div>").append(q.content).html();q.$el.removeClass("tooltipstered").attr("title",u).removeData("tooltipster").off("."+q.namespace);break;case "disable":q.hideTooltip();q.enabled=!1;break;case "elementIcon":return p=q.$el[0]!==q.$elProxy[0]?q.$elProxy[0]:void 0,!1;case "elementTooltip":return p=q.$tooltip?q.$tooltip[0]:void 0,!1;
case "enable":q.enabled=!0;break;case "hide":q.hideTooltip(k[1]);break;case "option":return p=q.options[k[1]],!1;case "reposition":q.positionTooltip();break;case "show":q.showTooltipNow(k[1]);break;case "status":return p=q.status,!1;default:throw Error('Unknown method .tooltipster("'+k[0]+'")');}else throw Error("You called Tooltipster's \""+k[0]+'" method on an uninitialized element');});return"#*$~&"!==p?p:this}return this.each(function(){a(this).data("tooltipster")||a(this).data("tooltipster",
new b(this,k[0]))})};var h=!!("ontouchstart"in g),m=!1;a("body").one("mousemove",function(){m=!0})})(jQuery,window,document);/*
 typeahead.js 0.10.2
 https://github.com/twitter/typeahead.js
 Copyright 2013-2014 Twitter, Inc. and other contributors; Licensed MIT
*/
!function(a){var g={isMsie:function(){return/(msie|trident)/i.test(navigator.userAgent)?navigator.userAgent.match(/(msie |rv:)(\d+(.\d+)?)/i)[2]:!1},isBlankString:function(J){return!J||/^\s*$/.test(J)},escapeRegExChars:function(J){return J.replace(/[\-\[\]\/\{\}\(\)\*\+\?\.\\\^\$\|]/g,"\\$&")},isString:function(J){return"string"==typeof J},isNumber:function(J){return"number"==typeof J},isArray:a.isArray,isFunction:a.isFunction,isObject:a.isPlainObject,isUndefined:function(J){return"undefined"==typeof J},
bind:a.proxy,each:function(J,P){a.each(J,function(K,E){return P(E,K)})},map:a.map,filter:a.grep,every:function(J,P){var K=!0;return J?(a.each(J,function(E,x){return(K=P.call(null,x,E,J))?void 0:!1}),!!K):K},some:function(J,P){var K=!1;return J?(a.each(J,function(E,x){return(K=P.call(null,x,E,J))?!1:void 0}),!!K):K},mixin:a.extend,getUniqueId:function(){var J=0;return function(){return J++}}(),templatify:function(J){function P(){return String(J)}return a.isFunction(J)?J:P},defer:function(J){setTimeout(J,
0)},debounce:function(J,P,K){var E,x;return function(){var H,M,G=this,N=arguments;return H=function(){E=null;K||(x=J.apply(G,N))},M=K&&!E,clearTimeout(E),E=setTimeout(H,P),M&&(x=J.apply(G,N)),x}},throttle:function(J,P){var K,E,x,H,M,G;return M=0,G=function(){M=new Date;x=null;H=J.apply(K,E)},function(){var N=new Date,R=P-(N-M);return K=this,E=arguments,0>=R?(clearTimeout(x),x=null,M=N,H=J.apply(K,E)):x||=setTimeout(G,R),H}},noop:function(){}},d=function(){function J(E){return E.split(/\s+/)}function P(E){return E.split(/\W+/)}
function K(E){return function(x){return function(H){return E(H[x])}}}return{nonword:P,whitespace:J,obj:{nonword:K(P),whitespace:K(J)}}}(),b=function(){function J(E){this.maxSize=E||100;this.size=0;this.hash={};this.list=new P}function P(){this.head=this.tail=null}function K(E,x){this.key=E;this.val=x;this.prev=this.next=null}return g.mixin(J.prototype,{set:function(E,x){var H,M=this.list.tail;this.size>=this.maxSize&&(this.list.remove(M),delete this.hash[M.key]);(H=this.hash[E])?(H.val=x,this.list.moveToFront(H)):
(H=new K(E,x),this.list.add(H),this.hash[E]=H,this.size++)},get:function(E){return(E=this.hash[E])?(this.list.moveToFront(E),E.val):void 0}}),g.mixin(P.prototype,{add:function(E){this.head&&(E.next=this.head,this.head.prev=E);this.head=E;this.tail=this.tail||E},remove:function(E){E.prev?E.prev.next=E.next:this.head=E.next;E.next?E.next.prev=E.prev:this.tail=E.prev},moveToFront:function(E){this.remove(E);this.add(E)}}),J}(),c=function(){function J(x){this.prefix=["__",x,"__"].join("");this.ttlKey=
"__ttl__";this.keyMatcher=new RegExp("^"+this.prefix)}function P(x){return JSON.stringify(g.isUndefined(x)?null:x)}var K;try{var E=window.localStorage;E.setItem("~~~","!");E.removeItem("~~~")}catch(x){E=null}return K=E&&window.JSON?{_prefix:function(x){return this.prefix+x},_ttlKey:function(x){return this._prefix(x)+this.ttlKey},get:function(x){return this.isExpired(x)&&this.remove(x),JSON.parse(E.getItem(this._prefix(x)))},set:function(x,H,M){return g.isNumber(M)?E.setItem(this._ttlKey(x),P((new Date).getTime()+
M)):E.removeItem(this._ttlKey(x)),E.setItem(this._prefix(x),P(H))},remove:function(x){return E.removeItem(this._ttlKey(x)),E.removeItem(this._prefix(x)),this},clear:function(){var x,H,M=[],G=E.length;for(x=0;G>x;x++)(H=E.key(x)).match(this.keyMatcher)&&M.push(H.replace(this.keyMatcher,""));for(x=M.length;x--;)this.remove(M[x]);return this},isExpired:function(x){x=JSON.parse(E.getItem(this._ttlKey(x)));return g.isNumber(x)&&(new Date).getTime()>x?!0:!1}}:{get:g.noop,set:g.noop,remove:g.noop,clear:g.noop,
isExpired:g.noop},g.mixin(J.prototype,K),J}(),e=function(){function J(M){M=M||{};this._send=M.transport?P(M.transport):a.ajax;this._get=M.rateLimiter?M.rateLimiter(this._get):this._get}function P(M){return function(G,N){var R=a.Deferred();return M(G,N,function(O){g.defer(function(){R.resolve(O)})},function(O){g.defer(function(){R.reject(O)})}),R}}var K=0,E={},x=6,H=new b(10);return J.setMaxPendingRequests=function(M){x=M},J.resetCache=function(){H=new b(10)},g.mixin(J.prototype,{_get:function(M,G,
N){function R(qa){N&&N(null,qa);H.set(M,qa)}function O(){N&&N(!0)}function da(){K--;delete E[M];la.onDeckRequestArgs&&(la._get.apply(la,la.onDeckRequestArgs),la.onDeckRequestArgs=null)}var X,la=this;(X=E[M])?X.done(R).fail(O):x>K?(K++,E[M]=this._send(M,G).done(R).fail(O).always(da)):this.onDeckRequestArgs=[].slice.call(arguments,0)},get:function(M,G,N){var R;return g.isFunction(G)&&(N=G,G={}),(R=H.get(M))?g.defer(function(){N&&N(null,R)}):this._get(M,G,N),!!R}}),J}(),f=function(){function J(x){x=
x||{};x.datumTokenizer&&x.queryTokenizer||a.error("datumTokenizer and queryTokenizer are both required");this.datumTokenizer=x.datumTokenizer;this.queryTokenizer=x.queryTokenizer;this.reset()}function P(x){return x=g.filter(x,function(H){return!!H}),x=g.map(x,function(H){return H.toLowerCase()})}function K(x){for(var H={},M=[],G=0;G<x.length;G++)H[x[G]]||(H[x[G]]=!0,M.push(x[G]));return M}function E(x,H){function M(O,da){return O-da}var G=0,N=0,R=[];x=x.sort(M);for(H=H.sort(M);G<x.length&&N<H.length;)x[G]<
H[N]?G++:x[G]>H[N]?N++:(R.push(x[G]),G++,N++);return R}return g.mixin(J.prototype,{bootstrap:function(x){this.datums=x.datums;this.trie=x.trie},add:function(x){var H=this;x=g.isArray(x)?x:[x];g.each(x,function(M){var G=H.datums.push(M)-1;M=P(H.datumTokenizer(M));g.each(M,function(N){var R;var O=H.trie;for(N=N.split("");R=N.shift();)O=O.children[R]||(O.children[R]={ids:[],children:{}}),O.ids.push(G)})})},get:function(x){var H,M,G=this;return H=P(this.queryTokenizer(x)),g.each(H,function(N){var R,O;
if(M&&0===M.length)return!1;var da=G.trie;for(N=N.split("");da&&(R=N.shift());)da=da.children[R];return da&&0===N.length?(O=da.ids.slice(0),void(M=M?E(M,O):O)):(M=[],!1)}),M?g.map(K(M),function(N){return G.datums[N]}):[]},reset:function(){this.datums=[];this.trie={ids:[],children:{}}},serialize:function(){return{datums:this.datums,trie:this.trie}}}),J}(),h=function(){return{local:function(J){return J.local||null},prefetch:function(J){var P,K;return K={url:null,thumbprint:"",ttl:864E5,filter:null,
ajax:{}},(P=J.prefetch||null)&&(P=g.isString(P)?{url:P}:P,P=g.mixin(K,P),P.thumbprint="0.10.2"+P.thumbprint,P.ajax.type=P.ajax.type||"GET",P.ajax.dataType=P.ajax.dataType||"json",!P.url&&a.error("prefetch requires url to be set")),P},remote:function(J){function P(H){return function(M){return g.debounce(M,H)}}function K(H){return function(M){return g.throttle(M,H)}}var E,x;return x={url:null,wildcard:"%QUERY",replace:null,rateLimitBy:"debounce",rateLimitWait:300,send:null,filter:null,ajax:{}},(E=J.remote||
null)&&(E=g.isString(E)?{url:E}:E,E=g.mixin(x,E),E.rateLimiter=/^throttle$/i.test(E.rateLimitBy)?K(E.rateLimitWait):P(E.rateLimitWait),E.ajax.type=E.ajax.type||"GET",E.ajax.dataType=E.ajax.dataType||"json",delete E.rateLimitBy,delete E.rateLimitWait,!E.url&&a.error("remote requires url to be set")),E}}}();!function(J){function P(M){M&&(M.local||M.prefetch||M.remote)||a.error("one of local, prefetch, or remote is required");this.limit=M.limit||5;this.sorter=K(M.sorter);this.dupDetector=M.dupDetector||
E;this.local=h.local(M);this.prefetch=h.prefetch(M);this.remote=h.remote(M);this.cacheKey=this.prefetch?this.prefetch.cacheKey||this.prefetch.url:null;this.index=new f({datumTokenizer:M.datumTokenizer,queryTokenizer:M.queryTokenizer});this.storage=this.cacheKey?new c(this.cacheKey):null}function K(M){function G(R){return R.sort(M)}function N(R){return R}return g.isFunction(M)?G:N}function E(){return!1}var x,H;return x=J.Bloodhound,H={data:"data",protocol:"protocol",thumbprint:"thumbprint"},J.Bloodhound=
P,P.noConflict=function(){return J.Bloodhound=x,P},P.tokenizers=d,g.mixin(P.prototype,{_loadPrefetch:function(M){function G(da){O.clear();O.add(M.filter?M.filter(da):da);O._saveToStorage(O.index.serialize(),M.thumbprint,M.ttl)}var N,R,O=this;return(N=this._readFromStorage(M.thumbprint))?(this.index.bootstrap(N),R=a.Deferred().resolve()):R=a.ajax(M.url,M.ajax).done(G),R},_getFromRemote:function(M,G){var N,R,O=this;return M=M||"",R=encodeURIComponent(M),N=this.remote.replace?this.remote.replace(this.remote.url,
M):this.remote.url.replace(this.remote.wildcard,R),this.transport.get(N,this.remote.ajax,function(da,X){G(da?[]:O.remote.filter?O.remote.filter(X):X)})},_saveToStorage:function(M,G,N){this.storage&&(this.storage.set(H.data,M,N),this.storage.set(H.protocol,location.protocol,N),this.storage.set(H.thumbprint,G,N))},_readFromStorage:function(M){var G,N,R,O;return this.storage&&(N=this.storage.get(H.data),R=this.storage.get(H.protocol),O=this.storage.get(H.thumbprint)),G=O!==M||R!==location.protocol,N&&
!G?N:null},_initialize:function(){function M(){N.add(g.isFunction(R)?R():R)}var G,N=this,R=this.local;return G=this.prefetch?this._loadPrefetch(this.prefetch):a.Deferred().resolve(),R&&G.done(M),this.transport=this.remote?new e(this.remote):null,this.initPromise=G.promise()},initialize:function(M){return!this.initPromise||M?this._initialize():this.initPromise},add:function(M){this.index.add(M)},get:function(M,G){function N(X){var la=O.slice(0);g.each(X,function(qa){var va;return va=g.some(la,function(pa){return R.dupDetector(qa,
pa)}),!va&&la.push(qa),la.length<R.limit});G&&G(R.sorter(la))}var R=this,O=[],da=!1;O=this.index.get(M);O=this.sorter(O).slice(0,this.limit);O.length<this.limit&&this.transport&&(da=this._getFromRemote(M,N));da||(0<O.length||!this.transport)&&G&&G(O)},clear:function(){this.index.reset()},clearPrefetchCache:function(){this.storage&&this.storage.clear()},clearRemoteCache:function(){this.transport&&e.resetCache()},ttAdapter:function(){return g.bind(this.get,this)}}),P}(this);var m={position:"relative",
display:"inline-block"},k={position:"absolute",top:"0",left:"0",borderColor:"transparent",boxShadow:"none"},l={position:"relative",verticalAlign:"top",backgroundColor:"transparent"},p={position:"relative",verticalAlign:"top"},q={position:"absolute",top:"100%",left:"0",zIndex:"100",display:"none"},u={display:"block"},t={whiteSpace:"normal"},C={left:"0",right:"auto"},D={left:"auto",right:" 0"};g.isMsie()&&g.mixin(l,{backgroundImage:"url(data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7)"});
g.isMsie()&&7>=g.isMsie()&&g.mixin(l,{marginTop:"-1px"});var w=function(){function J(P){P&&P.el||a.error("EventBus initialized without el");this.$el=a(P.el)}return g.mixin(J.prototype,{trigger:function(P){var K=[].slice.call(arguments,1);this.$el.trigger("typeahead:"+P,K)}}),J}(),z=function(){function J(H,M,G,N){if(!G)return this;M=M.split(E);G=N?K(G,N):G;for(this._callbacks=this._callbacks||{};N=M.shift();)this._callbacks[N]=this._callbacks[N]||{sync:[],async:[]},this._callbacks[N][H].push(G);return this}
function P(H,M,G){return function(){for(var N,R=0;!N&&R<H.length;R+=1)N=!1===H[R].apply(M,G);return!N}}function K(H,M){return H.bind?H.bind(M):function(){H.apply(M,[].slice.call(arguments,0))}}var E=/\s+/,x=function(){return window.setImmediate?function(H){setImmediate(function(){H()})}:function(H){setTimeout(function(){H()},0)}}();return{onSync:function(H,M,G){return J.call(this,"sync",H,M,G)},onAsync:function(H,M,G){return J.call(this,"async",H,M,G)},off:function(H){var M;if(!this._callbacks)return this;
for(H=H.split(E);M=H.shift();)delete this._callbacks[M];return this},trigger:function(H){var M,G,N;if(!this._callbacks)return this;H=H.split(E);for(N=[].slice.call(arguments,1);(M=H.shift())&&(G=this._callbacks[M]);){var R=P(G.sync,this,[M].concat(N));var O=P(G.async,this,[M].concat(N));R()&&x(O)}return this}}}(),L=function(J){function P(E,x,H){for(var M,G=[],N=0;N<E.length;N++)G.push(g.escapeRegExChars(E[N]));return M=H?"\\b("+G.join("|")+")\\b":"("+G.join("|")+")",x?new RegExp(M):new RegExp(M,"i")}
var K={node:null,pattern:null,tagName:"strong",className:null,wordsOnly:!1,caseSensitive:!1};return function(E){function x(G){var N,R;return(N=M.exec(G.data))&&(wrapperNode=J.createElement(E.tagName),E.className&&(wrapperNode.className=E.className),R=G.splitText(N.index),R.splitText(N[0].length),wrapperNode.appendChild(R.cloneNode(!0)),G.parentNode.replaceChild(wrapperNode,R)),!!N}function H(G,N){for(var R,O=0;O<G.childNodes.length;O++)R=G.childNodes[O],3===R.nodeType?O+=N(R)?1:0:H(R,N)}var M;E=g.mixin({},
K,E);E.node&&E.pattern&&(E.pattern=g.isArray(E.pattern)?E.pattern:[E.pattern],M=P(E.pattern,E.caseSensitive,E.wordsOnly),H(E.node,x))}}(window.document),U=function(){function J(x){var H=this;x=x||{};x.input||a.error("input is missing");var M=g.bind(this._onBlur,this);var G=g.bind(this._onFocus,this);var N=g.bind(this._onKeydown,this);var R=g.bind(this._onInput,this);this.$hint=a(x.hint);this.$input=a(x.input).on("blur.tt",M).on("focus.tt",G).on("keydown.tt",N);0===this.$hint.length&&(this.setHint=
this.getHint=this.clearHint=this.clearHintIfInvalid=g.noop);g.isMsie()?this.$input.on("keydown.tt keypress.tt cut.tt paste.tt",function(O){E[O.which||O.keyCode]||g.defer(g.bind(H._onInput,H,O))}):this.$input.on("input.tt",R);this.query=this.$input.val();this.$overflowHelper=P(this.$input)}function P(x){return a('<pre aria-hidden="true"></pre>').css({position:"absolute",visibility:"hidden",whiteSpace:"pre",fontFamily:x.css("font-family"),fontSize:x.css("font-size"),fontStyle:x.css("font-style"),fontVariant:x.css("font-variant"),
fontWeight:x.css("font-weight"),wordSpacing:x.css("word-spacing"),letterSpacing:x.css("letter-spacing"),textIndent:x.css("text-indent"),textRendering:x.css("text-rendering"),textTransform:x.css("text-transform")}).insertAfter(x)}function K(x){return x.altKey||x.ctrlKey||x.metaKey||x.shiftKey}var E;return E={9:"tab",27:"esc",37:"left",39:"right",13:"enter",38:"up",40:"down"},J.normalizeQuery=function(x){return x||""},g.mixin(J.prototype,z,{_onBlur:function(){this.resetInputValue();this.trigger("blurred")},
_onFocus:function(){this.trigger("focused")},_onKeydown:function(x){var H=E[x.which||x.keyCode];this._managePreventDefault(H,x);H&&this._shouldTrigger(H,x)&&this.trigger(H+"Keyed",x)},_onInput:function(){this._checkInputValue()},_managePreventDefault:function(x,H){switch(x){case "tab":x=this.getHint();var M=this.getInputValue();x=x&&x!==M&&!K(H);break;case "up":case "down":x=!K(H);break;default:x=!1}x&&H.preventDefault()},_shouldTrigger:function(x,H){switch(x){case "tab":x=!K(H);break;default:x=!0}return x},
_checkInputValue:function(){var x=this.getInputValue();var H;var M=this.query;M=(H=J.normalizeQuery(x)===J.normalizeQuery(M))?this.query.length!==x.length:!1;H?M&&this.trigger("whitespaceChanged",this.query):this.trigger("queryChanged",this.query=x)},focus:function(){this.$input.focus()},blur:function(){this.$input.blur()},getQuery:function(){return this.query},setQuery:function(x){this.query=x},getInputValue:function(){return this.$input.val()},setInputValue:function(x,H){this.$input.val(x);H?this.clearHint():
this._checkInputValue()},resetInputValue:function(){this.setInputValue(this.query,!0)},getHint:function(){return this.$hint.val()},setHint:function(x){this.$hint.val(x)},clearHint:function(){this.setHint("")},clearHintIfInvalid:function(){var x=this.getInputValue();var H=this.getHint();H=x!==H&&0===H.indexOf(x);""!==x&&H&&!this.hasOverflow()||this.clearHint()},getLanguageDirection:function(){return(this.$input.css("direction")||"ltr").toLowerCase()},hasOverflow:function(){var x=this.$input.width()-
2;return this.$overflowHelper.text(this.getInputValue()),this.$overflowHelper.width()>=x},isCursorAtEnd:function(){var x,H,M;return x=this.$input.val().length,H=this.$input[0].selectionStart,g.isNumber(H)?H===x:document.selection?(M=document.selection.createRange(),M.moveStart("character",-x),x===M.text.length):!0},destroy:function(){this.$hint.off(".tt");this.$input.off(".tt");this.$hint=this.$input=this.$overflowHelper=null}}),J}(),V=function(){function J(E){E=E||{};E.templates=E.templates||{};
E.source||a.error("missing source");E.name&&!/^[_a-zA-Z0-9-]+$/.test(E.name)&&a.error("invalid dataset name: "+E.name);this.query=null;this.highlight=!!E.highlight;this.name=E.name||g.getUniqueId();this.source=E.source;this.displayFn=P(E.display||E.displayKey);this.templates=K(E.templates,this.displayFn);this.$el=a('<div class="tt-dataset-%CLASS%"></div>'.replace("%CLASS%",this.name))}function P(E){function x(H){return H[E]}return E=E||"value",g.isFunction(E)?E:x}function K(E,x){function H(M){return"<p>"+
x(M)+"</p>"}return{empty:E.empty&&g.templatify(E.empty),header:E.header&&g.templatify(E.header),footer:E.footer&&g.templatify(E.footer),suggestion:E.suggestion||H}}return J.extractDatasetName=function(E){return a(E).data("ttDataset")},J.extractValue=function(E){return a(E).data("ttValue")},J.extractDatum=function(E){return a(E).data("ttDatum")},g.mixin(J.prototype,z,{_render:function(E,x){function H(){var O,da;return O=a('<span class="tt-suggestions"></span>').css(u),da=g.map(x,function(X){var la;
return la=a('<div class="tt-suggestion"></div>').append(N.templates.suggestion(X)).data("ttDataset",N.name).data("ttValue",N.displayFn(X)).data("ttDatum",X),la.children().each(function(){a(this).css(t)}),la}),O.append.apply(O,da),N.highlight&&L({node:O[0],pattern:E}),O}function M(){return N.templates.header({query:E,isEmpty:!R})}function G(){return N.templates.footer({query:E,isEmpty:!R})}if(this.$el){var N=this;this.$el.empty();var R=x&&x.length;!R&&this.templates.empty?this.$el.html(N.templates.empty({query:E,
isEmpty:!0})).prepend(N.templates.header?M():null).append(N.templates.footer?G():null):R&&this.$el.html(H()).prepend(N.templates.header?M():null).append(N.templates.footer?G():null);this.trigger("rendered")}},getRoot:function(){return this.$el},update:function(E){var x=this;this.query=E;this.canceled=!1;this.source(E,function(H){x.canceled||E!==x.query||x._render(E,H)})},cancel:function(){this.canceled=!0},clear:function(){this.cancel();this.$el.empty();this.trigger("rendered")},isEmpty:function(){return this.$el.is(":empty")},
destroy:function(){this.$el=null}}),J}(),Y=function(){function J(K){var E=this;K=K||{};K.menu||a.error("menu is required");this.isOpen=!1;this.isEmpty=!0;this.datasets=g.map(K.datasets,P);var x=g.bind(this._onSuggestionClick,this);var H=g.bind(this._onSuggestionMouseEnter,this);var M=g.bind(this._onSuggestionMouseLeave,this);this.$menu=a(K.menu).on("click.tt",".tt-suggestion",x).on("mouseenter.tt",".tt-suggestion",H).on("mouseleave.tt",".tt-suggestion",M);g.each(this.datasets,function(G){E.$menu.append(G.getRoot());
G.onSync("rendered",E._onRendered,E)})}function P(K){return new V(K)}return g.mixin(J.prototype,z,{_onSuggestionClick:function(K){this.trigger("suggestionClicked",a(K.currentTarget))},_onSuggestionMouseEnter:function(K){this._removeCursor();this._setCursor(a(K.currentTarget),!0)},_onSuggestionMouseLeave:function(){this._removeCursor()},_onRendered:function(){(this.isEmpty=g.every(this.datasets,function(K){return K.isEmpty()}))?this._hide():this.isOpen&&this._show();this.trigger("datasetRendered")},
_hide:function(){this.$menu.hide()},_show:function(){this.$menu.css("display","block")},_getSuggestions:function(){return this.$menu.find(".tt-suggestion")},_getCursor:function(){return this.$menu.find(".tt-cursor").first()},_setCursor:function(K,E){K.first().addClass("tt-cursor");!E&&this.trigger("cursorMoved")},_removeCursor:function(){this._getCursor().removeClass("tt-cursor")},_moveCursor:function(K){var E,x,H;if(this.isOpen){if(x=this._getCursor(),E=this._getSuggestions(),this._removeCursor(),
H=E.index(x)+K,H=(H+1)%(E.length+1)-1,-1===H)return void this.trigger("cursorRemoved");-1>H&&(H=E.length-1);this._setCursor(K=E.eq(H));this._ensureVisible(K)}},_ensureVisible:function(K){var E=K.position().top;K=E+K.outerHeight(!0);var x=this.$menu.scrollTop();var H=this.$menu.height()+parseInt(this.$menu.css("paddingTop"),10)+parseInt(this.$menu.css("paddingBottom"),10);0>E?this.$menu.scrollTop(x+E):K>H&&this.$menu.scrollTop(x+(K-H))},close:function(){this.isOpen&&(this.isOpen=!1,this._removeCursor(),
this._hide(),this.trigger("closed"))},open:function(){this.isOpen||(this.isOpen=!0,!this.isEmpty&&this._show(),this.trigger("opened"))},setLanguageDirection:function(K){this.$menu.css("ltr"===K?C:D)},moveCursorUp:function(){this._moveCursor(-1)},moveCursorDown:function(){this._moveCursor(1)},getDatumForSuggestion:function(K){var E=null;return K.length&&(E={raw:V.extractDatum(K),value:V.extractValue(K),datasetName:V.extractDatasetName(K)}),E},getDatumForCursor:function(){return this.getDatumForSuggestion(this._getCursor().first())},
getDatumForTopSuggestion:function(){return this.getDatumForSuggestion(this._getSuggestions().first())},update:function(K){g.each(this.datasets,function(E){E.update(K)})},empty:function(){g.each(this.datasets,function(K){K.clear()});this.isEmpty=!0},isVisible:function(){return this.isOpen&&!this.isEmpty},destroy:function(){this.$menu.off(".tt");this.$menu=null;g.each(this.datasets,function(K){K.destroy()})}}),J}(),T=function(){function J(x){x=x||{};x.input||a.error("missing input");this.isActivated=
!1;this.autoselect=!!x.autoselect;this.minLength=g.isNumber(x.minLength)?x.minLength:1;this.$node=P(x.input,x.withHint);var H=this.$node.find(".tt-dropdown-menu");var M=this.$node.find(".tt-input");var G=this.$node.find(".tt-hint");M.on("blur.tt",function(N){var R=document.activeElement;var O=H.is(R);R=0<H.has(R).length;g.isMsie()&&(O||R)&&(N.preventDefault(),N.stopImmediatePropagation(),g.defer(function(){M.focus()}))});H.on("mousedown.tt",function(N){N.preventDefault()});this.eventBus=x.eventBus||
new w({el:M});this.dropdown=(new Y({menu:H,datasets:x.datasets})).onSync("suggestionClicked",this._onSuggestionClicked,this).onSync("cursorMoved",this._onCursorMoved,this).onSync("cursorRemoved",this._onCursorRemoved,this).onSync("opened",this._onOpened,this).onSync("closed",this._onClosed,this).onAsync("datasetRendered",this._onDatasetRendered,this);this.input=(new U({input:M,hint:G})).onSync("focused",this._onFocused,this).onSync("blurred",this._onBlurred,this).onSync("enterKeyed",this._onEnterKeyed,
this).onSync("tabKeyed",this._onTabKeyed,this).onSync("escKeyed",this._onEscKeyed,this).onSync("upKeyed",this._onUpKeyed,this).onSync("downKeyed",this._onDownKeyed,this).onSync("leftKeyed",this._onLeftKeyed,this).onSync("rightKeyed",this._onRightKeyed,this).onSync("queryChanged",this._onQueryChanged,this).onSync("whitespaceChanged",this._onWhitespaceChanged,this);this._setLanguageDirection()}function P(x,H){x=a(x);var M=a('<span class="twitter-typeahead"></span>').css(m);var G=a('<span class="tt-dropdown-menu"></span>').css(q);
var N=x.clone().css(k);var R=N.css;var O={backgroundAttachment:x.css("background-attachment"),backgroundClip:x.css("background-clip"),backgroundColor:x.css("background-color"),backgroundImage:x.css("background-image"),backgroundOrigin:x.css("background-origin"),backgroundPosition:x.css("background-position"),backgroundRepeat:x.css("background-repeat"),backgroundSize:x.css("background-size")};N=R.call(N,O);N.val("").removeData().addClass("tt-hint").removeAttr("id name placeholder").prop("disabled",
!0).attr({autocomplete:"off",spellcheck:"false"});x.data(E,{dir:x.attr("dir"),autocomplete:x.attr("autocomplete"),spellcheck:x.attr("spellcheck"),style:x.attr("style")});x.addClass("tt-input").attr({autocomplete:"off",spellcheck:!1}).css(H?l:p);try{!x.attr("dir")&&x.attr("dir","auto")}catch(da){}return x.wrap(M).parent().prepend(H?N:null).append(G)}function K(x){var H=x.find(".tt-input");g.each(H.data(E),function(M,G){g.isUndefined(M)?H.removeAttr(G):H.attr(G,M)});H.detach().removeData(E).removeClass("tt-input").insertAfter(x);
x.remove()}var E="ttAttrs";return g.mixin(J.prototype,{_onSuggestionClicked:function(x,H){var M;(M=this.dropdown.getDatumForSuggestion(H))&&this._select(M)},_onCursorMoved:function(){var x=this.dropdown.getDatumForCursor();this.input.setInputValue(x.value,!0);this.eventBus.trigger("cursorchanged",x.raw,x.datasetName)},_onCursorRemoved:function(){this.input.resetInputValue();this._updateHint()},_onDatasetRendered:function(){this._updateHint()},_onOpened:function(){this._updateHint();this.eventBus.trigger("opened")},
_onClosed:function(){this.input.clearHint();this.eventBus.trigger("closed")},_onFocused:function(){this.isActivated=!0;this.dropdown.open()},_onBlurred:function(){this.isActivated=!1;this.dropdown.empty();this.dropdown.close()},_onEnterKeyed:function(x,H){x=this.dropdown.getDatumForCursor();var M=this.dropdown.getDatumForTopSuggestion();x?(this._select(x),H.preventDefault()):this.autoselect&&M&&(this._select(M),H.preventDefault())},_onTabKeyed:function(x,H){var M;(M=this.dropdown.getDatumForCursor())?
(this._select(M),H.preventDefault()):this._autocomplete(!0)},_onEscKeyed:function(){this.dropdown.close();this.input.resetInputValue()},_onUpKeyed:function(){var x=this.input.getQuery();this.dropdown.isEmpty&&x.length>=this.minLength?this.dropdown.update(x):this.dropdown.moveCursorUp();this.dropdown.open()},_onDownKeyed:function(){var x=this.input.getQuery();this.dropdown.isEmpty&&x.length>=this.minLength?this.dropdown.update(x):this.dropdown.moveCursorDown();this.dropdown.open()},_onLeftKeyed:function(){"rtl"===
this.dir&&this._autocomplete()},_onRightKeyed:function(){"ltr"===this.dir&&this._autocomplete()},_onQueryChanged:function(x,H){this.input.clearHintIfInvalid();H.length>=this.minLength?this.dropdown.update(H):this.dropdown.empty();this.dropdown.open();this._setLanguageDirection()},_onWhitespaceChanged:function(){this._updateHint();this.dropdown.open()},_setLanguageDirection:function(){var x;this.dir!==(x=this.input.getLanguageDirection())&&(this.dir=x,this.$node.css("direction",x),this.dropdown.setLanguageDirection(x))},
_updateHint:function(){var x,H,M,G,N,R;(x=this.dropdown.getDatumForTopSuggestion())&&this.dropdown.isVisible()&&!this.input.hasOverflow()?(H=this.input.getInputValue(),M=U.normalizeQuery(H),G=g.escapeRegExChars(M),N=new RegExp("^(?:"+G+")(.+$)","i"),R=N.exec(x.value),R?this.input.setHint(H+R[1]):this.input.clearHint()):this.input.clearHint()},_autocomplete:function(x){var H;var M=this.input.getHint();var G=this.input.getQuery();x=x||this.input.isCursorAtEnd();M&&G!==M&&x&&(H=this.dropdown.getDatumForTopSuggestion(),
H&&this.input.setInputValue(H.value),this.eventBus.trigger("autocompleted",H.raw,H.datasetName))},_select:function(x){this.input.setQuery(x.value);this.input.setInputValue(x.value,!0);this._setLanguageDirection();this.eventBus.trigger("selected",x.raw,x.datasetName);this.dropdown.close();g.defer(g.bind(this.dropdown.empty,this.dropdown))},open:function(){this.dropdown.open()},close:function(){this.dropdown.close()},setVal:function(x){this.isActivated?this.input.setInputValue(x):(this.input.setQuery(x),
this.input.setInputValue(x,!0));this._setLanguageDirection()},getVal:function(){return this.input.getQuery()},destroy:function(){this.input.destroy();this.dropdown.destroy();K(this.$node);this.$node=null}}),J}();!function(){var J=a.fn.typeahead;var P={initialize:function(K,E){return E=g.isArray(E)?E:[].slice.call(arguments,1),K=K||{},this.each(function(){var x=a(this);g.each(E,function(M){M.highlight=!!K.highlight});var H=new T({input:x,eventBus:new w({el:x}),withHint:g.isUndefined(K.hint)?!0:!!K.hint,
minLength:K.minLength,autoselect:K.autoselect,datasets:E});x.data("ttTypeahead",H)})},open:function(){return this.each(function(){var K;(K=a(this).data("ttTypeahead"))&&K.open()})},close:function(){return this.each(function(){var K;(K=a(this).data("ttTypeahead"))&&K.close()})},val:function(K){function E(){var H;(H=a(this).data("ttTypeahead"))&&H.setVal(K)}function x(H){var M,G;return(M=H.data("ttTypeahead"))&&(G=M.getVal()),G}return arguments.length?this.each(E):x(this.first())},destroy:function(){return this.each(function(){var K,
E=a(this);(K=E.data("ttTypeahead"))&&(K.destroy(),E.removeData("ttTypeahead"))})}};a.fn.typeahead=function(K){return P[K]?P[K].apply(this,[].slice.call(arguments,1)):P.initialize.apply(this,arguments)};a.fn.typeahead.noConflict=function(){return a.fn.typeahead=J,this}}()}(window.jQuery);(function(){function a(){0===d?g.text=g.text.replace(b,""):b.exec(g.text)?g.text=g.text.replace(b,"("+d+") "):g.text="("+d+") "+g.text}var g=document.getElementsByTagName("title")[0],d=0,b=/\(\d*\) /;window.titlenotifier={add:function(c){"undefined"===typeof c&&(c=1);d+=parseInt(c,10);a()},sub:function(c){"undefined"===typeof c&&(c=1);c=parseInt(c,10);0!==d&&(d=c>d?0:d-parseInt(c,10),a())},set:function(c){isNaN(parseFloat(c))||!isFinite(c)||0>c||(d=parseInt(c,10),a())},reset:function(){d=0;a()}}})();(function(a){a.widget("sylightsUI.switchButton",{options:{checked:void 0,show_labels:!0,labels_placement:"both",on_label:"ON",off_label:"OFF",width:25,height:11,button_width:12,clear:!0,clear_after:null,on_callback:void 0,off_callback:void 0},_create:function(){void 0===this.options.checked&&(this.options.checked=this.element.prop("checked"));this._initLayout();this._initEvents()},_initLayout:function(){this.element.hide();this.off_label=a("<span>").addClass("switch-button-label");this.on_label=a("<span>").addClass("switch-button-label");
this.button_bg=a("<div>").addClass("switch-button-background");this.button=a("<div>").addClass("switch-button-button");this.off_label.insertAfter(this.element);this.button_bg.insertAfter(this.off_label);this.on_label.insertAfter(this.button_bg);this.button_bg.append(this.button);this.options.clear&&(null===this.options.clear_after&&(this.options.clear_after=this.on_label),a("<div>").css({clear:"left"}).insertAfter(this.options.clear_after));this._refresh();this.options.checked=!this.options.checked;
this._toggleSwitch()},_refresh:function(){this.options.show_labels?(this.off_label.show(),this.on_label.show()):(this.off_label.hide(),this.on_label.hide());switch(this.options.labels_placement){case "both":if(this.button_bg.prev()!==this.off_label||this.button_bg.next()!==this.on_label)this.off_label.detach(),this.on_label.detach(),this.off_label.insertBefore(this.button_bg),this.on_label.insertAfter(this.button_bg),this.on_label.addClass(this.options.checked?"on":"off").removeClass(this.options.checked?
"off":"on"),this.off_label.addClass(this.options.checked?"off":"on").removeClass(this.options.checked?"on":"off");break;case "left":if(this.button_bg.prev()!==this.on_label||this.on_label.prev()!==this.off_label)this.off_label.detach(),this.on_label.detach(),this.off_label.insertBefore(this.button_bg),this.on_label.insertBefore(this.button_bg),this.on_label.addClass("on").removeClass("off"),this.off_label.addClass("off").removeClass("on");break;case "right":if(this.button_bg.next()!==this.off_label||
this.off_label.next()!==this.on_label)this.off_label.detach(),this.on_label.detach(),this.off_label.insertAfter(this.button_bg),this.on_label.insertAfter(this.off_label),this.on_label.addClass("on").removeClass("off"),this.off_label.addClass("off").removeClass("on")}this.on_label.html(this.options.on_label);this.off_label.html(this.options.off_label);this.button_bg.width(this.options.width);this.button_bg.height(this.options.height);this.button.width(this.options.button_width);this.button.height(this.options.height)},
_initEvents:function(){var g=this;this.button_bg.click(function(d){d.preventDefault();d.stopPropagation();g._toggleSwitch();return!1});this.button.click(function(d){d.preventDefault();d.stopPropagation();g._toggleSwitch();return!1});this.on_label.click(function(d){if(g.options.checked&&"both"===g.options.labels_placement)return!1;g._toggleSwitch();return!1});this.off_label.click(function(d){if(!g.options.checked&&"both"===g.options.labels_placement)return!1;g._toggleSwitch();return!1})},_setOption:function(g,
d){"checked"===g?this._setChecked(d):(this.options[g]=d,this._refresh())},_setChecked:function(g){g!==this.options.checked&&(this.options.checked=!g,this._toggleSwitch())},_toggleSwitch:function(){this.options.checked=!this.options.checked;if(this.options.checked){this.element.prop("checked",!0);this.element.change();var g="+="+(this.options.width-this.options.button_width);"both"==this.options.labels_placement?(this.off_label.removeClass("on").addClass("off"),this.on_label.removeClass("off").addClass("on")):
(this.off_label.hide(),this.on_label.show());this.button_bg.addClass("checked");"function"===typeof this.options.on_callback&&this.options.on_callback.call(this)}else this.element.prop("checked",!1),this.element.change(),g="-1px","both"==this.options.labels_placement?(this.off_label.removeClass("off").addClass("on"),this.on_label.removeClass("on").addClass("off")):(this.off_label.show(),this.on_label.hide()),this.button_bg.removeClass("checked"),"function"===typeof this.options.off_callback&&this.options.off_callback.call(this);
this.button.animate({left:g},250,"easeInOutCubic")}})})(jQuery);/*
 almond 0.3.1 Copyright (c) 2011-2014, The Dojo Foundation All Rights Reserved.
 Available via the MIT or new BSD license.
 see: http://github.com/jrburke/almond for details
 Select2 4.0.2
 https://select2.github.io

 Released under the MIT license
 https://github.com/select2/select2/blob/master/LICENSE.md
 jQuery Mousewheel 3.1.13

 Copyright jQuery Foundation and other contributors
 Released under the MIT license
 http://jquery.org/license
*/
(function(a){"function"===typeof define&&define.amd?define(["jquery"],a):"object"===typeof exports?a(require("jquery")):a(jQuery)})(function(a){var g=function(){if(a&&a.fn&&a.fn.select2&&a.fn.select2.amd)var b=a.fn.select2.amd;(function(){if(!b||!b.requirejs){b?e=b:b={};var c,e,f;(function(h){function m(K,E){var x,H,M=E&&E.split("/"),G=z.map,N=G&&G["*"]||{};if(K&&"."===K.charAt(0))if(E){K=K.split("/");E=K.length-1;z.nodeIdCompat&&Y.test(K[E])&&(K[E]=K[E].replace(Y,""));K=M.slice(0,M.length-1).concat(K);
for(E=0;E<K.length;E+=1){var R=K[E];if("."===R)K.splice(E,1),--E;else if(".."===R)if(1!==E||".."!==K[2]&&".."!==K[0])0<E&&(K.splice(E-1,2),E-=2);else break}K=K.join("/")}else 0===K.indexOf("./")&&(K=K.substring(2));if((M||N)&&G){R=K.split("/");for(E=R.length;0<E;--E){var O=R.slice(0,E).join("/");if(M)for(H=M.length;0<H;--H)if(x=G[M.slice(0,H).join("/")])if(x=x[O]){var da=x;var X=E;break}if(da)break;if(!la&&N&&N[O]){var la=N[O];var qa=E}}!da&&la&&(da=la,X=qa);da&&(R.splice(0,X,da),K=R.join("/"))}return K}
function k(K,E){return function(){var x=V.call(arguments,0);"string"!==typeof x[0]&&1===x.length&&x.push(null);return C.apply(h,x.concat([K,E]))}}function l(K){return function(E){return m(E,K)}}function p(K){return function(E){D[K]=E}}function q(K){if(U.call(w,K)){var E=w[K];delete w[K];L[K]=!0;P.apply(h,E)}if(!U.call(D,K)&&!U.call(L,K))throw Error("No "+K);return D[K]}function u(K){var E=K?K.indexOf("!"):-1;if(-1<E){var x=K.substring(0,E);K=K.substring(E+1,K.length)}return[x,K]}function t(K){return function(){return z&&
z.config&&z.config[K]||{}}}var C,D={},w={},z={},L={},U=Object.prototype.hasOwnProperty,V=[].slice,Y=/\.js$/;var T=function(K,E){K=u(K);var x=K[0];K=K[1];if(x){x=m(x,E);var H=q(x)}x?K=H&&H.normalize?H.normalize(K,l(E)):m(K,E):(K=m(K,E),K=u(K),x=K[0],K=K[1],x&&(H=q(x)));return{f:x?x+"!"+K:K,n:K,pr:x,p:H}};var J={require:function(K){return k(K)},exports:function(K){var E=D[K];return"undefined"!==typeof E?E:D[K]={}},module:function(K){return{id:K,uri:"",exports:D[K],config:t(K)}}};var P=function(K,E,
x,H){var M,G=[];var N=typeof x;H=H||K;if("undefined"===N||"function"===N){E=!E.length&&x.length?["require","exports","module"]:E;for(M=0;M<E.length;M+=1){var R=T(E[M],H);N=R.f;if("require"===N)G[M]=J.require(K);else if("exports"===N){G[M]=J.exports(K);var O=!0}else if("module"===N)var da=G[M]=J.module(K);else if(U.call(D,N)||U.call(w,N)||U.call(L,N))G[M]=q(N);else if(R.p)R.p.load(R.n,k(H,!0),p(N),{}),G[M]=D[N];else throw Error(K+" missing "+N);}E=x?x.apply(D[K],G):void 0;K&&(da&&da.exports!==h&&da.exports!==
D[K]?D[K]=da.exports:E===h&&O||(D[K]=E))}else K&&(D[K]=x)};c=e=C=function(K,E,x,H,M){if("string"===typeof K)return J[K]?J[K](E):q(T(K,E).f);if(!K.splice){z=K;z.deps&&C(z.deps,z.callback);if(!E)return;E.splice?(K=E,E=x,x=null):K=h}E=E||function(){};"function"===typeof x&&(x=H,H=M);H?P(h,K,E,x):setTimeout(function(){P(h,K,E,x)},4);return C};C.config=function(K){return C(K)};c._defined=D;f=function(K,E,x){if("string"!==typeof K)throw Error("See almond README: incorrect module build, no module name");
E.splice||(x=E,E=[]);U.call(D,K)||U.call(w,K)||(w[K]=[K,E,x])};f.amd={jQuery:!0}})();b.requirejs=c;b.require=e;b.define=f}})();b.define("almond",function(){});b.define("jquery",[],function(){var c=a||$;null==c&&console&&console.error&&console.error("Select2: An instance of jQuery or a jQuery-compatible library was not found. Make sure that you are including jQuery before Select2 on your web page.");return c});b.define("select2/utils",["jquery"],function(c){function e(m){m=m.prototype;var k=[],l;for(l in m)"function"===
typeof m[l]&&"constructor"!==l&&k.push(l);return k}var f={Extend:function(m,k){function l(){this.constructor=m}var p={}.hasOwnProperty,q;for(q in k)p.call(k,q)&&(m[q]=k[q]);l.prototype=k.prototype;m.prototype=new l;m.__super__=k.prototype;return m},Decorate:function(m,k){function l(){var C=Array.prototype.unshift,D=m.prototype.constructor;0<k.prototype.constructor.length&&(C.call(arguments,m.prototype.constructor),D=k.prototype.constructor);D.apply(this,arguments)}var p=e(k),q=e(m);k.displayName=
m.displayName;l.prototype=new function(){this.constructor=l};for(var u=0;u<q.length;u++){var t=q[u];l.prototype[t]=m.prototype[t]}q=function(C){var D=function(){};C in l.prototype&&(D=l.prototype[C]);var w=k.prototype[C];return function(){Array.prototype.unshift.call(arguments,D);return w.apply(this,arguments)}};for(u=0;u<p.length;u++)t=p[u],l.prototype[t]=q(t);return l}},h=function(){this.listeners={}};h.prototype.on=function(m,k){this.listeners=this.listeners||{};m in this.listeners?this.listeners[m].push(k):
this.listeners[m]=[k]};h.prototype.trigger=function(m){var k=Array.prototype.slice;this.listeners=this.listeners||{};m in this.listeners&&this.invoke(this.listeners[m],k.call(arguments,1));"*"in this.listeners&&this.invoke(this.listeners["*"],arguments)};h.prototype.invoke=function(m,k){for(var l=0,p=m.length;l<p;l++)m[l].apply(this,k)};f.Observable=h;f.generateChars=function(m){for(var k="",l=0;l<m;l++)k+=Math.floor(36*Math.random()).toString(36);return k};f.bind=function(m,k){return function(){m.apply(k,
arguments)}};f._convertData=function(m){for(var k in m){var l=k.split("-"),p=m;if(1!==l.length){for(var q=0;q<l.length;q++){var u=l[q];u=u.substring(0,1).toLowerCase()+u.substring(1);u in p||(p[u]={});q==l.length-1&&(p[u]=m[k]);p=p[u]}delete m[k]}}return m};f.hasScroll=function(m,k){m=c(k);var l=k.style.overflowX,p=k.style.overflowY;return l!==p||"hidden"!==p&&"visible"!==p?"scroll"===l||"scroll"===p?!0:m.innerHeight()<k.scrollHeight||m.innerWidth()<k.scrollWidth:!1};f.escapeMarkup=function(m){var k=
{"\\":"&#92;","&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;","/":"&#47;"};return"string"!==typeof m?m:String(m).replace(/[&<>"'\/\\]/g,function(l){return k[l]})};f.appendMany=function(m,k){if("1.7"===c.fn.jquery.substr(0,3)){var l=c();c.map(k,function(p){l=l.add(p)});k=l}m.append(k)};return f});b.define("select2/results",["jquery","./utils"],function(c,e){function f(h,m,k){this.$element=h;this.data=k;this.options=m;f.__super__.constructor.call(this)}e.Extend(f,e.Observable);f.prototype.render=
function(){var h=c('<ul class="select2-results__options" role="tree"></ul>');this.options.get("multiple")&&h.attr("aria-multiselectable","true");return this.$results=h};f.prototype.clear=function(){this.$results.empty()};f.prototype.displayMessage=function(h){var m=this.options.get("escapeMarkup");this.clear();this.hideLoading();var k=c('<li role="treeitem" aria-live="assertive" class="select2-results__option"></li>'),l=this.options.get("translations").get(h.message);k.append(m(l(h.args)));k[0].className+=
" select2-results__message";this.$results.append(k)};f.prototype.hideMessages=function(){this.$results.find(".select2-results__message").remove()};f.prototype.append=function(h){this.hideLoading();var m=[];if(null==h.results||0===h.results.length)0===this.$results.children().length&&this.trigger("results:message",{message:"noResults"});else{h.results=this.sort(h.results);for(var k=0;k<h.results.length;k++){var l=this.option(h.results[k]);m.push(l)}this.$results.append(m)}};f.prototype.position=function(h,
m){m.find(".select2-results").append(h)};f.prototype.sort=function(h){return this.options.get("sorter")(h)};f.prototype.setClasses=function(){var h=this;this.data.current(function(m){var k=c.map(m,function(p){return p.id.toString()});m=h.$results.find(".select2-results__option[aria-selected]");m.each(function(){var p=c(this),q=c.data(this,"data"),u=""+q.id;null!=q.element&&q.element.selected||null==q.element&&-1<c.inArray(u,k)?p.attr("aria-selected","true"):p.attr("aria-selected","false")});var l=
m.filter("[aria-selected=true]");0<l.length?l.first().trigger("mouseenter"):m.first().trigger("mouseenter")})};f.prototype.showLoading=function(h){this.hideLoading();h={disabled:!0,loading:!0,text:this.options.get("translations").get("searching")(h)};h=this.option(h);h.className+=" loading-results";this.$results.prepend(h)};f.prototype.hideLoading=function(){this.$results.find(".loading-results").remove()};f.prototype.option=function(h){var m=document.createElement("li");m.className="select2-results__option";
var k={role:"treeitem","aria-selected":"false"};h.disabled&&(delete k["aria-selected"],k["aria-disabled"]="true");null==h.id&&delete k["aria-selected"];null!=h._resultId&&(m.id=h._resultId);h.title&&(m.title=h.title);h.children&&(k.role="group",k["aria-label"]=h.text,delete k["aria-selected"]);for(var l in k)m.setAttribute(l,k[l]);if(h.children){k=c(m);l=document.createElement("strong");l.className="select2-results__group";c(l);this.template(h,l);for(var p=[],q=0;q<h.children.length;q++){var u=this.option(h.children[q]);
p.push(u)}q=c("<ul></ul>",{"class":"select2-results__options select2-results__options--nested"});q.append(p);k.append(l);k.append(q)}else this.template(h,m);c.data(m,"data",h);return m};f.prototype.bind=function(h,m){var k=this;this.$results.attr("id",h.id+"-results");h.on("results:all",function(l){k.clear();k.append(l.data);h.isOpen()&&k.setClasses()});h.on("results:append",function(l){k.append(l.data);h.isOpen()&&k.setClasses()});h.on("query",function(l){k.hideMessages();k.showLoading(l)});h.on("select",
function(){h.isOpen()&&k.setClasses()});h.on("unselect",function(){h.isOpen()&&k.setClasses()});h.on("open",function(){k.$results.attr("aria-expanded","true");k.$results.attr("aria-hidden","false");k.setClasses();k.ensureHighlightVisible()});h.on("close",function(){k.$results.attr("aria-expanded","false");k.$results.attr("aria-hidden","true");k.$results.removeAttr("aria-activedescendant")});h.on("results:toggle",function(){var l=k.getHighlightedResults();0!==l.length&&l.trigger("mouseup")});h.on("results:select",
function(){var l=k.getHighlightedResults();if(0!==l.length){var p=l.data("data");"true"==l.attr("aria-selected")?k.trigger("close",{}):k.trigger("select",{data:p})}});h.on("results:previous",function(){var l=k.getHighlightedResults(),p=k.$results.find("[aria-selected]"),q=p.index(l);if(0!==q){--q;0===l.length&&(q=0);p=p.eq(q);p.trigger("mouseenter");l=k.$results.offset().top;p=p.offset().top;var u=k.$results.scrollTop()+(p-l);0===q?k.$results.scrollTop(0):0>p-l&&k.$results.scrollTop(u)}});h.on("results:next",
function(){var l=k.getHighlightedResults(),p=k.$results.find("[aria-selected]");l=p.index(l)+1;if(!(l>=p.length)){var q=p.eq(l);q.trigger("mouseenter");p=k.$results.offset().top+k.$results.outerHeight(!1);q=q.offset().top+q.outerHeight(!1);var u=k.$results.scrollTop()+q-p;0===l?k.$results.scrollTop(0):q>p&&k.$results.scrollTop(u)}});h.on("results:focus",function(l){l.element.addClass("select2-results__option--highlighted")});h.on("results:message",function(l){k.displayMessage(l)});if(c.fn.mousewheel)this.$results.on("mousewheel",
function(l){var p=k.$results.scrollTop(),q=k.$results.get(0).scrollHeight-p+l.deltaY;p=0<l.deltaY&&0>=p-l.deltaY;q=0>l.deltaY&&q<=k.$results.height();p?(k.$results.scrollTop(0),l.preventDefault(),l.stopPropagation()):q&&(k.$results.scrollTop(k.$results.get(0).scrollHeight-k.$results.height()),l.preventDefault(),l.stopPropagation())});this.$results.on("mouseup",".select2-results__option[aria-selected]",function(l){var p=c(this),q=p.data("data");"true"===p.attr("aria-selected")?k.options.get("multiple")?
k.trigger("unselect",{originalEvent:l,data:q}):k.trigger("close",{}):k.trigger("select",{originalEvent:l,data:q})});this.$results.on("mouseenter",".select2-results__option[aria-selected]",function(l){l=c(this).data("data");k.getHighlightedResults().removeClass("select2-results__option--highlighted");k.trigger("results:focus",{data:l,element:c(this)})})};f.prototype.getHighlightedResults=function(){return this.$results.find(".select2-results__option--highlighted")};f.prototype.destroy=function(){this.$results.remove()};
f.prototype.ensureHighlightVisible=function(){var h=this.getHighlightedResults();if(0!==h.length){var m=this.$results.find("[aria-selected]").index(h),k=this.$results.offset().top,l=h.offset().top,p=this.$results.scrollTop()+(l-k);k=l-k;p-=2*h.outerHeight(!1);2>=m?this.$results.scrollTop(0):(k>this.$results.outerHeight()||0>k)&&this.$results.scrollTop(p)}};f.prototype.template=function(h,m){var k=this.options.get("templateResult"),l=this.options.get("escapeMarkup");h=k(h,m);null==h?m.style.display=
"none":"string"===typeof h?m.innerHTML=l(h):c(m).append(h)};return f});b.define("select2/keys",[],function(){return{BACKSPACE:8,TAB:9,ENTER:13,SHIFT:16,CTRL:17,ALT:18,ESC:27,SPACE:32,PAGE_UP:33,PAGE_DOWN:34,END:35,HOME:36,LEFT:37,UP:38,RIGHT:39,DOWN:40,DELETE:46}});b.define("select2/selection/base",["jquery","../utils","../keys"],function(c,e,f){function h(m,k){this.$element=m;this.options=k;h.__super__.constructor.call(this)}e.Extend(h,e.Observable);h.prototype.render=function(){var m=c('<span class="select2-selection" role="combobox"  aria-haspopup="true" aria-expanded="false"></span>');
this._tabindex=0;null!=this.$element.data("old-tabindex")?this._tabindex=this.$element.data("old-tabindex"):null!=this.$element.attr("tabindex")&&(this._tabindex=this.$element.attr("tabindex"));m.attr("title",this.$element.attr("title"));m.attr("tabindex",this._tabindex);return this.$selection=m};h.prototype.bind=function(m,k){var l=this,p=m.id+"-results";this.container=m;this.$selection.on("focus",function(q){l.trigger("focus",q)});this.$selection.on("blur",function(q){l._handleBlur(q)});this.$selection.on("keydown",
function(q){l.trigger("keypress",q);q.which===f.SPACE&&q.preventDefault()});m.on("results:focus",function(q){l.$selection.attr("aria-activedescendant",q.data._resultId)});m.on("selection:update",function(q){l.update(q.data)});m.on("open",function(){l.$selection.attr("aria-expanded","true");l.$selection.attr("aria-owns",p);l._attachCloseHandler(m)});m.on("close",function(){l.$selection.attr("aria-expanded","false");l.$selection.removeAttr("aria-activedescendant");l.$selection.removeAttr("aria-owns");
l.$selection.focus();l._detachCloseHandler(m)});m.on("enable",function(){l.$selection.attr("tabindex",l._tabindex)});m.on("disable",function(){l.$selection.attr("tabindex","-1")})};h.prototype._handleBlur=function(m){var k=this;window.setTimeout(function(){document.activeElement==k.$selection[0]||c.contains(k.$selection[0],document.activeElement)||k.trigger("blur",m)},1)};h.prototype._attachCloseHandler=function(m){c(document.body).on("mousedown.select2."+m.id,function(k){var l=c(k.target).closest(".select2");
c(".select2.select2-container--open").each(function(){var p=c(this);this!=l[0]&&p.data("element").select2("close")})})};h.prototype._detachCloseHandler=function(m){c(document.body).off("mousedown.select2."+m.id)};h.prototype.position=function(m,k){k.find(".selection").append(m)};h.prototype.destroy=function(){this._detachCloseHandler(this.container)};h.prototype.update=function(m){throw Error("The `update` method must be defined in child classes.");};return h});b.define("select2/selection/single",
["jquery","./base","../utils","../keys"],function(c,e,f,h){function m(){m.__super__.constructor.apply(this,arguments)}f.Extend(m,e);m.prototype.render=function(){var k=m.__super__.render.call(this);k.addClass("select2-selection--single");k.html('<span class="select2-selection__rendered"></span><span class="select2-selection__arrow" role="presentation"><b role="presentation"></b></span>');return k};m.prototype.bind=function(k,l){var p=this;m.__super__.bind.apply(this,arguments);var q=k.id+"-container";
this.$selection.find(".select2-selection__rendered").attr("id",q);this.$selection.attr("aria-labelledby",q);this.$selection.on("mousedown",function(u){1===u.which&&p.trigger("toggle",{originalEvent:u})});this.$selection.on("focus",function(u){});this.$selection.on("blur",function(u){});k.on("selection:update",function(u){p.update(u.data)})};m.prototype.clear=function(){this.$selection.find(".select2-selection__rendered").empty()};m.prototype.display=function(k,l){var p=this.options.get("templateSelection");
return this.options.get("escapeMarkup")(p(k,l))};m.prototype.selectionContainer=function(){return c("<span></span>")};m.prototype.update=function(k){if(0===k.length)this.clear();else{k=k[0];var l=this.$selection.find(".select2-selection__rendered"),p=this.display(k,l);l.empty().append(p);l.prop("title",k.title||k.text)}};return m});b.define("select2/selection/multiple",["jquery","./base","../utils"],function(c,e,f){function h(m,k){h.__super__.constructor.apply(this,arguments)}f.Extend(h,e);h.prototype.render=
function(){var m=h.__super__.render.call(this);m.addClass("select2-selection--multiple");m.html('<ul class="select2-selection__rendered"></ul>');return m};h.prototype.bind=function(m,k){var l=this;h.__super__.bind.apply(this,arguments);this.$selection.on("click",function(p){l.trigger("toggle",{originalEvent:p})});this.$selection.on("click",".select2-selection__choice__remove",function(p){if(!l.options.get("disabled")){var q=c(this).parent().data("data");l.trigger("unselect",{originalEvent:p,data:q})}})};
h.prototype.clear=function(){this.$selection.find(".select2-selection__rendered").empty()};h.prototype.display=function(m,k){var l=this.options.get("templateSelection");return this.options.get("escapeMarkup")(l(m,k))};h.prototype.selectionContainer=function(){return c('<li class="select2-selection__choice"><span class="select2-selection__choice__remove" role="presentation">&times;</span></li>')};h.prototype.update=function(m){this.clear();if(0!==m.length){for(var k=[],l=0;l<m.length;l++){var p=m[l],
q=this.selectionContainer(),u=this.display(p,q);q.append(u);q.prop("title",p.title||p.text);q.data("data",p);k.push(q)}m=this.$selection.find(".select2-selection__rendered");f.appendMany(m,k)}};return h});b.define("select2/selection/placeholder",["../utils"],function(c){function e(f,h,m){this.placeholder=this.normalizePlaceholder(m.get("placeholder"));f.call(this,h,m)}e.prototype.normalizePlaceholder=function(f,h){"string"===typeof h&&(h={id:"",text:h});return h};e.prototype.createPlaceholder=function(f,
h){f=this.selectionContainer();f.html(this.display(h));f.addClass("select2-selection__placeholder").removeClass("select2-selection__choice");return f};e.prototype.update=function(f,h){var m=1==h.length&&h[0].id!=this.placeholder.id;if(1<h.length||m)return f.call(this,h);this.clear();f=this.createPlaceholder(this.placeholder);this.$selection.find(".select2-selection__rendered").append(f)};return e});b.define("select2/selection/allowClear",["jquery","../keys"],function(c,e){function f(){}f.prototype.bind=
function(h,m,k){var l=this;h.call(this,m,k);null==this.placeholder&&this.options.get("debug")&&window.console&&console.error&&console.error("Select2: The `allowClear` option should be used in combination with the `placeholder` option.");this.$selection.on("mousedown",".select2-selection__clear",function(p){l._handleClear(p)});m.on("keypress",function(p){l._handleKeyboardClear(p,m)})};f.prototype._handleClear=function(h,m){if(!this.options.get("disabled")&&(h=this.$selection.find(".select2-selection__clear"),
0!==h.length)){m.stopPropagation();m=h.data("data");for(h=0;h<m.length;h++){var k={data:m[h]};this.trigger("unselect",k);if(k.prevented)return}this.$element.val(this.placeholder.id).trigger("change");this.trigger("toggle",{})}};f.prototype._handleKeyboardClear=function(h,m,k){k.isOpen()||m.which!=e.DELETE&&m.which!=e.BACKSPACE||this._handleClear(m)};f.prototype.update=function(h,m){h.call(this,m);0<this.$selection.find(".select2-selection__placeholder").length||0===m.length||(h=c('<span class="select2-selection__clear">&times;</span>'),
h.data("data",m),this.$selection.find(".select2-selection__rendered").prepend(h))};return f});b.define("select2/selection/search",["jquery","../utils","../keys"],function(c,e,f){function h(m,k,l){m.call(this,k,l)}h.prototype.render=function(m){var k=c('<li class="select2-search select2-search--inline"><input class="select2-search__field" type="search" tabindex="-1" autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false" role="textbox" aria-autocomplete="list" /></li>');this.$searchContainer=
k;this.$search=k.find("input");m=m.call(this);this._transferTabIndex();return m};h.prototype.bind=function(m,k,l){var p=this;m.call(this,k,l);k.on("open",function(){p.$search.trigger("focus")});k.on("close",function(){p.$search.val("");p.$search.removeAttr("aria-activedescendant");p.$search.trigger("focus")});k.on("enable",function(){p.$search.prop("disabled",!1);p._transferTabIndex()});k.on("disable",function(){p.$search.prop("disabled",!0)});k.on("focus",function(u){p.$search.trigger("focus")});
k.on("results:focus",function(u){p.$search.attr("aria-activedescendant",u.id)});this.$selection.on("focusin",".select2-search--inline",function(u){p.trigger("focus",u)});this.$selection.on("focusout",".select2-search--inline",function(u){p._handleBlur(u)});this.$selection.on("keydown",".select2-search--inline",function(u){u.stopPropagation();p.trigger("keypress",u);p._keyUpPrevented=u.isDefaultPrevented();if(u.which===f.BACKSPACE&&""===p.$search.val()){var t=p.$searchContainer.prev(".select2-selection__choice");
0<t.length&&(t=t.data("data"),p.searchRemoveChoice(t),u.preventDefault())}});var q=(m=document.documentMode)&&11>=m;this.$selection.on("input.searchcheck",".select2-search--inline",function(u){q?p.$selection.off("input.search input.searchcheck"):p.$selection.off("keyup.search")});this.$selection.on("keyup.search input.search",".select2-search--inline",function(u){if(q&&"input"===u.type)p.$selection.off("input.search input.searchcheck");else{var t=u.which;t!=f.SHIFT&&t!=f.CTRL&&t!=f.ALT&&t!=f.TAB&&
p.handleSearch(u)}})};h.prototype._transferTabIndex=function(m){this.$search.attr("tabindex",this.$selection.attr("tabindex"));this.$selection.attr("tabindex","-1")};h.prototype.createPlaceholder=function(m,k){this.$search.attr("placeholder",k.text)};h.prototype.update=function(m,k){var l=this.$search[0]==document.activeElement;this.$search.attr("placeholder","");m.call(this,k);this.$selection.find(".select2-selection__rendered").append(this.$searchContainer);this.resizeSearch();l&&this.$search.focus()};
h.prototype.handleSearch=function(){this.resizeSearch();if(!this._keyUpPrevented){var m=this.$search.val();this.trigger("query",{term:m})}this._keyUpPrevented=!1};h.prototype.searchRemoveChoice=function(m,k){this.trigger("unselect",{data:k});this.$search.val(k.text);this.handleSearch()};h.prototype.resizeSearch=function(){this.$search.css("width","25px");var m=""!==this.$search.attr("placeholder")?this.$selection.find(".select2-selection__rendered").innerWidth():.75*(this.$search.val().length+1)+
"em";this.$search.css("width",m)};return h});b.define("select2/selection/eventRelay",["jquery"],function(c){function e(){}e.prototype.bind=function(f,h,m){var k=this,l="open opening close closing select selecting unselect unselecting".split(" "),p=["opening","closing","selecting","unselecting"];f.call(this,h,m);h.on("*",function(q,u){if(-1!==c.inArray(q,l)){u=u||{};var t=c.Event("select2:"+q,{params:u});k.$element.trigger(t);-1!==c.inArray(q,p)&&(u.prevented=t.isDefaultPrevented())}})};return e});
b.define("select2/translation",["jquery","require"],function(c,e){function f(h){this.dict=h||{}}f.prototype.all=function(){return this.dict};f.prototype.get=function(h){return this.dict[h]};f.prototype.extend=function(h){this.dict=c.extend({},h.all(),this.dict)};f._cache={};f.loadPath=function(h){if(!(h in f._cache)){var m=e(h);f._cache[h]=m}return new f(f._cache[h])};return f});b.define("select2/diacritics",[],function(){return{"\u24b6":"A","\uff21":"A","\u00c0":"A","\u00c1":"A","\u00c2":"A","\u1ea6":"A",
"\u1ea4":"A","\u1eaa":"A","\u1ea8":"A","\u00c3":"A","\u0100":"A","\u0102":"A","\u1eb0":"A","\u1eae":"A","\u1eb4":"A","\u1eb2":"A","\u0226":"A","\u01e0":"A","\u00c4":"A","\u01de":"A","\u1ea2":"A","\u00c5":"A","\u01fa":"A","\u01cd":"A","\u0200":"A","\u0202":"A","\u1ea0":"A","\u1eac":"A","\u1eb6":"A","\u1e00":"A","\u0104":"A","\u023a":"A","\u2c6f":"A","\ua732":"AA","\u00c6":"AE","\u01fc":"AE","\u01e2":"AE","\ua734":"AO","\ua736":"AU","\ua738":"AV","\ua73a":"AV","\ua73c":"AY","\u24b7":"B","\uff22":"B",
"\u1e02":"B","\u1e04":"B","\u1e06":"B","\u0243":"B","\u0182":"B","\u0181":"B","\u24b8":"C","\uff23":"C","\u0106":"C","\u0108":"C","\u010a":"C","\u010c":"C","\u00c7":"C","\u1e08":"C","\u0187":"C","\u023b":"C","\ua73e":"C","\u24b9":"D","\uff24":"D","\u1e0a":"D","\u010e":"D","\u1e0c":"D","\u1e10":"D","\u1e12":"D","\u1e0e":"D","\u0110":"D","\u018b":"D","\u018a":"D","\u0189":"D","\ua779":"D","\u01f1":"DZ","\u01c4":"DZ","\u01f2":"Dz","\u01c5":"Dz","\u24ba":"E","\uff25":"E","\u00c8":"E","\u00c9":"E","\u00ca":"E",
"\u1ec0":"E","\u1ebe":"E","\u1ec4":"E","\u1ec2":"E","\u1ebc":"E","\u0112":"E","\u1e14":"E","\u1e16":"E","\u0114":"E","\u0116":"E","\u00cb":"E","\u1eba":"E","\u011a":"E","\u0204":"E","\u0206":"E","\u1eb8":"E","\u1ec6":"E","\u0228":"E","\u1e1c":"E","\u0118":"E","\u1e18":"E","\u1e1a":"E","\u0190":"E","\u018e":"E","\u24bb":"F","\uff26":"F","\u1e1e":"F","\u0191":"F","\ua77b":"F","\u24bc":"G","\uff27":"G","\u01f4":"G","\u011c":"G","\u1e20":"G","\u011e":"G","\u0120":"G","\u01e6":"G","\u0122":"G","\u01e4":"G",
"\u0193":"G","\ua7a0":"G","\ua77d":"G","\ua77e":"G","\u24bd":"H","\uff28":"H","\u0124":"H","\u1e22":"H","\u1e26":"H","\u021e":"H","\u1e24":"H","\u1e28":"H","\u1e2a":"H","\u0126":"H","\u2c67":"H","\u2c75":"H","\ua78d":"H","\u24be":"I","\uff29":"I","\u00cc":"I","\u00cd":"I","\u00ce":"I","\u0128":"I","\u012a":"I","\u012c":"I","\u0130":"I","\u00cf":"I","\u1e2e":"I","\u1ec8":"I","\u01cf":"I","\u0208":"I","\u020a":"I","\u1eca":"I","\u012e":"I","\u1e2c":"I","\u0197":"I","\u24bf":"J","\uff2a":"J","\u0134":"J",
"\u0248":"J","\u24c0":"K","\uff2b":"K","\u1e30":"K","\u01e8":"K","\u1e32":"K","\u0136":"K","\u1e34":"K","\u0198":"K","\u2c69":"K","\ua740":"K","\ua742":"K","\ua744":"K","\ua7a2":"K","\u24c1":"L","\uff2c":"L","\u013f":"L","\u0139":"L","\u013d":"L","\u1e36":"L","\u1e38":"L","\u013b":"L","\u1e3c":"L","\u1e3a":"L","\u0141":"L","\u023d":"L","\u2c62":"L","\u2c60":"L","\ua748":"L","\ua746":"L","\ua780":"L","\u01c7":"LJ","\u01c8":"Lj","\u24c2":"M","\uff2d":"M","\u1e3e":"M","\u1e40":"M","\u1e42":"M","\u2c6e":"M",
"\u019c":"M","\u24c3":"N","\uff2e":"N","\u01f8":"N","\u0143":"N","\u00d1":"N","\u1e44":"N","\u0147":"N","\u1e46":"N","\u0145":"N","\u1e4a":"N","\u1e48":"N","\u0220":"N","\u019d":"N","\ua790":"N","\ua7a4":"N","\u01ca":"NJ","\u01cb":"Nj","\u24c4":"O","\uff2f":"O","\u00d2":"O","\u00d3":"O","\u00d4":"O","\u1ed2":"O","\u1ed0":"O","\u1ed6":"O","\u1ed4":"O","\u00d5":"O","\u1e4c":"O","\u022c":"O","\u1e4e":"O","\u014c":"O","\u1e50":"O","\u1e52":"O","\u014e":"O","\u022e":"O","\u0230":"O","\u00d6":"O","\u022a":"O",
"\u1ece":"O","\u0150":"O","\u01d1":"O","\u020c":"O","\u020e":"O","\u01a0":"O","\u1edc":"O","\u1eda":"O","\u1ee0":"O","\u1ede":"O","\u1ee2":"O","\u1ecc":"O","\u1ed8":"O","\u01ea":"O","\u01ec":"O","\u00d8":"O","\u01fe":"O","\u0186":"O","\u019f":"O","\ua74a":"O","\ua74c":"O","\u01a2":"OI","\ua74e":"OO","\u0222":"OU","\u24c5":"P","\uff30":"P","\u1e54":"P","\u1e56":"P","\u01a4":"P","\u2c63":"P","\ua750":"P","\ua752":"P","\ua754":"P","\u24c6":"Q","\uff31":"Q","\ua756":"Q","\ua758":"Q","\u024a":"Q","\u24c7":"R",
"\uff32":"R","\u0154":"R","\u1e58":"R","\u0158":"R","\u0210":"R","\u0212":"R","\u1e5a":"R","\u1e5c":"R","\u0156":"R","\u1e5e":"R","\u024c":"R","\u2c64":"R","\ua75a":"R","\ua7a6":"R","\ua782":"R","\u24c8":"S","\uff33":"S","\u1e9e":"S","\u015a":"S","\u1e64":"S","\u015c":"S","\u1e60":"S","\u0160":"S","\u1e66":"S","\u1e62":"S","\u1e68":"S","\u0218":"S","\u015e":"S","\u2c7e":"S","\ua7a8":"S","\ua784":"S","\u24c9":"T","\uff34":"T","\u1e6a":"T","\u0164":"T","\u1e6c":"T","\u021a":"T","\u0162":"T","\u1e70":"T",
"\u1e6e":"T","\u0166":"T","\u01ac":"T","\u01ae":"T","\u023e":"T","\ua786":"T","\ua728":"TZ","\u24ca":"U","\uff35":"U","\u00d9":"U","\u00da":"U","\u00db":"U","\u0168":"U","\u1e78":"U","\u016a":"U","\u1e7a":"U","\u016c":"U","\u00dc":"U","\u01db":"U","\u01d7":"U","\u01d5":"U","\u01d9":"U","\u1ee6":"U","\u016e":"U","\u0170":"U","\u01d3":"U","\u0214":"U","\u0216":"U","\u01af":"U","\u1eea":"U","\u1ee8":"U","\u1eee":"U","\u1eec":"U","\u1ef0":"U","\u1ee4":"U","\u1e72":"U","\u0172":"U","\u1e76":"U","\u1e74":"U",
"\u0244":"U","\u24cb":"V","\uff36":"V","\u1e7c":"V","\u1e7e":"V","\u01b2":"V","\ua75e":"V","\u0245":"V","\ua760":"VY","\u24cc":"W","\uff37":"W","\u1e80":"W","\u1e82":"W","\u0174":"W","\u1e86":"W","\u1e84":"W","\u1e88":"W","\u2c72":"W","\u24cd":"X","\uff38":"X","\u1e8a":"X","\u1e8c":"X","\u24ce":"Y","\uff39":"Y","\u1ef2":"Y","\u00dd":"Y","\u0176":"Y","\u1ef8":"Y","\u0232":"Y","\u1e8e":"Y","\u0178":"Y","\u1ef6":"Y","\u1ef4":"Y","\u01b3":"Y","\u024e":"Y","\u1efe":"Y","\u24cf":"Z","\uff3a":"Z","\u0179":"Z",
"\u1e90":"Z","\u017b":"Z","\u017d":"Z","\u1e92":"Z","\u1e94":"Z","\u01b5":"Z","\u0224":"Z","\u2c7f":"Z","\u2c6b":"Z","\ua762":"Z","\u24d0":"a","\uff41":"a","\u1e9a":"a","\u00e0":"a","\u00e1":"a","\u00e2":"a","\u1ea7":"a","\u1ea5":"a","\u1eab":"a","\u1ea9":"a","\u00e3":"a","\u0101":"a","\u0103":"a","\u1eb1":"a","\u1eaf":"a","\u1eb5":"a","\u1eb3":"a","\u0227":"a","\u01e1":"a","\u00e4":"a","\u01df":"a","\u1ea3":"a","\u00e5":"a","\u01fb":"a","\u01ce":"a","\u0201":"a","\u0203":"a","\u1ea1":"a","\u1ead":"a",
"\u1eb7":"a","\u1e01":"a","\u0105":"a","\u2c65":"a","\u0250":"a","\ua733":"aa","\u00e6":"ae","\u01fd":"ae","\u01e3":"ae","\ua735":"ao","\ua737":"au","\ua739":"av","\ua73b":"av","\ua73d":"ay","\u24d1":"b","\uff42":"b","\u1e03":"b","\u1e05":"b","\u1e07":"b","\u0180":"b","\u0183":"b","\u0253":"b","\u24d2":"c","\uff43":"c","\u0107":"c","\u0109":"c","\u010b":"c","\u010d":"c","\u00e7":"c","\u1e09":"c","\u0188":"c","\u023c":"c","\ua73f":"c","\u2184":"c","\u24d3":"d","\uff44":"d","\u1e0b":"d","\u010f":"d",
"\u1e0d":"d","\u1e11":"d","\u1e13":"d","\u1e0f":"d","\u0111":"d","\u018c":"d","\u0256":"d","\u0257":"d","\ua77a":"d","\u01f3":"dz","\u01c6":"dz","\u24d4":"e","\uff45":"e","\u00e8":"e","\u00e9":"e","\u00ea":"e","\u1ec1":"e","\u1ebf":"e","\u1ec5":"e","\u1ec3":"e","\u1ebd":"e","\u0113":"e","\u1e15":"e","\u1e17":"e","\u0115":"e","\u0117":"e","\u00eb":"e","\u1ebb":"e","\u011b":"e","\u0205":"e","\u0207":"e","\u1eb9":"e","\u1ec7":"e","\u0229":"e","\u1e1d":"e","\u0119":"e","\u1e19":"e","\u1e1b":"e","\u0247":"e",
"\u025b":"e","\u01dd":"e","\u24d5":"f","\uff46":"f","\u1e1f":"f","\u0192":"f","\ua77c":"f","\u24d6":"g","\uff47":"g","\u01f5":"g","\u011d":"g","\u1e21":"g","\u011f":"g","\u0121":"g","\u01e7":"g","\u0123":"g","\u01e5":"g","\u0260":"g","\ua7a1":"g","\u1d79":"g","\ua77f":"g","\u24d7":"h","\uff48":"h","\u0125":"h","\u1e23":"h","\u1e27":"h","\u021f":"h","\u1e25":"h","\u1e29":"h","\u1e2b":"h","\u1e96":"h","\u0127":"h","\u2c68":"h","\u2c76":"h","\u0265":"h","\u0195":"hv","\u24d8":"i","\uff49":"i","\u00ec":"i",
"\u00ed":"i","\u00ee":"i","\u0129":"i","\u012b":"i","\u012d":"i","\u00ef":"i","\u1e2f":"i","\u1ec9":"i","\u01d0":"i","\u0209":"i","\u020b":"i","\u1ecb":"i","\u012f":"i","\u1e2d":"i","\u0268":"i","\u0131":"i","\u24d9":"j","\uff4a":"j","\u0135":"j","\u01f0":"j","\u0249":"j","\u24da":"k","\uff4b":"k","\u1e31":"k","\u01e9":"k","\u1e33":"k","\u0137":"k","\u1e35":"k","\u0199":"k","\u2c6a":"k","\ua741":"k","\ua743":"k","\ua745":"k","\ua7a3":"k","\u24db":"l","\uff4c":"l","\u0140":"l","\u013a":"l","\u013e":"l",
"\u1e37":"l","\u1e39":"l","\u013c":"l","\u1e3d":"l","\u1e3b":"l","\u017f":"l","\u0142":"l","\u019a":"l","\u026b":"l","\u2c61":"l","\ua749":"l","\ua781":"l","\ua747":"l","\u01c9":"lj","\u24dc":"m","\uff4d":"m","\u1e3f":"m","\u1e41":"m","\u1e43":"m","\u0271":"m","\u026f":"m","\u24dd":"n","\uff4e":"n","\u01f9":"n","\u0144":"n","\u00f1":"n","\u1e45":"n","\u0148":"n","\u1e47":"n","\u0146":"n","\u1e4b":"n","\u1e49":"n","\u019e":"n","\u0272":"n","\u0149":"n","\ua791":"n","\ua7a5":"n","\u01cc":"nj","\u24de":"o",
"\uff4f":"o","\u00f2":"o","\u00f3":"o","\u00f4":"o","\u1ed3":"o","\u1ed1":"o","\u1ed7":"o","\u1ed5":"o","\u00f5":"o","\u1e4d":"o","\u022d":"o","\u1e4f":"o","\u014d":"o","\u1e51":"o","\u1e53":"o","\u014f":"o","\u022f":"o","\u0231":"o","\u00f6":"o","\u022b":"o","\u1ecf":"o","\u0151":"o","\u01d2":"o","\u020d":"o","\u020f":"o","\u01a1":"o","\u1edd":"o","\u1edb":"o","\u1ee1":"o","\u1edf":"o","\u1ee3":"o","\u1ecd":"o","\u1ed9":"o","\u01eb":"o","\u01ed":"o","\u00f8":"o","\u01ff":"o","\u0254":"o","\ua74b":"o",
"\ua74d":"o","\u0275":"o","\u01a3":"oi","\u0223":"ou","\ua74f":"oo","\u24df":"p","\uff50":"p","\u1e55":"p","\u1e57":"p","\u01a5":"p","\u1d7d":"p","\ua751":"p","\ua753":"p","\ua755":"p","\u24e0":"q","\uff51":"q","\u024b":"q","\ua757":"q","\ua759":"q","\u24e1":"r","\uff52":"r","\u0155":"r","\u1e59":"r","\u0159":"r","\u0211":"r","\u0213":"r","\u1e5b":"r","\u1e5d":"r","\u0157":"r","\u1e5f":"r","\u024d":"r","\u027d":"r","\ua75b":"r","\ua7a7":"r","\ua783":"r","\u24e2":"s","\uff53":"s","\u00df":"s","\u015b":"s",
"\u1e65":"s","\u015d":"s","\u1e61":"s","\u0161":"s","\u1e67":"s","\u1e63":"s","\u1e69":"s","\u0219":"s","\u015f":"s","\u023f":"s","\ua7a9":"s","\ua785":"s","\u1e9b":"s","\u24e3":"t","\uff54":"t","\u1e6b":"t","\u1e97":"t","\u0165":"t","\u1e6d":"t","\u021b":"t","\u0163":"t","\u1e71":"t","\u1e6f":"t","\u0167":"t","\u01ad":"t","\u0288":"t","\u2c66":"t","\ua787":"t","\ua729":"tz","\u24e4":"u","\uff55":"u","\u00f9":"u","\u00fa":"u","\u00fb":"u","\u0169":"u","\u1e79":"u","\u016b":"u","\u1e7b":"u","\u016d":"u",
"\u00fc":"u","\u01dc":"u","\u01d8":"u","\u01d6":"u","\u01da":"u","\u1ee7":"u","\u016f":"u","\u0171":"u","\u01d4":"u","\u0215":"u","\u0217":"u","\u01b0":"u","\u1eeb":"u","\u1ee9":"u","\u1eef":"u","\u1eed":"u","\u1ef1":"u","\u1ee5":"u","\u1e73":"u","\u0173":"u","\u1e77":"u","\u1e75":"u","\u0289":"u","\u24e5":"v","\uff56":"v","\u1e7d":"v","\u1e7f":"v","\u028b":"v","\ua75f":"v","\u028c":"v","\ua761":"vy","\u24e6":"w","\uff57":"w","\u1e81":"w","\u1e83":"w","\u0175":"w","\u1e87":"w","\u1e85":"w","\u1e98":"w",
"\u1e89":"w","\u2c73":"w","\u24e7":"x","\uff58":"x","\u1e8b":"x","\u1e8d":"x","\u24e8":"y","\uff59":"y","\u1ef3":"y","\u00fd":"y","\u0177":"y","\u1ef9":"y","\u0233":"y","\u1e8f":"y","\u00ff":"y","\u1ef7":"y","\u1e99":"y","\u1ef5":"y","\u01b4":"y","\u024f":"y","\u1eff":"y","\u24e9":"z","\uff5a":"z","\u017a":"z","\u1e91":"z","\u017c":"z","\u017e":"z","\u1e93":"z","\u1e95":"z","\u01b6":"z","\u0225":"z","\u0240":"z","\u2c6c":"z","\ua763":"z","\u0386":"\u0391","\u0388":"\u0395","\u0389":"\u0397","\u038a":"\u0399",
"\u03aa":"\u0399","\u038c":"\u039f","\u038e":"\u03a5","\u03ab":"\u03a5","\u038f":"\u03a9","\u03ac":"\u03b1","\u03ad":"\u03b5","\u03ae":"\u03b7","\u03af":"\u03b9","\u03ca":"\u03b9","\u0390":"\u03b9","\u03cc":"\u03bf","\u03cd":"\u03c5","\u03cb":"\u03c5","\u03b0":"\u03c5","\u03c9":"\u03c9","\u03c2":"\u03c3"}});b.define("select2/data/base",["../utils"],function(c){function e(f,h){e.__super__.constructor.call(this)}c.Extend(e,c.Observable);e.prototype.current=function(f){throw Error("The `current` method must be defined in child classes.");
};e.prototype.query=function(f,h){throw Error("The `query` method must be defined in child classes.");};e.prototype.bind=function(f,h){};e.prototype.destroy=function(){};e.prototype.generateResultId=function(f,h){f=f.id+"-result-";f+=c.generateChars(4);return f=null!=h.id?f+("-"+h.id.toString()):f+("-"+c.generateChars(4))};return e});b.define("select2/data/select",["./base","../utils","jquery"],function(c,e,f){function h(m,k){this.$element=m;this.options=k;h.__super__.constructor.call(this)}e.Extend(h,
c);h.prototype.current=function(m){var k=[],l=this;this.$element.find(":selected").each(function(){var p=f(this);p=l.item(p);k.push(p)});m(k)};h.prototype.select=function(m){var k=this;m.selected=!0;f(m.element).is("option")?(m.element.selected=!0,this.$element.trigger("change")):this.$element.prop("multiple")?this.current(function(l){var p=[];m=[m];m.push.apply(m,l);for(l=0;l<m.length;l++){var q=m[l].id;-1===f.inArray(q,p)&&p.push(q)}k.$element.val(p);k.$element.trigger("change")}):(this.$element.val(m.id),
this.$element.trigger("change"))};h.prototype.unselect=function(m){var k=this;this.$element.prop("multiple")&&(m.selected=!1,f(m.element).is("option")?(m.element.selected=!1,this.$element.trigger("change")):this.current(function(l){for(var p=[],q=0;q<l.length;q++){var u=l[q].id;u!==m.id&&-1===f.inArray(u,p)&&p.push(u)}k.$element.val(p);k.$element.trigger("change")}))};h.prototype.bind=function(m,k){var l=this;this.container=m;m.on("select",function(p){l.select(p.data)});m.on("unselect",function(p){l.unselect(p.data)})};
h.prototype.destroy=function(){this.$element.find("*").each(function(){f.removeData(this,"data")})};h.prototype.query=function(m,k){var l=[],p=this;this.$element.children().each(function(){var q=f(this);if(q.is("option")||q.is("optgroup"))q=p.item(q),q=p.matches(m,q),null!==q&&l.push(q)});k({results:l})};h.prototype.addOptions=function(m){e.appendMany(this.$element,m)};h.prototype.option=function(m){if(m.children){var k=document.createElement("optgroup");k.label=m.text}else k=document.createElement("option"),
void 0!==k.textContent?k.textContent=m.text:k.innerText=m.text;m.id&&(k.value=m.id);m.disabled&&(k.disabled=!0);m.selected&&(k.selected=!0);m.title&&(k.title=m.title);var l=f(k);m=this._normalizeItem(m);m.element=k;f.data(k,"data",m);return l};h.prototype.item=function(m){var k=f.data(m[0],"data");if(null!=k)return k;if(m.is("option"))k={id:m.val(),text:m.text(),disabled:m.prop("disabled"),selected:m.prop("selected"),title:m.prop("title")};else if(m.is("optgroup")){k={text:m.prop("label"),children:[],
title:m.prop("title")};for(var l=m.children("option"),p=[],q=0;q<l.length;q++){var u=f(l[q]);u=this.item(u);p.push(u)}k.children=p}k=this._normalizeItem(k);k.element=m[0];f.data(m[0],"data",k);return k};h.prototype._normalizeItem=function(m){f.isPlainObject(m)||(m={id:m,text:m});m=f.extend({},{text:""},m);null!=m.id&&(m.id=m.id.toString());null!=m.text&&(m.text=m.text.toString());null==m._resultId&&m.id&&null!=this.container&&(m._resultId=this.generateResultId(this.container,m));return f.extend({},
{selected:!1,disabled:!1},m)};h.prototype.matches=function(m,k){return this.options.get("matcher")(m,k)};return h});b.define("select2/data/array",["./select","../utils","jquery"],function(c,e,f){function h(m,k){var l=k.get("data")||[];h.__super__.constructor.call(this,m,k);this.addOptions(this.convertToOptions(l))}e.Extend(h,c);h.prototype.select=function(m){var k=this.$element.find("option").filter(function(l,p){return p.value==m.id.toString()});0===k.length&&(k=this.option(m),this.addOptions(k));
h.__super__.select.call(this,m)};h.prototype.convertToOptions=function(m){function k(z){return function(){return f(this).val()==z.id}}for(var l=this,p=this.$element.find("option"),q=p.map(function(){return l.item(f(this)).id}).get(),u=[],t=0;t<m.length;t++){var C=this._normalizeItem(m[t]);if(0<=f.inArray(C.id,q)){var D=p.filter(k(C)),w=this.item(D);C=f.extend(!0,{},C,w);C=this.option(C);D.replaceWith(C)}else D=this.option(C),C.children&&(C=this.convertToOptions(C.children),e.appendMany(D,C)),u.push(D)}return u};
return h});b.define("select2/data/ajax",["./array","../utils","jquery"],function(c,e,f){function h(m,k){this.ajaxOptions=this._applyDefaults(k.get("ajax"));null!=this.ajaxOptions.processResults&&(this.processResults=this.ajaxOptions.processResults);h.__super__.constructor.call(this,m,k)}e.Extend(h,c);h.prototype._applyDefaults=function(m){return f.extend({},{data:function(k){return f.extend({},k,{q:k.term})},transport:function(k,l,p){k=f.ajax(k);k.then(l);k.fail(p);return k}},m,!0)};h.prototype.processResults=
function(m){return m};h.prototype.query=function(m,k){function l(){var u=q.transport(q,function(t){t=p.processResults(t,m);p.options.get("debug")&&window.console&&console.error&&(t&&t.results&&f.isArray(t.results)||console.error("Select2: The AJAX results did not return an array in the `results` key of the response."));k(t)},function(){p.trigger("results:message",{message:"errorLoading"})});p._request=u}var p=this;null!=this._request&&(f.isFunction(this._request.abort)&&this._request.abort(),this._request=
null);var q=f.extend({type:"GET"},this.ajaxOptions);"function"===typeof q.url&&(q.url=q.url.call(this.$element,m));"function"===typeof q.data&&(q.data=q.data.call(this.$element,m));this.ajaxOptions.delay&&""!==m.term?(this._queryTimeout&&window.clearTimeout(this._queryTimeout),this._queryTimeout=window.setTimeout(l,this.ajaxOptions.delay)):l()};return h});b.define("select2/data/tags",["jquery"],function(c){function e(f,h,m){var k=m.get("tags"),l=m.get("createTag");void 0!==l&&(this.createTag=l);l=
m.get("insertTag");void 0!==l&&(this.insertTag=l);f.call(this,h,m);if(c.isArray(k))for(f=0;f<k.length;f++)h=this._normalizeItem(k[f]),h=this.option(h),this.$element.append(h)}e.prototype.query=function(f,h,m){function k(p,q){for(var u=p.results,t=0;t<u.length;t++){var C=u[t],D=null!=C.children&&!k({results:C.children},!0);if(C.text===h.term||D){if(q)return!1;p.data=u;m(p);return}}if(q)return!0;q=l.createTag(h);null!=q&&(t=l.option(q),t.attr("data-select2-tag",!0),l.addOptions([t]),l.insertTag(u,q));
p.results=u;m(p)}var l=this;this._removeOldTags();null==h.term||null!=h.page?f.call(this,h,m):f.call(this,h,k)};e.prototype.createTag=function(f,h){f=c.trim(h.term);return""===f?null:{id:f,text:f}};e.prototype.insertTag=function(f,h,m){h.unshift(m)};e.prototype._removeOldTags=function(f){this.$element.find("option[data-select2-tag]").each(function(){this.selected||c(this).remove()})};return e});b.define("select2/data/tokenizer",["jquery"],function(c){function e(f,h,m){var k=m.get("tokenizer");void 0!==
k&&(this.tokenizer=k);f.call(this,h,m)}e.prototype.bind=function(f,h,m){f.call(this,h,m);this.$search=h.dropdown.$search||h.selection.$search||m.find(".select2-search__field")};e.prototype.query=function(f,h,m){var k=this;h.term=h.term||"";var l=this.tokenizer(h,this.options,function(p){k.trigger("select",{data:p})});l.term!==h.term&&(this.$search.length&&(this.$search.val(l.term),this.$search.focus()),h.term=l.term);f.call(this,h,m)};e.prototype.tokenizer=function(f,h,m,k){f=m.get("tokenSeparators")||
[];m=h.term;for(var l=0,p=this.createTag||function(u){return{id:u.term,text:u.term}};l<m.length;)if(-1===c.inArray(m[l],f))l++;else{var q=m.substr(0,l);q=c.extend({},h,{term:q});q=p(q);null==q?l++:(k(q),m=m.substr(l+1)||"",l=0)}return{term:m}};return e});b.define("select2/data/minimumInputLength",[],function(){function c(e,f,h){this.minimumInputLength=h.get("minimumInputLength");e.call(this,f,h)}c.prototype.query=function(e,f,h){f.term=f.term||"";f.term.length<this.minimumInputLength?this.trigger("results:message",
{message:"inputTooShort",args:{minimum:this.minimumInputLength,input:f.term,params:f}}):e.call(this,f,h)};return c});b.define("select2/data/maximumInputLength",[],function(){function c(e,f,h){this.maximumInputLength=h.get("maximumInputLength");e.call(this,f,h)}c.prototype.query=function(e,f,h){f.term=f.term||"";0<this.maximumInputLength&&f.term.length>this.maximumInputLength?this.trigger("results:message",{message:"inputTooLong",args:{maximum:this.maximumInputLength,input:f.term,params:f}}):e.call(this,
f,h)};return c});b.define("select2/data/maximumSelectionLength",[],function(){function c(e,f,h){this.maximumSelectionLength=h.get("maximumSelectionLength");e.call(this,f,h)}c.prototype.query=function(e,f,h){var m=this;this.current(function(k){k=null!=k?k.length:0;0<m.maximumSelectionLength&&k>=m.maximumSelectionLength?m.trigger("results:message",{message:"maximumSelected",args:{maximum:m.maximumSelectionLength}}):e.call(m,f,h)})};return c});b.define("select2/dropdown",["jquery","./utils"],function(c,
e){function f(h,m){this.$element=h;this.options=m;f.__super__.constructor.call(this)}e.Extend(f,e.Observable);f.prototype.render=function(){var h=c('<span class="select2-dropdown"><span class="select2-results"></span></span>');h.attr("dir",this.options.get("dir"));return this.$dropdown=h};f.prototype.bind=function(){};f.prototype.position=function(h,m){};f.prototype.destroy=function(){this.$dropdown.remove()};return f});b.define("select2/dropdown/search",["jquery","../utils"],function(c,e){function f(){}
f.prototype.render=function(h){h=h.call(this);var m=c('<span class="select2-search select2-search--dropdown"><input class="select2-search__field" type="search" tabindex="-1" autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false" role="textbox" /></span>');this.$searchContainer=m;this.$search=m.find("input");h.prepend(m);return h};f.prototype.bind=function(h,m,k){var l=this;h.call(this,m,k);this.$search.on("keydown",function(p){l.trigger("keypress",p);l._keyUpPrevented=p.isDefaultPrevented()});
this.$search.on("input",function(p){c(this).off("keyup")});this.$search.on("keyup input",function(p){l.handleSearch(p)});m.on("open",function(){l.$search.attr("tabindex",0);l.$search.focus();window.setTimeout(function(){l.$search.focus()},0)});m.on("close",function(){l.$search.attr("tabindex",-1);l.$search.val("")});m.on("results:all",function(p){if(null==p.query.term||""===p.query.term)l.showSearch(p)?l.$searchContainer.removeClass("select2-search--hide"):l.$searchContainer.addClass("select2-search--hide")})};
f.prototype.handleSearch=function(h){this._keyUpPrevented||(h=this.$search.val(),this.trigger("query",{term:h}));this._keyUpPrevented=!1};f.prototype.showSearch=function(h,m){return!0};return f});b.define("select2/dropdown/hidePlaceholder",[],function(){function c(e,f,h,m){this.placeholder=this.normalizePlaceholder(h.get("placeholder"));e.call(this,f,h,m)}c.prototype.append=function(e,f){f.results=this.removePlaceholder(f.results);e.call(this,f)};c.prototype.normalizePlaceholder=function(e,f){"string"===
typeof f&&(f={id:"",text:f});return f};c.prototype.removePlaceholder=function(e,f){e=f.slice(0);for(var h=f.length-1;0<=h;h--)this.placeholder.id===f[h].id&&e.splice(h,1);return e};return c});b.define("select2/dropdown/infiniteScroll",["jquery"],function(c){function e(f,h,m,k){this.lastParams={};f.call(this,h,m,k);this.$loadingMore=this.createLoadingMore();this.loading=!1}e.prototype.append=function(f,h){this.$loadingMore.remove();this.loading=!1;f.call(this,h);this.showLoadingMore(h)&&this.$results.append(this.$loadingMore)};
e.prototype.bind=function(f,h,m){var k=this;f.call(this,h,m);h.on("query",function(l){k.lastParams=l;k.loading=!0});h.on("query:append",function(l){k.lastParams=l;k.loading=!0});this.$results.on("scroll",function(){var l=c.contains(document.documentElement,k.$loadingMore[0]);if(!k.loading&&l){l=k.$results.offset().top+k.$results.outerHeight(!1);var p=k.$loadingMore.offset().top+k.$loadingMore.outerHeight(!1);l+50>=p&&k.loadMore()}})};e.prototype.loadMore=function(){this.loading=!0;var f=c.extend({},
{page:1},this.lastParams);f.page++;this.trigger("query:append",f)};e.prototype.showLoadingMore=function(f,h){return h.pagination&&h.pagination.more};e.prototype.createLoadingMore=function(){var f=c('<li class="select2-results__option select2-results__option--load-more"role="treeitem" aria-disabled="true"></li>'),h=this.options.get("translations").get("loadingMore");f.html(h(this.lastParams));return f};return e});b.define("select2/dropdown/attachBody",["jquery","../utils"],function(c,e){function f(h,
m,k){this.$dropdownParent=k.get("dropdownParent")||c(document.body);h.call(this,m,k)}f.prototype.bind=function(h,m,k){var l=this,p=!1;h.call(this,m,k);m.on("open",function(){l._showDropdown();l._attachPositioningHandler(m);p||(p=!0,m.on("results:all",function(){l._positionDropdown();l._resizeDropdown()}),m.on("results:append",function(){l._positionDropdown();l._resizeDropdown()}))});m.on("close",function(){l._hideDropdown();l._detachPositioningHandler(m)});this.$dropdownContainer.on("mousedown",function(q){q.stopPropagation()})};
f.prototype.destroy=function(h){h.call(this);this.$dropdownContainer.remove()};f.prototype.position=function(h,m,k){m.attr("class",k.attr("class"));m.removeClass("select2");m.addClass("select2-container--open");m.css({position:"absolute",top:-999999});this.$container=k};f.prototype.render=function(h){var m=c("<span></span>");h=h.call(this);m.append(h);return this.$dropdownContainer=m};f.prototype._hideDropdown=function(h){this.$dropdownContainer.detach()};f.prototype._attachPositioningHandler=function(h,
m){var k=this;h="scroll.select2."+m.id;var l="resize.select2."+m.id;m="orientationchange.select2."+m.id;var p=this.$container.parents().filter(e.hasScroll);p.each(function(){c(this).data("select2-scroll-position",{x:c(this).scrollLeft(),y:c(this).scrollTop()})});p.on(h,function(q){q=c(this).data("select2-scroll-position");c(this).scrollTop(q.y)});c(window).on(h+" "+l+" "+m,function(q){k._positionDropdown();k._resizeDropdown()})};f.prototype._detachPositioningHandler=function(h,m){h="scroll.select2."+
m.id;var k="resize.select2."+m.id;m="orientationchange.select2."+m.id;this.$container.parents().filter(e.hasScroll).off(h);c(window).off(h+" "+k+" "+m)};f.prototype._positionDropdown=function(){var h=c(window),m=this.$dropdown.hasClass("select2-dropdown--above"),k=this.$dropdown.hasClass("select2-dropdown--below"),l=null,p=this.$container.offset();p.bottom=p.top+this.$container.outerHeight(!1);var q=this.$container.outerHeight(!1);var u=p.top;var t=p.top+q;q=this.$dropdown.outerHeight(!1);var C=h.scrollTop(),
D=h.scrollTop()+h.height();h=C<p.top-q;C=D>p.bottom+q;p={left:p.left,top:t};t=this.$dropdownParent;"static"===t.css("position")&&(t=t.offsetParent());t=t.offset();p.top-=t.top;p.left-=t.left;m||k||(l="below");C||!h||m?!h&&C&&m&&(l="below"):l="above";if("above"==l||m&&"below"!==l)p.top=u-q;null!=l&&(this.$dropdown.removeClass("select2-dropdown--below select2-dropdown--above").addClass("select2-dropdown--"+l),this.$container.removeClass("select2-container--below select2-container--above").addClass("select2-container--"+
l));this.$dropdownContainer.css(p)};f.prototype._resizeDropdown=function(){var h={width:this.$container.outerWidth(!1)+"px"};this.options.get("dropdownAutoWidth")&&(h.minWidth=h.width,h.width="auto");this.$dropdown.css(h)};f.prototype._showDropdown=function(h){this.$dropdownContainer.appendTo(this.$dropdownParent);this._positionDropdown();this._resizeDropdown()};return f});b.define("select2/dropdown/minimumResultsForSearch",[],function(){function c(f){for(var h=0,m=0;m<f.length;m++){var k=f[m];k.children?
h+=c(k.children):h++}return h}function e(f,h,m,k){this.minimumResultsForSearch=m.get("minimumResultsForSearch");0>this.minimumResultsForSearch&&(this.minimumResultsForSearch=Infinity);f.call(this,h,m,k)}e.prototype.showSearch=function(f,h){return c(h.data.results)<this.minimumResultsForSearch?!1:f.call(this,h)};return e});b.define("select2/dropdown/selectOnClose",[],function(){function c(){}c.prototype.bind=function(e,f,h){var m=this;e.call(this,f,h);f.on("close",function(){m._handleSelectOnClose()})};
c.prototype._handleSelectOnClose=function(){var e=this.getHighlightedResults();1>e.length||(e=e.data("data"),null!=e.element&&e.element.selected||null==e.element&&e.selected||this.trigger("select",{data:e}))};return c});b.define("select2/dropdown/closeOnSelect",[],function(){function c(){}c.prototype.bind=function(e,f,h){var m=this;e.call(this,f,h);f.on("select",function(k){m._selectTriggered(k)});f.on("unselect",function(k){m._selectTriggered(k)})};c.prototype._selectTriggered=function(e,f){(e=f.originalEvent)&&
e.ctrlKey||this.trigger("close",{})};return c});b.define("select2/i18n/en",[],function(){return{errorLoading:function(){return"The results could not be loaded."},inputTooLong:function(c){c=c.input.length-c.maximum;var e="Please delete "+c+" character";1!=c&&(e+="s");return e},inputTooShort:function(c){return"Please enter "+(c.minimum-c.input.length)+" or more characters"},loadingMore:function(){return"Loading more results\u2026"},maximumSelected:function(c){var e="You can only select "+c.maximum+
" item";1!=c.maximum&&(e+="s");return e},noResults:function(){return"No results found"},searching:function(){return"Searching\u2026"}}});b.define("select2/defaults","jquery require ./results ./selection/single ./selection/multiple ./selection/placeholder ./selection/allowClear ./selection/search ./selection/eventRelay ./utils ./translation ./diacritics ./data/select ./data/array ./data/ajax ./data/tags ./data/tokenizer ./data/minimumInputLength ./data/maximumInputLength ./data/maximumSelectionLength ./dropdown ./dropdown/search ./dropdown/hidePlaceholder ./dropdown/infiniteScroll ./dropdown/attachBody ./dropdown/minimumResultsForSearch ./dropdown/selectOnClose ./dropdown/closeOnSelect ./i18n/en".split(" "),
function(c,e,f,h,m,k,l,p,q,u,t,C,D,w,z,L,U,V,Y,T,J,P,K,E,x,H,M,G,N){function R(){this.reset()}R.prototype.apply=function(O){O=c.extend(!0,{},this.defaults,O);if(null==O.dataAdapter){O.dataAdapter=null!=O.ajax?z:null!=O.data?w:D;0<O.minimumInputLength&&(O.dataAdapter=u.Decorate(O.dataAdapter,V));0<O.maximumInputLength&&(O.dataAdapter=u.Decorate(O.dataAdapter,Y));0<O.maximumSelectionLength&&(O.dataAdapter=u.Decorate(O.dataAdapter,T));O.tags&&(O.dataAdapter=u.Decorate(O.dataAdapter,L));if(null!=O.tokenSeparators||
null!=O.tokenizer)O.dataAdapter=u.Decorate(O.dataAdapter,U);if(null!=O.query){var da=e(O.amdBase+"compat/query");O.dataAdapter=u.Decorate(O.dataAdapter,da)}null!=O.initSelection&&(da=e(O.amdBase+"compat/initSelection"),O.dataAdapter=u.Decorate(O.dataAdapter,da))}null==O.resultsAdapter&&(O.resultsAdapter=f,null!=O.ajax&&(O.resultsAdapter=u.Decorate(O.resultsAdapter,E)),null!=O.placeholder&&(O.resultsAdapter=u.Decorate(O.resultsAdapter,K)),O.selectOnClose&&(O.resultsAdapter=u.Decorate(O.resultsAdapter,
M)));if(null==O.dropdownAdapter){O.multiple?O.dropdownAdapter=J:(da=u.Decorate(J,P),O.dropdownAdapter=da);0!==O.minimumResultsForSearch&&(O.dropdownAdapter=u.Decorate(O.dropdownAdapter,H));O.closeOnSelect&&(O.dropdownAdapter=u.Decorate(O.dropdownAdapter,G));if(null!=O.dropdownCssClass||null!=O.dropdownCss||null!=O.adaptDropdownCssClass)da=e(O.amdBase+"compat/dropdownCss"),O.dropdownAdapter=u.Decorate(O.dropdownAdapter,da);O.dropdownAdapter=u.Decorate(O.dropdownAdapter,x)}if(null==O.selectionAdapter){O.selectionAdapter=
O.multiple?m:h;null!=O.placeholder&&(O.selectionAdapter=u.Decorate(O.selectionAdapter,k));O.allowClear&&(O.selectionAdapter=u.Decorate(O.selectionAdapter,l));O.multiple&&(O.selectionAdapter=u.Decorate(O.selectionAdapter,p));if(null!=O.containerCssClass||null!=O.containerCss||null!=O.adaptContainerCssClass)da=e(O.amdBase+"compat/containerCss"),O.selectionAdapter=u.Decorate(O.selectionAdapter,da);O.selectionAdapter=u.Decorate(O.selectionAdapter,q)}"string"===typeof O.language&&(0<O.language.indexOf("-")?
(da=O.language.split("-")[0],O.language=[O.language,da]):O.language=[O.language]);if(c.isArray(O.language)){da=new t;O.language.push("en");for(var X=O.language,la=0;la<X.length;la++){var qa=X[la],va={};try{va=t.loadPath(qa)}catch(pa){try{qa=this.defaults.amdLanguageBase+qa,va=t.loadPath(qa)}catch(wa){O.debug&&window.console&&console.warn&&console.warn('Select2: The language file for "'+qa+'" could not be automatically loaded. A fallback will be used instead.');continue}}da.extend(va)}O.translations=
da}else da=t.loadPath(this.defaults.amdLanguageBase+"en"),X=new t(O.language),X.extend(da),O.translations=X;return O};R.prototype.reset=function(){function O(X){return X.replace(/[^\u0000-\u007E]/g,function(la){return C[la]||la})}function da(X,la){if(""===c.trim(X.term))return la;if(la.children&&0<la.children.length){for(var qa=c.extend(!0,{},la),va=la.children.length-1;0<=va;va--)null==da(X,la.children[va])&&qa.children.splice(va,1);return 0<qa.children.length?qa:da(X,qa)}qa=O(la.text).toUpperCase();
X=O(X.term).toUpperCase();return-1<qa.indexOf(X)?la:null}this.defaults={amdBase:"./",amdLanguageBase:"./i18n/",closeOnSelect:!0,debug:!1,dropdownAutoWidth:!1,escapeMarkup:u.escapeMarkup,language:N,matcher:da,minimumInputLength:0,maximumInputLength:0,maximumSelectionLength:0,minimumResultsForSearch:0,selectOnClose:!1,sorter:function(X){return X},templateResult:function(X){return X.text},templateSelection:function(X){return X.text},theme:"default",width:"resolve"}};R.prototype.set=function(O,da){O=
c.camelCase(O);var X={};X[O]=da;da=u._convertData(X);c.extend(this.defaults,da)};return new R});b.define("select2/options",["require","jquery","./defaults","./utils"],function(c,e,f,h){function m(k,l){this.options=k;null!=l&&this.fromElement(l);this.options=f.apply(this.options);l&&l.is("input")&&(k=c(this.get("amdBase")+"compat/inputData"),this.options.dataAdapter=h.Decorate(this.options.dataAdapter,k))}m.prototype.fromElement=function(k){var l=["select2"];null==this.options.multiple&&(this.options.multiple=
k.prop("multiple"));null==this.options.disabled&&(this.options.disabled=k.prop("disabled"));null==this.options.language&&(k.prop("lang")?this.options.language=k.prop("lang").toLowerCase():k.closest("[lang]").prop("lang")&&(this.options.language=k.closest("[lang]").prop("lang")));null==this.options.dir&&(k.prop("dir")?this.options.dir=k.prop("dir"):k.closest("[dir]").prop("dir")?this.options.dir=k.closest("[dir]").prop("dir"):this.options.dir="ltr");k.prop("disabled",this.options.disabled);k.prop("multiple",
this.options.multiple);k.data("select2Tags")&&(this.options.debug&&window.console&&console.warn&&console.warn('Select2: The `data-select2-tags` attribute has been changed to use the `data-data` and `data-tags="true"` attributes and will be removed in future versions of Select2.'),k.data("data",k.data("select2Tags")),k.data("tags",!0));k.data("ajaxUrl")&&(this.options.debug&&window.console&&console.warn&&console.warn("Select2: The `data-ajax-url` attribute has been changed to `data-ajax--url` and support for the old attribute will be removed in future versions of Select2."),
k.attr("ajax--url",k.data("ajaxUrl")),k.data("ajax--url",k.data("ajaxUrl")));k=e.fn.jquery&&"1."==e.fn.jquery.substr(0,2)&&k[0].dataset?e.extend(!0,{},k[0].dataset,k.data()):k.data();k=e.extend(!0,{},k);k=h._convertData(k);for(var p in k)-1<e.inArray(p,l)||(e.isPlainObject(this.options[p])?e.extend(this.options[p],k[p]):this.options[p]=k[p]);return this};m.prototype.get=function(k){return this.options[k]};m.prototype.set=function(k,l){this.options[k]=l};return m});b.define("select2/core",["jquery",
"./options","./utils","./keys"],function(c,e,f,h){var m=function(k,l){null!=k.data("select2")&&k.data("select2").destroy();this.$element=k;this.id=this._generateId(k);l=l||{};this.options=new e(l,k);m.__super__.constructor.call(this);l=k.attr("tabindex")||0;k.data("old-tabindex",l);k.attr("tabindex","-1");this.dataAdapter=new (this.options.get("dataAdapter"))(k,this.options);l=this.render();this._placeContainer(l);this.selection=new (this.options.get("selectionAdapter"))(k,this.options);this.$selection=
this.selection.render();this.selection.position(this.$selection,l);this.dropdown=new (this.options.get("dropdownAdapter"))(k,this.options);this.$dropdown=this.dropdown.render();this.dropdown.position(this.$dropdown,l);this.results=new (this.options.get("resultsAdapter"))(k,this.options,this.dataAdapter);this.$results=this.results.render();this.results.position(this.$results,this.$dropdown);var p=this;this._bindAdapters();this._registerDomEvents();this._registerDataEvents();this._registerSelectionEvents();
this._registerDropdownEvents();this._registerResultsEvents();this._registerEvents();this.dataAdapter.current(function(q){p.trigger("selection:update",{data:q})});k.addClass("select2-hidden-accessible");k.attr("aria-hidden","true");this._syncAttributes();k.data("select2",this)};f.Extend(m,f.Observable);m.prototype._generateId=function(k){k=null!=k.attr("id")?k.attr("id"):null!=k.attr("name")?k.attr("name")+"-"+f.generateChars(2):f.generateChars(4);k=k.replace(/(:|\.|\[|\]|,)/g,"");return"select2-"+
k};m.prototype._placeContainer=function(k){k.insertAfter(this.$element);var l=this._resolveWidth(this.$element,this.options.get("width"));null!=l&&k.css("width",l)};m.prototype._resolveWidth=function(k,l){var p=/^width:(([-+]?([0-9]*\.)?[0-9]+)(px|em|ex|%|in|cm|mm|pt|pc))/i;if("resolve"==l)return p=this._resolveWidth(k,"style"),null!=p?p:this._resolveWidth(k,"element");if("element"==l)return p=k.outerWidth(!1),0>=p?"auto":p+"px";if("style"==l){k=k.attr("style");if("string"!==typeof k)return null;
k=k.split(";");l=0;for(var q=k.length;l<q;l+=1){var u=k[l].replace(/\s/g,"").match(p);if(null!==u&&1<=u.length)return u[1]}return null}return l};m.prototype._bindAdapters=function(){this.dataAdapter.bind(this,this.$container);this.selection.bind(this,this.$container);this.dropdown.bind(this,this.$container);this.results.bind(this,this.$container)};m.prototype._registerDomEvents=function(){var k=this;this.$element.on("change.select2",function(){k.dataAdapter.current(function(p){k.trigger("selection:update",
{data:p})})});this._sync=f.bind(this._syncAttributes,this);this.$element[0].attachEvent&&this.$element[0].attachEvent("onpropertychange",this._sync);var l=window.MutationObserver||window.WebKitMutationObserver||window.MozMutationObserver;null!=l?(this._observer=new l(function(p){c.each(p,k._sync)}),this._observer.observe(this.$element[0],{attributes:!0,subtree:!1})):this.$element[0].addEventListener&&this.$element[0].addEventListener("DOMAttrModified",k._sync,!1)};m.prototype._registerDataEvents=
function(){var k=this;this.dataAdapter.on("*",function(l,p){k.trigger(l,p)})};m.prototype._registerSelectionEvents=function(){var k=this,l=["toggle","focus"];this.selection.on("toggle",function(){k.toggleDropdown()});this.selection.on("focus",function(p){k.focus(p)});this.selection.on("*",function(p,q){-1===c.inArray(p,l)&&k.trigger(p,q)})};m.prototype._registerDropdownEvents=function(){var k=this;this.dropdown.on("*",function(l,p){k.trigger(l,p)})};m.prototype._registerResultsEvents=function(){var k=
this;this.results.on("*",function(l,p){k.trigger(l,p)})};m.prototype._registerEvents=function(){var k=this;this.on("open",function(){k.$container.addClass("select2-container--open")});this.on("close",function(){k.$container.removeClass("select2-container--open")});this.on("enable",function(){k.$container.removeClass("select2-container--disabled")});this.on("disable",function(){k.$container.addClass("select2-container--disabled")});this.on("blur",function(){k.$container.removeClass("select2-container--focus")});
this.on("query",function(l){k.isOpen()||k.trigger("open",{});this.dataAdapter.query(l,function(p){k.trigger("results:all",{data:p,query:l})})});this.on("query:append",function(l){this.dataAdapter.query(l,function(p){k.trigger("results:append",{data:p,query:l})})});this.on("keypress",function(l){var p=l.which;if(k.isOpen())p===h.ESC||p===h.TAB||p===h.UP&&l.altKey?(k.close(),l.preventDefault()):p===h.ENTER?(k.trigger("results:select",{}),l.preventDefault()):p===h.SPACE&&l.ctrlKey?(k.trigger("results:toggle",
{}),l.preventDefault()):p===h.UP?(k.trigger("results:previous",{}),l.preventDefault()):p===h.DOWN&&(k.trigger("results:next",{}),l.preventDefault());else if(p===h.ENTER||p===h.SPACE||p===h.DOWN&&l.altKey)k.open(),l.preventDefault()})};m.prototype._syncAttributes=function(){this.options.set("disabled",this.$element.prop("disabled"));this.options.get("disabled")?(this.isOpen()&&this.close(),this.trigger("disable",{})):this.trigger("enable",{})};m.prototype.trigger=function(k,l){var p=m.__super__.trigger,
q={open:"opening",close:"closing",select:"selecting",unselect:"unselecting"};void 0===l&&(l={});if(k in q){var u={prevented:!1,name:k,args:l};p.call(this,q[k],u);if(u.prevented){l.prevented=!0;return}}p.call(this,k,l)};m.prototype.toggleDropdown=function(){this.options.get("disabled")||(this.isOpen()?this.close():this.open())};m.prototype.open=function(){this.isOpen()||this.trigger("query",{})};m.prototype.close=function(){this.isOpen()&&this.trigger("close",{})};m.prototype.isOpen=function(){return this.$container.hasClass("select2-container--open")};
m.prototype.hasFocus=function(){return this.$container.hasClass("select2-container--focus")};m.prototype.focus=function(k){this.hasFocus()||(this.$container.addClass("select2-container--focus"),this.trigger("focus",{}))};m.prototype.enable=function(k){this.options.get("debug")&&window.console&&console.warn&&console.warn('Select2: The `select2("enable")` method has been deprecated and will be removed in later Select2 versions. Use $element.prop("disabled") instead.');if(null==k||0===k.length)k=[!0];
this.$element.prop("disabled",!k[0])};m.prototype.data=function(){this.options.get("debug")&&0<arguments.length&&window.console&&console.warn&&console.warn('Select2: Data can no longer be set using `select2("data")`. You should consider setting the value instead using `$element.val()`.');var k=[];this.dataAdapter.current(function(l){k=l});return k};m.prototype.val=function(k){this.options.get("debug")&&window.console&&console.warn&&console.warn('Select2: The `select2("val")` method has been deprecated and will be removed in later Select2 versions. Use $element.val() instead.');
if(null==k||0===k.length)return this.$element.val();k=k[0];c.isArray(k)&&(k=c.map(k,function(l){return l.toString()}));this.$element.val(k).trigger("change")};m.prototype.destroy=function(){this.$container.remove();this.$element[0].detachEvent&&this.$element[0].detachEvent("onpropertychange",this._sync);null!=this._observer?(this._observer.disconnect(),this._observer=null):this.$element[0].removeEventListener&&this.$element[0].removeEventListener("DOMAttrModified",this._sync,!1);this._sync=null;this.$element.off(".select2");
this.$element.attr("tabindex",this.$element.data("old-tabindex"));this.$element.removeClass("select2-hidden-accessible");this.$element.attr("aria-hidden","false");this.$element.removeData("select2");this.dataAdapter.destroy();this.selection.destroy();this.dropdown.destroy();this.results.destroy();this.results=this.dropdown=this.selection=this.dataAdapter=null};m.prototype.render=function(){var k=c('<span class="select2 select2-container"><span class="selection"></span><span class="dropdown-wrapper" aria-hidden="true"></span></span>');
k.attr("dir",this.options.get("dir"));this.$container=k;this.$container.addClass("select2-container--"+this.options.get("theme"));k.data("element",this.$element);return k};return m});b.define("select2/compat/utils",["jquery"],function(c){return{syncCssClasses:function(e,f,h){var m,k=[],l;(m=c.trim(e.attr("class")))&&c((""+m).split(/\s+/)).each(function(){0===this.indexOf("select2-")&&k.push(this)});(m=c.trim(f.attr("class")))&&c((""+m).split(/\s+/)).each(function(){0!==this.indexOf("select2-")&&(l=
h(this),null!=l&&k.push(l))});e.attr("class",k.join(" "))}}});b.define("select2/compat/containerCss",["jquery","./utils"],function(c,e){function f(m){return null}function h(){}h.prototype.render=function(m){m=m.call(this);var k=this.options.get("containerCssClass")||"";c.isFunction(k)&&(k=k(this.$element));var l=this.options.get("adaptContainerCssClass");l=l||f;if(-1!==k.indexOf(":all:")){k=k.replace(":all:","");var p=l;l=function(u){var t=p(u);return null!=t?t+" "+u:u}}var q=this.options.get("containerCss")||
{};c.isFunction(q)&&(q=q(this.$element));e.syncCssClasses(m,this.$element,l);m.css(q);m.addClass(k);return m};return h});b.define("select2/compat/dropdownCss",["jquery","./utils"],function(c,e){function f(m){return null}function h(){}h.prototype.render=function(m){m=m.call(this);var k=this.options.get("dropdownCssClass")||"";c.isFunction(k)&&(k=k(this.$element));var l=this.options.get("adaptDropdownCssClass");l=l||f;if(-1!==k.indexOf(":all:")){k=k.replace(":all:","");var p=l;l=function(u){var t=p(u);
return null!=t?t+" "+u:u}}var q=this.options.get("dropdownCss")||{};c.isFunction(q)&&(q=q(this.$element));e.syncCssClasses(m,this.$element,l);m.css(q);m.addClass(k);return m};return h});b.define("select2/compat/initSelection",["jquery"],function(c){function e(f,h,m){m.get("debug")&&window.console&&console.warn&&console.warn("Select2: The `initSelection` option has been deprecated in favor of a custom data adapter that overrides the `current` method. This method is now called multiple times instead of a single time when the instance is initialized. Support will be removed for the `initSelection` option in future versions of Select2");
this.initSelection=m.get("initSelection");this._isInitialized=!1;f.call(this,h,m)}e.prototype.current=function(f,h){var m=this;this._isInitialized?f.call(this,h):this.initSelection.call(null,this.$element,function(k){m._isInitialized=!0;c.isArray(k)||(k=[k]);h(k)})};return e});b.define("select2/compat/inputData",["jquery"],function(c){function e(f,h,m){this._currentData=[];this._valueSeparator=m.get("valueSeparator")||",";"hidden"===h.prop("type")&&m.get("debug")&&console&&console.warn&&console.warn("Select2: Using a hidden input with Select2 is no longer supported and may stop working in the future. It is recommended to use a `<select>` element instead.");
f.call(this,h,m)}e.prototype.current=function(f,h){function m(l,p){var q=[];l.selected||-1!==c.inArray(l.id,p)?(l.selected=!0,q.push(l)):l.selected=!1;l.children&&q.push.apply(q,m(l.children,p));return q}f=[];for(var k=0;k<this._currentData.length;k++)f.push.apply(f,m(this._currentData[k],this.$element.val().split(this._valueSeparator)));h(f)};e.prototype.select=function(f,h){this.options.get("multiple")?(f=this.$element.val(),f+=this._valueSeparator+h.id,this.$element.val(f)):(this.current(function(m){c.map(m,
function(k){k.selected=!1})}),this.$element.val(h.id));this.$element.trigger("change")};e.prototype.unselect=function(f,h){var m=this;h.selected=!1;this.current(function(k){for(var l=[],p=0;p<k.length;p++){var q=k[p];h.id!=q.id&&l.push(q.id)}m.$element.val(l.join(m._valueSeparator));m.$element.trigger("change")})};e.prototype.query=function(f,h,m){f=[];for(var k=0;k<this._currentData.length;k++){var l=this.matches(h,this._currentData[k]);null!==l&&f.push(l)}m({results:f})};e.prototype.addOptions=
function(f,h){f=c.map(h,function(m){return c.data(m[0],"data")});this._currentData.push.apply(this._currentData,f)};return e});b.define("select2/compat/matcher",["jquery"],function(c){return function(e){return function(f,h){var m=c.extend(!0,{},h);if(null==f.term||""===c.trim(f.term))return m;if(h.children){for(var k=h.children.length-1;0<=k;k--){var l=h.children[k];e(f.term,l.text,l)||m.children.splice(k,1)}if(0<m.children.length)return m}return e(f.term,h.text,h)?m:null}}});b.define("select2/compat/query",
[],function(){function c(e,f,h){h.get("debug")&&window.console&&console.warn&&console.warn("Select2: The `query` option has been deprecated in favor of a custom data adapter that overrides the `query` method. Support will be removed for the `query` option in future versions of Select2.");e.call(this,f,h)}c.prototype.query=function(e,f,h){f.callback=h;this.options.get("query").call(null,f)};return c});b.define("select2/dropdown/attachContainer",[],function(){function c(e,f,h){e.call(this,f,h)}c.prototype.position=
function(e,f,h){h.find(".dropdown-wrapper").append(f);f.addClass("select2-dropdown--below");h.addClass("select2-container--below")};return c});b.define("select2/dropdown/stopPropagation",[],function(){function c(){}c.prototype.bind=function(e,f,h){e.call(this,f,h);this.$dropdown.on("blur change click dblclick focus focusin focusout input keydown keyup keypress mousedown mouseenter mouseleave mousemove mouseover mouseup search touchend touchstart",function(m){m.stopPropagation()})};return c});b.define("select2/selection/stopPropagation",
[],function(){function c(){}c.prototype.bind=function(e,f,h){e.call(this,f,h);this.$selection.on("blur change click dblclick focus focusin focusout input keydown keyup keypress mousedown mouseenter mouseleave mousemove mouseover mouseup search touchend touchstart",function(m){m.stopPropagation()})};return c});(function(c){"function"===typeof b.define&&b.define.amd?b.define("jquery-mousewheel",["jquery"],c):"object"===typeof exports?module.exports=c:c(a)})(function(c){function e(t){var C=t||window.event,
D=k.call(arguments,1),w=0,z=0,L=0,U=0;t=c.event.fix(C);t.type="mousewheel";"detail"in C&&(z=-1*C.detail);"wheelDelta"in C&&(z=C.wheelDelta);"wheelDeltaY"in C&&(z=C.wheelDeltaY);"wheelDeltaX"in C&&(w=-1*C.wheelDeltaX);"axis"in C&&C.axis===C.HORIZONTAL_AXIS&&(w=-1*z,z=0);var V=0===z?w:z;"deltaY"in C&&(V=z=-1*C.deltaY);"deltaX"in C&&(w=C.deltaX,0===z&&(V=-1*w));if(0!==z||0!==w){if(1===C.deltaMode){var Y=c.data(this,"mousewheel-line-height");V*=Y;z*=Y;w*=Y}else 2===C.deltaMode&&(Y=c.data(this,"mousewheel-page-height"),
V*=Y,z*=Y,w*=Y);Y=Math.max(Math.abs(z),Math.abs(w));if(!p||Y<p)p=Y,u.settings.adjustOldDeltas&&"mousewheel"===C.type&&0===Y%120&&(p/=40);u.settings.adjustOldDeltas&&"mousewheel"===C.type&&0===Y%120&&(V/=40,w/=40,z/=40);V=Math[1<=V?"floor":"ceil"](V/p);w=Math[1<=w?"floor":"ceil"](w/p);z=Math[1<=z?"floor":"ceil"](z/p);u.settings.normalizeOffset&&this.getBoundingClientRect&&(C=this.getBoundingClientRect(),L=t.clientX-C.left,U=t.clientY-C.top);t.deltaX=w;t.deltaY=z;t.deltaFactor=p;t.offsetX=L;t.offsetY=
U;t.deltaMode=0;D.unshift(t,V,w,z);l&&clearTimeout(l);l=setTimeout(f,200);return(c.event.dispatch||c.event.handle).apply(this,D)}}function f(){p=null}var h=["wheel","mousewheel","DOMMouseScroll","MozMousePixelScroll"],m="onwheel"in document||9<=document.documentMode?["wheel"]:["mousewheel","DomMouseScroll","MozMousePixelScroll"],k=Array.prototype.slice,l,p;if(c.event.fixHooks)for(var q=h.length;q;)c.event.fixHooks[h[--q]]=c.event.mouseHooks;var u=c.event.special.mousewheel={version:"3.1.12",setup:function(){if(this.addEventListener)for(var t=
m.length;t;)this.addEventListener(m[--t],e,!1);else this.onmousewheel=e;c.data(this,"mousewheel-line-height",u.getLineHeight(this));c.data(this,"mousewheel-page-height",u.getPageHeight(this))},teardown:function(){if(this.removeEventListener)for(var t=m.length;t;)this.removeEventListener(m[--t],e,!1);else this.onmousewheel=null;c.removeData(this,"mousewheel-line-height");c.removeData(this,"mousewheel-page-height")},getLineHeight:function(t){t=c(t);var C=t["offsetParent"in c.fn?"offsetParent":"parent"]();
C.length||(C=c("body"));return parseInt(C.css("fontSize"),10)||parseInt(t.css("fontSize"),10)||16},getPageHeight:function(t){return c(t).height()},settings:{adjustOldDeltas:!0,normalizeOffset:!0}};c.fn.extend({mousewheel:function(t){return t?this.bind("mousewheel",t):this.trigger("mousewheel")},unmousewheel:function(t){return this.unbind("mousewheel",t)}})});b.define("jquery.select2",["jquery","jquery-mousewheel","./select2/core","./select2/defaults"],function(c,e,f,h){if(null==c.fn.select2){var m=
["open","close","destroy"];c.fn.select2=function(k){k=k||{};if("object"===typeof k)return this.each(function(){var p=c.extend(!0,{},k);new f(c(this),p)}),this;if("string"===typeof k){var l;this.each(function(){var p=c(this).data("select2");null==p&&window.console&&console.error&&console.error("The select2('"+k+"') method was called on an element that is not using Select2.");var q=Array.prototype.slice.call(arguments,1);l=p[k].apply(p,q)});return-1<c.inArray(k,m)?this:l}throw Error("Invalid arguments for Select2: "+
k);}}null==c.fn.select2.defaults&&(c.fn.select2.defaults=h);return f});return{define:b.define,require:b.require}}(),d=g.require("jquery.select2");a.fn.select2.amd=g;return d});/*
 Select2 4.0.2 | https://github.com/select2/select2/blob/master/LICENSE.md */
(function(){if(jQuery&&jQuery.fn&&jQuery.fn.select2&&jQuery.fn.select2.amd)var a=jQuery.fn.select2.amd;return a.define("select2/i18n/ru",[],function(){function g(d,b,c,e){return 5>d%10&&0<d%10&&5>d%100||20<d%100?1<d%10?c:b:e}return{errorLoading:function(){return"\u041d\u0435\u0432\u043e\u0437\u043c\u043e\u0436\u043d\u043e \u0437\u0430\u0433\u0440\u0443\u0437\u0438\u0442\u044c \u0440\u0435\u0437\u0443\u043b\u044c\u0442\u0430\u0442\u044b"},inputTooLong:function(d){d=d.input.length-d.maximum;var b="\u041f\u043e\u0436\u0430\u043b\u0443\u0439\u0441\u0442\u0430, \u0432\u0432\u0435\u0434\u0438\u0442\u0435 \u043d\u0430 "+
d+" \u0441\u0438\u043c\u0432\u043e\u043b";return b+=g(d,"","a","\u043e\u0432"),b+=" \u043c\u0435\u043d\u044c\u0448\u0435",b},inputTooShort:function(d){d=d.minimum-d.input.length;var b="\u041f\u043e\u0436\u0430\u043b\u0443\u0439\u0441\u0442\u0430, \u0432\u0432\u0435\u0434\u0438\u0442\u0435 \u0435\u0449\u0435 \u0445\u043e\u0442\u044f \u0431\u044b "+d+" \u0441\u0438\u043c\u0432\u043e\u043b";return b+=g(d,"","a","\u043e\u0432"),b},loadingMore:function(){return"\u0417\u0430\u0433\u0440\u0443\u0437\u043a\u0430 \u0434\u0430\u043d\u043d\u044b\u0445\u2026"},
maximumSelected:function(d){var b="\u0412\u044b \u043c\u043e\u0436\u0435\u0442\u0435 \u0432\u044b\u0431\u0440\u0430\u0442\u044c \u043d\u0435 \u0431\u043e\u043b\u0435\u0435 "+d.maximum+" \u044d\u043b\u0435\u043c\u0435\u043d\u0442";return b+=g(d.maximum,"","a","\u043e\u0432"),b},noResults:function(){return"\u0421\u043e\u0432\u043f\u0430\u0434\u0435\u043d\u0438\u0439 \u043d\u0435 \u043d\u0430\u0439\u0434\u0435\u043d\u043e"},searching:function(){return"\u041f\u043e\u0438\u0441\u043a\u2026"}}}),{define:a.define,
require:a.require}})();(function(a){function g(B,S,ca){switch(arguments.length){case 2:return null!=B?B:S;case 3:return null!=B?B:null!=S?S:ca;default:throw Error("Implement me");}}function d(){return{empty:!1,unusedTokens:[],unusedInput:[],overflow:-2,charsLeftOver:0,nullInput:!1,invalidMonth:null,invalidFormat:!1,userInvalidated:!1,iso:!1}}function b(B){!1===ia.suppressDeprecationWarnings&&"undefined"!=typeof console&&console.warn&&console.warn("Deprecation warning: "+B)}function c(B,S){var ca=!0;return l(function(){return ca&&
(b(B),ca=!1),S.apply(this,arguments)},S)}function e(B,S){return function(ca){return u(B.call(this,ca),S)}}function f(B,S){return function(ca){return this.localeData().ordinal(B.call(this,ca),S)}}function h(){}function m(B,S){!1!==S&&E(B);p(this,B);this._d=new Date(+B._d)}function k(B){B=V(B);var S=B.year||0,ca=B.quarter||0,ja=B.month||0,na=B.week||0,Da=B.day||0;this._milliseconds=+(B.millisecond||0)+1E3*(B.second||0)+6E4*(B.minute||0)+36E5*(B.hour||0);this._days=+Da+7*na;this._months=+ja+3*ca+12*
S;this._data={};this._locale=ia.localeData();this._bubble()}function l(B,S){for(var ca in S)S.hasOwnProperty(ca)&&(B[ca]=S[ca]);return S.hasOwnProperty("toString")&&(B.toString=S.toString),S.hasOwnProperty("valueOf")&&(B.valueOf=S.valueOf),B}function p(B,S){var ca;if("undefined"!=typeof S._isAMomentObject&&(B._isAMomentObject=S._isAMomentObject),"undefined"!=typeof S._i&&(B._i=S._i),"undefined"!=typeof S._f&&(B._f=S._f),"undefined"!=typeof S._l&&(B._l=S._l),"undefined"!=typeof S._strict&&(B._strict=
S._strict),"undefined"!=typeof S._tzm&&(B._tzm=S._tzm),"undefined"!=typeof S._isUTC&&(B._isUTC=S._isUTC),"undefined"!=typeof S._offset&&(B._offset=S._offset),"undefined"!=typeof S._pf&&(B._pf=S._pf),"undefined"!=typeof S._locale&&(B._locale=S._locale),0<Ga.length)for(ca in Ga){var ja=Ga[ca];var na=S[ja];"undefined"!=typeof na&&(B[ja]=na)}return B}function q(B){return 0>B?Math.ceil(B):Math.floor(B)}function u(B,S,ca){for(var ja=""+Math.abs(B);ja.length<S;)ja="0"+ja;return(0<=B?ca?"+":"":"-")+ja}function t(B,
S){var ca={milliseconds:0,months:0};return ca.months=S.month()-B.month()+12*(S.year()-B.year()),B.clone().add(ca.months,"M").isAfter(S)&&--ca.months,ca.milliseconds=+S-+B.clone().add(ca.months,"M"),ca}function C(B,S){var ca;return S=G(S,B),B.isBefore(S)?ca=t(B,S):(ca=t(S,B),ca.milliseconds=-ca.milliseconds,ca.months=-ca.months),ca}function D(B,S){return function(ca,ja){var na;if(null!==ja&&!isNaN(+ja)){Jc[S]||(b("moment()."+S+"(period, number) is deprecated. Please use moment()."+S+"(number, period)."),
Jc[S]=!0);var Da=ca;ca=ja;ja=Da}return ca="string"==typeof ca?+ca:ca,na=ia.duration(ca,ja),w(this,na,B),this}}function w(B,S,ca,ja){var na=S._milliseconds,Da=S._days;S=S._months;ja=null==ja?!0:ja;na&&B._d.setTime(+B._d+na*ca);Da&&lb(B,"Date",sb(B,"Date")+Da*ca);S&&Ma(B,sb(B,"Month")+S*ca);ja&&ia.updateOffset(B,Da||S)}function z(B){return"[object Array]"===Object.prototype.toString.call(B)}function L(B,S,ca){var ja,na=Math.min(B.length,S.length),Da=Math.abs(B.length-S.length),Ha=0;for(ja=0;na>ja;ja++)(ca&&
B[ja]!==S[ja]||!ca&&T(B[ja])!==T(S[ja]))&&Ha++;return Ha+Da}function U(B){if(B){var S=B.toLowerCase().replace(/(.)s$/,"$1");B=Zc[B]||Ic[S]||S}return B}function V(B){var S,ca,ja={};for(ca in B)B.hasOwnProperty(ca)&&(S=U(ca),S&&(ja[S]=B[ca]));return ja}function Y(B){if(0===B.indexOf("week")){var S=7;var ca="day"}else{if(0!==B.indexOf("month"))return;S=12;ca="month"}ia[B]=function(ja,na){var Da,Ha=ia._locale[B],Qa=[];if("number"==typeof ja&&(na=ja,ja=a),Da=function(Ia){Ia=ia().utc().set(ca,Ia);return Ha.call(ia._locale,
Ia,ja||"")},null!=na)return Da(na);for(na=0;S>na;na++)Qa.push(Da(na));return Qa}}function T(B){B=+B;var S=0;return 0!==B&&isFinite(B)&&(S=0<=B?Math.floor(B):Math.ceil(B)),S}function J(B,S){return(new Date(Date.UTC(B,S+1,0))).getUTCDate()}function P(B,S,ca){return Ka(ia([B,11,31+S-ca]),S,ca).week}function K(B){return 0===B%4&&0!==B%100||0===B%400}function E(B){var S;B._a&&-2===B._pf.overflow&&(S=0>B._a[vb]||11<B._a[vb]?vb:1>B._a[mb]||B._a[mb]>J(B._a[Ab],B._a[vb])?mb:0>B._a[Sa]||23<B._a[Sa]?Sa:0>B._a[Kb]||
59<B._a[Kb]?Kb:0>B._a[Mb]||59<B._a[Mb]?Mb:0>B._a[xa]||999<B._a[xa]?xa:-1,B._pf._overflowDayOfYear&&(Ab>S||S>mb)&&(S=mb),B._pf.overflow=S)}function x(B){return null==B._isValid&&(B._isValid=!isNaN(B._d.getTime())&&0>B._pf.overflow&&!B._pf.empty&&!B._pf.invalidMonth&&!B._pf.nullInput&&!B._pf.invalidFormat&&!B._pf.userInvalidated,B._strict&&(B._isValid=B._isValid&&0===B._pf.charsLeftOver&&0===B._pf.unusedTokens.length)),B._isValid}function H(B){return B?B.toLowerCase().replace("_","-"):B}function M(B){var S=
null;if(!Ca[B]&&Aa)try{S=ia.locale(),require("./locale/"+B),ia.locale(S)}catch(ca){}return Ca[B]}function G(B,S){return S._isUTC?ia(B).zone(S._offset||0):ia(B).local()}function N(B){return B.match(/\[[\s\S]/)?B.replace(/^\[|\]$/g,""):B.replace(/\\/g,"")}function R(B){var S,ca=B.match(rb);var ja=0;for(S=ca.length;S>ja;ja++)ca[ja]=Ub[ca[ja]]?Ub[ca[ja]]:N(ca[ja]);return function(na){var Da="";for(ja=0;S>ja;ja++)Da+=ca[ja]instanceof Function?ca[ja].call(na,B):ca[ja];return Da}}function O(B,S){return B.isValid()?
(S=da(S,B.localeData()),gc[S]||(gc[S]=R(S)),gc[S](B)):B.localeData().invalidDate()}function da(B,S){function ca(na){return S.longDateFormat(na)||na}var ja=5;for(Db.lastIndex=0;0<=ja&&Db.test(B);)B=B.replace(Db,ca),Db.lastIndex=0,--ja;return B}function X(B,S){var ca=S._strict;switch(B){case "Q":return lc;case "DDDD":return Bc;case "YYYY":case "GGGG":case "gggg":return ca?Cc:Nc;case "Y":case "G":case "g":return Wc;case "YYYYYY":case "YYYYY":case "GGGGG":case "ggggg":return ca?Dc:Oc;case "S":if(ca)return lc;
case "SS":if(ca)return Ac;case "SSS":if(ca)return Bc;case "DDD":return Ib;case "MMM":case "MMMM":case "dd":case "ddd":case "dddd":return zc;case "a":case "A":return S._locale._meridiemParse;case "X":return tc;case "Z":case "ZZ":return fc;case "T":return Vb;case "SSSS":return Pc;case "MM":case "DD":case "YY":case "GG":case "gg":case "HH":case "hh":case "mm":case "ss":case "ww":case "WW":return ca?Ac:Eb;case "M":case "D":case "d":case "H":case "h":case "m":case "s":case "w":case "W":case "e":case "E":return Eb;
case "Do":return Qc;default:return S=RegExp,B=pa(B.replace("\\","")).replace(/[-\/\\^$*+?.()|[\]{}]/g,"\\$&"),new S(B)}}function la(B){B=(B||"").match(fc)||[];B=((B[B.length-1]||[])+"").match(Yc)||["-",0,0];var S=+(60*B[1])+T(B[2]);return"+"===B[0]?-S:S}function qa(B){var S,ca,ja=[];if(!B._d){var na=new Date;na=B._useUTC?[na.getUTCFullYear(),na.getUTCMonth(),na.getUTCDate()]:[na.getFullYear(),na.getMonth(),na.getDate()];if(B._w&&null==B._a[mb]&&null==B._a[vb]){var Da,Ha,Qa,Ia,hb;var fb=B._w;null!=
fb.GG||null!=fb.W||null!=fb.E?(Ia=1,hb=4,Da=g(fb.GG,B._a[Ab],Ka(ia(),1,4).year),Ha=g(fb.W,1),Qa=g(fb.E,1)):(Ia=B._locale._week.dow,hb=B._locale._week.doy,Da=g(fb.gg,B._a[Ab],Ka(ia(),Ia,hb).year),Ha=g(fb.w,1),null!=fb.d?(Qa=fb.d,Ia>Qa&&++Ha):Qa=null!=fb.e?fb.e+Ia:Ia);fb=Ia;var Kc,hc,Yb=Fa(Da,0,1).getUTCDay();Ia=(Yb=0===Yb?7:Yb,Qa=null!=Qa?Qa:fb,Kc=fb-Yb+(Yb>hb?7:0)-(fb>Yb?7:0),hc=7*(Ha-1)+(Qa-fb)+Kc+1,{year:0<hc?Da:Da-1,dayOfYear:0<hc?hc:(K(Da-1)?366:365)+hc});B._a[Ab]=Ia.year;B._dayOfYear=Ia.dayOfYear}B._dayOfYear&&
(ca=g(B._a[Ab],na[Ab]),B._dayOfYear>(K(ca)?366:365)&&(B._pf._overflowDayOfYear=!0),S=Fa(ca,0,B._dayOfYear),B._a[vb]=S.getUTCMonth(),B._a[mb]=S.getUTCDate());for(S=0;3>S&&null==B._a[S];++S)B._a[S]=ja[S]=na[S];for(;7>S;S++)B._a[S]=ja[S]=null==B._a[S]?2===S?1:0:B._a[S];B._d=(B._useUTC?Fa:oa).apply(null,ja);null!=B._tzm&&B._d.setUTCMinutes(B._d.getUTCMinutes()+B._tzm)}}function va(B){if(B._f===ia.ISO_8601)return void wa(B);B._a=[];B._pf.empty=!0;var S,ca,ja,na=""+B._i,Da=na.length,Ha=0;var Qa=da(B._f,
B._locale).match(rb)||[];for(S=0;S<Qa.length;S++){var Ia=Qa[S];(ca=(na.match(X(Ia,B))||[])[0])&&(ja=na.substr(0,na.indexOf(ca)),0<ja.length&&B._pf.unusedInput.push(ja),na=na.slice(na.indexOf(ca)+ca.length),Ha+=ca.length);if(Ub[Ia]){ca?B._pf.empty=!1:B._pf.unusedTokens.push(Ia);var hb=B,fb=hb._a;switch(Ia){case "Q":null!=ca&&(fb[vb]=3*(T(ca)-1));break;case "M":case "MM":null!=ca&&(fb[vb]=T(ca)-1);break;case "MMM":case "MMMM":Ia=hb._locale.monthsParse(ca);null!=Ia?fb[vb]=Ia:hb._pf.invalidMonth=ca;break;
case "D":case "DD":null!=ca&&(fb[mb]=T(ca));break;case "Do":null!=ca&&(fb[mb]=T(parseInt(ca,10)));break;case "DDD":case "DDDD":null!=ca&&(hb._dayOfYear=T(ca));break;case "YY":fb[Ab]=ia.parseTwoDigitYear(ca);break;case "YYYY":case "YYYYY":case "YYYYYY":fb[Ab]=T(ca);break;case "a":case "A":hb._isPm=hb._locale.isPM(ca);break;case "H":case "HH":case "h":case "hh":fb[Sa]=T(ca);break;case "m":case "mm":fb[Kb]=T(ca);break;case "s":case "ss":fb[Mb]=T(ca);break;case "S":case "SS":case "SSS":case "SSSS":fb[xa]=
T(1E3*("0."+ca));break;case "X":hb._d=new Date(1E3*parseFloat(ca));break;case "Z":case "ZZ":hb._useUTC=!0;hb._tzm=la(ca);break;case "dd":case "ddd":case "dddd":Ia=hb._locale.weekdaysParse(ca);null!=Ia?(hb._w=hb._w||{},hb._w.d=Ia):hb._pf.invalidWeekday=ca;break;case "w":case "ww":case "W":case "WW":case "d":case "e":case "E":Ia=Ia.substr(0,1);case "gggg":case "GGGG":case "GGGGG":Ia=Ia.substr(0,2);ca&&(hb._w=hb._w||{},hb._w[Ia]=T(ca));break;case "gg":case "GG":hb._w=hb._w||{},hb._w[Ia]=ia.parseTwoDigitYear(ca)}}else B._strict&&
!ca&&B._pf.unusedTokens.push(Ia)}B._pf.charsLeftOver=Da-Ha;0<na.length&&B._pf.unusedInput.push(na);B._isPm&&12>B._a[Sa]&&(B._a[Sa]+=12);!1===B._isPm&&12===B._a[Sa]&&(B._a[Sa]=0);qa(B);E(B)}function pa(B){return B.replace(/\\(\[)|\\(\])|\[([^\]\[]*)\]|\\(.)/g,function(S,ca,ja,na,Da){return ca||ja||na||Da})}function wa(B){var S,ca=B._i,ja=Xc.exec(ca);if(ja){B._pf.iso=!0;var na=0;for(S=qc.length;S>na;na++)if(qc[na][1].exec(ca)){B._f=qc[na][0]+(ja[6]||" ");break}na=0;for(S=nc.length;S>na;na++)if(nc[na][1].exec(ca)){B._f+=
nc[na][0];break}ca.match(fc)&&(B._f+="Z");va(B)}else B._isValid=!1}function oa(B,S,ca,ja,na,Da,Ha){S=new Date(B,S,ca,ja,na,Da,Ha);return 1970>B&&S.setFullYear(B),S}function Fa(B){var S=new Date(Date.UTC.apply(null,arguments));return 1970>B&&S.setUTCFullYear(B),S}function Ja(B,S,ca,ja,na){return na.relativeTime(S||1,!!ca,B,ja)}function Ka(B,S,ca){var ja;S=ca-S;ca-=B.day();return ca>S&&(ca-=7),S-7>ca&&(ca+=7),ja=ia(B).add(ca,"d"),{week:Math.ceil(ja.dayOfYear()/7),year:ja.year()}}function $a(B){var S=
B._i,ca=B._f;B._locale=B._locale||ia.localeData(B._l);if(null===S||ca===a&&""===S)B=ia.invalid({nullInput:!0});else if("string"==typeof S&&(B._i=S=B._locale.preparse(S)),ia.isMoment(S))B=new m(S,!0);else{if(ca)if(z(ca)){var ja,na,Da;if(0===B._f.length)B._pf.invalidFormat=!0,B._d=new Date(0/0);else{for(Da=0;Da<B._f.length;Da++){S=0;var Ha=p({},B);Ha._pf=d();Ha._f=B._f[Da];va(Ha);x(Ha)&&(S+=Ha._pf.charsLeftOver,S+=10*Ha._pf.unusedTokens.length,Ha._pf.score=S,(null==na||na>S)&&(na=S,ja=Ha))}l(B,ja||
Ha)}}else va(B);else ja=B._i,ja===a?B._d=new Date:"[object Date]"===Object.prototype.toString.call(ja)||ja instanceof Date?B._d=new Date(+ja):null!==(Ha=Va.exec(ja))?B._d=new Date(+Ha[1]):"string"==typeof ja?(wa(B),!1===B._isValid&&(delete B._isValid,ia.createFromInputFallback(B))):z(ja)?(B._a=ja.slice(0),qa(B)):"object"==typeof ja?B._d||(Da=V(B._i),B._a=[Da.year,Da.month,Da.day,Da.hour,Da.minute,Da.second,Da.millisecond],qa(B)):"number"==typeof ja?B._d=new Date(ja):ia.createFromInputFallback(B);
B=new m(B)}return B}function Za(B,S){var ca;if(1===S.length&&z(S[0])&&(S=S[0]),!S.length)return ia();var ja=S[0];for(ca=1;ca<S.length;++ca)S[ca][B](ja)&&(ja=S[ca]);return ja}function Ma(B,S){var ca;return"string"==typeof S&&(S=B.localeData().monthsParse(S),"number"!=typeof S)?B:(ca=Math.min(B.date(),J(B.year(),S)),B._d["set"+(B._isUTC?"UTC":"")+"Month"](S,ca),B)}function sb(B,S){return B._d["get"+(B._isUTC?"UTC":"")+S]()}function lb(B,S,ca){return"Month"===S?Ma(B,ca):B._d["set"+(B._isUTC?"UTC":"")+
S](ca)}function jb(B,S){return function(ca){return null!=ca?(lb(this,B,ca),ia.updateOffset(this,S),this):sb(this,B)}}function tb(B){ia.duration.fn[B]=function(){return this._data[B]}}function Ra(B){"undefined"==typeof ender&&(y=pb.moment,pb.moment=B?c("Accessing Moment through the global scope is deprecated, and will be removed in an upcoming release.",ia):ia)}for(var ia,y,Na,pb="undefined"!=typeof global?global:this,ib=Math.round,Ab=0,vb=1,mb=2,Sa=3,Kb=4,Mb=5,xa=6,Ca={},Ga=[],Aa="undefined"!=typeof module&&
module.exports,Va=/^\/?Date\((\-?\d+)/i,db=/(\-)?(?:(\d*)\.)?(\d+):(\d+)(?::(\d+)\.?(\d{3})?)?/,kb=/^(-)?P(?:(?:([0-9,.]*)Y)?(?:([0-9,.]*)M)?(?:([0-9,.]*)D)?(?:T(?:([0-9,.]*)H)?(?:([0-9,.]*)M)?(?:([0-9,.]*)S)?)?|([0-9,.]*)W)$/,rb=/(\[[^\[]*\])|(\\)?(Mo|MM?M?M?|Do|DDDo|DD?D?D?|ddd?d?|do?|w[o|w]?|W[o|W]?|Q|YYYYYY|YYYYY|YYYY|YY|gg(ggg?)?|GG(GGG?)?|e|E|a|A|hh?|HH?|mm?|ss?|S{1,4}|X|zz?|ZZ?|.)/g,Db=/(\[[^\[]*\])|(\\)?(LT|LL?L?L?|l{1,4})/g,Eb=/\d\d?/,Ib=/\d{1,3}/,Nc=/\d{1,4}/,Oc=/[+\-]?\d{1,6}/,Pc=/\d+/,
zc=/[0-9]*['a-z\u00A0-\u05FF\u0700-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]+|[\u0600-\u06FF\/]+(\s*?[\u0600-\u06FF]+){1,2}/i,fc=/Z|[\+\-]\d\d:?\d\d/gi,Vb=/T/i,tc=/[\+\-]?\d+(\.\d{1,3})?/,Qc=/\d{1,2}/,lc=/\d/,Ac=/\d\d/,Bc=/\d{3}/,Cc=/\d{4}/,Dc=/[+-]?\d{6}/,Wc=/[+-]?\d+/,Xc=/^\s*(?:[+-]\d{6}|\d{4})-(?:(\d\d-\d\d)|(W\d\d$)|(W\d\d-\d)|(\d\d\d))((T| )(\d\d(:\d\d(:\d\d(\.\d+)?)?)?)?([\+\-]\d\d(?::?\d\d)?|\s*Z)?)?$/,qc=[["YYYYYY-MM-DD",/[+-]\d{6}-\d{2}-\d{2}/],["YYYY-MM-DD",/\d{4}-\d{2}-\d{2}/],["GGGG-[W]WW-E",
/\d{4}-W\d{2}-\d/],["GGGG-[W]WW",/\d{4}-W\d{2}/],["YYYY-DDD",/\d{4}-\d{3}/]],nc=[["HH:mm:ss.SSSS",/(T| )\d\d:\d\d:\d\d\.\d+/],["HH:mm:ss",/(T| )\d\d:\d\d:\d\d/],["HH:mm",/(T| )\d\d:\d\d/],["HH",/(T| )\d\d/]],Yc=/([\+\-]|\d\d)/gi,rc={Milliseconds:1,Seconds:1E3,Minutes:6E4,Hours:36E5,Days:864E5,Months:2592E6,Years:31536E6},Zc={ms:"millisecond",s:"second",m:"minute",h:"hour",d:"day",D:"date",w:"week",W:"isoWeek",M:"month",Q:"quarter",y:"year",DDD:"dayOfYear",e:"weekday",E:"isoWeekday",gg:"weekYear",
GG:"isoWeekYear"},Ic={dayofyear:"dayOfYear",isoweekday:"isoWeekday",isoweek:"isoWeek",weekyear:"weekYear",isoweekyear:"isoWeekYear"},gc={},Tb={s:45,m:45,h:22,d:26,M:11},vc="DDD w W M D d".split(" "),wc="MDHhmswW".split(""),Ub={M:function(){return this.month()+1},MMM:function(B){return this.localeData().monthsShort(this,B)},MMMM:function(B){return this.localeData().months(this,B)},D:function(){return this.date()},DDD:function(){return this.dayOfYear()},d:function(){return this.day()},dd:function(B){return this.localeData().weekdaysMin(this,
B)},ddd:function(B){return this.localeData().weekdaysShort(this,B)},dddd:function(B){return this.localeData().weekdays(this,B)},w:function(){return this.week()},W:function(){return this.isoWeek()},YY:function(){return u(this.year()%100,2)},YYYY:function(){return u(this.year(),4)},YYYYY:function(){return u(this.year(),5)},YYYYYY:function(){var B=this.year();return(0<=B?"+":"-")+u(Math.abs(B),6)},gg:function(){return u(this.weekYear()%100,2)},gggg:function(){return u(this.weekYear(),4)},ggggg:function(){return u(this.weekYear(),
5)},GG:function(){return u(this.isoWeekYear()%100,2)},GGGG:function(){return u(this.isoWeekYear(),4)},GGGGG:function(){return u(this.isoWeekYear(),5)},e:function(){return this.weekday()},E:function(){return this.isoWeekday()},a:function(){return this.localeData().meridiem(this.hours(),this.minutes(),!0)},A:function(){return this.localeData().meridiem(this.hours(),this.minutes(),!1)},H:function(){return this.hours()},h:function(){return this.hours()%12||12},m:function(){return this.minutes()},s:function(){return this.seconds()},
S:function(){return T(this.milliseconds()/100)},SS:function(){return u(T(this.milliseconds()/10),2)},SSS:function(){return u(this.milliseconds(),3)},SSSS:function(){return u(this.milliseconds(),3)},Z:function(){var B=-this.zone(),S="+";return 0>B&&(B=-B,S="-"),S+u(T(B/60),2)+":"+u(T(B)%60,2)},ZZ:function(){var B=-this.zone(),S="+";return 0>B&&(B=-B,S="-"),S+u(T(B/60),2)+u(T(B)%60,2)},z:function(){return this.zoneAbbr()},zz:function(){return this.zoneName()},X:function(){return this.unix()},Q:function(){return this.quarter()}},
Jc={},jc=["months","monthsShort","weekdays","weekdaysShort","weekdaysMin"];vc.length;)Na=vc.pop(),Ub[Na+"o"]=f(Ub[Na],Na);for(;wc.length;)Na=wc.pop(),Ub[Na+Na]=e(Ub[Na],2);Ub.DDDD=e(Ub.DDD,3);l(h.prototype,{set:function(B){var S;for(S in B){var ca=B[S];"function"==typeof ca?this[S]=ca:this["_"+S]=ca}},_months:"January February March April May June July August September October November December".split(" "),months:function(B){return this._months[B.month()]},_monthsShort:"Jan Feb Mar Apr May Jun Jul Aug Sep Oct Nov Dec".split(" "),
monthsShort:function(B){return this._monthsShort[B.month()]},monthsParse:function(B){var S,ca,ja;this._monthsParse||(this._monthsParse=[]);for(S=0;12>S;S++)if(this._monthsParse[S]||(ca=ia.utc([2E3,S]),ja="^"+this.months(ca,"")+"|^"+this.monthsShort(ca,""),this._monthsParse[S]=new RegExp(ja.replace(".",""),"i")),this._monthsParse[S].test(B))return S},_weekdays:"Sunday Monday Tuesday Wednesday Thursday Friday Saturday".split(" "),weekdays:function(B){return this._weekdays[B.day()]},_weekdaysShort:"Sun Mon Tue Wed Thu Fri Sat".split(" "),
weekdaysShort:function(B){return this._weekdaysShort[B.day()]},_weekdaysMin:"Su Mo Tu We Th Fr Sa".split(" "),weekdaysMin:function(B){return this._weekdaysMin[B.day()]},weekdaysParse:function(B){var S,ca,ja;this._weekdaysParse||(this._weekdaysParse=[]);for(S=0;7>S;S++)if(this._weekdaysParse[S]||(ca=ia([2E3,1]).day(S),ja="^"+this.weekdays(ca,"")+"|^"+this.weekdaysShort(ca,"")+"|^"+this.weekdaysMin(ca,""),this._weekdaysParse[S]=new RegExp(ja.replace(".",""),"i")),this._weekdaysParse[S].test(B))return S},
_longDateFormat:{LT:"h:mm A",L:"MM/DD/YYYY",LL:"MMMM D, YYYY",LLL:"MMMM D, YYYY LT",LLLL:"dddd, MMMM D, YYYY LT"},longDateFormat:function(B){var S=this._longDateFormat[B];return!S&&this._longDateFormat[B.toUpperCase()]&&(S=this._longDateFormat[B.toUpperCase()].replace(/MMMM|MM|DD|dddd/g,function(ca){return ca.slice(1)}),this._longDateFormat[B]=S),S},isPM:function(B){return"p"===(B+"").toLowerCase().charAt(0)},_meridiemParse:/[ap]\.?m?\.?/i,meridiem:function(B,S,ca){return 11<B?ca?"pm":"PM":ca?"am":
"AM"},_calendar:{sameDay:"[Today at] LT",nextDay:"[Tomorrow at] LT",nextWeek:"dddd [at] LT",lastDay:"[Yesterday at] LT",lastWeek:"[Last] dddd [at] LT",sameElse:"L"},calendar:function(B,S){B=this._calendar[B];return"function"==typeof B?B.apply(S):B},_relativeTime:{future:"in %s",past:"%s ago",s:"a few seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",M:"a month",MM:"%d months",y:"a year",yy:"%d years"},relativeTime:function(B,S,ca,ja){var na=this._relativeTime[ca];
return"function"==typeof na?na(B,S,ca,ja):na.replace(/%d/i,B)},pastFuture:function(B,S){B=this._relativeTime[0<B?"future":"past"];return"function"==typeof B?B(S):B.replace(/%s/i,S)},ordinal:function(B){return this._ordinal.replace("%d",B)},_ordinal:"%d",preparse:function(B){return B},postformat:function(B){return B},week:function(B){return Ka(B,this._week.dow,this._week.doy).week},_week:{dow:0,doy:6},_invalidDate:"Invalid date",invalidDate:function(){return this._invalidDate}});ia=function(B,S,ca,
ja){var na;return"boolean"==typeof ca&&(ja=ca,ca=a),na={},na._isAMomentObject=!0,na._i=B,na._f=S,na._l=ca,na._strict=ja,na._isUTC=!1,na._pf=d(),$a(na)};ia.suppressDeprecationWarnings=!1;ia.createFromInputFallback=c("moment construction falls back to js Date. This is discouraged and will be removed in upcoming major release. Please refer to https://github.com/moment/moment/issues/1407 for more info.",function(B){B._d=new Date(B._i)});ia.min=function(){var B=[].slice.call(arguments,0);return Za("isBefore",
B)};ia.max=function(){var B=[].slice.call(arguments,0);return Za("isAfter",B)};ia.utc=function(B,S,ca,ja){var na;return"boolean"==typeof ca&&(ja=ca,ca=a),na={},na._isAMomentObject=!0,na._useUTC=!0,na._isUTC=!0,na._l=ca,na._i=B,na._f=S,na._strict=ja,na._pf=d(),$a(na).utc()};ia.unix=function(B){return ia(1E3*B)};ia.duration=function(B,S){var ca,ja,na,Da,Ha=B,Qa=null;return ia.isDuration(B)?Ha={ms:B._milliseconds,d:B._days,M:B._months}:"number"==typeof B?(Ha={},S?Ha[S]=B:Ha.milliseconds=B):(Qa=db.exec(B))?
(ca="-"===Qa[1]?-1:1,Ha={y:0,d:T(Qa[mb])*ca,h:T(Qa[Sa])*ca,m:T(Qa[Kb])*ca,s:T(Qa[Mb])*ca,ms:T(Qa[xa])*ca}):(Qa=kb.exec(B))?(ca="-"===Qa[1]?-1:1,na=function(Ia){Ia=Ia&&parseFloat(Ia.replace(",","."));return(isNaN(Ia)?0:Ia)*ca},Ha={y:na(Qa[2]),M:na(Qa[3]),d:na(Qa[4]),h:na(Qa[5]),m:na(Qa[6]),s:na(Qa[7]),w:na(Qa[8])}):"object"==typeof Ha&&("from"in Ha||"to"in Ha)&&(Da=C(ia(Ha.from),ia(Ha.to)),Ha={},Ha.ms=Da.milliseconds,Ha.M=Da.months),ja=new k(Ha),ia.isDuration(B)&&B.hasOwnProperty("_locale")&&(ja._locale=
B._locale),ja};ia.version="2.8.1";ia.defaultFormat="YYYY-MM-DDTHH:mm:ssZ";ia.ISO_8601=function(){};ia.momentProperties=Ga;ia.updateOffset=function(){};ia.relativeTimeThreshold=function(B,S){return Tb[B]===a?!1:S===a?Tb[B]:(Tb[B]=S,!0)};ia.lang=c("moment.lang is deprecated. Use moment.locale instead.",function(B,S){return ia.locale(B,S)});ia.locale=function(B,S){var ca;return B&&(ca="undefined"!=typeof S?ia.defineLocale(B,S):ia.localeData(B),ca&&(ia.duration._locale=ia._locale=ca)),ia._locale._abbr};
ia.defineLocale=function(B,S){return null!==S?(S.abbr=B,Ca[B]||(Ca[B]=new h),Ca[B].set(S),ia.locale(B),Ca[B]):(delete Ca[B],null)};ia.langData=c("moment.langData is deprecated. Use moment.localeData instead.",function(B){return ia.localeData(B)});ia.localeData=function(B){var S;if(B&&B._locale&&B._locale._abbr&&(B=B._locale._abbr),!B)return ia._locale;if(!z(B)){if(S=M(B))return S;B=[B]}a:{for(var ca,ja,na,Da=0;Da<B.length;){na=H(B[Da]).split("-");S=na.length;for(ca=(ca=H(B[Da+1]))?ca.split("-"):null;0<
S;){if(ja=M(na.slice(0,S).join("-"))){B=ja;break a}if(ca&&ca.length>=S&&L(na,ca,!0)>=S-1)break;S--}Da++}B=null}return B};ia.isMoment=function(B){return B instanceof m||null!=B&&B.hasOwnProperty("_isAMomentObject")};ia.isDuration=function(B){return B instanceof k};for(Na=jc.length-1;0<=Na;--Na)Y(jc[Na]);ia.normalizeUnits=function(B){return U(B)};ia.invalid=function(B){var S=ia.utc(0/0);return null!=B?l(S._pf,B):S._pf.userInvalidated=!0,S};ia.parseZone=function(){return ia.apply(null,arguments).parseZone()};
ia.parseTwoDigitYear=function(B){return T(B)+(68<T(B)?1900:2E3)};l(ia.fn=m.prototype,{clone:function(){return ia(this)},valueOf:function(){return+this._d+6E4*(this._offset||0)},unix:function(){return Math.floor(+this/1E3)},toString:function(){return this.clone().locale("en").format("ddd MMM DD YYYY HH:mm:ss [GMT]ZZ")},toDate:function(){return this._offset?new Date(+this):this._d},toISOString:function(){var B=ia(this).utc();return 0<B.year()&&9999>=B.year()?O(B,"YYYY-MM-DD[T]HH:mm:ss.SSS[Z]"):O(B,
"YYYYYY-MM-DD[T]HH:mm:ss.SSS[Z]")},toArray:function(){return[this.year(),this.month(),this.date(),this.hours(),this.minutes(),this.seconds(),this.milliseconds()]},isValid:function(){return x(this)},isDSTShifted:function(){return this._a?this.isValid()&&0<L(this._a,(this._isUTC?ia.utc(this._a):ia(this._a)).toArray()):!1},parsingFlags:function(){return l({},this._pf)},invalidAt:function(){return this._pf.overflow},utc:function(B){return this.zone(0,B)},local:function(B){return this._isUTC&&(this.zone(0,
B),this._isUTC=!1,B&&this.add(this._d.getTimezoneOffset(),"m")),this},format:function(B){B=O(this,B||ia.defaultFormat);return this.localeData().postformat(B)},add:D(1,"add"),subtract:D(-1,"subtract"),diff:function(B,S,ca){var ja,na;B=G(B,this);var Da=6E4*(this.zone()-B.zone());return S=U(S),"year"===S||"month"===S?(ja=432E5*(this.daysInMonth()+B.daysInMonth()),na=12*(this.year()-B.year())+(this.month()-B.month()),na+=(this-ia(this).startOf("month")-(B-ia(B).startOf("month")))/ja,na-=6E4*(this.zone()-
ia(this).startOf("month").zone()-(B.zone()-ia(B).startOf("month").zone()))/ja,"year"===S&&(na/=12)):(ja=this-B,na="second"===S?ja/1E3:"minute"===S?ja/6E4:"hour"===S?ja/36E5:"day"===S?(ja-Da)/864E5:"week"===S?(ja-Da)/6048E5:ja),ca?na:q(na)},from:function(B,S){return ia.duration({to:this,from:B}).locale(this.locale()).humanize(!S)},fromNow:function(B){return this.from(ia(),B)},calendar:function(B){B=B||ia();B=G(B,this).startOf("day");B=this.diff(B,"days",!0);B=-6>B?"sameElse":-1>B?"lastWeek":0>B?"lastDay":
1>B?"sameDay":2>B?"nextDay":7>B?"nextWeek":"sameElse";return this.format(this.localeData().calendar(B,this))},isLeapYear:function(){return K(this.year())},isDST:function(){return this.zone()<this.clone().month(0).zone()||this.zone()<this.clone().month(5).zone()},day:function(B){var S=this._isUTC?this._d.getUTCDay():this._d.getDay();if(null!=B){var ca=B;var ja=this.localeData();if("string"==typeof ca)if(isNaN(ca)){if(ca=ja.weekdaysParse(ca),"number"!=typeof ca)ca=null}else ca=parseInt(ca,10);ca=(B=
ca,this.add(B-S,"d"))}else ca=S;return ca},month:jb("Month",!0),startOf:function(B){switch(B=U(B)){case "year":this.month(0);case "quarter":case "month":this.date(1);case "week":case "isoWeek":case "day":this.hours(0);case "hour":this.minutes(0);case "minute":this.seconds(0);case "second":this.milliseconds(0)}return"week"===B?this.weekday(0):"isoWeek"===B&&this.isoWeekday(1),"quarter"===B&&this.month(3*Math.floor(this.month()/3)),this},endOf:function(B){return B=U(B),this.startOf(B).add(1,"isoWeek"===
B?"week":B).subtract(1,"ms")},isAfter:function(B,S){return S="undefined"!=typeof S?S:"millisecond",+this.clone().startOf(S)>+ia(B).startOf(S)},isBefore:function(B,S){return S="undefined"!=typeof S?S:"millisecond",+this.clone().startOf(S)<+ia(B).startOf(S)},isSame:function(B,S){return S=S||"ms",+this.clone().startOf(S)===+G(B,this).startOf(S)},min:c("moment().min is deprecated, use moment.min instead. https://github.com/moment/moment/issues/1548",function(B){return B=ia.apply(null,arguments),this>
B?this:B}),max:c("moment().max is deprecated, use moment.max instead. https://github.com/moment/moment/issues/1548",function(B){return B=ia.apply(null,arguments),B>this?this:B}),zone:function(B,S){var ca,ja=this._offset||0;return null==B?this._isUTC?ja:this._d.getTimezoneOffset():("string"==typeof B&&(B=la(B)),16>Math.abs(B)&&(B*=60),!this._isUTC&&S&&(ca=this._d.getTimezoneOffset()),this._offset=B,this._isUTC=!0,null!=ca&&this.subtract(ca,"m"),ja!==B&&(!S||this._changeInProgress?w(this,ia.duration(ja-
B,"m"),1,!1):this._changeInProgress||(this._changeInProgress=!0,ia.updateOffset(this,!0),this._changeInProgress=null)),this)},zoneAbbr:function(){return this._isUTC?"UTC":""},zoneName:function(){return this._isUTC?"Coordinated Universal Time":""},parseZone:function(){return this._tzm?this.zone(this._tzm):"string"==typeof this._i&&this.zone(this._i),this},hasAlignedHourOffset:function(B){return B=B?ia(B).zone():0,0===(this.zone()-B)%60},daysInMonth:function(){return J(this.year(),this.month())},dayOfYear:function(B){var S=
ib((ia(this).startOf("day")-ia(this).startOf("year"))/864E5)+1;return null==B?S:this.add(B-S,"d")},quarter:function(B){return null==B?Math.ceil((this.month()+1)/3):this.month(3*(B-1)+this.month()%3)},weekYear:function(B){var S=Ka(this,this.localeData()._week.dow,this.localeData()._week.doy).year;return null==B?S:this.add(B-S,"y")},isoWeekYear:function(B){var S=Ka(this,1,4).year;return null==B?S:this.add(B-S,"y")},week:function(B){var S=this.localeData().week(this);return null==B?S:this.add(7*(B-S),
"d")},isoWeek:function(B){var S=Ka(this,1,4).week;return null==B?S:this.add(7*(B-S),"d")},weekday:function(B){var S=(this.day()+7-this.localeData()._week.dow)%7;return null==B?S:this.add(B-S,"d")},isoWeekday:function(B){return null==B?this.day()||7:this.day(this.day()%7?B:B-7)},isoWeeksInYear:function(){return P(this.year(),1,4)},weeksInYear:function(){var B=this.localeData()._week;return P(this.year(),B.dow,B.doy)},get:function(B){return B=U(B),this[B]()},set:function(B,S){return B=U(B),"function"==
typeof this[B]&&this[B](S),this},locale:function(B){return B===a?this._locale._abbr:(this._locale=ia.localeData(B),this)},lang:c("moment().lang() is deprecated. Use moment().localeData() instead.",function(B){return B===a?this.localeData():(this._locale=ia.localeData(B),this)}),localeData:function(){return this._locale}});ia.fn.millisecond=ia.fn.milliseconds=jb("Milliseconds",!1);ia.fn.second=ia.fn.seconds=jb("Seconds",!1);ia.fn.minute=ia.fn.minutes=jb("Minutes",!1);ia.fn.hour=ia.fn.hours=jb("Hours",
!0);ia.fn.date=jb("Date",!0);ia.fn.dates=c("dates accessor is deprecated. Use date instead.",jb("Date",!0));ia.fn.year=jb("FullYear",!0);ia.fn.years=c("years accessor is deprecated. Use year instead.",jb("FullYear",!0));ia.fn.days=ia.fn.day;ia.fn.months=ia.fn.month;ia.fn.weeks=ia.fn.week;ia.fn.isoWeeks=ia.fn.isoWeek;ia.fn.quarters=ia.fn.quarter;ia.fn.toJSON=ia.fn.toISOString;l(ia.duration.fn=k.prototype,{_bubble:function(){var B=this._milliseconds;var S=this._days,ca=this._months,ja=this._data;ja.milliseconds=
B%1E3;B=q(B/1E3);ja.seconds=B%60;B=q(B/60);ja.minutes=B%60;B=q(B/60);ja.hours=B%24;S+=q(B/24);B=q(400*S/146097);S-=q(146097*B/400);ca+=q(S/30);S%=30;B+=q(ca/12);ja.days=S;ja.months=ca%12;ja.years=B},abs:function(){return this._milliseconds=Math.abs(this._milliseconds),this._days=Math.abs(this._days),this._months=Math.abs(this._months),this._data.milliseconds=Math.abs(this._data.milliseconds),this._data.seconds=Math.abs(this._data.seconds),this._data.minutes=Math.abs(this._data.minutes),this._data.hours=
Math.abs(this._data.hours),this._data.months=Math.abs(this._data.months),this._data.years=Math.abs(this._data.years),this},weeks:function(){return q(this.days()/7)},valueOf:function(){return this._milliseconds+864E5*this._days+this._months%12*2592E6+31536E6*T(this._months/12)},humanize:function(B){var S=!B;var ca=this.localeData(),ja=ia.duration(this).abs(),na=ib(ja.as("s")),Da=ib(ja.as("m")),Ha=ib(ja.as("h")),Qa=ib(ja.as("d")),Ia=ib(ja.as("M"));ja=ib(ja.as("y"));na=na<Tb.s&&["s",na]||1===Da&&["m"]||
Da<Tb.m&&["mm",Da]||1===Ha&&["h"]||Ha<Tb.h&&["hh",Ha]||1===Qa&&["d"]||Qa<Tb.d&&["dd",Qa]||1===Ia&&["M"]||Ia<Tb.M&&["MM",Ia]||1===ja&&["y"]||["yy",ja];S=(na[2]=S,na[3]=0<+this,na[4]=ca,Ja.apply({},na));return B&&(S=this.localeData().pastFuture(+this,S)),this.localeData().postformat(S)},add:function(B,S){B=ia.duration(B,S);return this._milliseconds+=B._milliseconds,this._days+=B._days,this._months+=B._months,this._bubble(),this},subtract:function(B,S){B=ia.duration(B,S);return this._milliseconds-=B._milliseconds,
this._days-=B._days,this._months-=B._months,this._bubble(),this},get:function(B){return B=U(B),this[B.toLowerCase()+"s"]()},as:function(B){var S,ca;if(B=U(B),S=this._days+this._milliseconds/864E5,"month"===B||"year"===B)return ca=this._months+400*S/146097*12,"month"===B?ca:ca/12;switch(S+=this._months/12*146097/400,B){case "week":return S/7;case "day":return S;case "hour":return 24*S;case "minute":return 1440*S;case "second":return 86400*S;case "millisecond":return 864E5*S;default:throw Error("Unknown unit "+
B);}},lang:ia.fn.lang,locale:ia.fn.locale,toIsoString:c("toIsoString() is deprecated. Please use toISOString() instead (notice the capitals)",function(){return this.toISOString()}),toISOString:function(){var B=Math.abs(this.years()),S=Math.abs(this.months()),ca=Math.abs(this.days()),ja=Math.abs(this.hours()),na=Math.abs(this.minutes()),Da=Math.abs(this.seconds()+this.milliseconds()/1E3);return this.asSeconds()?(0>this.asSeconds()?"-":"")+"P"+(B?B+"Y":"")+(S?S+"M":"")+(ca?ca+"D":"")+(ja||na||Da?"T":
"")+(ja?ja+"H":"")+(na?na+"M":"")+(Da?Da+"S":""):"P0D"},localeData:function(){return this._locale}});for(Na in rc)rc.hasOwnProperty(Na)&&tb(Na.toLowerCase());ia.duration.fn.asMilliseconds=function(){return this.as("ms")};ia.duration.fn.asSeconds=function(){return this.as("s")};ia.duration.fn.asMinutes=function(){return this.as("m")};ia.duration.fn.asHours=function(){return this.as("h")};ia.duration.fn.asDays=function(){return this.as("d")};ia.duration.fn.asWeeks=function(){return this.as("weeks")};
ia.duration.fn.asMonths=function(){return this.as("M")};ia.duration.fn.asYears=function(){return this.as("y")};ia.locale("en",{ordinal:function(B){var S=B%10;S=1===T(B%100/10)?"th":1===S?"st":2===S?"nd":3===S?"rd":"th";return B+S}});Aa?module.exports=ia:"function"==typeof define&&define.amd?(define("moment",function(B,S,ca){return ca.config&&ca.config()&&!0===ca.config().noGlobal&&(pb.moment=y),ia}),Ra(!0)):Ra()}).call(this);/*
 SmartMenus jQuery Plugin - v1.0.1 - November 1, 2016
 http://www.smartmenus.org/
 Copyright Vasil Dinkov, Vadikom Web Ltd. http://vadikom.com; Licensed MIT */
(function(a){"function"==typeof define&&define.amd?define(["jquery"],a):"object"==typeof module&&"object"==typeof module.exports?module.exports=a(require("jquery")):a(jQuery)})(function(a){function g(l){if(h||l)h&&l&&(a(document).unbind(".smartmenus_mouse"),h=!1);else{var p=!0,q=null;a(document).bind(d([["mousemove",function(u){var t={x:u.pageX,y:u.pageY,timeStamp:(new Date).getTime()};if(q){var C=Math.abs(q.x-t.x),D=Math.abs(q.y-t.y);if((0<C||0<D)&&2>=C&&2>=D&&300>=t.timeStamp-q.timeStamp&&(e=!0,
p)){var w=a(u.target).closest("a");w.is("a")&&a.each(b,function(){return a.contains(this.$root[0],w[0])?(this.itemEnter({currentTarget:w[0]}),!1):void 0});p=!1}}q=t}],[f?"touchstart":"pointerover pointermove pointerout MSPointerOver MSPointerMove MSPointerOut",function(u){!/^(4|mouse)$/.test(u.originalEvent.pointerType)&&(e=!1)}]],".smartmenus_mouse"));h=!0}}function d(l,p){p||="";var q={};return a.each(l,function(u,t){q[t[0].split(" ").join(p+" ")+p]=t[1]}),q}var b=[],c=!!window.createPopup,e=!1,
f="ontouchstart"in window,h=!1,m=window.requestAnimationFrame||function(l){return setTimeout(l,1E3/60)},k=window.cancelAnimationFrame||function(l){clearTimeout(l)};return a.SmartMenus=function(l,p){this.$root=a(l);this.opts=p;this.accessIdPrefix=this.rootId="";this.$subArrow=null;this.activatedItems=[];this.visibleSubMenus=[];this.scrollTimeout=this.hideTimeout=this.showTimeout=0;this.focusActivated=this.clickActivated=!1;this.idInc=this.zIndexInc=0;this.$firstSub=this.$firstLink=null;this.disabled=
!1;this.$touchScrollingSub=this.$disableOverlay=null;this.cssTransforms3d="perspective"in l.style||"webkitPerspective"in l.style;this.wasCollapsible=!1;this.init()},a.extend(a.SmartMenus,{hideAll:function(){a.each(b,function(){this.menuHideAll()})},destroy:function(){for(;b.length;)b[0].destroy();g(!0)},prototype:{init:function(l){var p=this;l||(b.push(this),this.rootId=((new Date).getTime()+Math.random()+"").replace(/\D/g,""),this.accessIdPrefix="sm-"+this.rootId+"-",this.$root.hasClass("sm-rtl")&&
(this.opts.rightToLeftSubMenus=!0),l=".smartmenus",this.$root.data("smartmenus",this).attr("data-smartmenus-id",this.rootId).dataSM("level",1).bind(d([["mouseover focusin",a.proxy(this.rootOver,this)],["mouseout focusout",a.proxy(this.rootOut,this)],["keydown",a.proxy(this.rootKeyDown,this)]],l)).delegate("a",d([["mouseenter",a.proxy(this.itemEnter,this)],["mouseleave",a.proxy(this.itemLeave,this)],["mousedown",a.proxy(this.itemDown,this)],["focus",a.proxy(this.itemFocus,this)],["blur",a.proxy(this.itemBlur,
this)],["click",a.proxy(this.itemClick,this)]],l)),l+=this.rootId,this.opts.hideOnClick&&a(document).bind(d([["touchstart",a.proxy(this.docTouchStart,this)],["touchmove",a.proxy(this.docTouchMove,this)],["touchend",a.proxy(this.docTouchEnd,this)],["click",a.proxy(this.docClick,this)]],l)),a(window).bind(d([["resize orientationchange",a.proxy(this.winResize,this)]],l)),this.opts.subIndicators&&(this.$subArrow=a("<span/>").addClass("sub-arrow"),this.opts.subIndicatorsText&&this.$subArrow.html(this.opts.subIndicatorsText)),
g());if(this.$firstSub=this.$root.find("ul").each(function(){p.menuInit(a(this))}).eq(0),this.$firstLink=this.$root.find("a").eq(0),this.opts.markCurrentItem){var q=/(index|default)\.[^#\?\/]*/i,u=window.location.href.replace(q,""),t=u.replace(/#.*/,"");this.$root.find("a").each(function(){var C=this.href.replace(q,""),D=a(this);(C==u||C==t)&&(D.addClass("current"),p.opts.markCurrentTree&&D.parentsUntil("[data-smartmenus-id]","ul").each(function(){a(this).dataSM("parent-a").addClass("current")}))})}this.wasCollapsible=
this.isCollapsible()},destroy:function(l){if(!l){var p=".smartmenus";this.$root.removeData("smartmenus").removeAttr("data-smartmenus-id").removeDataSM("level").unbind(p).undelegate(p);p+=this.rootId;a(document).unbind(p);a(window).unbind(p);this.opts.subIndicators&&(this.$subArrow=null)}this.menuHideAll();var q=this;this.$root.find("ul").each(function(){var u=a(this);u.dataSM("scroll-arrows")&&u.dataSM("scroll-arrows").remove();u.dataSM("shown-before")&&((q.opts.subMenusMinWidth||q.opts.subMenusMaxWidth)&&
u.css({width:"",minWidth:"",maxWidth:""}).removeClass("sm-nowrap"),u.dataSM("scroll-arrows")&&u.dataSM("scroll-arrows").remove(),u.css({zIndex:"",top:"",left:"",marginLeft:"",marginTop:"",display:""}));0==(u.attr("id")||"").indexOf(q.accessIdPrefix)&&u.removeAttr("id")}).removeDataSM("in-mega").removeDataSM("shown-before").removeDataSM("ie-shim").removeDataSM("scroll-arrows").removeDataSM("parent-a").removeDataSM("level").removeDataSM("beforefirstshowfired").removeAttr("role").removeAttr("aria-hidden").removeAttr("aria-labelledby").removeAttr("aria-expanded");
this.$root.find("a.has-submenu").each(function(){var u=a(this);0==u.attr("id").indexOf(q.accessIdPrefix)&&u.removeAttr("id")}).removeClass("has-submenu").removeDataSM("sub").removeAttr("aria-haspopup").removeAttr("aria-controls").removeAttr("aria-expanded").closest("li").removeDataSM("sub");this.opts.subIndicators&&this.$root.find("span.sub-arrow").remove();this.opts.markCurrentItem&&this.$root.find("a.current").removeClass("current");l||(this.$root=null,this.$firstLink=null,this.$firstSub=null,this.$disableOverlay&&
(this.$disableOverlay.remove(),this.$disableOverlay=null),b.splice(a.inArray(this,b),1))},disable:function(l){this.disabled||((this.menuHideAll(),l||this.opts.isPopup||!this.$root.is(":visible"))||(l=this.$root.offset(),this.$disableOverlay=a('<div class="sm-jquery-disable-overlay"/>').css({position:"absolute",top:l.top,left:l.left,width:this.$root.outerWidth(),height:this.$root.outerHeight(),zIndex:this.getStartZIndex(!0),opacity:0}).appendTo(document.body)),this.disabled=!0)},docClick:function(l){return this.$touchScrollingSub?
(this.$touchScrollingSub=null,void 0):((this.visibleSubMenus.length&&!a.contains(this.$root[0],l.target)||a(l.target).is("a"))&&this.menuHideAll(),void 0)},docTouchEnd:function(){if(this.lastTouch){if(!(!this.visibleSubMenus.length||void 0!==this.lastTouch.x2&&this.lastTouch.x1!=this.lastTouch.x2||void 0!==this.lastTouch.y2&&this.lastTouch.y1!=this.lastTouch.y2||this.lastTouch.target&&a.contains(this.$root[0],this.lastTouch.target))){this.hideTimeout&&(clearTimeout(this.hideTimeout),this.hideTimeout=
0);var l=this;this.hideTimeout=setTimeout(function(){l.menuHideAll()},350)}this.lastTouch=null}},docTouchMove:function(l){this.lastTouch&&(l=l.originalEvent.touches[0],this.lastTouch.x2=l.pageX,this.lastTouch.y2=l.pageY)},docTouchStart:function(l){l=l.originalEvent.touches[0];this.lastTouch={x1:l.pageX,y1:l.pageY,target:l.target}},enable:function(){this.disabled&&(this.$disableOverlay&&(this.$disableOverlay.remove(),this.$disableOverlay=null),this.disabled=!1)},getClosestMenu:function(l){for(l=a(l).closest("ul");l.dataSM("in-mega");)l=
l.parent().closest("ul");return l[0]||null},getHeight:function(l){return this.getOffset(l,!0)},getOffset:function(l,p){var q;"none"==l.css("display")&&(q={position:l[0].style.position,visibility:l[0].style.visibility},l.css({position:"absolute",visibility:"hidden"}).show());var u=l[0].getBoundingClientRect&&l[0].getBoundingClientRect();u=u&&(p?u.height||u.bottom-u.top:u.width||u.right-u.left);return u||0===u||(u=p?l[0].offsetHeight:l[0].offsetWidth),q&&l.hide().css(q),u},getStartZIndex:function(l){var p=
parseInt(this[l?"$root":"$firstSub"].css("z-index"));return!l&&isNaN(p)&&(p=parseInt(this.$root.css("z-index"))),isNaN(p)?1:p},getTouchPoint:function(l){return l.touches&&l.touches[0]||l.changedTouches&&l.changedTouches[0]||l},getViewport:function(l){var p=l?"Height":"Width";l=document.documentElement["client"+p];p=window["inner"+p];return p&&(l=Math.min(l,p)),l},getViewportHeight:function(){return this.getViewport(!0)},getViewportWidth:function(){return this.getViewport()},getWidth:function(l){return this.getOffset(l)},
handleEvents:function(){return!this.disabled&&this.isCSSOn()},handleItemEvents:function(l){return this.handleEvents()&&!this.isLinkInMegaMenu(l)},isCollapsible:function(){return"static"==this.$firstSub.css("position")},isCSSOn:function(){return"block"==this.$firstLink.css("display")},isFixed:function(){var l="fixed"==this.$root.css("position");return l||this.$root.parentsUntil("body").each(function(){return"fixed"==a(this).css("position")?(l=!0,!1):void 0}),l},isLinkInMegaMenu:function(l){return a(this.getClosestMenu(l[0])).hasClass("mega-menu")},
isTouchMode:function(){return!e||this.opts.noMouseOver||this.isCollapsible()},itemActivate:function(l,p){var q=l.closest("ul"),u=q.dataSM("level");if(1<u&&(!this.activatedItems[u-2]||this.activatedItems[u-2][0]!=q.dataSM("parent-a")[0])){var t=this;a(q.parentsUntil("[data-smartmenus-id]","ul").get().reverse()).add(q).each(function(){t.itemActivate(a(this).dataSM("parent-a"))})}((!this.isCollapsible()||p)&&this.menuHideSubMenus(this.activatedItems[u-1]&&this.activatedItems[u-1][0]==l[0]?u:u-1),this.activatedItems[u-
1]=l,!1!==this.$root.triggerHandler("activate.smapi",l[0]))&&(l=l.dataSM("sub"))&&(this.isTouchMode()||!this.opts.showOnClick||this.clickActivated)&&this.menuShow(l)},itemBlur:function(l){l=a(l.currentTarget);this.handleItemEvents(l)&&this.$root.triggerHandler("blur.smapi",l[0])},itemClick:function(l){var p=a(l.currentTarget);if(this.handleItemEvents(p)){if(this.$touchScrollingSub&&this.$touchScrollingSub[0]==p.closest("ul")[0])return this.$touchScrollingSub=null,l.stopPropagation(),!1;if(!1===this.$root.triggerHandler("click.smapi",
p[0]))return!1;l=a(l.target).is("span.sub-arrow");var q=p.dataSM("sub"),u=q?2==q.dataSM("level"):!1;if(q&&!q.is(":visible")){if(this.opts.showOnClick&&u&&(this.clickActivated=!0),this.itemActivate(p),q.is(":visible"))return this.focusActivated=!0,!1}else if(this.isCollapsible()&&l)return this.itemActivate(p),this.menuHide(q),!1;return this.opts.showOnClick&&u||p.hasClass("disabled")||!1===this.$root.triggerHandler("select.smapi",p[0])?!1:void 0}},itemDown:function(l){l=a(l.currentTarget);this.handleItemEvents(l)&&
l.dataSM("mousedown",!0)},itemEnter:function(l){var p=a(l.currentTarget);if(this.handleItemEvents(p)){if(!this.isTouchMode()){this.showTimeout&&(clearTimeout(this.showTimeout),this.showTimeout=0);var q=this;this.showTimeout=setTimeout(function(){q.itemActivate(p)},this.opts.showOnClick&&1==p.closest("ul").dataSM("level")?1:this.opts.showTimeout)}this.$root.triggerHandler("mouseenter.smapi",p[0])}},itemFocus:function(l){l=a(l.currentTarget);this.handleItemEvents(l)&&(!this.focusActivated||this.isTouchMode()&&
l.dataSM("mousedown")||this.activatedItems.length&&this.activatedItems[this.activatedItems.length-1][0]==l[0]||this.itemActivate(l,!0),this.$root.triggerHandler("focus.smapi",l[0]))},itemLeave:function(l){l=a(l.currentTarget);this.handleItemEvents(l)&&(this.isTouchMode()||(l[0].blur(),this.showTimeout&&(clearTimeout(this.showTimeout),this.showTimeout=0)),l.removeDataSM("mousedown"),this.$root.triggerHandler("mouseleave.smapi",l[0]))},menuHide:function(l){if(!1!==this.$root.triggerHandler("beforehide.smapi",
l[0])&&(l.stop(!0,!0),"none"!=l.css("display"))){var p=function(){l.css("z-index","")};this.isCollapsible()?this.opts.collapsibleHideFunction?this.opts.collapsibleHideFunction.call(this,l,p):l.hide(this.opts.collapsibleHideDuration,p):this.opts.hideFunction?this.opts.hideFunction.call(this,l,p):l.hide(this.opts.hideDuration,p);l.dataSM("ie-shim")&&l.dataSM("ie-shim").remove().css({"-webkit-transform":"",transform:""});l.dataSM("scroll")&&(this.menuScrollStop(l),l.css({"touch-action":"","-ms-touch-action":"",
"-webkit-transform":"",transform:""}).unbind(".smartmenus_scroll").removeDataSM("scroll").dataSM("scroll-arrows").hide());l.dataSM("parent-a").removeClass("highlighted").attr("aria-expanded","false");l.attr({"aria-expanded":"false","aria-hidden":"true"});p=l.dataSM("level");this.activatedItems.splice(p-1,1);this.visibleSubMenus.splice(a.inArray(l,this.visibleSubMenus),1);this.$root.triggerHandler("hide.smapi",l[0])}},menuHideAll:function(){this.showTimeout&&(clearTimeout(this.showTimeout),this.showTimeout=
0);for(var l=this.opts.isPopup?1:0,p=this.visibleSubMenus.length-1;p>=l;p--)this.menuHide(this.visibleSubMenus[p]);this.opts.isPopup&&(this.$root.stop(!0,!0),this.$root.is(":visible")&&(this.opts.hideFunction?this.opts.hideFunction.call(this,this.$root):this.$root.hide(this.opts.hideDuration),this.$root.dataSM("ie-shim")&&this.$root.dataSM("ie-shim").remove()));this.activatedItems=[];this.visibleSubMenus=[];this.focusActivated=this.clickActivated=!1;this.zIndexInc=0;this.$root.triggerHandler("hideAll.smapi")},
menuHideSubMenus:function(l){for(var p=this.activatedItems.length-1;p>=l;p--){var q=this.activatedItems[p].dataSM("sub");q&&this.menuHide(q)}},menuIframeShim:function(l){c&&this.opts.overlapControlsInIE&&!l.dataSM("ie-shim")&&l.dataSM("ie-shim",a("<iframe/>").attr({src:"javascript:0",tabindex:-9}).css({position:"absolute",top:"auto",left:"0",opacity:0,border:"0"}))},menuInit:function(l){if(!l.dataSM("in-mega")){l.hasClass("mega-menu")&&l.find("ul").dataSM("in-mega",!0);for(var p=2,q=l[0];(q=q.parentNode.parentNode)!=
this.$root[0];)p++;q=l.prevAll("a").eq(-1);q.length||(q=l.prevAll().find("a").eq(-1));q.addClass("has-submenu").dataSM("sub",l);l.dataSM("parent-a",q).dataSM("level",p).parent().dataSM("sub",l);p=q.attr("id")||this.accessIdPrefix+ ++this.idInc;var u=l.attr("id")||this.accessIdPrefix+ ++this.idInc;q.attr({id:p,"aria-haspopup":"true","aria-controls":u,"aria-expanded":"false"});l.attr({id:u,role:"group","aria-hidden":"true","aria-labelledby":p,"aria-expanded":"false"});this.opts.subIndicators&&q[this.opts.subIndicatorsPos](this.$subArrow.clone())}},
menuPosition:function(l){var p,q,u=l.dataSM("parent-a"),t=u.closest("li"),C=t.parent(),D=l.dataSM("level"),w=this.getWidth(l),z=this.getHeight(l),L=u.offset(),U=L.left,V=L.top;L=this.getWidth(u);u=this.getHeight(u);var Y=a(window),T=Y.scrollLeft();Y=Y.scrollTop();var J=this.getViewportWidth(),P=this.getViewportHeight();C=C.parent().is("[data-sm-horizontal-sub]")||2==D&&!C.hasClass("sm-vertical");t=this.opts.rightToLeftSubMenus&&!t.is("[data-sm-reverse]")||!this.opts.rightToLeftSubMenus&&t.is("[data-sm-reverse]");
var K=2==D?this.opts.mainMenuSubOffsetX:this.opts.subMenusSubOffsetX;D=2==D?this.opts.mainMenuSubOffsetY:this.opts.subMenusSubOffsetY;if(C?(p=t?L-w-K:K,q=this.opts.bottomToTopSubMenus?-z-D:u+D):(p=t?K-w:L-K,q=this.opts.bottomToTopSubMenus?u-D-z:D),this.opts.keepInViewport)if(U+=p,V+=q,t&&T>U?p=C?T-U+p:L-K:!t&&U+w>T+J&&(p=C?T+J-w-U+p:K-w),C||(P>z&&V+z>Y+P?q+=Y+P-z-V:(z>=P||Y>V)&&(q+=Y-V)),C&&(V+z>Y+P+.49||Y>V)||!C&&z>P+.49){var E=this;l.dataSM("scroll-arrows")||l.dataSM("scroll-arrows",a([a('<span class="scroll-up"><span class="scroll-up-arrow"></span></span>')[0],
a('<span class="scroll-down"><span class="scroll-down-arrow"></span></span>')[0]]).bind({mouseenter:function(){l.dataSM("scroll").up=a(this).hasClass("scroll-up");E.menuScroll(l)},mouseleave:function(x){E.menuScrollStop(l);E.menuScrollOut(l,x)},"mousewheel DOMMouseScroll":function(x){x.preventDefault()}}).insertAfter(l));l.dataSM("scroll",{y:this.cssTransforms3d?0:q-u,step:1,itemH:u,subH:z,arrowDownH:this.getHeight(l.dataSM("scroll-arrows").eq(1))}).bind(d([["mouseover",function(x){E.menuScrollOver(l,
x)}],["mouseout",function(x){E.menuScrollOut(l,x)}],["mousewheel DOMMouseScroll",function(x){E.menuScrollMousewheel(l,x)}]],".smartmenus_scroll")).dataSM("scroll-arrows").css({top:"auto",left:"0",marginLeft:p+(parseInt(l.css("border-left-width"))||0),width:w-(parseInt(l.css("border-left-width"))||0)-(parseInt(l.css("border-right-width"))||0),zIndex:l.css("z-index")}).eq(C&&this.opts.bottomToTopSubMenus?0:1).show();this.isFixed()&&l.css({"touch-action":"none","-ms-touch-action":"none"}).bind(d([[f?
"touchstart touchmove touchend":"pointerdown pointermove pointerup MSPointerDown MSPointerMove MSPointerUp",function(x){E.menuScrollTouch(l,x)}]],".smartmenus_scroll"))}l.css({top:"auto",left:"0",marginLeft:p,marginTop:q-u});this.menuIframeShim(l);l.dataSM("ie-shim")&&l.dataSM("ie-shim").css({zIndex:l.css("z-index"),width:w,height:z,marginLeft:p,marginTop:q-u})},menuScroll:function(l,p,q){var u,t=l.dataSM("scroll"),C=l.dataSM("scroll-arrows"),D=t.up?t.upEnd:t.downEnd;if(!p&&t.momentum){if(t.momentum*=
.92,u=t.momentum,.5>u)return this.menuScrollStop(l),void 0}else u=q||(p||!this.opts.scrollAccelerate?this.opts.scrollStep:Math.floor(t.step));q=l.dataSM("level");if(this.activatedItems[q-1]&&this.activatedItems[q-1].dataSM("sub")&&this.activatedItems[q-1].dataSM("sub").is(":visible")&&this.menuHideSubMenus(q-1),t.y=t.up&&t.y>=D||!t.up&&D>=t.y?t.y:Math.abs(D-t.y)>u?t.y+(t.up?u:-u):D,l.add(l.dataSM("ie-shim")).css(this.cssTransforms3d?{"-webkit-transform":"translate3d(0, "+t.y+"px, 0)",transform:"translate3d(0, "+
t.y+"px, 0)"}:{marginTop:t.y}),e&&(t.up&&t.y>t.downEnd||!t.up&&t.y<t.upEnd)&&C.eq(t.up?1:0).show(),t.y==D)e&&C.eq(t.up?0:1).hide(),this.menuScrollStop(l);else if(!p){this.opts.scrollAccelerate&&t.step<this.opts.scrollStep&&(t.step+=.2);var w=this;this.scrollTimeout=m(function(){w.menuScroll(l)})}},menuScrollMousewheel:function(l,p){if(this.getClosestMenu(p.target)==l[0]){p=p.originalEvent;var q=0<(p.wheelDelta||-p.detail);l.dataSM("scroll-arrows").eq(q?0:1).is(":visible")&&(l.dataSM("scroll").up=
q,this.menuScroll(l,!0))}p.preventDefault()},menuScrollOut:function(l,p){e&&(/^scroll-(up|down)/.test((p.relatedTarget||"").className)||(l[0]==p.relatedTarget||a.contains(l[0],p.relatedTarget))&&this.getClosestMenu(p.relatedTarget)==l[0]||l.dataSM("scroll-arrows").css("visibility","hidden"))},menuScrollOver:function(l,p){if(e&&!/^scroll-(up|down)/.test(p.target.className)&&this.getClosestMenu(p.target)==l[0]){this.menuScrollRefreshData(l);p=l.dataSM("scroll");var q=a(window).scrollTop()-l.dataSM("parent-a").offset().top-
p.itemH;l.dataSM("scroll-arrows").eq(0).css("margin-top",q).end().eq(1).css("margin-top",q+this.getViewportHeight()-p.arrowDownH).end().css("visibility","visible")}},menuScrollRefreshData:function(l){var p=l.dataSM("scroll"),q=a(window).scrollTop()-l.dataSM("parent-a").offset().top-p.itemH;this.cssTransforms3d&&(q=-(parseFloat(l.css("margin-top"))-q));a.extend(p,{upEnd:q,downEnd:q+this.getViewportHeight()-p.subH})},menuScrollStop:function(l){return this.scrollTimeout?(k(this.scrollTimeout),this.scrollTimeout=
0,l.dataSM("scroll").step=1,!0):void 0},menuScrollTouch:function(l,p){if(p=p.originalEvent,!/^(4|mouse)$/.test(p.pointerType)){var q=this.getTouchPoint(p);if(this.getClosestMenu(q.target)==l[0]){var u=l.dataSM("scroll");if(/(start|down)$/i.test(p.type))this.menuScrollStop(l)?(p.preventDefault(),this.$touchScrollingSub=l):this.$touchScrollingSub=null,this.menuScrollRefreshData(l),a.extend(u,{touchStartY:q.pageY,touchStartTime:p.timeStamp});else if(/move$/i.test(p.type)){var t=void 0!==u.touchY?u.touchY:
u.touchStartY;if(void 0!==t&&t!=q.pageY){this.$touchScrollingSub=l;var C=q.pageY>t;void 0!==u.up&&u.up!=C&&a.extend(u,{touchStartY:q.pageY,touchStartTime:p.timeStamp});a.extend(u,{up:C,touchY:q.pageY});this.menuScroll(l,!0,Math.abs(q.pageY-t))}p.preventDefault()}else void 0!==u.touchY&&((u.momentum=15*Math.pow(Math.abs(q.pageY-u.touchStartY)/(p.timeStamp-u.touchStartTime),2))&&(this.menuScrollStop(l),this.menuScroll(l),p.preventDefault()),delete u.touchY)}}},menuShow:function(l){if((l.dataSM("beforefirstshowfired")||
(l.dataSM("beforefirstshowfired",!0),!1!==this.$root.triggerHandler("beforefirstshow.smapi",l[0])))&&!1!==this.$root.triggerHandler("beforeshow.smapi",l[0])&&(l.dataSM("shown-before",!0).stop(!0,!0),!l.is(":visible"))){var p=l.dataSM("parent-a");if((this.opts.keepHighlighted||this.isCollapsible())&&p.addClass("highlighted"),this.isCollapsible())l.removeClass("sm-nowrap").css({zIndex:"",width:"auto",minWidth:"",maxWidth:"",top:"",left:"",marginLeft:"",marginTop:""});else{if(l.css("z-index",this.zIndexInc=
(this.zIndexInc||this.getStartZIndex())+1),(this.opts.subMenusMinWidth||this.opts.subMenusMaxWidth)&&(l.css({width:"auto",minWidth:"",maxWidth:""}).addClass("sm-nowrap"),this.opts.subMenusMinWidth&&l.css("min-width",this.opts.subMenusMinWidth),this.opts.subMenusMaxWidth)){var q=this.getWidth(l);l.css("max-width",this.opts.subMenusMaxWidth);q>this.getWidth(l)&&l.removeClass("sm-nowrap").css("width",this.opts.subMenusMaxWidth)}this.menuPosition(l);l.dataSM("ie-shim")&&l.dataSM("ie-shim").insertBefore(l)}q=
function(){l.css("overflow","")};this.isCollapsible()?this.opts.collapsibleShowFunction?this.opts.collapsibleShowFunction.call(this,l,q):l.show(this.opts.collapsibleShowDuration,q):this.opts.showFunction?this.opts.showFunction.call(this,l,q):l.show(this.opts.showDuration,q);p.attr("aria-expanded","true");l.attr({"aria-expanded":"true","aria-hidden":"false"});this.visibleSubMenus.push(l);this.$root.triggerHandler("show.smapi",l[0])}},popupHide:function(l){this.hideTimeout&&(clearTimeout(this.hideTimeout),
this.hideTimeout=0);var p=this;this.hideTimeout=setTimeout(function(){p.menuHideAll()},l?1:this.opts.hideTimeout)},popupShow:function(l,p){if(!this.opts.isPopup)return alert('SmartMenus jQuery Error:\n\nIf you want to show this menu via the "popupShow" method, set the isPopup:true option.'),void 0;if(this.hideTimeout&&(clearTimeout(this.hideTimeout),this.hideTimeout=0),this.$root.dataSM("shown-before",!0).stop(!0,!0),!this.$root.is(":visible")){this.$root.css({left:l,top:p});this.menuIframeShim(this.$root);
this.$root.dataSM("ie-shim")&&this.$root.dataSM("ie-shim").css({zIndex:this.$root.css("z-index"),width:this.getWidth(this.$root),height:this.getHeight(this.$root),left:l,top:p}).insertBefore(this.$root);var q=this;l=function(){q.$root.css("overflow","")};this.opts.showFunction?this.opts.showFunction.call(this,this.$root,l):this.$root.show(this.opts.showDuration,l);this.visibleSubMenus[0]=this.$root}},refresh:function(){this.destroy(!0);this.init(!0)},rootKeyDown:function(l){if(this.handleEvents())switch(l.keyCode){case 27:if(l=
this.activatedItems[0]){this.menuHideAll();l[0].focus();var p=l.dataSM("sub");p&&this.menuHide(p)}break;case 32:p=a(l.target),p.is("a")&&this.handleItemEvents(p)&&(p=p.dataSM("sub"))&&!p.is(":visible")&&(this.itemClick({currentTarget:l.target}),l.preventDefault())}},rootOut:function(l){if(this.handleEvents()&&!this.isTouchMode()&&l.target!=this.$root[0]&&(this.hideTimeout&&(clearTimeout(this.hideTimeout),this.hideTimeout=0),!this.opts.showOnClick||!this.opts.hideOnClick)){var p=this;this.hideTimeout=
setTimeout(function(){p.menuHideAll()},this.opts.hideTimeout)}},rootOver:function(l){this.handleEvents()&&!this.isTouchMode()&&l.target!=this.$root[0]&&this.hideTimeout&&(clearTimeout(this.hideTimeout),this.hideTimeout=0)},winResize:function(l){this.handleEvents()?"onorientationchange"in window&&"orientationchange"!=l.type||(l=this.isCollapsible(),this.wasCollapsible&&l||(this.activatedItems.length&&this.activatedItems[this.activatedItems.length-1][0].blur(),this.menuHideAll()),this.wasCollapsible=
l):this.$disableOverlay&&(l=this.$root.offset(),this.$disableOverlay.css({top:l.top,left:l.left,width:this.$root.outerWidth(),height:this.$root.outerHeight()}))}}}),a.fn.dataSM=function(l,p){return p?this.data(l+"_smartmenus",p):this.data(l+"_smartmenus")},a.fn.removeDataSM=function(l){return this.removeData(l+"_smartmenus")},a.fn.smartmenus=function(l){if("string"==typeof l){var p=arguments,q=l;return Array.prototype.shift.call(p),this.each(function(){var t=a(this).data("smartmenus");t&&t[q]&&t[q].apply(t,
p)})}var u=this.data("sm-options")||null;if(u)try{u=eval("("+u+")")}catch(t){u=null,alert('ERROR\n\nSmartMenus jQuery init:\nInvalid "data-sm-options" attribute value syntax.')}return this.each(function(){new a.SmartMenus(this,a.extend({},a.fn.smartmenus.defaults,l,u))})},a.fn.smartmenus.defaults={isPopup:!1,mainMenuSubOffsetX:0,mainMenuSubOffsetY:0,subMenusSubOffsetX:0,subMenusSubOffsetY:0,subMenusMinWidth:"10em",subMenusMaxWidth:"20em",subIndicators:!0,subIndicatorsPos:"prepend",subIndicatorsText:"+",
scrollStep:30,scrollAccelerate:!0,showTimeout:250,hideTimeout:500,showDuration:0,showFunction:null,hideDuration:0,hideFunction:function(l,p){l.fadeOut(200,p)},collapsibleShowDuration:0,collapsibleShowFunction:function(l,p){l.slideDown(200,p)},collapsibleHideDuration:0,collapsibleHideFunction:function(l,p){l.slideUp(200,p)},showOnClick:!1,hideOnClick:!0,noMouseOver:!1,keepInViewport:!0,keepHighlighted:!0,markCurrentItem:!1,markCurrentTree:!0,rightToLeftSubMenus:!1,bottomToTopSubMenus:!1,overlapControlsInIE:!0},
a});/*
 SmartMenus jQuery Plugin Bootstrap Addon - v0.3.1 - November 1, 2016
 http://www.smartmenus.org/
 Copyright Vasil Dinkov, Vadikom Web Ltd. http://vadikom.com; Licensed MIT */
(function(a){"function"==typeof define&&define.amd?define(["jquery","jquery.smartmenus"],a):"object"==typeof module&&"object"==typeof module.exports?module.exports=a(require("jquery")):a(jQuery)})(function(a){return a.extend(a.SmartMenus.Bootstrap={},{keydownFix:!1,init:function(){var g=a("ul.navbar-nav:not([data-sm-skip])");g.each(function(){function d(){e.find("a.current").parent().addClass("active");e.find("a.has-submenu").each(function(){var m=a(this);m.is('[data-toggle="dropdown"]')&&m.dataSM("bs-data-toggle-dropdown",
!0).removeAttr("data-toggle");m.is('[role="button"]')&&m.dataSM("bs-role-button",!0).removeAttr("role")})}function b(){e.find("a.current").parent().removeClass("active");e.find("a.has-submenu").each(function(){var m=a(this);m.dataSM("bs-data-toggle-dropdown")&&m.attr("data-toggle","dropdown").removeDataSM("bs-data-toggle-dropdown");m.dataSM("bs-role-button")&&m.attr("role","button").removeDataSM("bs-role-button")})}function c(m){var k=f.getViewportWidth();if(k!=h||m)m=e.find(".caret"),f.isCollapsible()?
(e.addClass("sm-collapsible"),e.is("[data-sm-skip-collapsible-behavior]")||m.addClass("navbar-toggle sub-arrow")):(e.removeClass("sm-collapsible"),e.is("[data-sm-skip-collapsible-behavior]")||m.removeClass("navbar-toggle sub-arrow")),h=k}var e=a(this),f=e.data("smartmenus");if(!f){e.smartmenus({subMenusSubOffsetX:2,subMenusSubOffsetY:-6,subIndicators:!1,collapsibleShowFunction:null,collapsibleHideFunction:null,rightToLeftSubMenus:e.hasClass("navbar-right"),bottomToTopSubMenus:e.closest(".navbar").hasClass("navbar-fixed-bottom")}).bind({"show.smapi":function(m,
k){m=a(k);(k=m.dataSM("scroll-arrows"))&&k.css("background-color",a(document.body).css("background-color"));m.parent().addClass("open")},"hide.smapi":function(m,k){a(k).parent().removeClass("open")}});d();f=e.data("smartmenus");f.isCollapsible=function(){return!/^(left|right)$/.test(this.$firstLink.parent().css("float"))};f.refresh=function(){a.SmartMenus.prototype.refresh.call(this);d();c(!0)};f.destroy=function(m){b();a.SmartMenus.prototype.destroy.call(this,m)};e.is("[data-sm-skip-collapsible-behavior]")&&
e.bind({"click.smapi":function(m,k){if(f.isCollapsible()&&(m=a(k),(k=m.parent().dataSM("sub"))&&k.dataSM("shown-before")&&k.is(":visible")))return f.itemActivate(m),f.menuHide(k),!1}});var h;c();a(window).bind("resize.smartmenus"+f.rootId,c)}});g.length&&!a.SmartMenus.Bootstrap.keydownFix&&(a(document).off("keydown.bs.dropdown.data-api",".dropdown-menu"),a.fn.dropdown&&a.fn.dropdown.Constructor&&a(document).on("keydown.bs.dropdown.data-api",'.dropdown-menu:not([id^="sm-"])',a.fn.dropdown.Constructor.prototype.keydown),
a.SmartMenus.Bootstrap.keydownFix=!0)}}),a(a.SmartMenus.Bootstrap.init),a});!function(a,g,d){function b(x){var H=w(),M=H.querySelector("h2"),G=H.querySelector("p"),N=H.querySelector("button.cancel"),R=H.querySelector("button.confirm");(M.innerHTML=x.html?x.title:Y(x.title).split("\n").join("<br>"),G.innerHTML=x.html?x.text:Y(x.text||"").split("\n").join("<br>"),x.text&&T(G),x.customClass)?(U(H,x.customClass),H.setAttribute("data-custom-class",x.customClass)):(M=H.getAttribute("data-custom-class"),V(H,M),H.setAttribute("data-custom-class",""));if(J(H.querySelectorAll(".sa-icon")),
x.type&&(!a.attachEvent||a.addEventListener)){M=!1;for(G=0;G<C.length;G++)if(x.type===C[G]){M=!0;break}if(!M)return l("Unknown alert type: "+x.type),!1;var O;-1!==["success","error","warning","info"].indexOf(x.type)&&(O=H.querySelector(".sa-icon.sa-"+x.type),T(O));var da=z();switch(x.type){case "success":U(O,"animate");U(O.querySelector(".sa-tip"),"animateSuccessTip");U(O.querySelector(".sa-long"),"animateSuccessLong");break;case "error":U(O,"animateErrorIcon");U(O.querySelector(".sa-x-mark"),"animateXMark");
break;case "warning":U(O,"pulseWarning");U(O.querySelector(".sa-body"),"pulseWarningIns");U(O.querySelector(".sa-dot"),"pulseWarningIns");break;case "input":case "prompt":da.setAttribute("type",x.inputType),U(H,"show-input"),setTimeout(function(){da.focus();da.addEventListener("keyup",t.resetInputError)},400)}}if(x.imageUrl){O=H.querySelector(".sa-icon.sa-custom");O.style.backgroundImage="url("+x.imageUrl+")";T(O);G=M=80;if(x.imageSize){var X=x.imageSize.toString().split("x"),la=X[0];X=X[1];la&&X?
(M=la,G=X):l("Parameter imageSize expects value with format WIDTHxHEIGHT, got "+x.imageSize)}O.setAttribute("style",O.getAttribute("style")+"width:"+M+"px; height:"+G+"px")}H.setAttribute("data-has-cancel-button",x.showCancelButton);x.showCancelButton?N.style.display="inline-block":J(N);H.setAttribute("data-has-confirm-button",x.showConfirmButton);x.showConfirmButton?R.style.display="inline-block":J(R);x.cancelButtonText&&(N.innerHTML=Y(x.cancelButtonText));x.confirmButtonText&&(R.innerHTML=Y(x.confirmButtonText));
x.confirmButtonColor&&(R.style.backgroundColor=x.confirmButtonColor,f(R,x.confirmButtonColor));H.setAttribute("data-allow-ouside-click",x.allowOutsideClick);H.setAttribute("data-has-done-function",x.doneFunction?!0:!1);x.animation?"string"==typeof x.animation?H.setAttribute("data-animation",x.animation):H.setAttribute("data-animation","pop"):H.setAttribute("data-animation","none");H.setAttribute("data-timer",x.timer)}function c(x,H){x=String(x).replace(/[^0-9a-f]/gi,"");6>x.length&&(x=x[0]+x[0]+x[1]+
x[1]+x[2]+x[2]);H=H||0;var M,G="#";for(M=0;3>M;M++){var N=parseInt(x.substr(2*M,2),16);N=Math.round(Math.min(Math.max(0,N+N*H),255)).toString(16);G+=("00"+N).substr(N.length)}return G}function e(x,H){for(var M in H)H.hasOwnProperty(M)&&(x[M]=H[M]);return x}function f(x,H){H=(H=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(H))?parseInt(H[1],16)+", "+parseInt(H[2],16)+", "+parseInt(H[3],16):null;x.style.boxShadow="0 0 2px rgba("+H+", 0.8), inset 0 0 0 1px rgba(0, 0, 0, 0.05)"}function h(){var x=
w();P(g.querySelector(".sweet-overlay"),10);T(x);U(x,"showSweetAlert");V(x,"hideSweetAlert");p=g.activeElement;x.querySelector("button.confirm").focus();setTimeout(function(){U(x,"visible")},500);var H=x.getAttribute("data-timer");"null"!==H&&""!==H&&(x.timeout=setTimeout(function(){E.close()},H))}function m(){var x=w(),H=z();V(x,"show-input");H.value="";H.setAttribute("type",D.inputType);t.resetInputError()}function k(){var x=w().style,H=w();H.style.left="-9999px";H.style.display="block";var M,G=
H.clientHeight;var N=(M="undefined"!=typeof getComputedStyle?parseInt(getComputedStyle(H).getPropertyValue("padding-top"),10):parseInt(H.currentStyle.padding),H.style.left="",H.style.display="none","-"+parseInt((G+M)/2)+"px");x.marginTop=N}function l(x){a.console&&a.console.log("SweetAlert: "+x)}var p,q,u,t,C="error warning info success input prompt".split(" "),D={title:"",text:"",type:null,allowOutsideClick:!1,showConfirmButton:!0,showCancelButton:!1,closeOnConfirm:!0,closeOnCancel:!0,confirmButtonText:"OK",
confirmButtonColor:"#AEDEF4",cancelButtonText:"Cancel",imageUrl:null,imageSize:null,timer:null,customClass:"",html:!1,animation:!0,allowEscapeKey:!0,inputType:"text"},w=function(){var x=g.querySelector(".sweet-alert");if(!x){x=g.createElement("div");for(x.innerHTML='<div class="sweet-overlay" tabIndex="-1"></div><div class="sweet-alert"><div class="sa-icon sa-error"><span class="sa-x-mark"><span class="sa-line sa-left"></span><span class="sa-line sa-right"></span></span></div><div class="sa-icon sa-warning"> <span class="sa-body"></span> <span class="sa-dot"></span> </div> <div class="sa-icon sa-info"></div> <div class="sa-icon sa-success"> <span class="sa-line sa-tip"></span> <span class="sa-line sa-long"></span> <div class="sa-placeholder"></div> <div class="sa-fix"></div> </div> <div class="sa-icon sa-custom"></div> <h2>Title</h2><p>Text</p><fieldset><input type="text" tabIndex="3" /><div class="sa-input-error"></div></fieldset> <div class="sa-error-container"><div class="icon">!</div> <p>Not valid!</p></div> <button class="cancel" tabIndex="2">Cancel</button><button class="confirm" tabIndex="1">OK</button></div>';x.firstChild;)g.body.appendChild(x.firstChild);
x=w()}return x},z=function(){var x=w();return x?x.querySelector("input"):void 0},L=function(x,H){return(new RegExp(" "+H+" ")).test(" "+x.className+" ")},U=function(x,H){L(x,H)||(x.className+=" "+H)},V=function(x,H){var M=" "+x.className.replace(/[\t\r\n]/g," ")+" ";if(L(x,H)){for(;0<=M.indexOf(" "+H+" ");)M=M.replace(" "+H+" "," ");x.className=M.replace(/^\s+|\s+$/g,"")}},Y=function(x){var H=g.createElement("div");return H.appendChild(g.createTextNode(x)),H.innerHTML},T=function(x){if(x&&!x.length)x.style.opacity=
"",x.style.display="block";else for(var H=0;H<x.length;++H){var M=x[H];M.style.opacity="";M.style.display="block"}},J=function(x){if(x&&!x.length)x.style.opacity="",x.style.display="none";else for(var H=0;H<x.length;++H){var M=x[H];M.style.opacity="";M.style.display="none"}},P=function(x,H){if(1>+x.style.opacity){H=H||16;x.style.opacity=0;x.style.display="block";var M=+new Date,G=function(){x.style.opacity=+x.style.opacity+(new Date-M)/100;M=+new Date;1>+x.style.opacity&&setTimeout(G,H)};G()}x.style.display=
"block"},K=function(x,H){H=H||16;x.style.opacity=1;var M=+new Date,G=function(){x.style.opacity=+x.style.opacity-(new Date-M)/100;M=+new Date;0<+x.style.opacity?setTimeout(G,H):x.style.display="none"};G()};var E=t=function(x,H,M){function G(pa){var wa=N;return"undefined"!=typeof wa[pa]?wa[pa]:D[pa]}var N=x;if(U(g.body,"stop-scrolling"),m(),x===d)return l("SweetAlert expects at least 1 attribute!"),!1;var R=e({},D);switch(typeof x){case "string":R.title=x;R.text=H||"";R.type=M||"";break;case "object":if(x.title===
d)return l('Missing "title" argument!'),!1;R.title=x.title;x="text type customClass allowOutsideClick showConfirmButton showCancelButton closeOnConfirm closeOnCancel timer confirmButtonColor cancelButtonText imageUrl imageSize html animation allowEscapeKey inputType".split(" ");M=x.length;for(var O=0;M>O;O++){var da=x[O];R[da]=G(da)}R.confirmButtonText=R.showCancelButton?"Confirm":D.confirmButtonText;R.confirmButtonText=G("confirmButtonText");R.doneFunction=H||null;break;default:return l('Unexpected type of argument! Expected "string" or "object", got '+
typeof x),!1}b(R);k();h();var X=w();H=function(pa){var wa=pa||a.event;pa=wa.target||wa.srcElement;var oa=-1!==pa.className.indexOf("confirm"),Fa=-1!==pa.className.indexOf("sweet-overlay"),Ja=L(X,"visible"),Ka=R.doneFunction&&"true"===X.getAttribute("data-has-done-function");switch(wa.type){case "mouseover":oa&&R.confirmButtonColor&&(pa.style.backgroundColor=c(R.confirmButtonColor,-.04));break;case "mouseout":oa&&R.confirmButtonColor&&(pa.style.backgroundColor=R.confirmButtonColor);break;case "mousedown":oa&&
R.confirmButtonColor&&(pa.style.backgroundColor=c(R.confirmButtonColor,-.14));break;case "mouseup":oa&&R.confirmButtonColor&&(pa.style.backgroundColor=c(R.confirmButtonColor,-.04));break;case "focus":pa=X.querySelector("button.confirm");wa=X.querySelector("button.cancel");oa?wa.style.boxShadow="none":pa.style.boxShadow="none";break;case "click":if(oa&&Ka&&Ja)pa=!0,L(X,"show-input")&&(pa=X.querySelector("input").value,pa||=""),R.doneFunction(pa),R.closeOnConfirm&&E.close();else if(Ka&&Ja||Fa)pa=String(R.doneFunction).replace(/\s/g,
""),"function("===pa.substring(0,9)&&")"!==pa.substring(9,10)&&R.doneFunction(!1),R.closeOnCancel&&E.close();else{a:{for(oa=pa.parentNode;null!==oa;){if(oa===X){oa=!0;break a}oa=oa.parentNode}oa=!1}oa&&"BUTTON"===pa.tagName&&E.close()}}};x=X.querySelectorAll("button");for(M=0;M<x.length;M++)x[M].onclick=H,x[M].onmouseover=H,x[M].onmouseout=H,x[M].onmousedown=H,x[M].onmouseup=H,x[M].onfocus=H;g.querySelector(".sweet-overlay").onclick=H;var la=X.querySelector("button.confirm"),qa=X.querySelector("button.cancel"),
va=X.querySelectorAll("button[tabindex]");q=a.onkeydown;a.onkeydown=function(pa){pa=pa||a.event;var wa=pa.keyCode||pa.which;if(-1!==[9,13,32,27].indexOf(wa)){for(var oa=pa.target||pa.srcElement,Fa=-1,Ja=0;Ja<va.length;Ja++)if(oa===va[Ja]){Fa=Ja;break}9===wa?(oa=-1===Fa?la:Fa===va.length-1?va[0]:va[Fa+1],"function"==typeof pa.stopPropagation?(pa.stopPropagation(),pa.preventDefault()):a.event&&a.event.hasOwnProperty("cancelBubble")&&(a.event.cancelBubble=!0),oa.focus(),R.confirmButtonColor&&f(oa,R.confirmButtonColor)):
13===wa?"INPUT"===oa.tagName&&la.focus():27===wa&&!0===R.allowEscapeKey&&(pa=oa=qa,"function"==typeof MouseEvent?(wa=new MouseEvent("click",{view:a,bubbles:!1,cancelable:!0}),pa.dispatchEvent(wa)):g.createEvent?(wa=g.createEvent("MouseEvents"),wa.initEvent("click",!1,!1),pa.dispatchEvent(wa)):g.createEventObject?pa.fireEvent("onclick"):"function"==typeof pa.onclick&&pa.onclick())}};a.onfocus=function(){a.setTimeout(function(){u!==d&&(u.focus(),u=d)},0)}};E.setDefaults=t.setDefaults=function(x){if(!x)throw Error("userParams is required");
if("object"!=typeof x)throw Error("userParams has to be a object");e(D,x)};E.close=t.close=function(){var x=w();K(g.querySelector(".sweet-overlay"),5);K(x,5);V(x,"showSweetAlert");U(x,"hideSweetAlert");V(x,"visible");var H=x.querySelector(".sa-icon.sa-success");V(H,"animate");V(H.querySelector(".sa-tip"),"animateSuccessTip");V(H.querySelector(".sa-long"),"animateSuccessLong");H=x.querySelector(".sa-icon.sa-error");V(H,"animateErrorIcon");V(H.querySelector(".sa-x-mark"),"animateXMark");H=x.querySelector(".sa-icon.sa-warning");
V(H,"pulseWarning");V(H.querySelector(".sa-body"),"pulseWarningIns");V(H.querySelector(".sa-dot"),"pulseWarningIns");V(g.body,"stop-scrolling");a.onkeydown=q;p&&p.focus();u=d;clearTimeout(x.timeout)};E.showInputError=t.showInputError=function(x){var H=w(),M=H.querySelector(".sa-input-error");U(M,"show");M=H.querySelector(".sa-error-container");U(M,"show");M.querySelector("p").innerHTML=x;H.querySelector("input").focus()};E.resetInputError=t.resetInputError=function(x){if(x&&13===x.keyCode)return!1;
x=w();var H=x.querySelector(".sa-input-error");V(H,"show");x=x.querySelector(".sa-error-container");V(x,"show")};"function"==typeof define&&define.amd?define(function(){return E}):"undefined"!=typeof module&&module.exports?module.exports=E:"undefined"!=typeof a&&(a.sweetAlert=a.swal=E)}(window,document);/*
 Lightbox for Bootstrap 3 by @ashleydw
 https://github.com/ashleydw/lightbox

 License: https://github.com/ashleydw/lightbox/blob/master/LICENSE
*/
(function(){var a=jQuery;var g=function(d,b){var c,e;return this.options=a.extend({title:null,footer:null,remote:null},a.fn.ekkoLightbox.defaults,b||{}),this.$element=a(d),this.modal_id=this.options.modal_id?this.options.modal_id:"ekkoLightbox-"+Math.floor(1E3*Math.random()+1),e='<div class="modal-header"'+(this.options.title||this.options.always_show_close?"":' style="display:none"')+'><button type="button" class="close" data-dismiss="modal" aria-hidden="true">&times;</button><h4 class="modal-title">'+
(this.options.title||"&nbsp;")+"</h4></div>",c='<div class="modal-footer"'+(this.options.footer?"":' style="display:none"')+">"+this.options.footer+"</div>",a(document.body).append('<div id="'+this.modal_id+'" class="ekko-lightbox modal fade" tabindex="-1"><div class="modal-dialog"><div class="modal-content">'+e+'<div class="modal-body"><div class="ekko-lightbox-container"><div></div></div></div>'+c+"</div></div></div>"),this.modal=a("#"+this.modal_id),this.modal_dialog=this.modal.find(".modal-dialog").first(),
this.modal_content=this.modal.find(".modal-content").first(),this.modal_body=this.modal.find(".modal-body").first(),this.modal_header=this.modal.find(".modal-header").first(),this.modal_footer=this.modal.find(".modal-footer").first(),this.lightbox_container=this.modal_body.find(".ekko-lightbox-container").first(),this.lightbox_body=this.lightbox_container.find("> div:first-child").first(),this.showLoading(),this.modal_arrows=null,this.border={top:parseFloat(this.modal_dialog.css("border-top-width"))+
parseFloat(this.modal_content.css("border-top-width"))+parseFloat(this.modal_body.css("border-top-width")),right:parseFloat(this.modal_dialog.css("border-right-width"))+parseFloat(this.modal_content.css("border-right-width"))+parseFloat(this.modal_body.css("border-right-width")),bottom:parseFloat(this.modal_dialog.css("border-bottom-width"))+parseFloat(this.modal_content.css("border-bottom-width"))+parseFloat(this.modal_body.css("border-bottom-width")),left:parseFloat(this.modal_dialog.css("border-left-width"))+
parseFloat(this.modal_content.css("border-left-width"))+parseFloat(this.modal_body.css("border-left-width"))},this.padding={top:parseFloat(this.modal_dialog.css("padding-top"))+parseFloat(this.modal_content.css("padding-top"))+parseFloat(this.modal_body.css("padding-top")),right:parseFloat(this.modal_dialog.css("padding-right"))+parseFloat(this.modal_content.css("padding-right"))+parseFloat(this.modal_body.css("padding-right")),bottom:parseFloat(this.modal_dialog.css("padding-bottom"))+parseFloat(this.modal_content.css("padding-bottom"))+
parseFloat(this.modal_body.css("padding-bottom")),left:parseFloat(this.modal_dialog.css("padding-left"))+parseFloat(this.modal_content.css("padding-left"))+parseFloat(this.modal_body.css("padding-left"))},this.modal.on("show.bs.modal",this.options.onShow.bind(this)).on("shown.bs.modal",function(f){return function(){return f.modal_shown(),f.options.onShown.call(f)}}(this)).on("hide.bs.modal",this.options.onHide.bind(this)).on("hidden.bs.modal",function(f){return function(){return f.gallery&&a(document).off("keydown.ekkoLightbox"),
f.modal.remove(),f.options.onHidden.call(f)}}(this)).modal("show",b),this.modal};g.prototype={modal_shown:function(){var d;return this.options.remote?(this.gallery=this.$element.data("gallery"),this.gallery&&("document.body"===this.options.gallery_parent_selector||""===this.options.gallery_parent_selector?this.gallery_items=a(document.body).find('*[data-gallery="'+this.gallery+'"]'):this.gallery_items=this.$element.parents(this.options.gallery_parent_selector).first().find('*[data-gallery="'+this.gallery+
'"]'),this.gallery_index=this.gallery_items.index(this.$element),a(document).on("keydown.ekkoLightbox",this.navigate.bind(this)),this.options.directional_arrows&&1<this.gallery_items.length&&(this.lightbox_container.append('<div class="ekko-lightbox-nav-overlay"><a href="#" class="'+this.strip_stops(this.options.left_arrow_class)+'"></a><a href="#" class="'+this.strip_stops(this.options.right_arrow_class)+'"></a></div>'),this.modal_arrows=this.lightbox_container.find("div.ekko-lightbox-nav-overlay").first(),
this.lightbox_container.find("a"+this.strip_spaces(this.options.left_arrow_class)).on("click",function(b){return function(c){return c.preventDefault(),b.navigate_left()}}(this)),this.lightbox_container.find("a"+this.strip_spaces(this.options.right_arrow_class)).on("click",function(b){return function(c){return c.preventDefault(),b.navigate_right()}}(this)))),this.options.type?"image"===this.options.type?this.preloadImage(this.options.remote,!0):"youtube"===this.options.type&&(d=this.getYoutubeId(this.options.remote))?
this.showYoutubeVideo(d):"vimeo"===this.options.type?this.showVimeoVideo(this.options.remote):"instagram"===this.options.type?this.showInstagramVideo(this.options.remote):"url"===this.options.type?this.loadRemoteContent(this.options.remote):"video"===this.options.type?this.showVideoIframe(this.options.remote):this.error('Could not detect remote target type. Force the type using data-type="image|youtube|vimeo|instagram|url|video"'):this.detectRemoteType(this.options.remote)):this.error("No remote target given")},
strip_stops:function(d){return d.replace(/\./g,"")},strip_spaces:function(d){return d.replace(/\s/g,"")},isImage:function(d){return d.match(/(^data:image\/.*,)|(\.(jp(e|g|eg)|gif|png|bmp|webp|svg)((\?|#).*)?$)/i)},isSwf:function(d){return d.match(/\.(swf)((\?|#).*)?$/i)},getYoutubeId:function(d){var b;return b=d.match(/^.*(youtu.be\/|v\/|u\/\w\/|embed\/|watch\?v=|&v=)([^#&\?]*).*/),b&&11===b[2].length?b[2]:!1},getVimeoId:function(d){return 0<d.indexOf("vimeo")?d:!1},getInstagramId:function(d){return 0<
d.indexOf("instagram")?d:!1},navigate:function(d){if(d=d||window.event,39===d.keyCode||37===d.keyCode){if(39===d.keyCode)return this.navigate_right();if(37===d.keyCode)return this.navigate_left()}},navigateTo:function(d){var b,c;return 0>d||d>this.gallery_items.length-1?this:(this.showLoading(),this.gallery_index=d,this.$element=a(this.gallery_items.get(this.gallery_index)),this.updateTitleAndFooter(),c=this.$element.attr("data-remote")||this.$element.attr("href"),this.detectRemoteType(c,this.$element.attr("data-type")||
!1),this.gallery_index+1<this.gallery_items.length&&(b=a(this.gallery_items.get(this.gallery_index+1),!1),c=b.attr("data-remote")||b.attr("href"),"image"===b.attr("data-type")||this.isImage(c))?this.preloadImage(c,!1):void 0)},navigate_left:function(){return 1!==this.gallery_items.length?(0===this.gallery_index?this.gallery_index=this.gallery_items.length-1:this.gallery_index--,this.options.onNavigate.call(this,"left",this.gallery_index),this.navigateTo(this.gallery_index)):void 0},navigate_right:function(){return 1!==
this.gallery_items.length?(this.gallery_index===this.gallery_items.length-1?this.gallery_index=0:this.gallery_index++,this.options.onNavigate.call(this,"right",this.gallery_index),this.navigateTo(this.gallery_index)):void 0},detectRemoteType:function(d,b){var c;return b=b||!1,"image"===b||this.isImage(d)?(this.options.type="image",this.preloadImage(d,!0)):"youtube"===b||(c=this.getYoutubeId(d))?(this.options.type="youtube",this.showYoutubeVideo(c)):"vimeo"===b||(c=this.getVimeoId(d))?(this.options.type=
"vimeo",this.showVimeoVideo(c)):"instagram"===b||(c=this.getInstagramId(d))?(this.options.type="instagram",this.showInstagramVideo(c)):"video"===b?(this.options.type="video",this.showVideoIframe(c)):(this.options.type="url",this.loadRemoteContent(d))},updateTitleAndFooter:function(){var d,b,c,e;return c=this.modal_content.find(".modal-header"),b=this.modal_content.find(".modal-footer"),e=this.$element.data("title")||"",d=this.$element.data("footer")||"",e||this.options.always_show_close?c.css("display",
"").find(".modal-title").html(e||"&nbsp;"):c.css("display","none"),d?b.css("display","").html(d):b.css("display","none"),this},showLoading:function(){return this.lightbox_body.html('<div class="modal-loading">'+this.options.loadingMessage+"</div>"),this},showYoutubeVideo:function(d){var b,c,e;return c=null!=this.$element.attr("data-norelated")||this.options.no_related?"&rel=0":"",e=this.checkDimensions(this.$element.data("width")||560),b=e/(560/315),this.showVideoIframe("//www.youtube.com/embed/"+
d+"?badge=0&autoplay=1&html5=1"+c,e,b)},showVimeoVideo:function(d){var b,c;return c=this.checkDimensions(this.$element.data("width")||560),b=c/(500/281),this.showVideoIframe(d+"?autoplay=1",c,b)},showInstagramVideo:function(d){var b,c;return c=this.checkDimensions(this.$element.data("width")||612),this.resize(c),b=c+80,this.lightbox_body.html('<iframe width="'+c+'" height="'+b+'" src="'+this.addTrailingSlash(d)+'embed/" frameborder="0" allowfullscreen></iframe>'),this.options.onContentLoaded.call(this),
this.modal_arrows?this.modal_arrows.css("display","none"):void 0},showVideoIframe:function(d,b,c){return c=c||b,this.resize(b),this.lightbox_body.html('<div class="embed-responsive embed-responsive-16by9"><iframe width="'+b+'" height="'+c+'" src="'+d+'" frameborder="0" allowfullscreen class="embed-responsive-item"></iframe></div>'),this.options.onContentLoaded.call(this),this.modal_arrows&&this.modal_arrows.css("display","none"),this},loadRemoteContent:function(d){var b,c;return c=this.$element.data("width")||
560,this.resize(c),b=this.$element.data("disableExternalCheck")||!1,b||this.isExternal(d)?(this.lightbox_body.html('<iframe width="'+c+'" height="'+c+'" src="'+d+'" frameborder="0" allowfullscreen></iframe>'),this.options.onContentLoaded.call(this)):this.lightbox_body.load(d,a.proxy(function(e){return function(){return e.$element.trigger("loaded.bs.modal")}}(this))),this.modal_arrows&&this.modal_arrows.css("display","none"),this},isExternal:function(d){var b;return b=d.match(/^([^:\/?#]+:)?(?:\/\/([^\/?#]*))?([^?#]+)?(\?[^#]*)?(#.*)?/),
"string"==typeof b[1]&&0<b[1].length&&b[1].toLowerCase()!==location.protocol?!0:"string"==typeof b[2]&&0<b[2].length&&b[2].replace(new RegExp(":("+{"http:":80,"https:":443}[location.protocol]+")?$"),"")!==location.host?!0:!1},error:function(d){return this.lightbox_body.html(d),this},preloadImage:function(d,b){var c;return c=new Image,(null==b||!0===b)&&(c.onload=function(e){return function(){var f;return f=a("<img />"),f.attr("src",c.src),f.addClass("img-responsive"),e.lightbox_body.html(f),e.modal_arrows&&
e.modal_arrows.css("display","block"),f.load(function(){return e.options.scale_height?e.scaleHeight(c.height,c.width):e.resize(c.width),e.options.onContentLoaded.call(e)})}}(this),c.onerror=function(e){return function(){return e.error("Failed to load image: "+d)}}(this)),c.src=d,c},scaleHeight:function(d,b){var c,e,f,h,m,k;return h=this.modal_header.outerHeight(!0)||0,f=this.modal_footer.outerHeight(!0)||0,this.modal_footer.is(":visible")||(f=0),this.modal_header.is(":visible")||(h=0),c=this.border.top+
this.border.bottom+this.padding.top+this.padding.bottom,m=parseFloat(this.modal_dialog.css("margin-top"))+parseFloat(this.modal_dialog.css("margin-bottom")),k=a(window).height()-c-m-h-f,e=Math.min(k/d,1),this.modal_dialog.css("height","auto").css("max-height",k),this.resize(e*b)},resize:function(d){var b;return b=d+this.border.left+this.padding.left+this.padding.right+this.border.right,this.modal_dialog.css("width","auto").css("max-width",b),this.lightbox_container.find("a").css("line-height",function(){return a(this).parent().height()+
"px"}),this},checkDimensions:function(d){var b,c;return c=d+this.border.left+this.padding.left+this.padding.right+this.border.right,b=document.body.clientWidth,c>b&&(d=this.modal_body.width()),d},close:function(){return this.modal.modal("hide")},addTrailingSlash:function(d){return"/"!==d.substr(-1)&&(d+="/"),d}};a.fn.ekkoLightbox=function(d){return this.each(function(){var b;return b=a(this),d=a.extend({remote:b.attr("data-remote")||b.attr("href"),gallery_parent_selector:b.attr("data-parent"),type:b.attr("data-type")},
d,b.data()),new g(this,d),this})};a.fn.ekkoLightbox.defaults={gallery_parent_selector:"document.body",left_arrow_class:".glyphicon .glyphicon-chevron-left",right_arrow_class:".glyphicon .glyphicon-chevron-right",directional_arrows:!0,type:null,always_show_close:!0,no_related:!1,scale_height:!0,loadingMessage:"Loading...",onShow:function(){},onShown:function(){},onHide:function(){},onHidden:function(){},onNavigate:function(){},onContentLoaded:function(){}}}).call(this);/*
 jquery-textcomplete - v0.8.0 - 2015-08-31 */
!function(a){if("function"==typeof define&&define.amd)define(["jquery"],a);else if("object"==typeof module&&module.exports){var g=require("jquery");module.exports=a(g)}else a(jQuery)}(function(a){if("undefined"==typeof a)throw Error("jQuery.textcomplete requires jQuery");return+function(g){var d=1;g.fn.textcomplete=function(b,c){var e=Array.prototype.slice.call(arguments);return this.each(function(){var f=g(this),h=f.data("textComplete");(h||(c||={},c._oid=d++,h=new g.fn.textcomplete.Completer(this,
c),f.data("textComplete",h)),"string"==typeof b)?h&&(e.shift(),h[b].apply(h,e),"destroy"===b&&f.removeData("textComplete")):(g.each(b,function(m){g.each(["header","footer","placement","maxCount"],function(k){m[k]&&(h.option[k]=m[k],console.warn&&console.warn(k+"as a strategy param is deprecated. Use option."),delete m[k])})}),h.register(g.fn.textcomplete.Strategy.parse(b,{el:this,$el:f})))})}}(a),+function(g){function d(c,e){if(this.$el=g(c),this.id="textcomplete"+b++,this.strategies=[],this.views=
[],this.option=g.extend({},d._getDefaults(),e),!this.$el.is("input[type=text]")&&!this.$el.is("textarea")&&!c.isContentEditable&&"true"!=c.contentEditable)throw Error("textcomplete must be called on a Textarea or a ContentEditable.");if(c===document.activeElement)this.initialize();else{var f=this;this.$el.one("focus."+this.id,function(){f.initialize()})}}var b=0;d._getDefaults=function(){return d.DEFAULTS||(d.DEFAULTS={appendTo:g("body"),zIndex:"100"}),d.DEFAULTS};g.extend(d.prototype,{id:null,option:null,
strategies:null,adapter:null,dropdown:null,$el:null,initialize:function(){var c=this.$el.get(0);this.dropdown=new g.fn.textcomplete.Dropdown(c,this,this.option);var e,f;this.option.adapter?e=this.option.adapter:(f=this.$el.is("textarea")||this.$el.is("input[type=text]")?"number"==typeof c.selectionEnd?"Textarea":"IETextarea":"ContentEditable",e=g.fn.textcomplete[f]);this.adapter=new e(c,this,this.option)},destroy:function(){this.$el.off("."+this.id);this.adapter&&this.adapter.destroy();this.dropdown&&
this.dropdown.destroy();this.$el=this.adapter=this.dropdown=null},trigger:function(c,e){this.dropdown||this.initialize();null!=c||(c=this.adapter.getTextFromHeadToCaret());c=this._extractSearchQuery(c);if(c.length){var f=c[1];e&&this._term===f||(this._term=f,this._search.apply(this,c))}else this._term=null,this.dropdown.deactivate()},fire:function(c){var e=Array.prototype.slice.call(arguments,1);return this.$el.trigger(c,e),this},register:function(c){Array.prototype.push.apply(this.strategies,c)},
select:function(c,e,f){this._term=null;this.adapter.select(c,e,f);this.fire("change").fire("textComplete:select",c,e);this.adapter.focus()},_clearAtNext:!0,_term:null,_extractSearchQuery:function(c){for(var e=0;e<this.strategies.length;e++){var f=this.strategies[e],h=f.context(c);if(h||""===h){var m="[object Function]"===Object.prototype.toString.call(f.match)?f.match(c):f.match;"[object String]"===Object.prototype.toString.call(h)&&(c=h);if(h=c.match(m))return[f,h[f.index],h]}}return[]},_search:function(c){var e,
f;return function(){var h=Array.prototype.slice.call(arguments);if(e)return f=h,void 0;e=!0;var m=this;h.unshift(function l(){if(f){var p=f;f=void 0;p.unshift(l);c.apply(m,p)}else e=!1});c.apply(this,h)}}(function(c,e,f,h){var m=this;e.search(f,function(k,l){m.dropdown.shown||m.dropdown.activate();m._clearAtNext&&(m.dropdown.clear(),m._clearAtNext=!1);m.dropdown.setPosition(m.adapter.getCaretPosition());m.dropdown.render(m._zip(k,e,f));l||(c(),m._clearAtNext=!0)},h)}),_zip:function(c,e,f){return g.map(c,
function(h){return{value:h,strategy:e,term:f}})}});g.fn.textcomplete.Completer=d}(a),+function(g){function d(f,h,m){this.$el=d.createElement(m);this.completer=h;this.id=h.id+"dropdown";this._data=[];this.$inputEl=g(f);this.option=m;m.listPosition&&(this.setPosition=m.listPosition);m.height&&this.$el.height(m.height);var k=this;g.each("maxCount placement footer header noResultsMessage className".split(" "),function(l,p){null!=m[p]&&(k[p]=m[p])});this._bindEvents(f);c[this.id]=this}var b=g(window),
c={};g(document).on("click",function(f){var h=f.originalEvent&&f.originalEvent.keepTextCompleteDropdown;g.each(c,function(m,k){m!==h&&k.deactivate()})});var e={SKIP_DEFAULT:0,KEY_UP:1,KEY_DOWN:2,KEY_ENTER:3,KEY_PAGEUP:4,KEY_PAGEDOWN:5,KEY_ESCAPE:6};g.extend(d,{createElement:function(f){var h=f.appendTo;h instanceof g||(h=g(h));return g("<ul></ul>").addClass("dropdown-menu textcomplete-dropdown").attr("id","textcomplete-dropdown-"+f._oid).css({display:"none",left:0,position:"absolute",zIndex:f.zIndex}).appendTo(h)}});
g.extend(d.prototype,{$el:null,$inputEl:null,completer:null,footer:null,header:null,id:null,maxCount:10,placement:"",shown:!1,data:[],className:"",destroy:function(){this.deactivate();this.$el.off("."+this.id);this.$inputEl.off("."+this.id);this.clear();this.$el=this.$inputEl=this.completer=null;delete c[this.id]},render:function(f){f=this._buildContents(f);var h=g.map(this.data,function(m){return m.value});this.data.length?(this._renderHeader(h),this._renderFooter(h),f&&(this._renderContents(f),
this._fitToBottom(),this._activateIndexedItem()),this._setScroll()):this.noResultsMessage?this._renderNoResultsMessage(h):this.shown&&this.deactivate()},setPosition:function(f){this.$el.css(this._applyPlacement(f));var h="absolute";return this.$inputEl.add(this.$inputEl.parents()).each(function(){return"absolute"===g(this).css("position")?!1:"fixed"===g(this).css("position")?(h="fixed",!1):void 0}),this.$el.css({position:h}),this},clear:function(){this.$el.html("");this.data=[];this._index=0;this._$header=
this._$footer=this._$noResultsMessage=null},activate:function(){return this.shown||(this.clear(),this.$el.show(),this.className&&this.$el.addClass(this.className),this.completer.fire("textComplete:show"),this.shown=!0),this},deactivate:function(){return this.shown&&(this.$el.hide(),this.className&&this.$el.removeClass(this.className),this.completer.fire("textComplete:hide"),this.shown=!1),this},isUp:function(f){return 38===f.keyCode||f.ctrlKey&&80===f.keyCode},isDown:function(f){return 40===f.keyCode||
f.ctrlKey&&78===f.keyCode},isEnter:function(f){return!(f.ctrlKey||f.altKey||f.metaKey||f.shiftKey)&&(13===f.keyCode||9===f.keyCode||!0===this.option.completeOnSpace&&32===f.keyCode)},isPageup:function(f){return 33===f.keyCode},isPagedown:function(f){return 34===f.keyCode},isEscape:function(f){return 27===f.keyCode},_data:null,_index:null,_$header:null,_$noResultsMessage:null,_$footer:null,_bindEvents:function(){this.$el.on("mousedown."+this.id,".textcomplete-item",g.proxy(this._onClick,this));this.$el.on("touchstart."+
this.id,".textcomplete-item",g.proxy(this._onClick,this));this.$el.on("mouseover."+this.id,".textcomplete-item",g.proxy(this._onMouseover,this));this.$inputEl.on("keydown."+this.id,g.proxy(this._onKeydown,this))},_onClick:function(f){var h=g(f.target);f.preventDefault();f.originalEvent.keepTextCompleteDropdown=this.id;h.hasClass("textcomplete-item")||(h=h.closest(".textcomplete-item"));h=this.data[parseInt(h.data("index"),10)];this.completer.select(h.value,h.strategy,f);var m=this;setTimeout(function(){m.deactivate();
"touchstart"===f.type&&m.$inputEl.focus()},0)},_onMouseover:function(f){var h=g(f.target);f.preventDefault();h.hasClass("textcomplete-item")||(h=h.closest(".textcomplete-item"));this._index=parseInt(h.data("index"),10);this._activateIndexedItem()},_onKeydown:function(f){if(this.shown){var h;switch(g.isFunction(this.option.onKeydown)&&(h=this.option.onKeydown(f,e)),null==h&&(h=this._defaultKeydown(f)),h){case e.KEY_UP:f.preventDefault();this._up();break;case e.KEY_DOWN:f.preventDefault();this._down();
break;case e.KEY_ENTER:f.preventDefault();this._enter(f);break;case e.KEY_PAGEUP:f.preventDefault();this._pageup();break;case e.KEY_PAGEDOWN:f.preventDefault();this._pagedown();break;case e.KEY_ESCAPE:f.preventDefault(),this.deactivate()}}},_defaultKeydown:function(f){return this.isUp(f)?e.KEY_UP:this.isDown(f)?e.KEY_DOWN:this.isEnter(f)?e.KEY_ENTER:this.isPageup(f)?e.KEY_PAGEUP:this.isPagedown(f)?e.KEY_PAGEDOWN:this.isEscape(f)?e.KEY_ESCAPE:void 0},_up:function(){0===this._index?this._index=this.data.length-
1:--this._index;this._activateIndexedItem();this._setScroll()},_down:function(){this._index===this.data.length-1?this._index=0:this._index+=1;this._activateIndexedItem();this._setScroll()},_enter:function(f){var h=this.data[parseInt(this._getActiveElement().data("index"),10)];this.completer.select(h.value,h.strategy,f);this.deactivate()},_pageup:function(){var f=0,h=this._getActiveElement().position().top-this.$el.innerHeight();this.$el.children().each(function(m){return g(this).position().top+g(this).outerHeight()>
h?(f=m,!1):void 0});this._index=f;this._activateIndexedItem();this._setScroll()},_pagedown:function(){var f=this.data.length-1,h=this._getActiveElement().position().top+this.$el.innerHeight();this.$el.children().each(function(m){return g(this).position().top>h?(f=m,!1):void 0});this._index=f;this._activateIndexedItem();this._setScroll()},_activateIndexedItem:function(){this.$el.find(".textcomplete-item.active").removeClass("active");this._getActiveElement().addClass("active")},_getActiveElement:function(){return this.$el.children(".textcomplete-item:nth("+
this._index+")")},_setScroll:function(){var f=this._getActiveElement(),h=f.position().top;f=f.outerHeight();var m=this.$el.innerHeight(),k=this.$el.scrollTop();0===this._index||this._index==this.data.length-1||0>h?this.$el.scrollTop(h+k):h+f>m&&this.$el.scrollTop(h+f+k-m)},_buildContents:function(f){var h,m,k="";for(h=0;h<f.length&&this.data.length!==this.maxCount;h++){var l=f[h];a:{var p=void 0;var q,u=this.data,t=l.strategy.idProperty;for(q=0;q<u.length;q++)if(p=u[q],p.strategy===l.strategy)if(t){if(p.value[t]===
l.value[t]){p=!0;break a}}else if(p.value===l.value){p=!0;break a}p=!1}p||(m=this.data.length,this.data.push(l),k+='<li class="textcomplete-item" data-index="'+m+'"><a>',k+=l.strategy.template(l.value,l.term),k+="</a></li>")}return k},_renderHeader:function(f){this.header&&(this._$header||(this._$header=g('<li class="textcomplete-header"></li>').prependTo(this.$el)),f=g.isFunction(this.header)?this.header(f):this.header,this._$header.html(f))},_renderFooter:function(f){this.footer&&(this._$footer||
(this._$footer=g('<li class="textcomplete-footer"></li>').appendTo(this.$el)),f=g.isFunction(this.footer)?this.footer(f):this.footer,this._$footer.html(f))},_renderNoResultsMessage:function(f){this.noResultsMessage&&(this._$noResultsMessage||(this._$noResultsMessage=g('<li class="textcomplete-no-results-message"></li>').appendTo(this.$el)),f=g.isFunction(this.noResultsMessage)?this.noResultsMessage(f):this.noResultsMessage,this._$noResultsMessage.html(f))},_renderContents:function(f){this._$footer?
this._$footer.before(f):this.$el.append(f)},_fitToBottom:function(){var f=b.scrollTop()+b.height(),h=this.$el.height();this.$el.position().top+h>f&&this.$el.offset({top:f-h})},_applyPlacement:function(f){return-1!==this.placement.indexOf("top")?f={top:"auto",bottom:this.$el.parent().height()-f.top+f.lineHeight,left:f.left}:(f.bottom="auto",delete f.lineHeight),-1!==this.placement.indexOf("absleft")?f.left=0:-1!==this.placement.indexOf("absright")&&(f.right=0,f.left="auto"),f}});g.fn.textcomplete.Dropdown=
d;g.extend(g.fn.textcomplete,e)}(a),+function(g){function d(c){g.extend(this,c);this.cache&&(this.search=b(this.search))}var b=function(c){var e={};return function(f,h){e[f]?h(e[f]):c.call(this,f,function(m){e[f]=(e[f]||[]).concat(m);h.apply(null,arguments)})}};d.parse=function(c,e){return g.map(c,function(f){f=new d(f);return f.el=e.el,f.$el=e.$el,f})};g.extend(d.prototype,{match:null,replace:null,search:null,cache:!1,context:function(){return!0},index:2,template:function(c){return c},idProperty:null});
g.fn.textcomplete.Strategy=d}(a),+function(g){function d(){}var b=Date.now||function(){return(new Date).getTime()},c=function(e,f){var h,m,k,l,p,q=function(){var u=b()-l;f>u?h=setTimeout(q,f-u):(h=null,p=e.apply(k,m),k=m=null)};return function(){return k=this,m=arguments,l=b(),h||=setTimeout(q,f),p}};g.extend(d.prototype,{id:null,completer:null,el:null,$el:null,option:null,initialize:function(e,f,h){this.el=e;this.$el=g(e);this.id=f.id+this.constructor.name;this.completer=f;this.option=h;this.option.debounce&&
(this._onKeyup=c(this._onKeyup,this.option.debounce));this._bindEvents()},destroy:function(){this.$el.off("."+this.id);this.$el=this.el=this.completer=null},select:function(){throw Error("Not implemented");},getCaretPosition:function(){var e=this._getCaretRelativePosition(),f=this.$el.offset();return e.top+=f.top,e.left+=f.left,e},focus:function(){this.$el.focus()},_bindEvents:function(){this.$el.on("keyup."+this.id,g.proxy(this._onKeyup,this))},_onKeyup:function(e){this._skipSearch(e)||this.completer.trigger(this.getTextFromHeadToCaret(),
!0)},_skipSearch:function(e){switch(e.keyCode){case 13:case 40:case 38:return!0}if(e.ctrlKey)switch(e.keyCode){case 78:case 80:return!0}}});g.fn.textcomplete.Adapter=d}(a),+function(g){function d(b,c,e){this.initialize(b,c,e)}d.DIV_PROPERTIES={left:-9999,position:"absolute",top:0,whiteSpace:"pre-wrap"};d.COPY_PROPERTIES="border-width font-family font-size font-style font-variant font-weight height letter-spacing word-spacing line-height text-decoration text-align width padding-top padding-right padding-bottom padding-left margin-top margin-right margin-bottom margin-left border-style box-sizing tab-size".split(" ");
g.extend(d.prototype,g.fn.textcomplete.Adapter.prototype,{select:function(b,c,e){var f=this.getTextFromHeadToCaret(),h=this.el.value.substring(this.el.selectionEnd);b=c.replace(b,e);"undefined"!=typeof b&&(g.isArray(b)&&(h=b[1]+h,b=b[0]),f=f.replace(c.match,b),this.$el.val(f+h),this.el.selectionStart=this.el.selectionEnd=f.length)},_getCaretRelativePosition:function(){var b=g("<div></div>").css(this._copyCss()).text(this.getTextFromHeadToCaret()),c=g("<span></span>").text(".").appendTo(b);this.$el.before(b);
var e=c.position();return e.top+=c.height()-this.$el.scrollTop(),e.lineHeight=c.height(),b.remove(),e},_copyCss:function(){return g.extend({overflow:this.el.scrollHeight>this.el.offsetHeight?"scroll":"auto"},d.DIV_PROPERTIES,this._getStyles())},_getStyles:function(b){return"undefined"!=typeof b("<div></div>").css(["color"]).color?function(){return this.$el.css(d.COPY_PROPERTIES)}:function(){var c=this.$el,e={};return b.each(d.COPY_PROPERTIES,function(f,h){e[h]=c.css(h)}),e}}(g),getTextFromHeadToCaret:function(){return this.el.value.substring(0,
this.el.selectionEnd)}});g.fn.textcomplete.Textarea=d}(a),+function(g){function d(c,e,f){this.initialize(c,e,f);g("<span>"+b+"</span>").css({position:"absolute",top:-9999,left:-9999}).insertBefore(c)}var b="\u5436";g.extend(d.prototype,g.fn.textcomplete.Textarea.prototype,{select:function(c,e,f){var h=this.getTextFromHeadToCaret(),m=this.el.value.substring(h.length);c=e.replace(c,f);"undefined"!=typeof c&&(g.isArray(c)&&(m=c[1]+m,c=c[0]),h=h.replace(e.match,c),this.$el.val(h+m),this.el.focus(),e=
this.el.createTextRange(),e.collapse(!0),e.moveEnd("character",h.length),e.moveStart("character",h.length),e.select())},getTextFromHeadToCaret:function(){this.el.focus();var c=document.selection.createRange();c.moveStart("character",-this.el.value.length);c=c.text.split(b);return 1===c.length?c[0]:c[1]}});g.fn.textcomplete.IETextarea=d}(a),+function(g){function d(b,c,e){this.initialize(b,c,e)}g.extend(d.prototype,g.fn.textcomplete.Adapter.prototype,{select:function(b,c,e){var f=this.getTextFromHeadToCaret(),
h=window.getSelection(),m=h.getRangeAt(0),k=m.cloneRange();k.selectNodeContents(m.startContainer);k=k.toString().substring(m.startOffset);b=c.replace(b,e);"undefined"!=typeof b&&(g.isArray(b)&&(k=b[1]+k,b=b[0]),f=f.replace(c.match,b),m.selectNodeContents(m.startContainer),m.deleteContents(),c=document.createTextNode(f+k),m.insertNode(c),m.setStart(c,f.length),m.collapse(!0),h.removeAllRanges(),h.addRange(m))},_getCaretRelativePosition:function(){var b=window.getSelection().getRangeAt(0).cloneRange(),
c=document.createElement("span");b.insertNode(c);b.selectNodeContents(c);b.deleteContents();b=g(c);c=b.offset();return c.left-=this.$el.offset().left,c.top+=b.height()-this.$el.offset().top,c.lineHeight=b.height(),b.remove(),c},getTextFromHeadToCaret:function(){var b=window.getSelection().getRangeAt(0),c=b.cloneRange();return c.selectNodeContents(b.startContainer),c.toString().substring(0,b.startOffset)}});g.fn.textcomplete.ContentEditable=d}(a),a});/*
 http://www.gnu.org/licenses/gpl.html 
 @project jquery.gettext

 Usage:

 This plugin expects its input data to be a JSON object like 
 {"": header, "string": "translation", ...} 

 After getting the server side set up (either as a static file - my choice - or 
 as a web service), the client side is simple:
  * add to the head section of the page something like 
    <link href="path/to/translation.json" lang="ro" rel="gettext"/>
  * in your script, use $.gt.gettext(string) or _(string); for plural forms, use
    $.gt.ngettext(sg, pl1[, pl2, ...], count) or n_(sg, pl1[, pl2, ...], count)
  * to extract strings to a .po file, you can use standard gettext utilities like
    xgettext and msgfmt; to generate the JSON, one could use the following Python 
    snippet, assuming a domain.mo file exists under path/lang/LC_MESSAGES:

    import simplejson as enc

    def gettext_json(domain, path, lang = [], indent = False):
        try:
            tr = gettext.translation(domain, path, lang)
            return enc.dumps(tr._catalog, ensure_ascii = False, indent = indent)
        except IOError:
            return None

    why go through the additional hassle of gettext? well, it's a matter of 
    preference, the main advantags I see are:
     * well known editing tools like KBabel, poEdit, gtranslator, Emacs PO mode, 
       etc.
     * translation memory, fuzzy matches and other features that get really 
       helpful when your application is big and you have hundreds of strings
*/
(function(a){a.gt=a.gt||{};a.extend(a.gt,{messages:{},lang:"C",setLang:function(g){a.gt.lang="string"==typeof g&&" "!=g?g:"C"},pl_re:/^Plural-Forms:\s*nplurals\s*=\s*(\d+);\s*plural\s*=\s*([^a-zA-Z0-9\$]*([a-zA-Z0-9\$]+).+)$/m,plural:function(g){return 1!=g},load:function(){a.gt.setLang(a("html").attr("lang"));a('link[rel="gettext"][lang="'+this.lang+'"]').each(function(){var g=this.lang,d=this.href;d.match(/https?:\/\//)||(d="http://"+window.location.hostname+d);try{a.ajax({type:"GET",url:d,async:!1,
dataType:"json",success:function(b){a.gt.messages[g]=a.gt.messages[g]||{};a.extend(a.gt.messages[g],b);var c=a.gt.pl_re.exec(a.gt.messages[g][""]);if(c){b=c[2];c=c[3];try{var e=eval("(function("+c+") {return "+b+";})")}catch(f){return}a.gt.plural=e}}})}catch(b){}})},gettext:function(g){var d=a.gt.lang;if("C"==d||"undefined"==typeof a.gt.messages[d])return g;d=a.gt.messages[d][g];return"string"==typeof d?d:"object"==typeof d&&d.constructor==Array?d[0]:g},ngettext:function(){var g=a.gt.lang,d=Array.apply(null,
arguments),b=d[d.length-1],c=d[0],e=d=d.slice(0,-1);"C"!=g&&"undefined"!=typeof a.gt.messages[g]&&(e=a.gt.messages[g][c]);return"string"==typeof e?e:"object"==typeof e&&e.constructor==Array&&(g=a.gt.plural(b),"boolean"==typeof g&&2==d.length&&(g=g?1:0),"number"==typeof g&&g<e.length)?e[g]:c}});a(document).ready(function(){a.gt.load()})})(jQuery);if("undefined"==typeof _)var _=jQuery.gt.gettext,gettext=jQuery.gt.gettext;if("undefined"==typeof n_)var n_=jQuery.gt.ngettext;/*
 Polyglot Language Switcher 2 - v1.0.0 - 2015-02-20
 https://github.com/ixtendo/Polyglot-Language-Switcher-2/

 Copyright (c) 2015 Ixtendo;
 Licensed under the MIT license */
(function(a){var g=function(d,b){var c=a(d);b||={};a.each(a.fn.polyglotLanguageSwitcher.defaults,function(e){var f=c.data(e);f&&(b[e]=f)});return b};a.fn.polyglotLanguageSwitcher=function(d){var b=function(k,l){return a.isFunction(k[l])?k[l].call(k):k[l]},c=function(k,l){var p=l._model.invoker,q=a(p);switch(k.type){case "opening":l._model.status="opening";q.trigger(a.Event("popupOpening",{target:k.target,invoker:p}));break;case "opened":l._model.status="opened";var u=a(k.target);l._model.documentClickHandler||
(l._model.documentClickHandler=a(document).on("click",function(t){0===a(t.target).closest(u).length&&h(u,l)}));l._model.documentKeyHandler||(l._model.documentKeyHandler=a(document).on("keydown",function(t){27===t.keyCode&&h(u,l)}));q.trigger(a.Event("popupOpened",{target:k.target,invoker:p}));break;case "closing":l._model.status="closing";q.trigger(a.Event("popupClosing",{target:k.target,invoker:p}));break;case "closed":l._model.status="closed",l._model.documentClickHandler&&(a(document).off("click",
l._model.documentClickHandler),l._model.documentClickHandler=null),l._model.documentKeyHandler&&(a(document).off("keydown",l._model.documentKeyHandler),l._model.documentKeyHandler=null),q.trigger(a.Event("popupClosed",{target:k.target,invoker:p}))}},e=function(k){var l=k._model.invoker,p=k.animEffect,q=b(k,"gridColumns"),u=b(k,"selectedLang");k=a('<div class="pls-language-container-scrollable"><table class="pls-language-container"><tbody><tr></tr></tbody></table></div>').hide();"slide"===p&&k.slideUp(0);
var t=k.find("tr");p=a(l).find("li");var C=Math.round(p.length/q),D,w=[];p.each(function(z){var L=a(this),U=L.children("a"),V=U.data("langId");u===V&&(D=U.addClass("pls-selected-locale").clone().attr("href","#"));w.push(L);0===(z+1)%C&&(t.append(a("<td></td>").append(a("<ul></ul>").append(w))),w=[])});0<w.length&&(t.append(a("<td></td>").append(a("<ul></ul>").append(w))),w=[]);D||=p.first().children("a").addClass("pls-selected-locale").clone().attr("href","#");a(l).empty().append(D).append(k)},f=
function(k,l){var p=l.animEffect,q=l.animSpeed;"closed"===l._model.status&&(c({type:"opening",target:k.get()},l),"fade"===p?k.fadeIn(q,function(){c({type:"opened",target:k.get()},l)}):"slide"===p&&k.slideDown(q,function(){c({type:"opened",target:k.get()},l)}))},h=function(k,l){var p=b(l,"animEffect"),q=b(l,"animSpeed");"opened"===l._model.status&&(c({type:"closing",target:k.get()},l),"fade"===p?k.fadeOut(q,function(){c({type:"closed",target:k.get()},l)}):"slide"===p&&k.slideUp(q,function(){c({type:"closed",
target:k.get()},l)}))},m=function(k){var l=k._model.invoker,p=a(l).children(".pls-language-container-scrollable"),q=b(k,"openMode");if("click"===q)a(l).children("a").on("click",function(){f(p,k);return!1});else if("hover"===q){var u=b(k,"hoverTimeout");a(l).children("a").hover(function(){clearTimeout(k._model.closePopupTimeout);k._model.closePopupTimeout=-1;f(p,k)},function(){0>k._model.closePopupTimeout&&(k._model.closePopupTimeout=setTimeout(function(){h(p,k)},u))});p.hover(function(){clearTimeout(k._model.closePopupTimeout);
k._model.closePopupTimeout=-1},function(){0>k._model.closePopupTimeout&&(k._model.closePopupTimeout=setTimeout(function(){h(p,k)},u))})}else throw"Open mode '"+q+"' not supported";};return this.each(function(){var k=a.extend({_model:{invoker:this,status:"closed",closePopupTimeout:-1,documentClickHandler:null,documentKeyHandler:null}},a.fn.polyglotLanguageSwitcher.defaults,g(this,d));e(k);m(k)})};a.fn.polyglotLanguageSwitcher.defaults={openMode:"hover",hoverTimeout:200,animSpeed:200,animEffect:"fade",
gridColumns:1,selectedLang:function(){return a("html").attr("lang")}}})(jQuery);(function(a){a.fn.bugme=function(g){var d={target:jQuery(this),message:"Super duper exciting announcement goes in here! You can even have a link <a href='http://weare2ndfloor.com'>weare2ndfloor.com</a>",align:"left",close:!0,closeText:"X",closeAlign:"right",remember:!0,expireIn:7,cookieName:"bugmebar",colours:!0,animate:!0,fixed:!1,fixedSpacer:!1,zindex:99999};g=a.extend(d,g);return this.each(function(){var b=g.target,c=g.align,e=g.message,f=g.close,h=g.closeText,m=g.closeAlign,k=g.remember,l=g.expireIn,
p=g.cookieName,q=g.colours,u=g.animate,t=g.fixed,C=g.fixedSpacer,D=g.zindex;(function(){function w(){jQuery(".bugme",b).addClass("colours")}closeme="left"==m?" bugme-close-left":"";closer=f?'<a class="bugme-close'+closeme+'" href="#">'+h+"</a>":"";animateme=u?" bugmebar-animated bugmebar-bounceInDown":"";fixme=t?" bugme-fixed":"";zindexme="z-index:"+D;if("close"!=jQuery.cookie(p)||!k){if(jQuery(b).prepend('<div class="bugme'+animateme+fixme+'" style="text-align:'+c+";"+zindexme+'">'+e+closer+"</div>"),
C&&t){var z=jQuery(".bugme",b).outerHeight();jQuery(b).animate({marginTop:"+="+z},500)}(jQuery(".bugme").hide().slideDown(),q)&&window.setTimeout(w,2E3);jQuery("a.bugme-close").on("click",function(L){L.preventDefault();jQuery(".bugme",b).removeClass("colours").addClass("bugmebar-bounceOutUp");k&&jQuery.cookie(p,"close",{expires:l,path:"/"});window.setTimeout(function(){C&&t&&jQuery(b).animate({marginTop:"-="+z},500);jQuery(".bugme",b).slideUp()},1E3);window.setTimeout(function(){jQuery(".bugme",b).remove()},
2E3)})}})()})}})(jQuery);(function(a){"object"===typeof exports&&"undefined"!==typeof module?module.exports=a():"function"===typeof define&&define.amd?define([],a):("undefined"!==typeof window?window:"undefined"!==typeof global?global:"undefined"!==typeof self?self:this).store=a()})(function(){return function c(g,d,b){function e(m,k){if(!d[m]){if(!g[m]){var l="function"==typeof require&&require;if(!k&&l)return l(m,!0);if(f)return f(m,!0);k=Error("Cannot find module '"+m+"'");throw k.code="MODULE_NOT_FOUND",k;}k=d[m]={exports:{}};
g[m][0].call(k.exports,function(p){var q=g[m][1][p];return e(q?q:p)},k,k.exports,c,g,d,b)}return d[m].exports}for(var f="function"==typeof require&&require,h=0;h<b.length;h++)e(b[h]);return e}({1:[function(g,d,b){"object"!=typeof JSON&&(JSON={});(function(){function c(z){return 10>z?"0"+z:z}function e(){return this.valueOf()}function f(z){return q.lastIndex=0,q.test(z)?'"'+z.replace(q,function(L){var U=D[L];return"string"==typeof U?U:"\\u"+("0000"+L.charCodeAt(0).toString(16)).slice(-4)})+'"':'"'+
z+'"'}function h(z,L){var U,V,Y,T=t,J=L[z];switch(J&&"object"==typeof J&&"function"==typeof J.toJSON&&(J=J.toJSON(z)),"function"==typeof w&&(J=w.call(L,z,J)),typeof J){case "string":return f(J);case "number":return isFinite(J)?String(J):"null";case "boolean":case "null":return String(J);case "object":if(!J)return"null";if(t+=C,Y=[],"[object Array]"===Object.prototype.toString.apply(J)){L=J.length;for(z=0;L>z;z+=1)Y[z]=h(z,J)||"null";return V=0===Y.length?"[]":t?"[\n"+t+Y.join(",\n"+t)+"\n"+T+"]":
"["+Y.join(",")+"]",t=T,V}if(w&&"object"==typeof w)for(L=w.length,z=0;L>z;z+=1)"string"==typeof w[z]&&(U=w[z],V=h(U,J),V&&Y.push(f(U)+(t?": ":":")+V));else for(U in J)Object.prototype.hasOwnProperty.call(J,U)&&(V=h(U,J),V&&Y.push(f(U)+(t?": ":":")+V));return V=0===Y.length?"{}":t?"{\n"+t+Y.join(",\n"+t)+"\n"+T+"}":"{"+Y.join(",")+"}",t=T,V}}var m=/^[\],:{}\s]*$/,k=/\\(?:["\\\/bfnrt]|u[0-9a-fA-F]{4})/g,l=/"[^"\\\n\r]*"|true|false|null|-?\d+(?:\.\d*)?(?:[eE][+\-]?\d+)?/g,p=/(?:^|:|,)(?:\s*\[)+/g,q=
/[\\"\u0000-\u001f\u007f-\u009f\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,u=/[\u0000\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g;"function"!=typeof Date.prototype.toJSON&&(Date.prototype.toJSON=function(){return isFinite(this.valueOf())?this.getUTCFullYear()+"-"+c(this.getUTCMonth()+1)+"-"+c(this.getUTCDate())+"T"+c(this.getUTCHours())+":"+c(this.getUTCMinutes())+":"+c(this.getUTCSeconds())+
"Z":null},Boolean.prototype.toJSON=e,Number.prototype.toJSON=e,String.prototype.toJSON=e);var t,C,D,w;"function"!=typeof JSON.stringify&&(D={"\b":"\\b","\t":"\\t","\n":"\\n","\f":"\\f","\r":"\\r",'"':'\\"',"\\":"\\\\"},JSON.stringify=function(z,L,U){var V;if(t="",C="","number"==typeof U)for(V=0;U>V;V+=1)C+=" ";else"string"==typeof U&&(C=U);if(w=L,L&&"function"!=typeof L&&("object"!=typeof L||"number"!=typeof L.length))throw Error("JSON.stringify");return h("",{"":z})});"function"!=typeof JSON.parse&&
(JSON.parse=function(z,L){function U(Y,T){var J,P,K=Y[T];if(K&&"object"==typeof K)for(J in K)Object.prototype.hasOwnProperty.call(K,J)&&(P=U(K,J),void 0!==P?K[J]=P:delete K[J]);return L.call(Y,T,K)}var V;if(z=String(z),u.lastIndex=0,u.test(z)&&(z=z.replace(u,function(Y){return"\\u"+("0000"+Y.charCodeAt(0).toString(16)).slice(-4)})),m.test(z.replace(k,"@").replace(l,"]").replace(p,"")))return V=eval("("+z+")"),"function"==typeof L?U({"":V},""):V;throw new SyntaxError("JSON.parse");})})()},{}],2:[function(g,
d,b){g("./json2");d.exports=g("./store")},{"./json2":1,"./store":3}],3:[function(g,d,b){(function(c){d.exports=function(){var e={},f="undefined"!=typeof window?window:c,h=f.document;e.disabled=!1;e.version="1.3.20";e.set=function(t,C){};e.get=function(t,C){};e.has=function(t){return void 0!==e.get(t)};e.remove=function(t){};e.clear=function(){};e.transact=function(t,C,D){null==D&&(D=C,C=null);null==C&&(C={});C=e.get(t,C);D(C);e.set(t,C)};e.getAll=function(){};e.forEach=function(){};e.serialize=function(t){return JSON.stringify(t)};
e.deserialize=function(t){if("string"==typeof t)try{return JSON.parse(t)}catch(C){return t||void 0}};try{var m="localStorage"in f&&f.localStorage}catch(t){m=!1}if(m){var k=f.localStorage;e.set=function(t,C){return void 0===C?e.remove(t):(k.setItem(t,e.serialize(C)),C)};e.get=function(t,C){t=e.deserialize(k.getItem(t));return void 0===t?C:t};e.remove=function(t){k.removeItem(t)};e.clear=function(){k.clear()};e.getAll=function(){var t={};return e.forEach(function(C,D){t[C]=D}),t};e.forEach=function(t){for(var C=
0;C<k.length;C++){var D=k.key(C);t(D,e.get(D))}}}else if(h&&h.documentElement.addBehavior){try{var l=new ActiveXObject("htmlfile");l.open();l.write('<script>document.w=window\x3c/script><iframe src="/favicon.ico"></iframe>');l.close();var p=l.w.frames[0].document;k=p.createElement("div")}catch(t){k=h.createElement("div"),p=h.body}f=function(t){return function(){var C=Array.prototype.slice.call(arguments,0);C.unshift(k);p.appendChild(k);k.addBehavior("#default#userData");k.load("localStorage");C=t.apply(e,
C);return p.removeChild(k),C}};var q=RegExp("[!\"#$%&'()*+,/\\\\:;<=>?@[\\]^`{|}~]","g"),u=function(t){return t.replace(/^d/,"___$&").replace(q,"___")};e.set=f(function(t,C,D){return C=u(C),void 0===D?e.remove(C):(t.setAttribute(C,e.serialize(D)),t.save("localStorage"),D)});e.get=f(function(t,C,D){C=u(C);t=e.deserialize(t.getAttribute(C));return void 0===t?D:t});e.remove=f(function(t,C){C=u(C);t.removeAttribute(C);t.save("localStorage")});e.clear=f(function(t){var C=t.XMLDocument.documentElement.attributes;
t.load("localStorage");for(var D=C.length-1;0<=D;D--)t.removeAttribute(C[D].name);t.save("localStorage")});e.getAll=function(t){var C={};return e.forEach(function(D,w){C[D]=w}),C};e.forEach=f(function(t,C){for(var D,w=t.XMLDocument.documentElement.attributes,z=0;D=w[z];++z)C(D.name,e.deserialize(t.getAttribute(D.name)))})}try{e.set("__storejs__","__storejs__"),"__storejs__"!=e.get("__storejs__")&&(e.disabled=!0),e.remove("__storejs__")}catch(t){e.disabled=!0}return e.enabled=!e.disabled,e}()}).call(this,
"undefined"!==typeof global?global:"undefined"!==typeof self?self:"undefined"!==typeof window?window:{})},{}]},{},[2])(2)});/*
 X-editable - v1.5.1 
 In-place editing with Twitter Bootstrap, jQuery UI or pure jQuery
 http://github.com/vitalets/x-editable
 Copyright (c) 2013 Vitaliy Potapov; Licensed MIT */
!function(a){var g=function(d,b){this.options=a.extend({},a.fn.editableform.defaults,b);this.$div=a(d);this.options.scope||(this.options.scope=this)};g.prototype={constructor:g,initInput:function(){this.input=this.options.input;this.value=this.input.str2value(this.options.value);this.input.prerender()},initTemplate:function(){this.$form=a(a.fn.editableform.template)},initButtons:function(){var d=this.$form.find(".editable-buttons");d.append(a.fn.editableform.buttons);"bottom"===this.options.showbuttons&&
d.addClass("editable-buttons-bottom")},render:function(){this.$loading=a(a.fn.editableform.loading);this.$div.empty().append(this.$loading);this.initTemplate();this.options.showbuttons?this.initButtons():this.$form.find(".editable-buttons").remove();this.showLoading();this.isSaving=!1;this.$div.triggerHandler("rendering");this.initInput();this.$form.find("div.editable-input").append(this.input.$tpl);this.$div.append(this.$form);a.when(this.input.render()).then(a.proxy(function(){(this.options.showbuttons||
this.input.autosubmit(),this.$form.find(".editable-cancel").click(a.proxy(this.cancel,this)),this.input.error)?(this.error(this.input.error),this.$form.find(".editable-submit").attr("disabled",!0),this.input.$input.attr("disabled",!0),this.$form.submit(function(d){d.preventDefault()})):(this.error(!1),this.input.$input.removeAttr("disabled"),this.$form.find(".editable-submit").removeAttr("disabled"),this.input.value2input(null===this.value||void 0===this.value||""===this.value?this.options.defaultValue:
this.value),this.$form.submit(a.proxy(this.submit,this)));this.$div.triggerHandler("rendered");this.showForm();this.input.postrender&&this.input.postrender()},this))},cancel:function(){this.$div.triggerHandler("cancel")},showLoading:function(){var d,b;this.$form?(d=this.$form.outerWidth(),b=this.$form.outerHeight(),d&&this.$loading.width(d),b&&this.$loading.height(b),this.$form.hide()):(d=this.$loading.parent().width(),d&&this.$loading.width(d));this.$loading.show()},showForm:function(d){this.$loading.hide();
this.$form.show();!1!==d&&this.input.activate();this.$div.triggerHandler("show")},error:function(d){var b=this.$form.find(".control-group"),c=this.$form.find(".editable-error-block");if(!1===d)b.removeClass(a.fn.editableform.errorGroupClass),c.removeClass(a.fn.editableform.errorBlockClass).empty().hide();else{if(d){d=(""+d).split("\n");for(var e=0;e<d.length;e++)d[e]=a("<div>").text(d[e]).html();d=d.join("<br>")}b.addClass(a.fn.editableform.errorGroupClass);c.addClass(a.fn.editableform.errorBlockClass).html(d).show()}},
submit:function(d){d.stopPropagation();d.preventDefault();var b=this.input.input2value();d=this.validate(b);if("object"===a.type(d)&&void 0!==d.newValue){if(b=d.newValue,this.input.value2input(b),"string"==typeof d.msg)return this.error(d.msg),this.showForm(),void 0}else if(d)return this.error(d),this.showForm(),void 0;if(!this.options.savenochange&&this.input.value2str(b)==this.input.value2str(this.value))return this.$div.triggerHandler("nochange"),void 0;var c=this.input.value2submit(b);this.isSaving=
!0;a.when(this.save(c)).done(a.proxy(function(e){this.isSaving=!1;var f="function"==typeof this.options.success?this.options.success.call(this.options.scope,e,b):null;return!1===f?(this.error(!1),this.showForm(!1),void 0):"string"==typeof f?(this.error(f),this.showForm(),void 0):(f&&"object"==typeof f&&f.hasOwnProperty("newValue")&&(b=f.newValue),this.error(!1),this.value=b,this.$div.triggerHandler("save",{newValue:b,submitValue:c,response:e}),void 0)},this)).fail(a.proxy(function(e){this.isSaving=
!1;e="function"==typeof this.options.error?this.options.error.call(this.options.scope,e,b):"string"==typeof e?e:e.responseText||e.statusText||"Unknown error!";this.error(e);this.showForm()},this))},save:function(d){this.options.pk=a.fn.editableutils.tryParseJson(this.options.pk,!0);var b,c="function"==typeof this.options.pk?this.options.pk.call(this.options.scope):this.options.pk;return"function"==typeof this.options.url||this.options.url&&("always"===this.options.send||"auto"===this.options.send&&
null!==c&&void 0!==c)?(this.showLoading(),b={name:this.options.name||"",value:d,pk:c},"function"==typeof this.options.params?b=this.options.params.call(this.options.scope,b):(this.options.params=a.fn.editableutils.tryParseJson(this.options.params,!0),a.extend(b,this.options.params)),"function"==typeof this.options.url?this.options.url.call(this.options.scope,b):a.ajax(a.extend({url:this.options.url,data:b,type:"POST"},this.options.ajaxOptions))):void 0},validate:function(d){return void 0===d&&(d=
this.value),"function"==typeof this.options.validate?this.options.validate.call(this.options.scope,d):void 0},option:function(d,b){d in this.options&&(this.options[d]=b);"value"===d&&this.setValue(b)},setValue:function(d,b){this.value=b?this.input.str2value(d):d;this.$form&&this.$form.is(":visible")&&this.input.value2input(this.value)}};a.fn.editableform=function(d){var b=arguments;return this.each(function(){var c=a(this),e=c.data("editableform"),f="object"==typeof d&&d;e||c.data("editableform",
e=new g(this,f));"string"==typeof d&&e[d].apply(e,Array.prototype.slice.call(b,1))})};a.fn.editableform.Constructor=g;a.fn.editableform.defaults={type:"text",url:null,params:null,name:null,pk:null,value:null,defaultValue:null,send:"auto",validate:null,success:null,error:null,ajaxOptions:null,showbuttons:!0,scope:null,savenochange:!1};a.fn.editableform.template='<form class="form-inline editableform"><div class="control-group"><div><div class="editable-input"></div><div class="editable-buttons"></div></div><div class="editable-error-block"></div></div></form>';
a.fn.editableform.loading='<div class="editableform-loading"></div>';a.fn.editableform.buttons='<button type="submit" class="editable-submit">ok</button><button type="button" class="editable-cancel">cancel</button>';a.fn.editableform.errorGroupClass=null;a.fn.editableform.errorBlockClass="editable-error";a.fn.editableform.engine="jquery"}(window.jQuery);
(function(a){a.fn.editableutils={inherit:function(g,d){var b=function(){};b.prototype=d.prototype;g.prototype=new b;g.prototype.constructor=g;g.superclass=d.prototype},setCursorPosition:function(g,d){g.setSelectionRange?g.setSelectionRange(d,d):g.createTextRange&&(g=g.createTextRange(),g.collapse(!0),g.moveEnd("character",d),g.moveStart("character",d),g.select())},tryParseJson:function(g,d){if("string"==typeof g&&g.length&&g.match(/^[\{\[].*[\}\]]$/))if(d)try{g=(new Function("return "+g))()}catch(b){}finally{}else g=
(new Function("return "+g))();return g},sliceObj:function(g,d,b){var c,e={};if(!a.isArray(d)||!d.length)return e;for(var f=0;f<d.length;f++){var h=d[f];g.hasOwnProperty(h)&&(e[h]=g[h]);!0!==b&&(c=h.toLowerCase(),g.hasOwnProperty(c)&&(e[h]=g[c]))}return e},getConfigData:function(g){var d={};return a.each(g.data(),function(b,c){("object"!=typeof c||c&&"object"==typeof c&&(c.constructor===Object||c.constructor===Array))&&(d[b]=c)}),d},objectKeys:function(g){if(Object.keys)return Object.keys(g);if(g!==
Object(g))throw new TypeError("Object.keys called on a non-object");var d,b=[];for(d in g)Object.prototype.hasOwnProperty.call(g,d)&&b.push(d);return b},escape:function(g){return a("<div>").text(g).html()},itemsByValue:function(g,d,b){if(!d||null===g)return[];if("function"!=typeof b){var c=b||"value";b=function(m){return m[c]}}var e=a.isArray(g),f=[],h=this;return a.each(d,function(m,k){k.children?f=f.concat(h.itemsByValue(g,k.children,b)):e?a.grep(g,function(l){return l==(k&&"object"==typeof k?b(k):
k)}).length&&f.push(k):(m=k&&"object"==typeof k?b(k):k,g==m&&f.push(k))}),f},createInput:function(g){var d,b,c=g.type;return"date"===c&&("inline"===g.mode?a.fn.editabletypes.datefield?c="datefield":a.fn.editabletypes.dateuifield&&(c="dateuifield"):a.fn.editabletypes.date?c="date":a.fn.editabletypes.dateui&&(c="dateui"),"date"!==c||a.fn.editabletypes.date||(c="combodate")),"datetime"===c&&"inline"===g.mode&&(c="datetimefield"),"wysihtml5"!==c||a.fn.editabletypes[c]||(c="textarea"),"function"==typeof a.fn.editabletypes[c]?
(d=a.fn.editabletypes[c],b=this.sliceObj(g,this.objectKeys(d.defaults)),new d(b)):(a.error("Unknown type: "+c),!1)},supportsTransitions:function(){var g=(document.body||document.documentElement).style,d="transition",b=["Moz","Webkit","Khtml","O","ms"];if("string"==typeof g[d])return!0;d=d.charAt(0).toUpperCase()+d.substr(1);for(var c=0;c<b.length;c++)if("string"==typeof g[b[c]+d])return!0;return!1}}})(window.jQuery);
(function(a){var g=function(b,c){this.init(b,c)},d=function(b,c){this.init(b,c)};g.prototype={containerName:null,containerDataName:null,innerCss:null,containerClass:"editable-container editable-popup",defaults:{},init:function(b,c){this.$element=a(b);this.options=a.extend({},a.fn.editableContainer.defaults,c);this.splitOptions();this.formOptions.scope=this.$element[0];this.initContainer();this.delayedHide=!1;this.$element.on("destroyed",a.proxy(function(){this.destroy()},this));a(document).data("editable-handlers-attached")||
(a(document).on("keyup.editable",function(e){27===e.which&&a(".editable-open").editableContainer("hide")}),a(document).on("click.editable",function(e){var f,h=a(e.target),m=".editable-container .ui-datepicker-header .datepicker .modal-backdrop .bootstrap-wysihtml5-insert-image-modal .bootstrap-wysihtml5-insert-link-modal".split(" ");if(a.contains(document.documentElement,e.target)&&!h.is(document)){for(f=0;f<m.length;f++)if(h.is(m[f])||h.parents(m[f]).length)return;g.prototype.closeOthers(e.target)}}),
a(document).data("editable-handlers-attached",!0))},splitOptions:function(){if(this.containerOptions={},this.formOptions={},!a.fn[this.containerName])throw Error(this.containerName+" not found. Have you included corresponding js file?");for(var b in this.options)b in this.defaults?this.containerOptions[b]=this.options[b]:this.formOptions[b]=this.options[b]},tip:function(){return this.container()?this.container().$tip:null},container:function(){var b;return this.containerDataName&&(b=this.$element.data(this.containerDataName))?
b:this.$element.data(this.containerName)},call:function(){this.$element[this.containerName].apply(this.$element,arguments)},initContainer:function(){this.call(this.containerOptions)},renderForm:function(){this.$form.editableform(this.formOptions).on({save:a.proxy(this.save,this),nochange:a.proxy(function(){this.hide("nochange")},this),cancel:a.proxy(function(){this.hide("cancel")},this),show:a.proxy(function(){this.delayedHide?(this.hide(this.delayedHide.reason),this.delayedHide=!1):this.setPosition()},
this),rendering:a.proxy(this.setPosition,this),resize:a.proxy(this.setPosition,this),rendered:a.proxy(function(){this.$element.triggerHandler("shown",a(this.options.scope).data("editable"))},this)}).editableform("render")},show:function(b){this.$element.addClass("editable-open");!1!==b&&this.closeOthers(this.$element[0]);this.innerShow();this.tip().addClass(this.containerClass);this.$form;this.$form=a("<div>");this.tip().is(this.innerCss)?this.tip().append(this.$form):this.tip().find(this.innerCss).append(this.$form);
this.renderForm()},hide:function(b){if(this.tip()&&this.tip().is(":visible")&&this.$element.hasClass("editable-open")){if(this.$form.data("editableform").isSaving)return this.delayedHide={reason:b},void 0;this.delayedHide=!1;this.$element.removeClass("editable-open");this.innerHide();this.$element.triggerHandler("hidden",b||"manual")}},innerShow:function(){},innerHide:function(){},toggle:function(b){this.container()&&this.tip()&&this.tip().is(":visible")?this.hide():this.show(b)},setPosition:function(){},
save:function(b,c){this.$element.triggerHandler("save",c);this.hide("save")},option:function(b,c){this.options[b]=c;b in this.containerOptions?(this.containerOptions[b]=c,this.setContainerOption(b,c)):(this.formOptions[b]=c,this.$form&&this.$form.editableform("option",b,c))},setContainerOption:function(b,c){this.call("option",b,c)},destroy:function(){this.hide();this.innerDestroy();this.$element.off("destroyed");this.$element.removeData("editableContainer")},innerDestroy:function(){},closeOthers:function(b){a(".editable-open").each(function(c,
e){e===b||a(e).find(b).length||(c=a(e),(e=c.data("editableContainer"))&&("cancel"===e.options.onblur?c.data("editableContainer").hide("onblur"):"submit"===e.options.onblur&&c.data("editableContainer").tip().find("form").submit()))})},activate:function(){this.tip&&this.tip().is(":visible")&&this.$form&&this.$form.data("editableform").input.activate()}};a.fn.editableContainer=function(b){var c=arguments;return this.each(function(){var e=a(this),f=e.data("editableContainer"),h="object"==typeof b&&b,
m="inline"===h.mode?d:g;f||e.data("editableContainer",f=new m(this,h));"string"==typeof b&&f[b].apply(f,Array.prototype.slice.call(c,1))})};a.fn.editableContainer.Popup=g;a.fn.editableContainer.Inline=d;a.fn.editableContainer.defaults={value:null,placement:"top",autohide:!0,onblur:"cancel",anim:!1,mode:"popup"};jQuery.event.special.destroyed={remove:function(b){b.handler&&b.handler()}}})(window.jQuery);
(function(a){a.extend(a.fn.editableContainer.Inline.prototype,a.fn.editableContainer.Popup.prototype,{containerName:"editableform",innerCss:".editable-inline",containerClass:"editable-container editable-inline",initContainer:function(){this.$tip=a("<span></span>");this.options.anim||(this.options.anim=0)},splitOptions:function(){this.containerOptions={};this.formOptions=this.options},tip:function(){return this.$tip},innerShow:function(){this.$element.hide();this.tip().insertAfter(this.$element).show()},
innerHide:function(){this.$tip.hide(this.options.anim,a.proxy(function(){this.$element.show();this.innerDestroy()},this))},innerDestroy:function(){this.tip()&&this.tip().empty().remove()}})})(window.jQuery);
(function(a){var g=function(d,b){this.$element=a(d);this.options=a.extend({},a.fn.editable.defaults,b,a.fn.editableutils.getConfigData(this.$element));this.options.selector?this.initLive():this.init();this.options.highlight&&!a.fn.editableutils.supportsTransitions()&&(this.options.highlight=!1)};g.prototype={constructor:g,init:function(){var d=!1;if(this.options.name=this.options.name||this.$element.attr("id"),this.options.scope=this.$element[0],this.input=a.fn.editableutils.createInput(this.options),
this.input){switch(void 0===this.options.value||null===this.options.value?(this.value=this.input.html2value(a.trim(this.$element.html())),d=!0):(this.options.value=a.fn.editableutils.tryParseJson(this.options.value,!0),this.value="string"==typeof this.options.value?this.input.str2value(this.options.value):this.options.value),this.$element.addClass("editable"),"textarea"===this.input.type&&this.$element.addClass("editable-pre-wrapped"),"manual"!==this.options.toggle?(this.$element.addClass("editable-click"),
this.$element.on(this.options.toggle+".editable",a.proxy(function(b){(this.options.disabled||b.preventDefault(),"mouseenter"===this.options.toggle)?this.show():this.toggle("click"!==this.options.toggle)},this))):this.$element.attr("tabindex",-1),"function"==typeof this.options.display&&(this.options.autotext="always"),this.options.autotext){case "always":d=!0;break;case "auto":d=!a.trim(this.$element.text()).length&&null!==this.value&&void 0!==this.value&&!d;break;default:d=!1}a.when(d?this.render():
!0).then(a.proxy(function(){this.options.disabled?this.disable():this.enable();this.$element.triggerHandler("init",this)},this))}},initLive:function(){var d=this.options.selector;this.options.selector=!1;this.options.autotext="never";this.$element.on(this.options.toggle+".editable",d,a.proxy(function(b){var c=a(b.target);c.data("editable")||(c.hasClass(this.options.emptyclass)&&c.empty(),c.editable(this.options).trigger(b))},this))},render:function(d){return!1!==this.options.display?this.input.value2htmlFinal?
this.input.value2html(this.value,this.$element[0],this.options.display,d):"function"==typeof this.options.display?this.options.display.call(this.$element[0],this.value,d):this.input.value2html(this.value,this.$element[0]):void 0},enable:function(){this.options.disabled=!1;this.$element.removeClass("editable-disabled");this.handleEmpty(this.isEmpty);"manual"!==this.options.toggle&&"-1"===this.$element.attr("tabindex")&&this.$element.removeAttr("tabindex")},disable:function(){this.options.disabled=
!0;this.hide();this.$element.addClass("editable-disabled");this.handleEmpty(this.isEmpty);this.$element.attr("tabindex",-1)},toggleDisabled:function(){this.options.disabled?this.enable():this.disable()},option:function(d,b){return d&&"object"==typeof d?(a.each(d,a.proxy(function(c,e){this.option(a.trim(c),e)},this)),void 0):(this.options[d]=b,"disabled"===d?b?this.disable():this.enable():("value"===d&&this.setValue(b),this.container&&this.container.option(d,b),this.input.option&&this.input.option(d,
b),void 0))},handleEmpty:function(d){!1!==this.options.display&&(this.isEmpty=void 0!==d?d:"function"==typeof this.input.isEmpty?this.input.isEmpty(this.$element):""===a.trim(this.$element.html()),this.options.disabled?this.isEmpty&&(this.$element.empty(),this.options.emptyclass&&this.$element.removeClass(this.options.emptyclass)):this.isEmpty?(this.$element.html(this.options.emptytext),this.options.emptyclass&&this.$element.addClass(this.options.emptyclass)):this.options.emptyclass&&this.$element.removeClass(this.options.emptyclass))},
show:function(d){if(!this.options.disabled){if(this.container){if(this.container.tip().is(":visible"))return}else{var b=a.extend({},this.options,{value:this.value,input:this.input});this.$element.editableContainer(b);this.$element.on("save.internal",a.proxy(this.save,this));this.container=this.$element.data("editableContainer")}this.container.show(d)}},hide:function(){this.container&&this.container.hide()},toggle:function(d){this.container&&this.container.tip().is(":visible")?this.hide():this.show(d)},
save:function(d,b){this.options.unsavedclass&&((d=(d=(d=(d="function"==typeof this.options.url)||!1===this.options.display)||void 0!==b.response)||this.options.savenochange&&this.input.value2str(this.value)!==this.input.value2str(b.newValue))?this.$element.removeClass(this.options.unsavedclass):this.$element.addClass(this.options.unsavedclass));if(this.options.highlight){var c=this.$element,e=c.css("background-color");c.css("background-color",this.options.highlight);setTimeout(function(){"transparent"===
e&&(e="");c.css("background-color",e);c.addClass("editable-bg-transition");setTimeout(function(){c.removeClass("editable-bg-transition")},1700)},10)}this.setValue(b.newValue,!1,b.response)},validate:function(){return"function"==typeof this.options.validate?this.options.validate.call(this,this.value):void 0},setValue:function(d,b,c){this.value=b?this.input.str2value(d):d;this.container&&this.container.option("value",this.value);a.when(this.render(c)).then(a.proxy(function(){this.handleEmpty()},this))},
activate:function(){this.container&&this.container.activate()},destroy:function(){this.disable();this.container&&this.container.destroy();this.input.destroy();"manual"!==this.options.toggle&&(this.$element.removeClass("editable-click"),this.$element.off(this.options.toggle+".editable"));this.$element.off("save.internal");this.$element.removeClass("editable editable-open editable-disabled");this.$element.removeData("editable")}};a.fn.editable=function(d){var b={},c=arguments;switch(d){case "validate":return this.each(function(){var k,
l=a(this).data("editable");l&&(k=l.validate())&&(b[l.options.name]=k)}),b;case "getValue":return 2===arguments.length&&!0===arguments[1]?b=this.eq(0).data("editable").value:this.each(function(){var k=a(this).data("editable");k&&void 0!==k.value&&null!==k.value&&(b[k.options.name]=k.input.value2submit(k.value))}),b;case "submit":var e=arguments[1]||{},f=this,h=this.editable("validate");if(a.isEmptyObject(h)){var m={};1===f.length?(h=f.data("editable"),m={name:h.options.name||"",value:h.input.value2submit(h.value),
pk:"function"==typeof h.options.pk?h.options.pk.call(h.options.scope):h.options.pk},"function"==typeof h.options.params?m=h.options.params.call(h.options.scope,m):(h.options.params=a.fn.editableutils.tryParseJson(h.options.params,!0),a.extend(m,h.options.params)),m={url:h.options.url,data:m,type:"POST"},e.success=e.success||h.options.success,e.error=e.error||h.options.error):(h=this.editable("getValue"),m={url:e.url,data:h,type:"POST"});m.success="function"==typeof e.success?function(k){e.success.call(f,
k,e)}:a.noop;m.error="function"==typeof e.error?function(){e.error.apply(f,arguments)}:a.noop;e.ajaxOptions&&a.extend(m,e.ajaxOptions);e.data&&a.extend(m.data,e.data);a.ajax(m)}else"function"==typeof e.error&&e.error.call(f,h);return this}return this.each(function(){var k=a(this),l=k.data("editable"),p="object"==typeof d&&d;return p&&p.selector?(new g(this,p),void 0):(l||k.data("editable",l=new g(this,p)),"string"==typeof d&&l[d].apply(l,Array.prototype.slice.call(c,1)),void 0)})};a.fn.editable.defaults=
{type:"text",disabled:!1,toggle:"click",emptytext:"Empty",autotext:"auto",value:null,display:null,emptyclass:"editable-empty",unsavedclass:"editable-unsaved",selector:null,highlight:"#FFFF80"}})(window.jQuery);
(function(a){a.fn.editabletypes={};var g=function(){};g.prototype={init:function(d,b,c){this.type=d;this.options=a.extend({},c,b)},prerender:function(){this.$input=this.$tpl=a(this.options.tpl);this.error=this.$clear=null},render:function(){},value2html:function(d,b){a(b)[this.options.escape?"text":"html"](a.trim(d))},html2value:function(d){return a("<div>").html(d).text()},value2str:function(d){return d},str2value:function(d){return d},value2submit:function(d){return d},value2input:function(d){this.$input.val(d)},
input2value:function(){return this.$input.val()},activate:function(){this.$input.is(":visible")&&this.$input.focus()},clear:function(){this.$input.val(null)},escape:function(d){return a("<div>").text(d).html()},autosubmit:function(){},destroy:function(){},setClass:function(){this.options.inputclass&&this.$input.addClass(this.options.inputclass)},setAttr:function(d){void 0!==this.options[d]&&null!==this.options[d]&&this.$input.attr(d,this.options[d])},option:function(d,b){this.options[d]=b}};g.defaults=
{tpl:"",inputclass:null,escape:!0,scope:null,showbuttons:!0};a.extend(a.fn.editabletypes,{abstractinput:g})})(window.jQuery);
(function(a){var g=function(){};a.fn.editableutils.inherit(g,a.fn.editabletypes.abstractinput);a.extend(g.prototype,{render:function(){var d=a.Deferred();return this.error=null,this.onSourceReady(function(){this.renderList();d.resolve()},function(){this.error=this.options.sourceError;d.resolve()}),d.promise()},html2value:function(){return null},value2html:function(d,b,c,e){var f=a.Deferred(),h=function(){"function"==typeof c?c.call(b,d,this.sourceData,e):this.value2htmlFinal(d,b);f.resolve()};return null===
d?h.call(this):this.onSourceReady(h,function(){f.resolve()}),f.promise()},onSourceReady:function(d,b){var c;if(a.isFunction(this.options.source)?(c=this.options.source.call(this.options.scope),this.sourceData=null):c=this.options.source,this.options.sourceCache&&a.isArray(this.sourceData))return d.call(this),void 0;try{c=a.fn.editableutils.tryParseJson(c,!1)}catch(h){return b.call(this),void 0}if("string"==typeof c){if(this.options.sourceCache){var e,f=c;if(a(document).data(f)||a(document).data(f,
{}),e=a(document).data(f),!1===e.loading&&e.sourceData)return this.sourceData=e.sourceData,this.doPrepend(),d.call(this),void 0;if(!0===e.loading)return e.callbacks.push(a.proxy(function(){this.sourceData=e.sourceData;this.doPrepend();d.call(this)},this)),e.err_callbacks.push(a.proxy(b,this)),void 0;e.loading=!0;e.callbacks=[];e.err_callbacks=[]}c=a.extend({url:c,type:"get",cache:!1,dataType:"json",success:a.proxy(function(h){e&&(e.loading=!1);this.sourceData=this.makeArray(h);a.isArray(this.sourceData)?
(e&&(e.sourceData=this.sourceData,a.each(e.callbacks,function(){this.call()})),this.doPrepend(),d.call(this)):(b.call(this),e&&a.each(e.err_callbacks,function(){this.call()}))},this),error:a.proxy(function(){b.call(this);e&&(e.loading=!1,a.each(e.err_callbacks,function(){this.call()}))},this)},this.options.sourceOptions);a.ajax(c)}else this.sourceData=this.makeArray(c),a.isArray(this.sourceData)?(this.doPrepend(),d.call(this)):b.call(this)},doPrepend:function(){null!==this.options.prepend&&void 0!==
this.options.prepend&&(a.isArray(this.prependData)||(a.isFunction(this.options.prepend)&&(this.options.prepend=this.options.prepend.call(this.options.scope)),this.options.prepend=a.fn.editableutils.tryParseJson(this.options.prepend,!0),"string"==typeof this.options.prepend&&(this.options.prepend={"":this.options.prepend}),this.prependData=this.makeArray(this.options.prepend)),a.isArray(this.prependData)&&a.isArray(this.sourceData)&&(this.sourceData=this.prependData.concat(this.sourceData)))},renderList:function(){},
value2htmlFinal:function(){},makeArray:function(d){var b,c,e=[];if(!d||"string"==typeof d)return null;if(a.isArray(d)){var f=function(k,l){return c={value:k,text:l},2<=b++?!1:void 0};for(var h=0;h<d.length;h++){var m=d[h];"object"==typeof m?(b=0,a.each(m,f),1===b?e.push(c):1<b&&(m.children&&(m.children=this.makeArray(m.children)),e.push(m))):e.push({value:m,text:m})}}else a.each(d,function(k,l){e.push({value:k,text:l})});return e},option:function(d,b){this.options[d]=b;"source"===d&&(this.sourceData=
null);"prepend"===d&&(this.prependData=null)}});g.defaults=a.extend({},a.fn.editabletypes.abstractinput.defaults,{source:null,prepend:!1,sourceError:"Error when loading list",sourceCache:!0,sourceOptions:null});a.fn.editabletypes.list=g})(window.jQuery);
(function(a){var g=function(d){this.init("text",d,g.defaults)};a.fn.editableutils.inherit(g,a.fn.editabletypes.abstractinput);a.extend(g.prototype,{render:function(){this.renderClear();this.setClass();this.setAttr("placeholder")},activate:function(){this.$input.is(":visible")&&(this.$input.focus(),a.fn.editableutils.setCursorPosition(this.$input.get(0),this.$input.val().length),this.toggleClear&&this.toggleClear())},renderClear:function(){this.options.clear&&(this.$clear=a('<span class="editable-clear-x"></span>'),
this.$input.after(this.$clear).css("padding-right",24).keyup(a.proxy(function(d){if(!~a.inArray(d.keyCode,[40,38,9,13,27])){clearTimeout(this.t);var b=this;this.t=setTimeout(function(){b.toggleClear(d)},100)}},this)).parent().css("position","relative"),this.$clear.click(a.proxy(this.clear,this)))},postrender:function(){},toggleClear:function(){if(this.$clear){var d=this.$input.val().length,b=this.$clear.is(":visible");d&&!b&&this.$clear.show();!d&&b&&this.$clear.hide()}},clear:function(){this.$clear.hide();
this.$input.val("").focus()}});g.defaults=a.extend({},a.fn.editabletypes.abstractinput.defaults,{tpl:'<input type="text">',placeholder:null,clear:!0});a.fn.editabletypes.text=g})(window.jQuery);
(function(a){var g=function(d){this.init("textarea",d,g.defaults)};a.fn.editableutils.inherit(g,a.fn.editabletypes.abstractinput);a.extend(g.prototype,{render:function(){this.setClass();this.setAttr("placeholder");this.setAttr("rows");this.$input.keydown(function(d){d.ctrlKey&&13===d.which&&a(this).closest("form").submit()})},activate:function(){a.fn.editabletypes.text.prototype.activate.call(this)}});g.defaults=a.extend({},a.fn.editabletypes.abstractinput.defaults,{tpl:"<textarea></textarea>",inputclass:"input-large",
placeholder:null,rows:7});a.fn.editabletypes.textarea=g})(window.jQuery);
(function(a){var g=function(d){this.init("select",d,g.defaults)};a.fn.editableutils.inherit(g,a.fn.editabletypes.list);a.extend(g.prototype,{renderList:function(){this.$input.empty();var d=function(b,c){if(a.isArray(c))for(var e=0;e<c.length;e++){var f={};c[e].children?(f.label=c[e].text,b.append(d(a("<optgroup>",f),c[e].children))):(f.value=c[e].value,c[e].disabled&&(f.disabled=!0),b.append(a("<option>",f).text(c[e].text)))}return b};d(this.$input,this.sourceData);this.setClass();this.$input.on("keydown.editable",
function(b){13===b.which&&a(this).closest("form").submit()})},value2htmlFinal:function(d,b){var c="";d=a.fn.editableutils.itemsByValue(d,this.sourceData);d.length&&(c=d[0].text);a.fn.editabletypes.abstractinput.prototype.value2html.call(this,c,b)},autosubmit:function(){this.$input.off("keydown.editable").on("change.editable",function(){a(this).closest("form").submit()})}});g.defaults=a.extend({},a.fn.editabletypes.list.defaults,{tpl:"<select></select>"});a.fn.editabletypes.select=g})(window.jQuery);
(function(a){var g=function(d){this.init("checklist",d,g.defaults)};a.fn.editableutils.inherit(g,a.fn.editabletypes.list);a.extend(g.prototype,{renderList:function(){if(this.$tpl.empty(),a.isArray(this.sourceData)){for(var d=0;d<this.sourceData.length;d++){var b=a("<label>").append(a("<input>",{type:"checkbox",value:this.sourceData[d].value})).append(a("<span>").text(" "+this.sourceData[d].text));a("<div>").append(b).appendTo(this.$tpl)}this.$input=this.$tpl.find('input[type="checkbox"]');this.setClass()}},
value2str:function(d){return a.isArray(d)?d.sort().join(a.trim(this.options.separator)):""},str2value:function(d){var b,c=null;return"string"==typeof d&&d.length?(b=new RegExp("\\s*"+a.trim(this.options.separator)+"\\s*"),c=d.split(b)):c=a.isArray(d)?d:[d],c},value2input:function(d){this.$input.prop("checked",!1);a.isArray(d)&&d.length&&this.$input.each(function(b,c){var e=a(c);a.each(d,function(f,h){e.val()==h&&e.prop("checked",!0)})})},input2value:function(){var d=[];return this.$input.filter(":checked").each(function(b,
c){d.push(a(c).val())}),d},value2htmlFinal:function(d,b){var c=[];d=a.fn.editableutils.itemsByValue(d,this.sourceData);var e=this.options.escape;d.length?(a.each(d,function(f,h){f=e?a.fn.editableutils.escape(h.text):h.text;c.push(f)}),a(b).html(c.join("<br>"))):a(b).empty()},activate:function(){this.$input.first().focus()},autosubmit:function(){this.$input.on("keydown",function(d){13===d.which&&a(this).closest("form").submit()})}});g.defaults=a.extend({},a.fn.editabletypes.list.defaults,{tpl:'<div class="editable-checklist"></div>',
inputclass:null,separator:","});a.fn.editabletypes.checklist=g})(window.jQuery);(function(a){var g=function(d){this.init("password",d,g.defaults)};a.fn.editableutils.inherit(g,a.fn.editabletypes.text);a.extend(g.prototype,{value2html:function(d,b){d?a(b).text("[hidden]"):a(b).empty()},html2value:function(){return null}});g.defaults=a.extend({},a.fn.editabletypes.text.defaults,{tpl:'<input type="password">'});a.fn.editabletypes.password=g})(window.jQuery);
(function(a){var g=function(d){this.init("email",d,g.defaults)};a.fn.editableutils.inherit(g,a.fn.editabletypes.text);g.defaults=a.extend({},a.fn.editabletypes.text.defaults,{tpl:'<input type="email">'});a.fn.editabletypes.email=g})(window.jQuery);(function(a){var g=function(d){this.init("url",d,g.defaults)};a.fn.editableutils.inherit(g,a.fn.editabletypes.text);g.defaults=a.extend({},a.fn.editabletypes.text.defaults,{tpl:'<input type="url">'});a.fn.editabletypes.url=g})(window.jQuery);
(function(a){var g=function(d){this.init("tel",d,g.defaults)};a.fn.editableutils.inherit(g,a.fn.editabletypes.text);g.defaults=a.extend({},a.fn.editabletypes.text.defaults,{tpl:'<input type="tel">'});a.fn.editabletypes.tel=g})(window.jQuery);
(function(a){var g=function(d){this.init("number",d,g.defaults)};a.fn.editableutils.inherit(g,a.fn.editabletypes.text);a.extend(g.prototype,{render:function(){g.superclass.render.call(this);this.setAttr("min");this.setAttr("max");this.setAttr("step")},postrender:function(){this.$clear&&this.$clear.css({right:24})}});g.defaults=a.extend({},a.fn.editabletypes.text.defaults,{tpl:'<input type="number">',inputclass:"input-mini",min:null,max:null,step:null});a.fn.editabletypes.number=g})(window.jQuery);
(function(a){var g=function(d){this.init("range",d,g.defaults)};a.fn.editableutils.inherit(g,a.fn.editabletypes.number);a.extend(g.prototype,{render:function(){this.$input=this.$tpl.filter("input");this.setClass();this.setAttr("min");this.setAttr("max");this.setAttr("step");this.$input.on("input",function(){a(this).siblings("output").text(a(this).val())})},activate:function(){this.$input.focus()}});g.defaults=a.extend({},a.fn.editabletypes.number.defaults,{tpl:'<input type="range"><output style="width: 30px; display: inline-block"></output>',
inputclass:"input-medium"});a.fn.editabletypes.range=g})(window.jQuery);(function(a){var g=function(d){this.init("time",d,g.defaults)};a.fn.editableutils.inherit(g,a.fn.editabletypes.abstractinput);a.extend(g.prototype,{render:function(){this.setClass()}});g.defaults=a.extend({},a.fn.editabletypes.abstractinput.defaults,{tpl:'<input type="time">'});a.fn.editabletypes.time=g})(window.jQuery);
(function(a){var g=function(d){if(this.init("select2",d,g.defaults),d.select2=d.select2||{},this.sourceData=null,d.placeholder&&(d.select2.placeholder=d.placeholder),!d.select2.tags&&d.source){var b=d.source;a.isFunction(d.source)&&(b=d.source.call(d.scope));"string"==typeof b?(d.select2.ajax=d.select2.ajax||{},d.select2.ajax.data||(d.select2.ajax.data=function(e){return{query:e}}),d.select2.ajax.results||(d.select2.ajax.results=function(e){return{results:e}}),d.select2.ajax.url=b):(this.sourceData=
this.convertSource(b),d.select2.data=this.sourceData)}if(this.options.select2=a.extend({},g.defaults.select2,d.select2),this.isMultiple=this.options.select2.tags||this.options.select2.multiple,this.isRemote="ajax"in this.options.select2,this.idFunc=this.options.select2.id,"function"!=typeof this.idFunc){var c=this.idFunc||"id";this.idFunc=function(e){return e[c]}}this.formatSelection=this.options.select2.formatSelection;"function"!=typeof this.formatSelection&&(this.formatSelection=function(e){return e.text})};
a.fn.editableutils.inherit(g,a.fn.editabletypes.abstractinput);a.extend(g.prototype,{render:function(){this.setClass();this.isRemote&&this.$input.on("select2-loaded",a.proxy(function(d){this.sourceData=d.items.results},this));this.isMultiple&&this.$input.on("change",function(){a(this).closest("form").parent().triggerHandler("resize")})},value2html:function(d,b){var c,e="",f=this;this.options.select2.tags?c=d:this.sourceData&&(c=a.fn.editableutils.itemsByValue(d,this.sourceData,this.idFunc));a.isArray(c)?
(e=[],a.each(c,function(h,m){e.push(m&&"object"==typeof m?f.formatSelection(m):m)})):c&&(e=f.formatSelection(c));e=a.isArray(e)?e.join(this.options.viewseparator):e;g.superclass.value2html.call(this,e,b)},html2value:function(d){return this.options.select2.tags?this.str2value(d,this.options.viewseparator):null},value2input:function(d){if(a.isArray(d)&&(d=d.join(this.getSeparator())),this.$input.data("select2")?this.$input.val(d).trigger("change",!0):(this.$input.val(d),this.$input.select2(this.options.select2)),
this.isRemote&&!this.isMultiple&&!this.options.select2.initSelection){var b=this.options.select2.formatSelection;this.options.select2.id||b||(b=a(this.options.scope),b.data("editable").isEmpty||(d={id:d,text:b.text()},this.$input.select2("data",d)))}},input2value:function(){return this.$input.select2("val")},str2value:function(d,b){if("string"!=typeof d||!this.isMultiple)return d;b=b||this.getSeparator();var c;if(null===d||1>d.length)return null;d=d.split(b);b=0;for(c=d.length;c>b;b+=1)d[b]=a.trim(d[b]);
return d},autosubmit:function(){this.$input.on("change",function(d,b){b||a(this).closest("form").submit()})},getSeparator:function(){return this.options.select2.separator||a.fn.select2.defaults.separator},convertSource:function(d){if(a.isArray(d)&&d.length&&void 0!==d[0].value)for(var b=0;b<d.length;b++)void 0!==d[b].value&&(d[b].id=d[b].value,delete d[b].value);return d},destroy:function(){this.$input.data("select2")&&this.$input.select2("destroy")}});g.defaults=a.extend({},a.fn.editabletypes.abstractinput.defaults,
{tpl:'<input type="hidden">',select2:null,placeholder:null,source:null,viewseparator:", "});a.fn.editabletypes.select2=g})(window.jQuery);
(function(a){var g=function(d,b){return this.$element=a(d),this.$element.is("input")?(this.options=a.extend({},a.fn.combodate.defaults,b,this.$element.data()),this.init(),void 0):(a.error("Combodate should be applied to INPUT element"),void 0)};g.prototype={constructor:g,init:function(){this.map={day:["D","date"],month:["M","month"],year:["Y","year"],hour:["[Hh]","hours"],minute:["m","minutes"],second:["s","seconds"],ampm:["[Aa]",""]};this.$widget=a('<span class="combodate"></span>').html(this.getTemplate());
this.initCombos();this.$widget.on("change","select",a.proxy(function(d){this.$element.val(this.getValue()).change();this.options.smartDays&&(a(d.target).is(".month")||a(d.target).is(".year"))&&this.fillCombo("day")},this));this.$widget.find("select").css("width","auto");this.$element.hide().after(this.$widget);this.setValue(this.$element.val()||this.options.value)},getTemplate:function(){var d=this.options.template;return a.each(this.map,function(b,c){c=c[0];b=new RegExp(c+"+");c=1<c.length?c.substring(1,
2):c;d=d.replace(b,"{"+c+"}")}),d=d.replace(/ /g,"&nbsp;"),a.each(this.map,function(b,c){c=c[0];c=1<c.length?c.substring(1,2):c;d=d.replace("{"+c+"}",'<select class="'+b+'"></select>')}),d},initCombos:function(){for(var d in this.map){var b=this.$widget.find("."+d);this["$"+d]=b.length?b:null;this.fillCombo(d)}},fillCombo:function(d){var b=this["$"+d];if(b){d=this["fill"+d.charAt(0).toUpperCase()+d.slice(1)]();var c=b.val();b.empty();for(var e=0;e<d.length;e++)b.append('<option value="'+d[e][0]+'">'+
d[e][1]+"</option>");b.val(c)}},fillCommon:function(d){var b=[];if("name"===this.options.firstItem){var c=moment.relativeTime||moment.langData()._relativeTime;d="function"==typeof c[d]?c[d](1,!0,d,!1):c[d];d=d.split(" ").reverse()[0];b.push(["",d])}else"empty"===this.options.firstItem&&b.push(["",""]);return b},fillDay:function(){var d=this.fillCommon("d"),b=-1!==this.options.template.indexOf("DD"),c=31;if(this.options.smartDays&&this.$month&&this.$year){var e=parseInt(this.$month.val(),10);var f=
parseInt(this.$year.val(),10);isNaN(e)||isNaN(f)||(c=moment([f,e]).daysInMonth())}for(f=1;c>=f;f++)e=b?this.leadZero(f):f,d.push([f,e]);return d},fillMonth:function(){var d,b=this.fillCommon("M"),c=-1!==this.options.template.indexOf("MMMM"),e=-1!==this.options.template.indexOf("MMM"),f=-1!==this.options.template.indexOf("MM");for(d=0;11>=d;d++){var h=c?moment().date(1).month(d).format("MMMM"):e?moment().date(1).month(d).format("MMM"):f?this.leadZero(d+1):d+1;b.push([d,h])}return b},fillYear:function(){var d,
b=[],c=-1!==this.options.template.indexOf("YYYY");for(d=this.options.maxYear;d>=this.options.minYear;d--){var e=c?d:(d+"").substring(2);b[this.options.yearDescending?"push":"unshift"]([d,e])}return this.fillCommon("y").concat(b)},fillHour:function(){var d,b=this.fillCommon("h");var c=-1!==this.options.template.indexOf("h");var e=(-1!==this.options.template.indexOf("H"),-1!==this.options.template.toLowerCase().indexOf("hh")),f=c?12:23;for(d=c?1:0;f>=d;d++)c=e?this.leadZero(d):d,b.push([d,c]);return b},
fillMinute:function(){var d,b=this.fillCommon("m"),c=-1!==this.options.template.indexOf("mm");for(d=0;59>=d;d+=this.options.minuteStep){var e=c?this.leadZero(d):d;b.push([d,e])}return b},fillSecond:function(){var d,b=this.fillCommon("s"),c=-1!==this.options.template.indexOf("ss");for(d=0;59>=d;d+=this.options.secondStep){var e=c?this.leadZero(d):d;b.push([d,e])}return b},fillAmpm:function(){var d=-1!==this.options.template.indexOf("a");return-1!==this.options.template.indexOf("A"),[["am",d?"am":"AM"],
["pm",d?"pm":"PM"]]},getValue:function(d){var b,c={},e=this,f=!1;return a.each(this.map,function(h){if("ampm"!==h){var m="day"===h?1:0;return c[h]=e["$"+h]?parseInt(e["$"+h].val(),10):m,isNaN(c[h])?(f=!0,!1):void 0}}),f?"":(this.$ampm&&(c.hour=12===c.hour?"am"===this.$ampm.val()?0:12:"am"===this.$ampm.val()?c.hour:c.hour+12),b=moment([c.year,c.month,c.day,c.hour,c.minute,c.second]),this.highlight(b),d=void 0===d?this.options.format:d,null===d?b.isValid()?b:null:b.isValid()?b.format(d):"")},setValue:function(d){function b(h,
m){var k={};return h.children("option").each(function(l,p){var q;l=a(p).attr("value");""!==l&&(q=Math.abs(l-m),("undefined"==typeof k.distance||q<k.distance)&&(k={value:l,distance:q}))}),k.value}if(d){var c="string"==typeof d?moment(d,this.options.format):moment(d),e=this,f={};c.isValid()&&(a.each(this.map,function(h,m){"ampm"!==h&&(f[h]=c[m[1]]())}),this.$ampm&&(12<=f.hour?(f.ampm="pm",12<f.hour&&(f.hour-=12)):(f.ampm="am",0===f.hour&&(f.hour=12))),a.each(f,function(h,m){e["$"+h]&&("minute"===h&&
1<e.options.minuteStep&&e.options.roundTime&&(m=b(e["$"+h],m)),"second"===h&&1<e.options.secondStep&&e.options.roundTime&&(m=b(e["$"+h],m)),e["$"+h].val(m))}),this.options.smartDays&&this.fillCombo("day"),this.$element.val(c.format(this.options.format)).change())}},highlight:function(d){d.isValid()?this.options.errorClass?this.$widget.removeClass(this.options.errorClass):this.$widget.find("select").css("border-color",this.borderColor):this.options.errorClass?this.$widget.addClass(this.options.errorClass):
(this.borderColor||(this.borderColor=this.$widget.find("select").css("border-color")),this.$widget.find("select").css("border-color","red"))},leadZero:function(d){return 9>=d?"0"+d:d},destroy:function(){this.$widget.remove();this.$element.removeData("combodate").show()}};a.fn.combodate=function(d){var b,c=Array.apply(null,arguments);return c.shift(),"getValue"===d&&this.length&&(b=this.eq(0).data("combodate"))?b.getValue.apply(b,c):this.each(function(){var e=a(this),f=e.data("combodate"),h="object"==
typeof d&&d;f||e.data("combodate",f=new g(this,h));"string"==typeof d&&"function"==typeof f[d]&&f[d].apply(f,c)})};a.fn.combodate.defaults={format:"DD-MM-YYYY HH:mm",template:"D / MMM / YYYY   H : mm",value:null,minYear:1970,maxYear:2015,yearDescending:!0,minuteStep:5,secondStep:1,firstItem:"empty",errorClass:null,roundTime:!0,smartDays:!1}})(window.jQuery);
(function(a){var g=function(d){this.init("combodate",d,g.defaults);this.options.viewformat||(this.options.viewformat=this.options.format);d.combodate=a.fn.editableutils.tryParseJson(d.combodate,!0);this.options.combodate=a.extend({},g.defaults.combodate,d.combodate,{format:this.options.format,template:this.options.template})};a.fn.editableutils.inherit(g,a.fn.editabletypes.abstractinput);a.extend(g.prototype,{render:function(){this.$input.combodate(this.options.combodate);"bs3"===a.fn.editableform.engine&&
this.$input.siblings().find("select").addClass("form-control");this.options.inputclass&&this.$input.siblings().find("select").addClass(this.options.inputclass)},value2html:function(d,b){d=d?d.format(this.options.viewformat):"";g.superclass.value2html.call(this,d,b)},html2value:function(d){return d?moment(d,this.options.viewformat):null},value2str:function(d){return d?d.format(this.options.format):""},str2value:function(d){return d?moment(d,this.options.format):null},value2submit:function(d){return this.value2str(d)},
value2input:function(d){this.$input.combodate("setValue",d)},input2value:function(){return this.$input.combodate("getValue",null)},activate:function(){this.$input.siblings(".combodate").find("select").eq(0).focus()},autosubmit:function(){}});g.defaults=a.extend({},a.fn.editabletypes.abstractinput.defaults,{tpl:'<input type="text">',inputclass:null,format:"YYYY-MM-DD",viewformat:null,template:"D / MMM / YYYY",combodate:null});a.fn.editabletypes.combodate=g})(window.jQuery);
(function(a){var g=a.fn.editableform.Constructor.prototype.initInput;a.extend(a.fn.editableform.Constructor.prototype,{initTemplate:function(){this.$form=a(a.fn.editableform.template);this.$form.find(".control-group").addClass("form-group");this.$form.find(".editable-error-block").addClass("help-block")},initInput:function(){g.apply(this);var d=null===this.input.options.inputclass||!1===this.input.options.inputclass;~a.inArray(this.input.type,"text select textarea password email url tel number range time typeaheadjs".split(" "))&&
(this.input.$input.addClass("form-control"),d&&(this.input.options.inputclass="input-sm",this.input.$input.addClass("input-sm")));var b=this.$form.find(".editable-buttons");d=d?["input-sm"]:this.input.options.inputclass.split(" ");for(var c=0;c<d.length;c++)"input-lg"===d[c].toLowerCase()&&b.find("button").removeClass("btn-sm").addClass("btn-lg")}});a.fn.editableform.buttons='<button type="submit" class="btn btn-primary btn-sm editable-submit"><i class="glyphicon glyphicon-ok"></i></button><button type="button" class="btn btn-default btn-sm editable-cancel"><i class="glyphicon glyphicon-remove"></i></button>';
a.fn.editableform.errorGroupClass="has-error";a.fn.editableform.errorBlockClass=null;a.fn.editableform.engine="bs3"})(window.jQuery);
(function(a){a.extend(a.fn.editableContainer.Popup.prototype,{containerName:"popover",containerDataName:"bs.popover",innerCss:".popover-content",defaults:a.fn.popover.Constructor.DEFAULTS,initContainer:function(){a.extend(this.containerOptions,{trigger:"manual",selector:!1,content:" ",template:this.defaults.template});var g;this.$element.data("template")&&(g=this.$element.data("template"),this.$element.removeData("template"));this.call(this.containerOptions);g&&this.$element.data("template",g)},innerShow:function(){this.call("show")},
innerHide:function(){this.call("hide")},innerDestroy:function(){this.call("destroy")},setContainerOption:function(g,d){this.container().options[g]=d},setPosition:function(){var g=this.container(),d=g.tip(),b="function"==typeof g.options.placement?g.options.placement.call(g,d[0],g.$element[0]):g.options.placement,c=/\s?auto?\s?/i,e=c.test(b);e&&(b=b.replace(c,"")||"top");c=g.getPosition();var f=d[0].offsetWidth,h=d[0].offsetHeight;if(e){var m=g.$element.parent();e=b;var k=document.documentElement.scrollTop||
document.body.scrollTop,l="body"==g.options.container?window.innerWidth:m.outerWidth(),p="body"==g.options.container?window.innerHeight:m.outerHeight();m="body"==g.options.container?0:m.offset().left;b="bottom"==b&&c.top+c.height+h-k>p?"top":"top"==b&&0>c.top-k-h?"bottom":"right"==b&&c.right+f>l?"left":"left"==b&&c.left-f<m?"right":b;d.removeClass(e).addClass(b)}d=g.getCalculatedOffset(b,c,f,h);g.applyPlacement(d,b);!0}})})(window.jQuery);
(function(a){function g(){return new Date(Date.UTC.apply(Date,arguments))}function d(q,u){var t;q=a(q).data();var C={},D=new RegExp("^"+u.toLowerCase()+"([A-Z])");u=new RegExp("^"+u.toLowerCase());for(var w in q)u.test(w)&&(t=w.replace(D,function(z,L){return L.toLowerCase()}),C[t]=q[w]);return C}function b(q){var u={};if(l[q]||(q=q.split("-")[0],l[q])){var t=l[q];return a.each(k,function(C,D){D in t&&(u[D]=t[D])}),u}}var c=function(q,u){this._process_options(u);this.element=a(q);this.isInline=!1;
this.isInput=this.element.is("input");this.hasInput=(this.component=this.element.is(".date")?this.element.find(".add-on, .btn"):!1)&&this.element.find("input").length;this.component&&0===this.component.length&&(this.component=!1);this.picker=a(p.template);this._buildEvents();this._attachEvents();this.isInline?this.picker.addClass("datepicker-inline").appendTo(this.element):this.picker.addClass("datepicker-dropdown dropdown-menu");this.o.rtl&&(this.picker.addClass("datepicker-rtl"),this.picker.find(".prev i, .next i").toggleClass("glyphicon-arrow-left glyphicon-arrow-right"));
this.viewMode=this.o.startView;this.o.calendarWeeks&&this.picker.find("tfoot th.today").attr("colspan",function(t,C){return parseInt(C)+1});this._allow_update=!1;this.setStartDate(this.o.startDate);this.setEndDate(this.o.endDate);this.setDaysOfWeekDisabled(this.o.daysOfWeekDisabled);this.fillDow();this.fillMonths();this._allow_update=!0;this.update();this.showMode();this.isInline&&this.show()};c.prototype={constructor:c,_process_options:function(q){this._o=a.extend({},this._o,q);q=this.o=a.extend({},
this._o);var u=q.language;switch(l[u]||(u=u.split("-")[0],l[u]||(u=m.language)),q.language=u,q.startView){case 2:case "decade":q.startView=2;break;case 1:case "year":q.startView=1;break;default:q.startView=0}switch(q.minViewMode){case 1:case "months":q.minViewMode=1;break;case 2:case "years":q.minViewMode=2;break;default:q.minViewMode=0}q.startView=Math.max(q.startView,q.minViewMode);q.weekStart%=7;q.weekEnd=(q.weekStart+6)%7;u=p.parseFormat(q.format);q.startDate!==-1/0&&(q.startDate=p.parseDate(q.startDate,
u,q.language));1/0!==q.endDate&&(q.endDate=p.parseDate(q.endDate,u,q.language));q.daysOfWeekDisabled=q.daysOfWeekDisabled||[];a.isArray(q.daysOfWeekDisabled)||(q.daysOfWeekDisabled=q.daysOfWeekDisabled.split(/[,\s]*/));q.daysOfWeekDisabled=a.map(q.daysOfWeekDisabled,function(t){return parseInt(t,10)})},_events:[],_secondaryEvents:[],_applyEvents:function(q){for(var u,t,C=0;C<q.length;C++)u=q[C][0],t=q[C][1],u.on(t)},_unapplyEvents:function(q){for(var u,t,C=0;C<q.length;C++)u=q[C][0],t=q[C][1],u.off(t)},
_buildEvents:function(){this.isInput?this._events=[[this.element,{focus:a.proxy(this.show,this),keyup:a.proxy(this.update,this),keydown:a.proxy(this.keydown,this)}]]:this.component&&this.hasInput?this._events=[[this.element.find("input"),{focus:a.proxy(this.show,this),keyup:a.proxy(this.update,this),keydown:a.proxy(this.keydown,this)}],[this.component,{click:a.proxy(this.show,this)}]]:this.element.is("div")?this.isInline=!0:this._events=[[this.element,{click:a.proxy(this.show,this)}]];this._secondaryEvents=
[[this.picker,{click:a.proxy(this.click,this)}],[a(window),{resize:a.proxy(this.place,this)}],[a(document),{mousedown:a.proxy(function(q){this.element.is(q.target)||this.element.find(q.target).size()||this.picker.is(q.target)||this.picker.find(q.target).size()||this.hide()},this)}]]},_attachEvents:function(){this._detachEvents();this._applyEvents(this._events)},_detachEvents:function(){this._unapplyEvents(this._events)},_attachSecondaryEvents:function(){this._detachSecondaryEvents();this._applyEvents(this._secondaryEvents)},
_detachSecondaryEvents:function(){this._unapplyEvents(this._secondaryEvents)},_trigger:function(q,u){var t=u||this.date;u=new Date(t.getTime()+6E4*t.getTimezoneOffset());this.element.trigger({type:q,date:u,format:a.proxy(function(C){return p.formatDate(t,C||this.o.format,this.o.language)},this)})},show:function(q){this.isInline||this.picker.appendTo("body");this.picker.show();this.height=this.component?this.component.outerHeight():this.element.outerHeight();this.place();this._attachSecondaryEvents();
q&&q.preventDefault();this._trigger("show")},hide:function(){this.isInline||this.picker.is(":visible")&&(this.picker.hide().detach(),this._detachSecondaryEvents(),this.viewMode=this.o.startView,this.showMode(),this.o.forceParse&&(this.isInput&&this.element.val()||this.hasInput&&this.element.find("input").val())&&this.setValue(),this._trigger("hide"))},remove:function(){this.hide();this._detachEvents();this._detachSecondaryEvents();this.picker.remove();delete this.element.data().datepicker;this.isInput||
delete this.element.data().date},getDate:function(){var q=this.getUTCDate();return new Date(q.getTime()+6E4*q.getTimezoneOffset())},getUTCDate:function(){return this.date},setDate:function(q){this.setUTCDate(new Date(q.getTime()-6E4*q.getTimezoneOffset()))},setUTCDate:function(q){this.date=q;this.setValue()},setValue:function(){var q=this.getFormattedDate();this.isInput?this.element.val(q):this.component&&this.element.find("input").val(q)},getFormattedDate:function(q){return void 0===q&&(q=this.o.format),
p.formatDate(this.date,q,this.o.language)},setStartDate:function(q){this._process_options({startDate:q});this.update();this.updateNavArrows()},setEndDate:function(q){this._process_options({endDate:q});this.update();this.updateNavArrows()},setDaysOfWeekDisabled:function(q){this._process_options({daysOfWeekDisabled:q});this.update();this.updateNavArrows()},place:function(){if(!this.isInline){var q=parseInt(this.element.parents().filter(function(){return"auto"!=a(this).css("z-index")}).first().css("z-index"))+
10,u=this.component?this.component.parent().offset():this.element.offset(),t=this.component?this.component.outerHeight(!0):this.element.outerHeight(!0);this.picker.css({top:u.top+t,left:u.left,zIndex:q})}},_allow_update:!0,update:function(){if(this._allow_update){var q,u=!1;arguments&&arguments.length&&("string"==typeof arguments[0]||arguments[0]instanceof Date)?(q=arguments[0],u=!0):(q=this.isInput?this.element.val():this.element.data("date")||this.element.find("input").val(),delete this.element.data().date);
this.date=p.parseDate(q,this.o.format,this.o.language);u&&this.setValue();this.viewDate=this.date<this.o.startDate?new Date(this.o.startDate):this.date>this.o.endDate?new Date(this.o.endDate):new Date(this.date);this.fill()}},fillDow:function(){var q=this.o.weekStart,u="<tr>";this.o.calendarWeeks&&(u+='<th class="cw">&nbsp;</th>',this.picker.find(".datepicker-days thead tr:first-child").prepend('<th class="cw">&nbsp;</th>'));for(;q<this.o.weekStart+7;)u+='<th class="dow">'+l[this.o.language].daysMin[q++%
7]+"</th>";u+="</tr>";this.picker.find(".datepicker-days thead").append(u)},fillMonths:function(){for(var q="",u=0;12>u;)q+='<span class="month">'+l[this.o.language].monthsShort[u++]+"</span>";this.picker.find(".datepicker-months td").html(q)},setRange:function(q){q&&q.length?this.range=a.map(q,function(u){return u.valueOf()}):delete this.range;this.fill()},getClassNames:function(q){var u=[],t=this.viewDate.getUTCFullYear(),C=this.viewDate.getUTCMonth(),D=this.date.valueOf(),w=new Date;return q.getUTCFullYear()<
t||q.getUTCFullYear()==t&&q.getUTCMonth()<C?u.push("old"):(q.getUTCFullYear()>t||q.getUTCFullYear()==t&&q.getUTCMonth()>C)&&u.push("new"),this.o.todayHighlight&&q.getUTCFullYear()==w.getFullYear()&&q.getUTCMonth()==w.getMonth()&&q.getUTCDate()==w.getDate()&&u.push("today"),D&&q.valueOf()==D&&u.push("active"),(q.valueOf()<this.o.startDate||q.valueOf()>this.o.endDate||-1!==a.inArray(q.getUTCDay(),this.o.daysOfWeekDisabled))&&u.push("disabled"),this.range&&(q>this.range[0]&&q<this.range[this.range.length-
1]&&u.push("range"),-1!=a.inArray(q.valueOf(),this.range)&&u.push("selected")),u},fill:function(){var q,u=new Date(this.viewDate),t=u.getUTCFullYear(),C=u.getUTCMonth();u=this.o.startDate!==-1/0?this.o.startDate.getUTCFullYear():-1/0;var D=this.o.startDate!==-1/0?this.o.startDate.getUTCMonth():-1/0,w=1/0!==this.o.endDate?this.o.endDate.getUTCFullYear():1/0,z=1/0!==this.o.endDate?this.o.endDate.getUTCMonth():1/0;this.date&&this.date.valueOf();this.picker.find(".datepicker-days thead th.datepicker-switch").text(l[this.o.language].months[C]+
" "+t);this.picker.find("tfoot th.today").text(l[this.o.language].today).toggle(!1!==this.o.todayBtn);this.picker.find("tfoot th.clear").text(l[this.o.language].clear).toggle(!1!==this.o.clearBtn);this.updateNavArrows();this.fillMonths();var L=g(t,C-1,28,0,0,0,0);C=p.getDaysInMonth(L.getUTCFullYear(),L.getUTCMonth());L.setUTCDate(C);L.setUTCDate(C-(L.getUTCDay()-this.o.weekStart+7)%7);var U=new Date(L);U.setUTCDate(U.getUTCDate()+42);U=U.valueOf();for(C=[];L.valueOf()<U;){if(L.getUTCDay()==this.o.weekStart&&
(C.push("<tr>"),this.o.calendarWeeks)){var V=new Date(+L+864E5*((this.o.weekStart-L.getUTCDay()-7)%7));V=new Date(+V+864E5*((11-V.getUTCDay())%7));var Y=new Date(+(Y=g(V.getUTCFullYear(),0,1))+864E5*((11-Y.getUTCDay())%7));C.push('<td class="cw">'+((V-Y)/864E5/7+1)+"</td>")}V=this.getClassNames(L);V.push("day");var T=this.o.beforeShowDay(L);void 0===T?T={}:"boolean"==typeof T?T={enabled:T}:"string"==typeof T&&(T={classes:T});!1===T.enabled&&V.push("disabled");T.classes&&(V=V.concat(T.classes.split(/\s+/)));
T.tooltip&&(q=T.tooltip);V=a.unique(V);C.push('<td class="'+V.join(" ")+'"'+(q?' title="'+q+'"':"")+">"+L.getUTCDate()+"</td>");L.getUTCDay()==this.o.weekEnd&&C.push("</tr>");L.setUTCDate(L.getUTCDate()+1)}this.picker.find(".datepicker-days tbody").empty().append(C.join(""));q=this.date&&this.date.getUTCFullYear();C=this.picker.find(".datepicker-months").find("th:eq(1)").text(t).end().find("span").removeClass("active");q&&q==t&&C.eq(this.date.getUTCMonth()).addClass("active");(u>t||t>w)&&C.addClass("disabled");
t==u&&C.slice(0,D).addClass("disabled");t==w&&C.slice(z+1).addClass("disabled");C="";t=10*parseInt(t/10,10);D=this.picker.find(".datepicker-years").find("th:eq(1)").text(t+"-"+(t+9)).end().find("td");--t;for(z=-1;11>z;z++)C+='<span class="year'+(-1==z?" old":10==z?" new":"")+(q==t?" active":"")+(u>t||t>w?" disabled":"")+'">'+t+"</span>",t+=1;D.html(C)},updateNavArrows:function(){if(this._allow_update){var q=new Date(this.viewDate),u=q.getUTCFullYear();q=q.getUTCMonth();switch(this.viewMode){case 0:this.o.startDate!==
-1/0&&u<=this.o.startDate.getUTCFullYear()&&q<=this.o.startDate.getUTCMonth()?this.picker.find(".prev").css({visibility:"hidden"}):this.picker.find(".prev").css({visibility:"visible"});1/0!==this.o.endDate&&u>=this.o.endDate.getUTCFullYear()&&q>=this.o.endDate.getUTCMonth()?this.picker.find(".next").css({visibility:"hidden"}):this.picker.find(".next").css({visibility:"visible"});break;case 1:case 2:this.o.startDate!==-1/0&&u<=this.o.startDate.getUTCFullYear()?this.picker.find(".prev").css({visibility:"hidden"}):
this.picker.find(".prev").css({visibility:"visible"}),1/0!==this.o.endDate&&u>=this.o.endDate.getUTCFullYear()?this.picker.find(".next").css({visibility:"hidden"}):this.picker.find(".next").css({visibility:"visible"})}}},click:function(q){q.preventDefault();q=a(q.target).closest("span, td, th");if(1==q.length)switch(q[0].nodeName.toLowerCase()){case "th":switch(q[0].className){case "datepicker-switch":this.showMode(1);break;case "prev":case "next":q=p.modes[this.viewMode].navStep*("prev"==q[0].className?
-1:1);switch(this.viewMode){case 0:this.viewDate=this.moveMonth(this.viewDate,q);break;case 1:case 2:this.viewDate=this.moveYear(this.viewDate,q)}this.fill();break;case "today":q=new Date;q=g(q.getFullYear(),q.getMonth(),q.getDate(),0,0,0);this.showMode(-2);this._setDate(q,"linked"==this.o.todayBtn?null:"view");break;case "clear":var u;this.isInput?u=this.element:this.component&&(u=this.element.find("input"));u&&u.val("").change();this._trigger("changeDate");this.update();this.o.autoclose&&this.hide()}break;
case "span":if(!q.is(".disabled")){if(this.viewDate.setUTCDate(1),q.is(".month")){u=1;var t=q.parent().find("span").index(q),C=this.viewDate.getUTCFullYear();this.viewDate.setUTCMonth(t);this._trigger("changeMonth",this.viewDate);1===this.o.minViewMode&&this._setDate(g(C,t,u,0,0,0,0))}else C=parseInt(q.text(),10)||0,u=1,t=0,this.viewDate.setUTCFullYear(C),this._trigger("changeYear",this.viewDate),2===this.o.minViewMode&&this._setDate(g(C,t,u,0,0,0,0));this.showMode(-1);this.fill()}break;case "td":q.is(".day")&&
!q.is(".disabled")&&(u=parseInt(q.text(),10)||1,C=this.viewDate.getUTCFullYear(),t=this.viewDate.getUTCMonth(),q.is(".old")?0===t?(t=11,--C):--t:q.is(".new")&&(11==t?(t=0,C+=1):t+=1),this._setDate(g(C,t,u,0,0,0,0)))}},_setDate:function(q,u){u&&"date"!=u||(this.date=new Date(q));u&&"view"!=u||(this.viewDate=new Date(q));this.fill();this.setValue();this._trigger("changeDate");var t;this.isInput?t=this.element:this.component&&(t=this.element.find("input"));t&&(t.change(),!this.o.autoclose||u&&"date"!=
u||this.hide())},moveMonth:function(q,u){if(!u)return q;var t=new Date(q.valueOf());q=t.getUTCDate();var C=t.getUTCMonth();var D=Math.abs(u);if(u=0<u?1:-1,1==D){D=-1==u?function(){return t.getUTCMonth()==C}:function(){return t.getUTCMonth()!=w};var w=C+u;t.setUTCMonth(w);(0>w||11<w)&&(w=(w+12)%12)}else{for(var z=0;D>z;z++)t=this.moveMonth(t,u);w=t.getUTCMonth();t.setUTCDate(q);D=function(){return w!=t.getUTCMonth()}}for(;D();)t.setUTCDate(--q),t.setUTCMonth(w);return t},moveYear:function(q,u){return this.moveMonth(q,
12*u)},dateWithinRange:function(q){return q>=this.o.startDate&&q<=this.o.endDate},keydown:function(q){if(this.picker.is(":not(:visible)"))return 27==q.keyCode&&this.show(),void 0;var u,t,C=!1;switch(q.keyCode){case 27:this.hide();q.preventDefault();break;case 37:case 39:if(!this.o.keyboardNavigation)break;var D=37==q.keyCode?-1:1;q.ctrlKey?(u=this.moveYear(this.date,D),t=this.moveYear(this.viewDate,D)):q.shiftKey?(u=this.moveMonth(this.date,D),t=this.moveMonth(this.viewDate,D)):(u=new Date(this.date),
u.setUTCDate(this.date.getUTCDate()+D),t=new Date(this.viewDate),t.setUTCDate(this.viewDate.getUTCDate()+D));this.dateWithinRange(u)&&(this.date=u,this.viewDate=t,this.setValue(),this.update(),q.preventDefault(),C=!0);break;case 38:case 40:if(!this.o.keyboardNavigation)break;D=38==q.keyCode?-1:1;q.ctrlKey?(u=this.moveYear(this.date,D),t=this.moveYear(this.viewDate,D)):q.shiftKey?(u=this.moveMonth(this.date,D),t=this.moveMonth(this.viewDate,D)):(u=new Date(this.date),u.setUTCDate(this.date.getUTCDate()+
7*D),t=new Date(this.viewDate),t.setUTCDate(this.viewDate.getUTCDate()+7*D));this.dateWithinRange(u)&&(this.date=u,this.viewDate=t,this.setValue(),this.update(),q.preventDefault(),C=!0);break;case 13:this.hide();q.preventDefault();break;case 9:this.hide()}if(C){this._trigger("changeDate");var w;this.isInput?w=this.element:this.component&&(w=this.element.find("input"));w&&w.change()}},showMode:function(q){q&&(this.viewMode=Math.max(this.o.minViewMode,Math.min(2,this.viewMode+q)));this.picker.find(">div").hide().filter(".datepicker-"+
p.modes[this.viewMode].clsName).css("display","block");this.updateNavArrows()}};var e=function(q,u){this.element=a(q);this.inputs=a.map(u.inputs,function(t){return t.jquery?t[0]:t});delete u.inputs;a(this.inputs).datepicker(u).bind("changeDate",a.proxy(this.dateUpdated,this));this.pickers=a.map(this.inputs,function(t){return a(t).data("datepicker")});this.updateDates()};e.prototype={updateDates:function(){this.dates=a.map(this.pickers,function(q){return q.date});this.updateRanges()},updateRanges:function(){var q=
a.map(this.dates,function(u){return u.valueOf()});a.each(this.pickers,function(u,t){t.setRange(q)})},dateUpdated:function(q){var u=a(q.target).data("datepicker").getUTCDate();q=a.inArray(q.target,this.inputs);var t=this.inputs.length;if(-1!=q){if(u<this.dates[q])for(;0<=q&&u<this.dates[q];)this.pickers[q--].setUTCDate(u);else if(u>this.dates[q])for(;t>q&&u>this.dates[q];)this.pickers[q++].setUTCDate(u);this.updateDates()}},remove:function(){a.map(this.pickers,function(q){q.remove()});delete this.element.data().datepicker}};
var f=a.fn.datepicker,h=a.fn.datepicker=function(q){var u=Array.apply(null,arguments);u.shift();var t;return this.each(function(){var C=a(this),D=C.data("datepicker"),w="object"==typeof q&&q;if(!D){D=d(this,"date");var z=a.extend({},m,D,w);z=b(z.language);w=a.extend({},m,z,D,w);C.is(".input-daterange")||w.inputs?(D={inputs:w.inputs||C.find("input").toArray()},C.data("datepicker",D=new e(this,a.extend(w,D)))):C.data("datepicker",D=new c(this,w))}return"string"==typeof q&&"function"==typeof D[q]&&(t=
D[q].apply(D,u),void 0!==t)?!1:void 0}),void 0!==t?t:this},m=a.fn.datepicker.defaults={autoclose:!1,beforeShowDay:a.noop,calendarWeeks:!1,clearBtn:!1,daysOfWeekDisabled:[],endDate:1/0,forceParse:!0,format:"mm/dd/yyyy",keyboardNavigation:!0,language:"en",minViewMode:0,rtl:!1,startDate:-1/0,startView:0,todayBtn:!1,todayHighlight:!1,weekStart:0},k=a.fn.datepicker.locale_opts=["format","rtl","weekStart"];a.fn.datepicker.Constructor=c;var l=a.fn.datepicker.dates={en:{days:"\u0412\u043e\u0441\u043a\u0440\u0435\u0441\u0435\u043d\u044c\u0435 \u041f\u043e\u043d\u0435\u0434\u0435\u043b\u044c\u043d\u0438\u043a \u0412\u0442\u043e\u0440\u043d\u0438\u043a \u0421\u0440\u0435\u0434\u0430 \u0427\u0435\u0442\u0432\u0435\u0440\u0433 \u041f\u044f\u0442\u043d\u0438\u0446\u0430 \u0421\u0443\u0431\u0431\u043e\u0442\u0430 \u0412\u043e\u0441\u043a\u0440\u0435\u0441\u0435\u043d\u044c\u0435".split(" "),
daysShort:"\u0412\u0441 \u041f\u043d \u0412\u0442 \u0421\u0440 \u0427\u0442 \u041f\u0442 \u0421\u0431 \u0412\u0441".split(" "),daysMin:"\u0412\u0441 \u041f\u043d \u0412\u0442 \u0421\u0440 \u0427\u0442 \u041f\u0442 \u0421\u0431 \u0412\u0441".split(" "),months:"\u042f\u043d\u0432\u0430\u0440\u044c \u0424\u0435\u0432\u0440\u0430\u043b\u044c \u041c\u0430\u0440\u0442 \u0410\u043f\u0440\u0435\u043b\u044c \u041c\u0430\u0439 \u0418\u044e\u043d\u044c \u0418\u044e\u043b\u044c \u0410\u0432\u0433\u0443\u0441\u0442 \u0421\u0435\u043d\u0442\u044f\u0431\u0440\u044c \u041e\u043a\u0442\u044f\u0431\u0440\u044c \u041d\u043e\u044f\u0431\u0440\u044c \u0414\u0435\u043a\u0430\u0431\u0440\u044c".split(" "),
monthsShort:"\u042f\u043d\u0432 \u0424\u0435\u0432 \u041c\u0430\u0440\u0442 \u0410\u043f\u0440 \u041c\u0430\u0439 \u0418\u044e\u043d\u044c \u0418\u044e\u043b\u044c \u0410\u0432\u0433 \u0421\u0435\u043d \u041e\u043a\u0442 \u041d\u043e\u044f \u0414\u0435\u043a".split(" "),today:"\u0421\u0435\u0433\u043e\u0434\u043d\u044f",clear:"\u041e\u0447\u0438\u0441\u0442\u0438\u0442\u044c"}},p={modes:[{clsName:"days",navFnc:"Month",navStep:1},{clsName:"months",navFnc:"FullYear",navStep:1},{clsName:"years",navFnc:"FullYear",
navStep:10}],isLeapYear:function(q){return 0===q%4&&0!==q%100||0===q%400},getDaysInMonth:function(q,u){return[31,p.isLeapYear(q)?29:28,31,30,31,30,31,31,30,31,30,31][u]},validParts:/dd?|DD?|mm?|MM?|yy(?:yy)?/g,nonpunctuation:/[^ -\/:-@\[\u3400-\u9fff-`{-~\t\n\r]+/g,parseFormat:function(q){var u=q.replace(this.validParts,"\x00").split("\x00");q=q.match(this.validParts);if(!u||!u.length||!q||0===q.length)throw Error("Invalid date format.");return{separators:u,parts:q}},parseDate:function(q,u,t){if(q instanceof
Date)return q;if("string"==typeof u&&(u=p.parseFormat(u)),/^[\-+]\d+[dmwy]([\s,]+[\-+]\d+[dmwy])*$/.test(q)){var C,D,w=/([\-+]\d+)([dmwy])/,z=q.match(/([\-+]\d+)([dmwy])/g);q=new Date;for(var L=0;L<z.length;L++)switch(C=w.exec(z[L]),D=parseInt(C[1]),C[2]){case "d":q.setUTCDate(q.getUTCDate()+D);break;case "m":q=c.prototype.moveMonth.call(c.prototype,q,D);break;case "w":q.setUTCDate(q.getUTCDate()+7*D);break;case "y":q=c.prototype.moveYear.call(c.prototype,q,D)}return g(q.getUTCFullYear(),q.getUTCMonth(),
q.getUTCDate(),0,0,0)}var U;z=q&&q.match(this.nonpunctuation)||[];q=new Date;D={};var V="yyyy yy M MM m mm d dd".split(" ");w={yyyy:function(T,J){return T.setUTCFullYear(J)},yy:function(T,J){return T.setUTCFullYear(2E3+J)},m:function(T,J){for(--J;0>J;)J+=12;J%=12;for(T.setUTCMonth(J);T.getUTCMonth()!=J;)T.setUTCDate(T.getUTCDate()-1);return T},d:function(T,J){return T.setUTCDate(J)}};w.M=w.MM=w.mm=w.m;w.dd=w.d;q=g(q.getFullYear(),q.getMonth(),q.getDate(),0,0,0);u=u.parts.slice();if(z.length!=u.length&&
(u=a(u).filter(function(T,J){return-1!==a.inArray(J,V)}).toArray()),z.length==u.length){L=0;for(var Y=u.length;Y>L;L++){if(U=parseInt(z[L],10),C=u[L],isNaN(U))switch(C){case "MM":U=a(l[t].months).filter(function(){var T=this.slice(0,z[L].length),J=z[L].slice(0,T.length);return T==J});U=a.inArray(U[0],l[t].months)+1;break;case "M":U=a(l[t].monthsShort).filter(function(){var T=this.slice(0,z[L].length),J=z[L].slice(0,T.length);return T==J}),U=a.inArray(U[0],l[t].monthsShort)+1}D[C]=U}for(L=0;L<V.length;L++)C=
V[L],C in D&&!isNaN(D[C])&&w[C](q,D[C])}return q},formatDate:function(q,u,t){"string"==typeof u&&(u=p.parseFormat(u));t={d:q.getUTCDate(),D:l[t].daysShort[q.getUTCDay()],DD:l[t].days[q.getUTCDay()],m:q.getUTCMonth()+1,M:l[t].monthsShort[q.getUTCMonth()],MM:l[t].months[q.getUTCMonth()],yy:q.getUTCFullYear().toString().substring(2),yyyy:q.getUTCFullYear()};t.dd=(10>t.d?"0":"")+t.d;t.mm=(10>t.m?"0":"")+t.m;q=[];for(var C=a.extend([],u.separators),D=0,w=u.parts.length;w>=D;D++)C.length&&q.push(C.shift()),
q.push(t[u.parts[D]]);return q.join("")},headTemplate:'<thead><tr><th class="prev"><i class="glyphicon glyphicon-arrow-left"/></th><th colspan="5" class="datepicker-switch"></th><th class="next"><i class="glyphicon glyphicon-arrow-right"/></th></tr></thead>',contTemplate:'<tbody><tr><td colspan="7"></td></tr></tbody>',footTemplate:'<tfoot><tr><th colspan="7" class="today"></th></tr><tr><th colspan="7" class="clear"></th></tr></tfoot>'};p.template='<div class="datepicker"><div class="datepicker-days"><table class=" table-condensed">'+
p.headTemplate+"<tbody></tbody>"+p.footTemplate+'</table></div><div class="datepicker-months"><table class="table-condensed">'+p.headTemplate+p.contTemplate+p.footTemplate+'</table></div><div class="datepicker-years"><table class="table-condensed">'+p.headTemplate+p.contTemplate+p.footTemplate+"</table></div></div>";a.fn.datepicker.DPGlobal=p;a.fn.datepicker.noConflict=function(){return a.fn.datepicker=f,this};a(document).on("focus.datepicker.data-api click.datepicker.data-api",'[data-provide="datepicker"]',
function(q){var u=a(this);u.data("datepicker")||(q.preventDefault(),h.call(u,"show"))});a(function(){h.call(a('[data-provide="datepicker-inline"]'))})})(window.jQuery);
(function(a){a.fn.bdatepicker=a.fn.datepicker.noConflict();a.fn.datepicker||(a.fn.datepicker=a.fn.bdatepicker);var g=function(d){this.init("date",d,g.defaults);this.initPicker(d,g.defaults)};a.fn.editableutils.inherit(g,a.fn.editabletypes.abstractinput);a.extend(g.prototype,{initPicker:function(d,b){this.options.viewformat||(this.options.viewformat=this.options.format);d.datepicker=a.fn.editableutils.tryParseJson(d.datepicker,!0);this.options.datepicker=a.extend({},b.datepicker,d.datepicker,{format:this.options.viewformat});
this.options.datepicker.language=this.options.datepicker.language||"en";this.dpg=a.fn.bdatepicker.DPGlobal;this.parsedFormat=this.dpg.parseFormat(this.options.format);this.parsedViewFormat=this.dpg.parseFormat(this.options.viewformat)},render:function(){this.$input.bdatepicker(this.options.datepicker);this.options.clear&&(this.$clear=a('<a href="#"></a>').html(this.options.clear).click(a.proxy(function(d){d.preventDefault();d.stopPropagation();this.clear()},this)),this.$tpl.parent().append(a('<div class="editable-clear">').append(this.$clear)))},
value2html:function(d,b){d=d?this.dpg.formatDate(d,this.parsedViewFormat,this.options.datepicker.language):"";g.superclass.value2html.call(this,d,b)},html2value:function(d){return this.parseDate(d,this.parsedViewFormat)},value2str:function(d){return d?this.dpg.formatDate(d,this.parsedFormat,this.options.datepicker.language):""},str2value:function(d){return this.parseDate(d,this.parsedFormat)},value2submit:function(d){return this.value2str(d)},value2input:function(d){this.$input.bdatepicker("update",
d)},input2value:function(){return this.$input.data("datepicker").date},activate:function(){},clear:function(){this.$input.data("datepicker").date=null;this.$input.find(".active").removeClass("active");this.options.showbuttons||this.$input.closest("form").submit()},autosubmit:function(){this.$input.on("mouseup",".day",function(d){if(!a(d.currentTarget).is(".old")&&!a(d.currentTarget).is(".new")){var b=a(this).closest("form");setTimeout(function(){b.submit()},200)}})},parseDate:function(d,b){var c,
e=null;return d&&(e=this.dpg.parseDate(d,b,this.options.datepicker.language),"string"==typeof d&&(c=this.dpg.formatDate(e,b,this.options.datepicker.language),d!==c&&(e=null))),e}});g.defaults=a.extend({},a.fn.editabletypes.abstractinput.defaults,{tpl:'<div class="editable-date well"></div>',inputclass:null,format:"yyyy-mm-dd",viewformat:null,datepicker:{weekStart:0,startView:0,minViewMode:0,autoclose:!1},clear:"&times; clear"});a.fn.editabletypes.date=g})(window.jQuery);
(function(a){var g=function(d){this.init("datefield",d,g.defaults);this.initPicker(d,g.defaults)};a.fn.editableutils.inherit(g,a.fn.editabletypes.date);a.extend(g.prototype,{render:function(){this.$input=this.$tpl.find("input");this.setClass();this.setAttr("placeholder");this.$tpl.bdatepicker(this.options.datepicker);this.$input.off("focus keydown");this.$input.keyup(a.proxy(function(){this.$tpl.removeData("date");this.$tpl.bdatepicker("update")},this))},value2input:function(d){this.$input.val(d?
this.dpg.formatDate(d,this.parsedViewFormat,this.options.datepicker.language):"");this.$tpl.bdatepicker("update")},input2value:function(){return this.html2value(this.$input.val())},activate:function(){a.fn.editabletypes.text.prototype.activate.call(this)},autosubmit:function(){}});g.defaults=a.extend({},a.fn.editabletypes.date.defaults,{tpl:'<div class="input-append date"><input type="text"/><span class="add-on"><i class="icon-th"></i></span></div>',inputclass:"input-small",datepicker:{weekStart:0,
startView:0,minViewMode:0,autoclose:!0}});a.fn.editabletypes.datefield=g})(window.jQuery);
(function(a){var g=function(d){this.init("datetime",d,g.defaults);this.initPicker(d,g.defaults)};a.fn.editableutils.inherit(g,a.fn.editabletypes.abstractinput);a.extend(g.prototype,{initPicker:function(d,b){this.options.viewformat||(this.options.viewformat=this.options.format);d.datetimepicker=a.fn.editableutils.tryParseJson(d.datetimepicker,!0);this.options.datetimepicker=a.extend({},b.datetimepicker,d.datetimepicker,{format:this.options.viewformat});this.options.datetimepicker.language=this.options.datetimepicker.language||
"en";this.dpg=a.fn.datetimepicker.DPGlobal;this.parsedFormat=this.dpg.parseFormat(this.options.format,this.options.formatType);this.parsedViewFormat=this.dpg.parseFormat(this.options.viewformat,this.options.formatType)},render:function(){this.$input.datetimepicker(this.options.datetimepicker);this.$input.on("changeMode",function(){var d=a(this).closest("form").parent();setTimeout(function(){d.triggerHandler("resize")},0)});this.options.clear&&(this.$clear=a('<a href="#"></a>').html(this.options.clear).click(a.proxy(function(d){d.preventDefault();
d.stopPropagation();this.clear()},this)),this.$tpl.parent().append(a('<div class="editable-clear">').append(this.$clear)))},value2html:function(d,b){d=d?this.dpg.formatDate(this.toUTC(d),this.parsedViewFormat,this.options.datetimepicker.language,this.options.formatType):"";return b?(g.superclass.value2html.call(this,d,b),void 0):d},html2value:function(d){return(d=this.parseDate(d,this.parsedViewFormat))?this.fromUTC(d):null},value2str:function(d){return d?this.dpg.formatDate(this.toUTC(d),this.parsedFormat,
this.options.datetimepicker.language,this.options.formatType):""},str2value:function(d){return(d=this.parseDate(d,this.parsedFormat))?this.fromUTC(d):null},value2submit:function(d){return this.value2str(d)},value2input:function(d){d&&this.$input.data("datetimepicker").setDate(d)},input2value:function(){var d=this.$input.data("datetimepicker");return d.date?d.getDate():null},activate:function(){},clear:function(){this.$input.data("datetimepicker").date=null;this.$input.find(".active").removeClass("active");
this.options.showbuttons||this.$input.closest("form").submit()},autosubmit:function(){this.$input.on("mouseup",".minute",function(){var d=a(this).closest("form");setTimeout(function(){d.submit()},200)})},toUTC:function(d){return d?new Date(d.valueOf()-6E4*d.getTimezoneOffset()):d},fromUTC:function(d){return d?new Date(d.valueOf()+6E4*d.getTimezoneOffset()):d},parseDate:function(d,b){var c,e=null;return d&&(e=this.dpg.parseDate(d,b,this.options.datetimepicker.language,this.options.formatType),"string"==
typeof d&&(c=this.dpg.formatDate(e,b,this.options.datetimepicker.language,this.options.formatType),d!==c&&(e=null))),e}});g.defaults=a.extend({},a.fn.editabletypes.abstractinput.defaults,{tpl:'<div class="editable-date well"></div>',inputclass:null,format:"yyyy-mm-dd hh:ii",formatType:"standard",viewformat:null,datetimepicker:{todayHighlight:!1,autoclose:!1},clear:"&times; clear"});a.fn.editabletypes.datetime=g})(window.jQuery);
(function(a){var g=function(d){this.init("datetimefield",d,g.defaults);this.initPicker(d,g.defaults)};a.fn.editableutils.inherit(g,a.fn.editabletypes.datetime);a.extend(g.prototype,{render:function(){this.$input=this.$tpl.find("input");this.setClass();this.setAttr("placeholder");this.$tpl.datetimepicker(this.options.datetimepicker);this.$input.off("focus keydown");this.$input.keyup(a.proxy(function(){this.$tpl.removeData("date");this.$tpl.datetimepicker("update")},this))},value2input:function(d){this.$input.val(this.value2html(d));
this.$tpl.datetimepicker("update")},input2value:function(){return this.html2value(this.$input.val())},activate:function(){a.fn.editabletypes.text.prototype.activate.call(this)},autosubmit:function(){}});g.defaults=a.extend({},a.fn.editabletypes.datetime.defaults,{tpl:'<div class="input-append date"><input type="text"/><span class="add-on"><i class="icon-th"></i></span></div>',inputclass:"input-medium",datetimepicker:{todayHighlight:!1,autoclose:!0}});a.fn.editabletypes.datetimefield=g})(window.jQuery);!function(a,g){"function"==typeof define&&define.amd&&"function"==typeof require&&"function"==typeof require.specified&&require.specified("knockout")?define(["jquery","knockout"],g):g(a.jQuery,a.ko)}(this,function(a,g){function d(c,e){for(var f=0;f<c.length;++f)e(c[f],f)}function b(c,e){this.$select=a(c);this.options=this.mergeOptions(a.extend({},e,this.$select.data()));this.$select.attr("data-placeholder")&&(this.options.nonSelectedText=this.$select.data("placeholder"));this.originalOptions=this.$select.clone()[0].options;
this.query="";this.lastToggledInput=this.searchTimeout=null;this.options.multiple="multiple"===this.$select.attr("multiple");this.options.onChange=a.proxy(this.options.onChange,this);this.options.onSelectAll=a.proxy(this.options.onSelectAll,this);this.options.onDeselectAll=a.proxy(this.options.onDeselectAll,this);this.options.onDropdownShow=a.proxy(this.options.onDropdownShow,this);this.options.onDropdownHide=a.proxy(this.options.onDropdownHide,this);this.options.onDropdownShown=a.proxy(this.options.onDropdownShown,
this);this.options.onDropdownHidden=a.proxy(this.options.onDropdownHidden,this);this.options.onInitialized=a.proxy(this.options.onInitialized,this);this.options.onFiltering=a.proxy(this.options.onFiltering,this);this.buildContainer();this.buildButton();this.buildDropdown();this.buildReset();this.buildSelectAll();this.buildDropdownOptions();this.buildFilter();this.buildButtons();this.updateButtonText();this.updateSelectAll(!0);this.options.enableClickableOptGroups&&this.options.multiple&&this.updateOptGroups();
this.options.wasDisabled=this.$select.prop("disabled");this.options.disableIfEmpty&&0>=a("option",this.$select).length&&!this.options.wasDisabled&&this.disable(!0);this.$select.wrap('<span class="multiselect-native-select" />').after(this.$container);this.$select.prop("tabindex","-1");"never"!==this.options.widthSynchronizationMode&&this.synchronizeButtonAndPopupWidth();this.options.onInitialized(this.$select,this.$container)}void 0!==g&&g.bindingHandlers&&!g.bindingHandlers.multiselect&&(g.bindingHandlers.multiselect=
{after:["options","value","selectedOptions","enable","disable"],init:function(c,e,f,h,m){var k=a(c);e=g.toJS(e());if(k.multiselect(e),f.has("options")){var l=f.get("options");g.isObservable(l)&&g.computed({read:function(){l();setTimeout(function(){var D=k.data("multiselect");D&&D.updateOriginalOptions();k.multiselect("rebuild")},1)},disposeWhenNodeIsRemoved:c})}if(f.has("value")){var p=f.get("value");g.isObservable(p)&&g.computed({read:function(){p();setTimeout(function(){k.multiselect("refresh")},
1)},disposeWhenNodeIsRemoved:c}).extend({rateLimit:100,notifyWhenChangesStop:!0})}if(f.has("selectedOptions")){var q=f.get("selectedOptions");g.isObservable(q)&&g.computed({read:function(){q();setTimeout(function(){k.multiselect("refresh")},1)},disposeWhenNodeIsRemoved:c}).extend({rateLimit:100,notifyWhenChangesStop:!0})}var u=function(D){setTimeout(function(){D?k.multiselect("enable"):k.multiselect("disable")})};if(f.has("enable")){var t=f.get("enable");g.isObservable(t)?g.computed({read:function(){u(t())},
disposeWhenNodeIsRemoved:c}).extend({rateLimit:100,notifyWhenChangesStop:!0}):u(t)}if(f.has("disable")){var C=f.get("disable");g.isObservable(C)?g.computed({read:function(){u(!C())},disposeWhenNodeIsRemoved:c}).extend({rateLimit:100,notifyWhenChangesStop:!0}):u(!C)}g.utils.domNodeDisposal.addDisposeCallback(c,function(){k.multiselect("destroy")})},update:function(c,e,f,h,m){c=a(c);e=g.toJS(e());c.multiselect("setOptions",e);c.multiselect("rebuild")}});b.prototype={defaults:{buttonText:function(c,
e){if(0<this.disabledText.length&&e.prop("disabled"))return this.disabledText;if(0===c.length)return this.nonSelectedText;if(this.allSelectedText&&c.length===a("option",a(e)).length&&1!==a("option",a(e)).length&&this.multiple)return this.selectAllNumber?this.allSelectedText+" ("+c.length+")":this.allSelectedText;if(0!=this.numberDisplayed&&c.length>this.numberDisplayed)return c.length+" "+this.nSelectedText;var f="",h=this.delimiterText;return c.each(function(){var m=void 0!==a(this).attr("label")?
a(this).attr("label"):a(this).text();f+=m+h}),f.substr(0,f.length-this.delimiterText.length)},buttonTitle:function(c,e){if(0===c.length)return this.nonSelectedText;var f="",h=this.delimiterText;return c.each(function(){var m=void 0!==a(this).attr("label")?a(this).attr("label"):a(this).text();f+=m+h}),f.substr(0,f.length-this.delimiterText.length)},checkboxName:function(c){return!1},optionLabel:function(c){return a(c).attr("label")||a(c).text()},optionClass:function(c){return a(c).attr("class")||""},
onChange:function(c,e){},onDropdownShow:function(c){},onDropdownHide:function(c){},onDropdownShown:function(c){},onDropdownHidden:function(c){},onSelectAll:function(){},onDeselectAll:function(){},onInitialized:function(c,e){},onFiltering:function(c){},enableHTML:!1,buttonClass:"custom-select",inheritClass:!1,buttonWidth:"auto",buttonContainer:'<div class="btn-group" />',dropRight:!1,dropUp:!1,selectedClass:"active",maxHeight:!1,includeSelectAllOption:!1,includeSelectAllIfMoreThan:0,selectAllText:" Select all",
selectAllValue:"multiselect-all",selectAllName:!1,selectAllNumber:!0,selectAllJustVisible:!0,enableFiltering:!1,enableCaseInsensitiveFiltering:!1,enableFullValueFiltering:!1,enableClickableOptGroups:!1,enableCollapsibleOptGroups:!1,collapseOptGroupsByDefault:!1,filterPlaceholder:"Search",filterBehavior:"text",includeFilterClearBtn:!0,preventInputChangeEvent:!1,nonSelectedText:"None selected",nSelectedText:"selected",allSelectedText:"All selected",resetButtonText:"Reset",numberDisplayed:3,disableIfEmpty:!1,
disabledText:"",delimiterText:", ",includeResetOption:!1,includeResetDivider:!1,resetText:"Reset",indentGroupOptions:!0,widthSynchronizationMode:"never",buttonTextAlignment:"center",enableResetButton:!1,templates:{button:'<button type="button" class="multiselect dropdown-toggle" data-toggle="dropdown"><span class="multiselect-selected-text"></span></button>',popupContainer:'<div class="multiselect-container dropdown-menu"></div>',filter:'<div class="multiselect-filter d-flex align-items-center"><i class="fas fa-sm fa-search text-muted"></i><input type="search" class="multiselect-search form-control" /></div>',
buttonGroup:'<div class="multiselect-buttons btn-group" style="display:flex;"></div>',buttonGroupReset:'<button type="button" class="multiselect-reset btn btn-secondary btn-block"></button>',option:'<button type="button" class="multiselect-option dropdown-item"></button>',divider:'<div class="dropdown-divider"></div>',optionGroup:'<button type="button" class="multiselect-group dropdown-item"></button>',resetButton:'<div class="multiselect-reset text-center p-2"><button type="button" class="btn btn-sm btn-block btn-outline-secondary"></button></div>'}},
constructor:b,buildContainer:function(){this.$container=a(this.options.buttonContainer);"never"!==this.options.widthSynchronizationMode?this.$container.on("show.bs.dropdown",a.proxy(function(){this.synchronizeButtonAndPopupWidth();this.options.onDropdownShow()},this)):this.$container.on("show.bs.dropdown",this.options.onDropdownShow);this.$container.on("hide.bs.dropdown",this.options.onDropdownHide);this.$container.on("shown.bs.dropdown",this.options.onDropdownShown);this.$container.on("hidden.bs.dropdown",
this.options.onDropdownHidden)},buildButton:function(){if(this.$button=a(this.options.templates.button).addClass(this.options.buttonClass),this.$select.attr("class")&&this.options.inheritClass&&this.$button.addClass(this.$select.attr("class")),this.$select.prop("disabled")?this.disable():this.enable(),this.options.buttonWidth&&"auto"!==this.options.buttonWidth&&(this.$button.css({width:"100%"}),this.$container.css({width:this.options.buttonWidth})),this.options.buttonTextAlignment)switch(this.options.buttonTextAlignment){case "left":this.$button.addClass("text-left");
break;case "center":this.$button.addClass("text-center");break;case "right":this.$button.addClass("text-right")}var c=this.$select.attr("tabindex");c&&this.$button.attr("tabindex",c);this.$container.prepend(this.$button)},buildDropdown:function(){this.$popupContainer=a(this.options.templates.popupContainer);this.options.dropRight?this.$container.addClass("dropright"):this.options.dropUp&&this.$container.addClass("dropup");this.options.maxHeight&&this.$popupContainer.css({"max-height":this.options.maxHeight+
"px","overflow-y":"auto","overflow-x":"hidden"});"never"!==this.options.widthSynchronizationMode&&this.$popupContainer.css("overflow-x","hidden");this.$popupContainer.on("touchstart click",function(c){c.stopPropagation()});this.$container.append(this.$popupContainer)},synchronizeButtonAndPopupWidth:function(){if(this.$popupContainer&&"never"!==this.options.widthSynchronizationMode){var c=this.$button.outerWidth();switch(this.options.widthSynchronizationMode){case "always":this.$popupContainer.css("min-width",
c);this.$popupContainer.css("max-width",c);break;case "ifPopupIsSmaller":this.$popupContainer.css("min-width",c);break;case "ifPopupIsWider":this.$popupContainer.css("max-width",c)}}},buildDropdownOptions:function(){this.$select.children().each(a.proxy(function(c,e){c=a(e);var f=c.prop("tagName").toLowerCase();c.prop("value")!==this.options.selectAllValue&&("optgroup"===f?this.createOptgroup(e):"option"===f&&("divider"===c.data("role")?this.createDivider():this.createOptionValue(e,!1)))},this));a(this.$popupContainer).off("change",
'> *:not(.multiselect-group) input[type="checkbox"], > *:not(.multiselect-group) input[type="radio"]');a(this.$popupContainer).on("change",'> *:not(.multiselect-group) input[type="checkbox"], > *:not(.multiselect-group) input[type="radio"]',a.proxy(function(c){var e=a(c.target);c=e.prop("checked")||!1;var f=e.val()===this.options.selectAllValue;this.options.selectedClass&&(c?e.closest(".multiselect-option").addClass(this.options.selectedClass):e.closest(".multiselect-option").removeClass(this.options.selectedClass));
var h=e.val();h=this.getOptionByValue(h);var m=a("option",this.$select).not(h);e=a("input",this.$container).not(e);if(f?c?this.selectAll(this.options.selectAllJustVisible,!0):this.deselectAll(this.options.selectAllJustVisible,!0):(c?(h.prop("selected",!0),this.options.multiple?h.prop("selected",!0):(this.options.selectedClass&&a(e).closest(".dropdown-item").removeClass(this.options.selectedClass),a(e).prop("checked",!1),m.prop("selected",!1),this.$button.click()),"active"===this.options.selectedClass&&
m.closest(".dropdown-item").css("outline","")):h.prop("selected",!1),this.options.onChange(h,c),this.updateSelectAll(),this.options.enableClickableOptGroups&&this.options.multiple&&this.updateOptGroups()),this.$select.change(),this.updateButtonText(),this.options.preventInputChangeEvent)return!1},this));a(".multiselect-option",this.$popupContainer).off("mousedown");a(".multiselect-option",this.$popupContainer).on("mousedown",function(c){if(c.shiftKey)return!1});a(this.$popupContainer).off("touchstart click",
".multiselect-option, .multiselect-all, .multiselect-group");a(this.$popupContainer).on("touchstart click",".multiselect-option, .multiselect-all, .multiselect-group",a.proxy(function(c){c.stopPropagation();var e=a(c.target);if(c.shiftKey&&this.options.multiple){e.is("input")||(c.preventDefault(),(e=e.closest(".multiselect-option").find("input")).prop("checked",!e.prop("checked")));c=e.prop("checked")||!1;if(null!==this.lastToggledInput&&this.lastToggledInput!==e){var f=this.$popupContainer.find(".multiselect-option:visible").index(e.closest(".multiselect-option")),
h=this.$popupContainer.find(".multiselect-option:visible").index(this.lastToggledInput.closest(".multiselect-option"));if(f>h){var m=h;h=f;f=m}++h;h=this.$popupContainer.find(".multiselect-option:not(.multiselect-filter-hidden)").slice(f,h).find("input");h.prop("checked",c);this.options.selectedClass&&h.closest(".multiselect-option").toggleClass(this.options.selectedClass,c);m=0;for(var k=h.length;m<k;m++)f=a(h[m]),this.getOptionByValue(f.val()).prop("selected",c)}e.trigger("change")}else e.is("input")||
(0<(f=e.closest(".multiselect-option, .multiselect-all").find(".form-check-input")).length?!this.options.multiple&&f.prop("checked")||(f.prop("checked",!f.prop("checked")),f.change()):this.options.enableClickableOptGroups&&this.options.multiple&&!e.hasClass("caret-container")&&(h=e,h.hasClass("multiselect-group")||(h=e.closest(".multiselect-group")),0<(f=h.find(".form-check-input")).length&&(f.prop("checked",!f.prop("checked")),f.change())),c.preventDefault());0<e.closest(".multiselect-option").find("input[type='checkbox'], input[type='radio']").length?
this.lastToggledInput=e:this.lastToggledInput=null;e.blur()},this));this.$container.off("keydown.multiselect").on("keydown.multiselect",a.proxy(function(c){var e=a(this.$container).find(".multiselect-option:not(.disabled), .multiselect-group:not(.disabled), .multiselect-all").filter(":visible"),f=e.index(e.filter(":focus")),h=a(".multiselect-search",this.$container);if(9===c.keyCode&&this.$container.hasClass("show"))this.$button.click();else if(13==c.keyCode){var m=e.eq(f);setTimeout(function(){m.focus()},
1)}else if(38==c.keyCode)0!=f||h.is(":focus")||setTimeout(function(){h.focus()},1);else if(40==c.keyCode)if(h.is(":focus")){var k=e.eq(0);setTimeout(function(){h.blur();k.focus()},1)}else-1==f&&setTimeout(function(){h.focus()},1)},this));this.options.enableClickableOptGroups&&this.options.multiple&&(a(".multiselect-group input",this.$popupContainer).off("change"),a(".multiselect-group input",this.$popupContainer).on("change",a.proxy(function(c){c.stopPropagation();var e=a(c.target).prop("checked")||
!1;c=a(c.target).closest(".dropdown-item");var f=c.nextUntil(".multiselect-group").not(".multiselect-filter-hidden").not(".disabled").find("input"),h=[];this.options.selectedClass&&(e?c.addClass(this.options.selectedClass):c.removeClass(this.options.selectedClass));a.each(f,a.proxy(function(m,k){m=a(k);k=m.val();var l=this.getOptionByValue(k);e?(m.prop("checked",!0),m.closest(".dropdown-item").addClass(this.options.selectedClass),l.prop("selected",!0)):(m.prop("checked",!1),m.closest(".dropdown-item").removeClass(this.options.selectedClass),
l.prop("selected",!1));h.push(this.getOptionByValue(k))},this));this.options.onChange(h,e);this.$select.change();this.updateButtonText();this.updateSelectAll()},this)));this.options.enableCollapsibleOptGroups&&this.options.multiple&&(a(".multiselect-group .caret-container",this.$popupContainer).off("click"),a(".multiselect-group .caret-container",this.$popupContainer).on("click",a.proxy(function(c){c=a(c.target).closest(".multiselect-group").nextUntil(".multiselect-group").not(".multiselect-filter-hidden");
var e=!0;c.each(function(){e=e&&!a(this).hasClass("multiselect-collapsible-hidden")});e?c.hide().addClass("multiselect-collapsible-hidden"):c.show().removeClass("multiselect-collapsible-hidden")},this)))},createCheckbox:function(c,e,f,h,m,k){var l=a("<span />"),p;(l.addClass("form-check"),this.options.enableHTML&&0<a(e).length)?((p=a('<label class="form-check-label" />')).html(e),l.append(p)):((p=a('<label class="form-check-label" />')).text(e),l.append(p));k=a('<input class="form-check-input"/>').attr("type",
k);return k.val(h),l.prepend(k),f&&k.attr("name",f),c.prepend(l),c.attr("title",m||e),k},createOptionValue:function(c,e){var f=a(c);f.is(":selected")&&f.prop("selected",!0);var h=this.options.optionLabel(c),m=this.options.optionClass(c),k=f.val(),l=this.options.multiple?"checkbox":"radio",p=f.attr("title"),q=a(this.options.templates.option);q.addClass(m);e&&this.options.indentGroupOptions&&q.addClass("multiselect-group-option-indented");this.options.collapseOptGroupsByDefault&&"optgroup"===a(c).parent().prop("tagName").toLowerCase()&&
(q.addClass("multiselect-collapsible-hidden"),q.hide());c=this.options.checkboxName(f);h=this.createCheckbox(q,h,c,k,p,l);l=f.prop("selected")||!1;k===this.options.selectAllValue&&(q.addClass("multiselect-all"),q.removeClass("multiselect-option"),h.parent().parent().addClass("multiselect-all"));this.$popupContainer.append(q);f.is(":disabled")&&h.attr("disabled","disabled").prop("disabled",!0).closest(".dropdown-item").addClass("disabled");h.prop("checked",l);l&&this.options.selectedClass&&h.closest(".dropdown-item").addClass(this.options.selectedClass)},
createDivider:function(c){c=a(this.options.templates.divider);this.$popupContainer.append(c)},createOptgroup:function(c){var e=a(c),f=e.attr("label"),h=e.attr("value"),m=e.attr("title"),k=a("<span class='multiselect-group dropdown-item-text'></span>");this.options.enableClickableOptGroups&&this.options.multiple?(k=a(this.options.templates.optionGroup),this.createCheckbox(k,f,null,h,m,"checkbox")):this.options.enableHTML?k.html(" "+f):k.text(" "+f);f=this.options.optionClass(c);k.addClass(f);this.options.enableCollapsibleOptGroups&&
this.options.multiple&&(k.find(".form-check").addClass("d-inline-block"),k.append('<span class="caret-container dropdown-toggle pl-1"></span>'));e.is(":disabled")&&k.addClass("disabled");this.$popupContainer.append(k);a("option",c).each(a.proxy(function(l,p){this.createOptionValue(p,!0)},this))},buildReset:function(){if(this.options.includeResetOption){if(this.options.includeResetDivider){var c=a(this.options.templates.divider);c.addClass("mt-0");this.$popupContainer.prepend(c)}c=a(this.options.templates.resetButton);
this.options.enableHTML?a("button",c).html(this.options.resetText):a("button",c).text(this.options.resetText);a("button",c).click(a.proxy(function(){this.clearSelection()},this));this.$popupContainer.prepend(c)}},buildSelectAll:function(){if("number"==typeof this.options.selectAllValue&&(this.options.selectAllValue=this.options.selectAllValue.toString()),!this.hasSelectAll()&&this.options.includeSelectAllOption&&this.options.multiple&&a("option",this.$select).length>this.options.includeSelectAllIfMoreThan){this.options.includeSelectAllDivider&&
this.$popupContainer.prepend(a(this.options.templates.divider));var c=a(this.options.templates.li||this.options.templates.option),e=this.createCheckbox(c,this.options.selectAllText,this.options.selectAllName,this.options.selectAllValue,this.options.selectAllText,"checkbox");c.addClass("multiselect-all");c.removeClass("multiselect-option");c.find(".form-check-label").addClass("font-weight-bold");this.$popupContainer.prepend(c);e.prop("checked",!1)}},buildFilter:function(){if(this.options.enableFiltering||
this.options.enableCaseInsensitiveFiltering){var c=Math.max(this.options.enableFiltering,this.options.enableCaseInsensitiveFiltering);this.$select.find("option").length>=c&&(this.$filter=a(this.options.templates.filter),a("input",this.$filter).attr("placeholder",this.options.filterPlaceholder),this.options.includeFilterClearBtn?(this.isFirefox()&&0===this.$filter.find(".multiselect-clear-filter").length&&this.$filter.append("<i class='fas fa-times text-muted multiselect-clear-filter multiselect-moz-clear-filter'></i>"),
this.$filter.find(".multiselect-clear-filter").on("click",a.proxy(function(e){clearTimeout(this.searchTimeout);this.query="";this.$filter.find(".multiselect-search").val("");a(".dropdown-item",this.$popupContainer).show().removeClass("multiselect-filter-hidden");this.updateSelectAll();this.options.enableClickableOptGroups&&this.options.multiple&&this.updateOptGroups()},this))):(this.$filter.find(".multiselect-search").attr("type","text"),this.$filter.find(".multiselect-clear-filter").remove()),this.$popupContainer.prepend(this.$filter),
this.$filter.val(this.query).on("click",function(e){e.stopPropagation()}).on("input keydown",a.proxy(function(e){13===e.which&&e.preventDefault();this.isFirefox()&&this.options.includeFilterClearBtn&&(e.target.value?this.$filter.find(".multiselect-moz-clear-filter").show():this.$filter.find(".multiselect-moz-clear-filter").hide());clearTimeout(this.searchTimeout);this.searchTimeout=this.asyncFunction(a.proxy(function(){var f,h;this.query!==e.target.value&&(this.query=e.target.value,a.each(a(".multiselect-option, .multiselect-group",
this.$popupContainer),a.proxy(function(m,k){var l=0<a("input",k).length?a("input",k).val():"",p=a(".form-check-label",k).text();m="";if("text"===this.options.filterBehavior?m=p:"value"===this.options.filterBehavior?m=l:"both"===this.options.filterBehavior&&(m=p+"\n"+l),l!==this.options.selectAllValue&&p)l=!1,(this.options.enableCaseInsensitiveFiltering&&(m=m.toLowerCase(),this.query=this.query.toLowerCase()),this.options.enableFullValueFiltering&&"both"!==this.options.filterBehavior)?(m=m.trim().substring(0,
this.query.length),-1<this.query.indexOf(m)&&(l=!0)):-1<m.indexOf(this.query)&&(l=!0),l||(a(k).css("display","none"),a(k).addClass("multiselect-filter-hidden")),l&&(a(k).css("display","block"),a(k).removeClass("multiselect-filter-hidden")),a(k).hasClass("multiselect-group")?(f=k,h=l):(l&&a(f).show().removeClass("multiselect-filter-hidden"),!l&&h&&a(k).show().removeClass("multiselect-filter-hidden"))},this)));this.updateSelectAll();this.options.enableClickableOptGroups&&this.options.multiple&&this.updateOptGroups();
this.updatePopupPosition();this.options.onFiltering(e.target)},this),300,this)},this)))}},buildButtons:function(){if(this.options.enableResetButton){var c=a(this.options.templates.buttonGroup);this.$buttonGroupReset=a(this.options.templates.buttonGroupReset).text(this.options.resetButtonText);c.append(this.$buttonGroupReset);this.$popupContainer.prepend(c);this.defaultSelection={};a("option",this.$select).each(a.proxy(function(e,f){e=a(f);this.defaultSelection[e.val()]=e.prop("selected")},this));
this.$buttonGroupReset.on("click",a.proxy(function(e){a("option",this.$select).each(a.proxy(function(f,h){f=a(h);f.prop("selected",this.defaultSelection[f.val()])},this));this.refresh();this.options.enableFiltering&&(this.$filter.trigger("keydown"),a("input",this.$filter).val(""))},this))}},updatePopupPosition:function(){var c=this.$popupContainer.css("transform"),e=c.substring(0,c.indexOf("(")),f=c.substring(c.indexOf("(")+1,c.length-1).split(","),h=5;"matrix3d"===e&&(h=13);var m=f[h];0>(void 0===
m?0:m.trim())&&(m=-1*this.$popupContainer.css("height").replace("px",""),f[h]=m,c=e+"("+f.join(",")+")",this.$popupContainer.css("transform",c))},destroy:function(){this.$container.remove();this.$select.unwrap();this.$select.show();this.$select.prop("disabled",this.options.wasDisabled);this.$select.data("multiselect",null)},refresh:function(){var c={};a(".multiselect-option input",this.$popupContainer).each(function(){c[a(this).val()]=a(this)});a("option",this.$select).each(a.proxy(function(e,f){e=
a(f);f=c[a(f).val()];e.is(":selected")?(f.prop("checked",!0),this.options.selectedClass&&f.closest(".multiselect-option").addClass(this.options.selectedClass)):(f.prop("checked",!1),this.options.selectedClass&&f.closest(".multiselect-option").removeClass(this.options.selectedClass));e.is(":disabled")?f.attr("disabled","disabled").prop("disabled",!0).closest(".multiselect-option").addClass("disabled"):f.prop("disabled",!1).closest(".multiselect-option").removeClass("disabled")},this));this.updateButtonText();
this.updateSelectAll();this.options.enableClickableOptGroups&&this.options.multiple&&this.updateOptGroups()},select:function(c,e){a.isArray(c)||(c=[c]);for(var f=0;f<c.length;f++){var h=c[f];if(null!=h){var m=this.getOptionByValue(h);h=this.getInputByValue(h);void 0!==m&&void 0!==h&&((this.options.selectedClass&&h.closest(".dropdown-item").addClass(this.options.selectedClass),h.prop("checked",!0),m.prop("selected",!0),this.options.multiple)||(h=a("input",this.$container).not(h),a(h).prop("checked",
!1),a(h).closest(".multiselect-option").removeClass("active"),a("option",this.$select).not(m).prop("selected",!1)),e&&this.options.onChange(m,!0))}}this.updateButtonText();this.updateSelectAll();this.options.enableClickableOptGroups&&this.options.multiple&&this.updateOptGroups()},clearSelection:function(){this.deselectAll(!1);this.updateButtonText();this.updateSelectAll();this.options.enableClickableOptGroups&&this.options.multiple&&this.updateOptGroups()},deselect:function(c,e){if(this.options.multiple){a.isArray(c)||
(c=[c]);for(var f=0;f<c.length;f++){var h=c[f];if(null!=h){var m=this.getOptionByValue(h);h=this.getInputByValue(h);void 0!==m&&void 0!==h&&(this.options.selectedClass&&h.closest(".dropdown-item").removeClass(this.options.selectedClass),h.prop("checked",!1),m.prop("selected",!1),e&&this.options.onChange(m,!1))}}this.updateButtonText();this.updateSelectAll();this.options.enableClickableOptGroups&&this.options.multiple&&this.updateOptGroups()}},selectAll:function(c,e){if(this.options.multiple){var f=
[];(c=void 0===c||c)?(c=a(".multiselect-option:not(.disabled):not(.multiselect-filter-hidden)",this.$popupContainer),a("input:enabled",c).prop("checked",!0),c.addClass(this.options.selectedClass),a("input:enabled",c).each(a.proxy(function(h,m){h=a(m).val();h=this.getOptionByValue(h);a(h).prop("selected")||f.push(h);a(h).prop("selected",!0)},this))):(c=a(".multiselect-option:not(.disabled)",this.$popupContainer),a("input:enabled",c).prop("checked",!0),c.addClass(this.options.selectedClass),a("input:enabled",
c).each(a.proxy(function(h,m){h=a(m).val();h=this.getOptionByValue(h);a(h).prop("selected")||f.push(h);a(h).prop("selected",!0)},this)));a('.multiselect-option input[value="'+this.options.selectAllValue+'"]',this.$popupContainer).prop("checked",!0);this.options.enableClickableOptGroups&&this.options.multiple&&this.updateOptGroups();this.updateButtonText();this.updateSelectAll();e&&this.options.onSelectAll(f)}},deselectAll:function(c,e){if(this.options.multiple){var f=[];(c=void 0===c||c)?(c=a(".multiselect-option:not(.disabled):not(.multiselect-filter-hidden)",
this.$popupContainer),a('input[type="checkbox"]:enabled',c).prop("checked",!1),c.removeClass(this.options.selectedClass),a('input[type="checkbox"]:enabled',c).each(a.proxy(function(h,m){h=a(m).val();h=this.getOptionByValue(h);a(h).prop("selected")&&f.push(h);a(h).prop("selected",!1)},this))):(c=a(".multiselect-option:not(.disabled):not(.multiselect-group)",this.$popupContainer),a('input[type="checkbox"]:enabled',c).prop("checked",!1),c.removeClass(this.options.selectedClass),a('input[type="checkbox"]:enabled',
c).each(a.proxy(function(h,m){h=a(m).val();h=this.getOptionByValue(h);a(h).prop("selected")&&f.push(h);a(h).prop("selected",!1)},this)));a('.multiselect-all input[value="'+this.options.selectAllValue+'"]',this.$popupContainer).prop("checked",!1);this.options.enableClickableOptGroups&&this.options.multiple&&this.updateOptGroups();this.updateButtonText();this.updateSelectAll();e&&this.options.onDeselectAll(f)}},rebuild:function(){this.$popupContainer.html("");this.options.multiple="multiple"===this.$select.attr("multiple");
this.buildSelectAll();this.buildDropdownOptions();this.buildFilter();this.buildButtons();this.updateButtonText();this.updateSelectAll(!0);this.options.enableClickableOptGroups&&this.options.multiple&&this.updateOptGroups();this.options.disableIfEmpty&&(0>=a("option",this.$select).length?this.$select.prop("disabled")||this.disable(!0):this.$select.data("disabled-by-option")&&this.enable());this.options.dropRight?this.$container.addClass("dropright"):this.options.dropUp&&this.$container.addClass("dropup");
"never"!==this.options.widthSynchronizationMode&&this.synchronizeButtonAndPopupWidth()},dataprovider:function(c){var e=0,f=this.$select.empty();a.each(c,function(h,m){if(a.isArray(m.children)){e++;var k=a("<optgroup/>").attr({label:m.label||"Group "+e,disabled:!!m.disabled,value:m.value});d(m.children,function(p){var q={value:p.value,label:p.label||p.value,title:p.title,selected:!!p.selected,disabled:!!p.disabled},u;for(u in p.attributes)q["data-"+u]=p.attributes[u];k.append(a("<option/>").attr(q))})}else{h=
{value:m.value,label:m.label||m.value,title:m.title,class:m.class,selected:!!m.selected,disabled:!!m.disabled};for(var l in m.attributes)h["data-"+l]=m.attributes[l];(k=a("<option/>").attr(h)).text(m.label||m.value)}f.append(k)});this.rebuild()},enable:function(){this.$select.prop("disabled",!1);this.$button.prop("disabled",!1).removeClass("disabled");this.updateButtonText()},disable:function(c){this.$select.prop("disabled",!0);this.$button.prop("disabled",!0).addClass("disabled");c?this.$select.data("disabled-by-option",
!0):this.$select.data("disabled-by-option",null);this.updateButtonText()},setOptions:function(c){this.options=this.mergeOptions(c)},mergeOptions:function(c){return a.extend(!0,{},this.defaults,this.options,c)},hasSelectAll:function(){return 0<a(".multiselect-all",this.$popupContainer).length},updateOptGroups:function(){var c=a(".multiselect-group",this.$popupContainer),e=this.options.selectedClass;c.each(function(){var f=!0;a(this).nextUntil(".multiselect-group").not(".multiselect-filter-hidden").not(".disabled").each(function(){a("input",
this).prop("checked")||(f=!1)});e&&(f?a(this).addClass(e):a(this).removeClass(e));a("input",this).prop("checked",f)})},updateSelectAll:function(c){if(this.hasSelectAll()){var e=a(".multiselect-option:not(.multiselect-filter-hidden):not(.multiselect-group):not(.disabled) input:enabled",this.$popupContainer);c=e.length;e=e.filter(":checked").length;var f=a(".multiselect-all",this.$popupContainer),h=f.find("input");0<e&&e===c?(h.prop("checked",!0),f.addClass(this.options.selectedClass)):(h.prop("checked",
!1),f.removeClass(this.options.selectedClass))}},updateButtonText:function(){var c=this.getSelected();this.options.enableHTML?a(".multiselect .multiselect-selected-text",this.$container).html(this.options.buttonText(c,this.$select)):a(".multiselect .multiselect-selected-text",this.$container).text(this.options.buttonText(c,this.$select));a(".multiselect",this.$container).attr("title",this.options.buttonTitle(c,this.$select));this.$button.trigger("change")},getSelected:function(){return a("option",
this.$select).filter(":selected")},getOptionByValue:function(c){var e=a("option",this.$select);c=c.toString();for(var f=0;f<e.length;f+=1){var h=e[f];if(h.value===c)return a(h)}},getInputByValue:function(c){var e=a(".multiselect-option input:not(.multiselect-search)",this.$popupContainer);c=c.toString();for(var f=0;f<e.length;f+=1){var h=e[f];if(h.value===c)return a(h)}},updateOriginalOptions:function(){this.originalOptions=this.$select.clone()[0].options},asyncFunction:function(c,e,f){var h=Array.prototype.slice.call(arguments,
3);return setTimeout(function(){c.apply(f||window,h)},e)},setAllSelectedText:function(c){this.options.allSelectedText=c;this.updateButtonText()},isFirefox:function(){return!(!navigator||!navigator.userAgent)&&-1<navigator.userAgent.toLocaleLowerCase().indexOf("firefox")}};a.fn.multiselect=function(c,e,f){return this.each(function(){var h=a(this).data("multiselect");h||(h=new b(this,"object"==typeof c&&c),a(this).data("multiselect",h));"string"==typeof c&&(h[c](e,f),"destroy"===c&&a(this).data("multiselect",
!1))})};a.fn.multiselect.Constructor=b;a(function(){a("select[data-role=multiselect]").multiselect()})});$.fn.multiselect.Constructor.prototype.defaults.showSelectedValues=!1;$.fn.multiselect.Constructor.prototype.defaults.showSelectedValuesCollapsed=!1;$.fn.multiselect.Constructor.prototype.defaults.showSelectedValuesOnlyOnce=!1;$.fn.multiselect.Constructor.prototype.defaults.showSelectedValuesEmpty=!0;$.fn.multiselect.Constructor.prototype.defaults.selectedValuesTitleText="Values initially selected";$.fn.multiselect.Constructor.prototype.defaults.selectedValuesNoValuesText="None";
$.fn.multiselect.Constructor.prototype.buildDropdownOriginal=$.fn.multiselect.Constructor.prototype.buildDropdown;
$.fn.multiselect.Constructor.prototype.buildDropdown=function(){this.buildDropdownOriginal();this.oldDropdownVersion=!("$popupContainer"in this);if(this.options.showSelectedValues){var a=this.options.selectedValuesTitleText,g=$(this.oldDropdownVersion?'<li class="multiselect-item multiselect-group multiselect-selected-values"><a href="javascript:void(0);"><label><b></b></label></a></li>':"<span class='multiselect-group multiselect-selected-values dropdown-item-text'></span>");this.options.enableHTML?
(this.oldDropdownVersion?g.find("label b"):g).html(" "+a):(this.oldDropdownVersion?g.find("label b"):g).text(" "+a);this.$dropdownContainer=this.oldDropdownVersion?this.$ul:this.$popupContainer;g.find(".form-check").addClass("d-inline-block");this.createDivider();this.oldDropdownVersion?$("a",g).append('<span class="caret-container"><b class="caret"></b></span>'):g.append('<span class="caret-container dropdown-toggle pl-1"></span>');this.$dropdownContainer.append(g);$(".multiselect-selected-values",
this.$dropdownContainer).off("click");$(".multiselect-selected-values",this.$dropdownContainer).on("click",$.proxy(function(d){d=$(d.target);this.oldDropdownVersion&&(d=d.closest("li"));var b=d.nextUntil(":not(.multiselect-selected-values-entry)"),c=!0;b.each(function(){c=c&&!$(this).hasClass("multiselect-collapsible-hidden")});c?b.hide().addClass("multiselect-collapsible-hidden"):b.show().removeClass("multiselect-collapsible-hidden");d.toggleClass("collapsed",c)},this));this.createDivider()}};
$.fn.multiselect.Constructor.prototype.refreshOriginal=$.fn.multiselect.Constructor.prototype.refresh;
$.fn.multiselect.Constructor.prototype.refresh=function(){if(this.options.showSelectedValues){var a={};$(".multiselect-selected-values-option input",this.$dropdownContainer).each(function(){a[$(this).val()]=$(this)});$("option",this.$select).each($.proxy(function(g,d){g=$(d);if(d=a[$(d).val()])g.is(":selected")?(d.prop("checked",!0),this.options.selectedClass&&d.closest(this.oldDropdownVersion?"li":".multiselect-selected-values-option").addClass(this.options.selectedClass)):(d.prop("checked",!1),
this.options.selectedClass&&d.closest(this.oldDropdownVersion?"li":".multiselect-selected-values-option").removeClass(this.options.selectedClass))},this));this.refreshOriginal()}};$.fn.multiselect.Constructor.prototype.clearSelectionOriginal=$.fn.multiselect.Constructor.prototype.clearSelection;$.fn.multiselect.Constructor.prototype.clearSelection=function(){this.clearSelectionOriginal();this.options.showSelectedValues&&this.refresh()};$.fn.multiselect.Constructor.prototype.mergeOptionsOriginal=$.fn.multiselect.Constructor.prototype.mergeOptions;
$.fn.multiselect.Constructor.prototype.mergeOptions=function(a){a.onChangeOriginal=a.onChange;a.onChange=function(g,d){this.options.showSelectedValues&&this.refresh();if(this.options.onChangeOriginal)this.options.onChangeOriginal(g,d)};a.onSelectAllOriginal=a.onSelectAll;a.onSelectAll=function(){this.options.showSelectedValues&&this.refresh();if(this.options.onSelectAllOriginal)this.options.onSelectAllOriginal()};a.onDeselectAllOriginal=a.onDeselectAll;a.onDeselectAll=function(){this.options.showSelectedValues&&
this.refresh();if(this.options.onDeselectAllOriginal)this.options.onDeselectAllOriginal()};a.onDropdownShowOriginal=a.onDropdownShow;a.onDropdownShow=function(g){if(this.options.showSelectedValues){this.$dropdownContainer.find(".multiselect-selected-values-entry").remove();this.$dropdownContainer.find(".multiselect-selected-values-hidden").removeClass("multiselect-selected-values-hidden");var d=this.$select.val();if(d&&d.length){for(var b=d.length-1;0<=b;b--){var c=this.getInputByValue(d[b]).closest(this.oldDropdownVersion?
"li":".multiselect-option"),e=c.clone().removeClass("multiselect-option").addClass("multiselect-group-option-indented").addClass("multiselect-selected-values-entry").addClass("multiselect-selected-values-option");e.insertAfter(this.$dropdownContainer.find(".multiselect-selected-values"));this.options.showSelectedValuesCollapsed&&e.addClass("multiselect-collapsible-hidden").hide();this.options.showSelectedValuesOnlyOnce&&c.addClass("multiselect-selected-values-hidden")}this.options.showSelectedValuesEmpty||
(d=this.$dropdownContainer.find(".multiselect-group.multiselect-selected-values"),d.show(),d.nextAll(this.oldDropdownVersion?".multiselect-item.divider:first":".dropdown-divider:first").show())}else this.options.showSelectedValuesEmpty?(d=$('<span class="multiselect-selected-values-entry multiselect-selected-values-none dropdown-item-text">'+this.options.selectedValuesNoValuesText+"</span>"),d.insertAfter(this.$dropdownContainer.find(".multiselect-selected-values")),this.options.showSelectedValuesCollapsed&&
d.addClass("multiselect-collapsible-hidden").hide()):(d=this.$dropdownContainer.find(".multiselect-group.multiselect-selected-values"),d.hide(),d.nextAll(this.oldDropdownVersion?".multiselect-item.divider:first":".dropdown-divider:first").hide());this.$dropdownContainer.find(".multiselect-group.multiselect-selected-values").toggleClass("collapsed",this.options.showSelectedValuesCollapsed)}if(this.options.onDropdownShowOriginal)this.options.onDropdownShowOriginal(g)};return this.mergeOptionsOriginal(a)};!function(){function a(p){return(a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(q){return typeof q}:function(q){return q&&"function"==typeof Symbol&&q.constructor===Symbol&&q!==Symbol.prototype?"symbol":typeof q})(p)}function g(p,q){for(var u=0;u<q.length;u++){var t=q[u];t.enumerable=t.enumerable||!1;t.configurable=!0;"value"in t&&(t.writable=!0);Object.defineProperty(p,t.key,t)}}function d(p,q){var u=Object.keys(p);if(Object.getOwnPropertySymbols){var t=Object.getOwnPropertySymbols(p);
q&&(t=t.filter(function(C){return Object.getOwnPropertyDescriptor(p,C).enumerable}));u.push.apply(u,t)}return u}function b(p){for(var q=1;q<arguments.length;q++){var u=null!=arguments[q]?arguments[q]:{};q%2?d(Object(u),!0).forEach(function(t){var C=u[t];t in p?Object.defineProperty(p,t,{value:C,enumerable:!0,configurable:!0,writable:!0}):p[t]=C}):Object.getOwnPropertyDescriptors?Object.defineProperties(p,Object.getOwnPropertyDescriptors(u)):d(Object(u)).forEach(function(t){Object.defineProperty(p,
t,Object.getOwnPropertyDescriptor(u,t))})}return p}function c(p,q){(null==q||q>p.length)&&(q=p.length);for(var u=0,t=Array(q);u<q;u++)t[u]=p[u];return t}function e(p){if("undefined"==typeof Symbol||null==p[Symbol.iterator]){if(Array.isArray(p)||(p=function(z,L){if(z){if("string"==typeof z)return c(z,L);var U=Object.prototype.toString.call(z).slice(8,-1);return"Object"===U&&z.constructor&&(U=z.constructor.name),"Map"===U||"Set"===U?Array.from(U):"Arguments"===U||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(U)?
c(z,L):void 0}}(p))){var q=0,u=function(){};return{s:u,n:function(){return q>=p.length?{done:!0}:{done:!1,value:p[q++]}},e:function(z){throw z;},f:u}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.");}var t,C,D=!0,w=!1;return{s:function(){t=p[Symbol.iterator]()},n:function(){var z=t.next();return D=z.done,z},e:function(z){w=!0;C=z},f:function(){try{D||null==t.return||t.return()}finally{if(w)throw C;
}}}}var f=function(p,q){if(null===p)return null;if("number"!=typeof q.step)return p;var u=p%(60*q.step);(u-=(q.minTime||0)%(60*q.step))>=30*q.step?p+=60*q.step-u:p-=u;p=86400==p&&q.show2400?p:p%86400;return p},h={appendTo:"body",className:null,closeOnWindowScroll:!1,disableTextInput:!1,disableTimeRanges:[],disableTouchKeyboard:!1,durationTime:null,forceRoundTime:!1,lang:{},maxTime:null,minTime:null,noneOption:!1,orientation:"l",roundingFunction:f,scrollDefault:null,selectOnBlur:!1,show2400:!1,showDuration:!1,
showOn:["click","focus"],showOnFocus:!0,step:30,stopScrollPropagation:!1,timeFormat:"g:ia",typeaheadHighlight:!0,useSelect:!1,wrapHours:!0},m={am:"am",pm:"pm",AM:"AM",PM:"PM",decimal:".",mins:"mins",hr:"hr",hrs:"hrs"},k=function(){function p(t){var C=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{};if(!(this instanceof p))throw new TypeError("Cannot call a class as a function");var D=p.extractAttrOptions(t,Object.keys(h));this.settings=this.parseSettings(b(b(b({},h),C),D))}var q,u;return u=
[{key:"extractAttrOptions",value:function(t,C){var D,w={};C=e(C);try{for(C.s();!(D=C.n()).done;){var z=D.value;z in t.dataset&&(w[z]=t.dataset[z])}}catch(L){C.e(L)}finally{C.f()}return w}}],q=[{key:"time2int",value:function(t){if(""===t||null==t)return null;if(t instanceof Date)return 3600*t.getHours()+60*t.getMinutes()+t.getSeconds();if("string"!=typeof t)return t;"a"!=(t=t.toLowerCase().replace(/[\s\.]/g,"")).slice(-1)&&"p"!=t.slice(-1)||(t+="m");var C=t.match(/^(([^0-9]*))?([0-9]?[0-9])(\W?([0-5][0-9]))?(\W+([0-5][0-9]))?(([^0-9]*))$/);
if(!C)return null;t=parseInt(1*C[3],10);var D=C[2]||C[9],w=t,z=1*C[5]||0;C=1*C[7]||0;if(12>=t&&D)w=(D=D.trim())==this.settings.lang.pm||D==this.settings.lang.PM,w=12==t?w?12:0:t+(w?12:0);else if(3600*t+60*z+C>=86400+(this.settings.show2400?1:0)){if(!1===this.settings.wrapHours)return null;w=t%24}z=3600*w+60*z+C;12>t&&!D&&this.settings._twelveHourTime&&this.settings.scrollDefault&&(t=z-this.settings.scrollDefault(),0>t&&-43200<=t&&(z=(z+43200)%86400));return z}},{key:"parseSettings",value:function(t){var C=
this;if(t.lang=b(b({},m),t.lang),this.settings=t,t.minTime&&(t.minTime=this.time2int(t.minTime)),t.maxTime&&(t.maxTime=this.time2int(t.maxTime)),t.durationTime&&"function"!=typeof t.durationTime&&(t.durationTime=this.time2int(t.durationTime)),"now"==t.scrollDefault)t.scrollDefault=function(){return t.roundingFunction(C.time2int(new Date),t)};else if(t.scrollDefault&&"function"!=typeof t.scrollDefault){var D=t.scrollDefault;t.scrollDefault=function(){return t.roundingFunction(C.time2int(D),t)}}else t.minTime&&
(t.scrollDefault=function(){return t.roundingFunction(t.minTime,t)});if("string"==typeof t.timeFormat&&t.timeFormat.match(/[gh]/)&&(t._twelveHourTime=!0),!1===t.showOnFocus&&-1!=t.showOn.indexOf("focus")&&t.showOn.splice(t.showOn.indexOf("focus"),1),t.disableTimeRanges||(t.disableTimeRanges=[]),0<t.disableTimeRanges.length){for(var w in t.disableTimeRanges)t.disableTimeRanges[w]=[this.time2int(t.disableTimeRanges[w][0]),this.time2int(t.disableTimeRanges[w][1])];t.disableTimeRanges=t.disableTimeRanges.sort(function(z,
L){return z[0]-L[0]});for(w=t.disableTimeRanges.length-1;0<w;w--)t.disableTimeRanges[w][0]<=t.disableTimeRanges[w-1][1]&&(t.disableTimeRanges[w-1]=[Math.min(t.disableTimeRanges[w][0],t.disableTimeRanges[w-1][0]),Math.max(t.disableTimeRanges[w][1],t.disableTimeRanges[w-1][1])],t.disableTimeRanges.splice(w,1))}return t}}],g(p.prototype,q),u&&g(p,u),p}();var l=function(p){function q(G){G=G[0];return 0<G.offsetWidth&&0<G.offsetHeight}function u(G){var N=G.data("timepicker-settings"),R=G.data("timepicker-list"),
O=G.data("timepicker-obj");if(R&&R.length&&(R.remove(),G.data("timepicker-list",!1)),N.useSelect){R=p("<select />",{class:"ui-timepicker-select"});G.attr("name")&&R.attr("name","ui-timepicker-"+G.attr("name"));var da=R}else R=p("<ul />",{class:"ui-timepicker-list"}),(da=p("<div />",{class:"ui-timepicker-wrapper",tabindex:-1})).css({display:"none",position:"absolute"}).append(R);if(N.noneOption)if(!0===N.noneOption&&(N.noneOption=N.useSelect?"Time...":"None"),p.isArray(N.noneOption))for(var X in N.noneOption){if(parseInt(X,
10)==X){var la=t(N.noneOption[X],N.useSelect);R.append(la)}}else la=t(N.noneOption,N.useSelect),R.append(la);N.className&&da.addClass(N.className);null===N.minTime&&null===N.durationTime||!N.showDuration||("function"==typeof N.step||N.step,da.addClass("ui-timepicker-with-duration"),da.addClass("ui-timepicker-step-"+N.step));la=N.minTime;"function"==typeof N.durationTime?la=O.time2int(N.durationTime()):null!==N.durationTime&&(la=N.durationTime);X=null!==N.minTime?N.minTime:0;var qa=null!==N.maxTime?
N.maxTime:X+86400-1;qa<X&&(qa+=86400);86399===qa&&"string"===p.type(N.timeFormat)&&N.show2400&&(qa=86400);var va=N.disableTimeRanges,pa=0,wa=va.length,oa=N.step;"function"!=typeof oa&&(oa=function(){return N.step});for(var Fa=0;X<=qa;X+=60*oa(++Fa)){var Ja,Ka=X,$a=x(Ka,N);if(N.useSelect?(Ja=p("<option />",{value:$a})).text($a):((Ja=p("<li />")).addClass(43200>Ka%86400?"ui-timepicker-am":"ui-timepicker-pm"),Ja.data("time",f(Ka,N)),Ja.text($a)),(null!==N.minTime||null!==N.durationTime)&&N.showDuration)if($a=
E(X-la,N.step),N.useSelect)Ja.text(Ja.text()+" ("+$a+")");else{var Za=p("<span />",{class:"ui-timepicker-duration"});Za.text(" ("+$a+")");Ja.append(Za)}pa<wa&&(Ka>=va[pa][1]&&(pa+=1),va[pa]&&Ka>=va[pa][0]&&Ka<va[pa][1]&&(N.useSelect?Ja.prop("disabled",!0):Ja.addClass("ui-timepicker-disabled")));R.append(Ja)}(da.data("timepicker-input",G),G.data("timepicker-list",da),N.useSelect)?(G.val()&&R.val(C(O.time2int(G.val()),N)),R.on("focus",function(){p(this).data("timepicker-input").trigger("showTimepicker")}),
R.on("blur",function(){p(this).data("timepicker-input").trigger("hideTimepicker")}),R.on("change",function(){Y(G,p(this).val(),"select")}),Y(G,R.val(),"initial"),G.hide().after(R)):(O=N.appendTo,"string"==typeof O?O=p(O):"function"==typeof O&&(O=O(G)),O.append(da),L(G,R),R.on("mousedown click","li",function(Ma){G.off("focus.timepicker");G.on("focus.timepicker-ie-hack",function(){G.off("focus.timepicker-ie-hack");G.on("focus.timepicker",M.show)});w(G)||G[0].focus();R.find("li").removeClass("ui-timepicker-selected");
p(this).addClass("ui-timepicker-selected");K(G)&&(G.trigger("hideTimepicker"),R.on("mouseup.timepicker click.timepicker","li",function(sb){R.off("mouseup.timepicker click.timepicker");da.hide()}))}))}function t(G,N){var R,O,da;return"object"==a(G)?(R=G.label,O=G.className,da=G.value):"string"==typeof G?(R=G,da=""):p.error("Invalid noneOption value"),N?p("<option />",{value:da,class:O,text:R}):p("<li />",{class:O,text:R}).data("time",String(da))}function C(G,N){if(null!==(G=N.roundingFunction(G,N)))return x(G,
N)}function D(G){G.target!=window&&(G=p(G.target),G.closest(".ui-timepicker-input").length||G.closest(".ui-timepicker-wrapper").length||(M.hide(),p(document).unbind(".ui-timepicker"),p(window).unbind(".ui-timepicker")))}function w(G){G=G.data("timepicker-settings");return(window.navigator.msMaxTouchPoints||"ontouchstart"in document)&&G.disableTouchKeyboard}function z(G,N,R){if(!R&&0!==R)return!1;G=G.data("timepicker-settings");var O=!1;return R=G.roundingFunction(R,G),N.find("li").each(function(da,
X){da=p(X);if("number"==typeof da.data("time"))return da.data("time")==R?(O=da,!1):void 0}),O}function L(G,N){N.find("li").removeClass("ui-timepicker-selected");var R=G.data("timepicker-settings"),O=G.data("timepicker-obj").time2int(V(G));if(null!==O&&(G=z(G,N,O))){var da=G.offset().top-N.offset().top;(da+G.outerHeight()>N.outerHeight()||0>da)&&N.scrollTop(N.scrollTop()+G.position().top-G.outerHeight());(R.forceRoundTime||G.data("time")===O)&&G.addClass("ui-timepicker-selected")}}function U(G,N){if("timepicker"!=
N){var R=p(this);if(""!==this.value){if(!R.is(":focus")||G&&"change"==G.type){var O=R.data("timepicker-settings"),da=R.data("timepicker-obj").time2int(this.value);if(null!==da){var X=!1;if(null!==O.minTime&&null!==O.maxTime&&(da<O.minTime||da>O.maxTime)&&(X=!0),p.each(O.disableTimeRanges,function(){if(da>=this[0]&&da<this[1])return X=!0,!1}),O.forceRoundTime){var la=O.roundingFunction(da,O);la!=da&&(da=la,N=null)}O=x(da,O);X?(Y(R,O,"error")||G&&"change"==G.type)&&R.trigger("timeRangeError"):Y(R,O,
N)}else R.trigger("timeFormatError")}}else Y(R,null,N)}}function V(G){return G.is("input")?G.val():G.data("ui-timepicker-value")}function Y(G,N,R){if(G.is("input")){null===N&&""==G.val()||G.val(N);var O=G.data("timepicker-settings"),da=G.data("timepicker-obj");O.useSelect&&"select"!=R&&G.data("timepicker-list")&&G.data("timepicker-list").val(C(da.time2int(N),O))}return G.data("ui-timepicker-value")!=N?(G.data("ui-timepicker-value",N),"select"==R?G.trigger("selectTime").trigger("changeTime").trigger("change",
"timepicker"):-1==["error","initial"].indexOf(R)&&G.trigger("changeTime"),!0):(-1==["error","initial"].indexOf(R)&&G.trigger("selectTime"),!1)}function T(G){switch(G.keyCode){case 13:case 9:break;default:G.preventDefault()}}function J(G){var N=p(this),R=N.data("timepicker-list");if(!R||!q(R)){if(40!=G.keyCode)return!0;M.show.call(N.get(0));R=N.data("timepicker-list");w(N)||N.focus()}switch(G.keyCode){case 13:return K(N)&&(U.call(N.get(0),{type:"change"}),M.hide.apply(this)),G.preventDefault(),!1;
case 38:var O=R.find(".ui-timepicker-selected");return O.length?O.is(":first-child")||(O.removeClass("ui-timepicker-selected"),O.prev().addClass("ui-timepicker-selected"),O.prev().position().top<O.outerHeight()&&R.scrollTop(R.scrollTop()-O.outerHeight())):(R.find("li").each(function(da,X){if(0<p(X).position().top)return O=p(X),!1}),O.addClass("ui-timepicker-selected")),!1;case 40:return 0===(O=R.find(".ui-timepicker-selected")).length?(R.find("li").each(function(da,X){if(0<p(X).position().top)return O=
p(X),!1}),O.addClass("ui-timepicker-selected")):O.is(":last-child")||(O.removeClass("ui-timepicker-selected"),O.next().addClass("ui-timepicker-selected"),O.next().position().top+2*O.outerHeight()>R.outerHeight()&&R.scrollTop(R.scrollTop()+O.outerHeight())),!1;case 27:R.find("li").removeClass("ui-timepicker-selected");M.hide();break;case 9:M.hide();break;default:return!0}}function P(G){var N=p(this),R=N.data("timepicker-list"),O=N.data("timepicker-settings");if(!R||!q(R)||O.disableTextInput)return!0;
if("paste"!==G.type&&"cut"!==G.type)switch(G.keyCode){case 96:case 97:case 98:case 99:case 100:case 101:case 102:case 103:case 104:case 105:case 48:case 49:case 50:case 51:case 52:case 53:case 54:case 55:case 56:case 57:case 65:case 77:case 80:case 186:case 8:case 46:O.typeaheadHighlight?L(N,R):R.hide()}else setTimeout(function(){O.typeaheadHighlight?L(N,R):R.hide()},0)}function K(G){var N=G.data("timepicker-settings"),R=null,O=G.data("timepicker-list").find(".ui-timepicker-selected");return!O.hasClass("ui-timepicker-disabled")&&
(O.length&&(R=O.data("time")),null!==R&&("string"!=typeof R&&(R=x(R,N)),Y(G,R,"select")),!0)}function E(G,N){G=Math.abs(G);var R,O;G=Math.round(G/60);var da=[];return 60>G?da=[G,H.mins]:(R=Math.floor(G/60),O=G%60,30==N&&30==O&&(R+=H.decimal+5),da.push(R),da.push(1==R?H.hr:H.hrs),30!=N&&O&&(da.push(O),da.push(H.mins))),da.join(" ")}function x(G,N){if("number"!=typeof G)return null;var R=parseInt(G%60),O=parseInt(G/60%60),da=parseInt(G/3600%24);da=new Date(1970,0,2,da,O,R,0);if(isNaN(da.getTime()))return null;
if("function"===p.type(N.timeFormat))return N.timeFormat(da);for(var X,la,qa="",va=0;va<N.timeFormat.length;va++)switch(la=N.timeFormat.charAt(va)){case "a":qa+=11<da.getHours()?H.pm:H.am;break;case "A":qa+=11<da.getHours()?H.PM:H.AM;break;case "g":qa+=0==(X=da.getHours()%12)?"12":X;break;case "G":X=da.getHours();86400===G&&(X=N.show2400?24:0);qa+=X;break;case "h":0!=(X=da.getHours()%12)&&10>X&&(X="0"+X);qa+=0===X?"12":X;break;case "H":X=da.getHours();86400===G&&(X=N.show2400?24:0);qa+=9<X?X:"0"+
X;break;case "i":qa+=9<(O=da.getMinutes())?O:"0"+O;break;case "s":qa+=9<(R=da.getSeconds())?R:"0"+R;break;case "\\":va++;qa+=N.timeFormat.charAt(va);break;default:qa+=la}return qa}var H={},M={init:function(G){return this.each(function(){var N=p(this),R=new k(this,G),O=R.settings;if(H=O.lang,N.data("timepicker-settings",O),N.data("timepicker-obj",R),N.addClass("ui-timepicker-input"),O.useSelect)u(N);else{if(N.prop("autocomplete","off"),O.showOn)for(var da in O.showOn)N.on(O.showOn[da]+".timepicker",
M.show);N.on("change.timepicker",U);N.on("keydown.timepicker",J);N.on("keyup.timepicker",P);O.disableTextInput&&N.on("keydown.timepicker",T);N.on("cut.timepicker",P);N.on("paste.timepicker",P);U.call(N.get(0),null,"initial")}})},show:function(G){var N=p(this),R=N.data("timepicker-settings"),O=N.data("timepicker-obj");if(G&&G.preventDefault(),R.useSelect)N.data("timepicker-list").focus();else if(w(N)&&N.blur(),G=N.data("timepicker-list"),!N.prop("readonly")&&(G&&0!==G.length&&"function"!=typeof R.durationTime||
(u(N),G=N.data("timepicker-list")),!q(G))){N.data("ui-timepicker-value",N.val());L(N,G);M.hide();"number"==typeof R.listWidth&&(console.log(R.listWidth),G.width(N.outerWidth()*R.listWidth));G.show();var da={};R.orientation.match(/r/)?da.left=N.offset().left+N.outerWidth()-G.outerWidth()+parseInt(G.css("marginLeft").replace("px",""),10):R.orientation.match(/l/)?da.left=N.offset().left+parseInt(G.css("marginLeft").replace("px",""),10):R.orientation.match(/c/)&&(da.left=N.offset().left+(N.outerWidth()-
G.outerWidth())/2+parseInt(G.css("marginLeft").replace("px",""),10));"t"==(R.orientation.match(/t/)?"t":R.orientation.match(/b/)?"b":N.offset().top+N.outerHeight(!0)+G.outerHeight()>p(window).height()+p(window).scrollTop()?"t":"b")?(G.addClass("ui-timepicker-positioned-top"),da.top=N.offset().top-G.outerHeight()+parseInt(G.css("marginTop").replace("px",""),10)):(G.removeClass("ui-timepicker-positioned-top"),da.top=N.offset().top+N.outerHeight()+parseInt(G.css("marginTop").replace("px",""),10));G.offset(da);
da=G.find(".ui-timepicker-selected");da.length||(O=O.time2int(V(N)),null!==O?da=z(N,G,O):R.scrollDefault&&(da=z(N,G,R.scrollDefault())));(da.length&&!da.hasClass("ui-timepicker-disabled")||(da=G.find("li:not(.ui-timepicker-disabled):first")),da&&da.length)?(O=G.scrollTop()+da.position().top-da.outerHeight(),G.scrollTop(O)):G.scrollTop(0);return R.stopScrollPropagation&&p(document).on("wheel.ui-timepicker",".ui-timepicker-wrapper",function(X){X.preventDefault();var la=p(this).scrollTop();p(this).scrollTop(la+
X.originalEvent.deltaY)}),p(document).on("touchstart.ui-timepicker mousedown.ui-timepicker",D),p(window).on("resize.ui-timepicker",D),R.closeOnWindowScroll&&p(document).on("scroll.ui-timepicker",D),N.trigger("showTimepicker"),this}},hide:function(G){G=p(this);var N=G.data("timepicker-settings");return N&&N.useSelect&&G.blur(),p(".ui-timepicker-wrapper").each(function(){var R=p(this);if(q(R)){var O=R.data("timepicker-input"),da=O.data("timepicker-settings");da&&da.selectOnBlur&&K(O);R.hide();O.trigger("hideTimepicker")}}),
this},option:function(G,N){return"string"==typeof G&&void 0===N?p(this).data("timepicker-settings")[G]:this.each(function(){var R=p(this),O=R.data("timepicker-settings"),da=R.data("timepicker-obj"),X=R.data("timepicker-list");"object"==a(G)?O=p.extend(O,G):"string"==typeof G&&(O[G]=N);O=da.parseSettings(O);R.data("timepicker-settings",O);U.call(R.get(0),{type:"change"},"initial");X&&(X.remove(),R.data("timepicker-list",!1));O.useSelect&&u(R)})},getSecondsFromMidnight:function(){return p(this).data("timepicker-obj").time2int(V(this))},
getTime:function(G){var N=p(this),R=N.data("timepicker-obj");N=V(N);if(!N)return null;R=R.time2int(N);if(null===R)return null;G||=new Date;G=new Date(G);return G.setHours(R/3600),G.setMinutes(R%3600/60),G.setSeconds(R%60),G.setMilliseconds(0),G},isVisible:function(){var G=this.data("timepicker-list");return!(!G||!q(G))},setTime:function(G){var N=this.data("timepicker-settings"),R=this.data("timepicker-obj");R=N.forceRoundTime?C(R.time2int(G),N):x(R.time2int(G),N);return G&&null===R&&N.noneOption&&
(R=G),Y(this,R,"initial"),U.call(this.get(0),{type:"change"},"initial"),this.data("timepicker-list")&&L(this,this.data("timepicker-list")),this},remove:function(){if(this.hasClass("ui-timepicker-input")){var G=this.data("timepicker-settings");return this.removeAttr("autocomplete","off"),this.removeClass("ui-timepicker-input"),this.removeData("timepicker-settings"),this.off(".timepicker"),this.data("timepicker-list")&&this.data("timepicker-list").remove(),G.useSelect&&this.show(),this.removeData("timepicker-list"),
this}}};p.fn.timepicker=function(G){return this.length?M[G]?this.hasClass("ui-timepicker-input")?M[G].apply(this,Array.prototype.slice.call(arguments,1)):this:"object"!==a(G)&&G?void p.error("Method "+G+" does not exist on jQuery.timepicker"):M.init.apply(this,arguments):this};p.fn.timepicker.defaults={appendTo:"body",className:null,closeOnWindowScroll:!1,disableTextInput:!1,disableTimeRanges:[],disableTouchKeyboard:!1,durationTime:null,forceRoundTime:!1,listWidth:null,maxTime:null,minTime:null,noneOption:!1,
orientation:"l",roundingFunction:function(G,N){if(null===G)return null;if("number"!=typeof N.step)return G;var R=G%(60*N.step);return(R-=(N.minTime||0)%(60*N.step))>=30*N.step?G+=60*N.step-R:G-=R,_moduloSeconds(G,N)},scrollDefault:null,selectOnBlur:!1,show2400:!1,showDuration:!1,showOn:["click","focus"],showOnFocus:!0,step:30,stopScrollPropagation:!1,timeFormat:"g:ia",typeaheadHighlight:!0,useSelect:!1,wrapHours:!0}};"object"===("undefined"==typeof exports?"undefined":a(exports))&&exports&&"object"===
("undefined"==typeof module?"undefined":a(module))&&module&&module.exports===exports?l(require("jquery")):"function"==typeof define&&define.amd?define(["jquery"],l):l(jQuery)}();/*


 Push v1.0.9
 =========
 A compact, cross-browser solution for the JavaScript Notifications API

 Credits
 -------
 Tsvetan Tsvetkov (ttsvetko)
 Alex Gibson (alexgibson)

 License
 -------

 The MIT License (MIT)

 Copyright (c) 2015-2017 Tyler Nickerson

 Permission is hereby granted, free of charge, to any person obtaining a copy
 of this software and associated documentation files (the "Software"), to deal
 in the Software without restriction, including without limitation the rights
 to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
 copies of the Software, and to permit persons to whom the Software is
 furnished to do so, subject to the following conditions:

 The above copyright notice and this permission notice shall be included in
 all copies or substantial portions of the Software.

 THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
 OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN
 THE SOFTWARE.
*/
!function(a,g){"object"==typeof exports&&"undefined"!=typeof module?module.exports=g():"function"==typeof define&&define.amd?define(g):(a=a||self).Push=g()}(this,function(){function a(Y){return(a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(T){return typeof T}:function(T){return T&&"function"==typeof Symbol&&T.constructor===Symbol&&T!==Symbol.prototype?"symbol":typeof T})(Y)}function g(Y,T){if(!(Y instanceof T))throw new TypeError("Cannot call a class as a function");}function d(Y,
T){for(var J=0;J<T.length;J++){var P=T[J];P.enumerable=P.enumerable||!1;P.configurable=!0;"value"in P&&(P.writable=!0);Object.defineProperty(Y,P.key,P)}}function b(Y,T,J){return T&&d(Y.prototype,T),J&&d(Y,J),Y}function c(Y,T){if("function"!=typeof T&&null!==T)throw new TypeError("Super expression must either be null or a function");Y.prototype=Object.create(T&&T.prototype,{constructor:{value:Y,writable:!0,configurable:!0}});T&&f(Y,T)}function e(Y){return(e=Object.setPrototypeOf?Object.getPrototypeOf:
function(T){return T.__proto__||Object.getPrototypeOf(T)})(Y)}function f(Y,T){return(f=Object.setPrototypeOf||function(J,P){return J.__proto__=P,J})(Y,T)}function h(Y,T){if(!T||"object"!=typeof T&&"function"!=typeof T){if(void 0===Y)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");}else Y=T;return Y}"".concat("PushError:"," Push.js is incompatible with browser.");var m="".concat("PushError:"," plugin class missing from plugin manifest (invalid plugin). Please check the documentation."),
k="".concat("PushError:"," title of notification must be a string"),l="".concat("PushError:"," permission request declined"),p="".concat("PushError:"," could not show a ServiceWorker notification due to the following reason: "),q="".concat("PushError:"," could not register the ServiceWorker due to the following reason: "),u="".concat("PushError:"," unable to create notification: unknown interface"),t=function(){function Y(T){g(this,Y);this._win=T;this.GRANTED="granted";this.DEFAULT="default";this.DENIED=
"denied";this._permissions=[this.GRANTED,this.DEFAULT,this.DENIED]}return b(Y,[{key:"request",value:function(T,J){return 0<arguments.length?this._requestWithCallback.apply(this,arguments):this._requestAsPromise()}},{key:"_requestWithCallback",value:function(T,J){var P,K=this,E=this.get(),x=!1,H=function(){var M=0<arguments.length&&void 0!==arguments[0]?arguments[0]:K._win.Notification.permission;x||(x=!0,void 0===M&&K._win.webkitNotifications&&(M=K._win.webkitNotifications.checkPermission()),M===
K.GRANTED||0===M?T&&T():J&&J())};E!==this.DEFAULT?H(E):this._win.webkitNotifications&&this._win.webkitNotifications.checkPermission?this._win.webkitNotifications.requestPermission(H):this._win.Notification&&this._win.Notification.requestPermission?(P=this._win.Notification.requestPermission(H))&&P.then&&P.then(H).catch(function(){J&&J()}):T&&T()}},{key:"_requestAsPromise",value:function(){var T=this,J=this.get(),P=J!==this.DEFAULT,K=this._win.Notification&&this._win.Notification.requestPermission,
E=this._win.webkitNotifications&&this._win.webkitNotifications.checkPermission;return new Promise(function(x,H){var M,G=!1,N=function(R){G||(G=!0,R!==T.GRANTED&&0!==R?H():x())};P?N(J):E?T._win.webkitNotifications.requestPermission(function(R){N(R)}):K?(M=T._win.Notification.requestPermission(N))&&M.then&&M.then(N).catch(H):x()})}},{key:"has",value:function(){return this.get()===this.GRANTED}},{key:"get",value:function(){return this._win.Notification&&this._win.Notification.permission?this._win.Notification.permission:
this._win.webkitNotifications&&this._win.webkitNotifications.checkPermission?this._permissions[this._win.webkitNotifications.checkPermission()]:navigator.mozNotification?this.GRANTED:this._win.external&&this._win.external.msIsSiteMode?this._win.external.msIsSiteMode()?this.GRANTED:this.DEFAULT:this.GRANTED}}]),Y}(),C=function(){function Y(){g(this,Y)}return b(Y,null,[{key:"isUndefined",value:function(T){return void 0===T}},{key:"isNull",value:function(T){return null===obj}},{key:"isString",value:function(T){return"string"==
typeof T}},{key:"isFunction",value:function(T){return T&&"[object Function]"==={}.toString.call(T)}},{key:"isObject",value:function(T){return"object"===a(T)}},{key:"objectMerge",value:function(T,J){for(var P in J)T.hasOwnProperty(P)&&this.isObject(T[P])&&this.isObject(J[P])?this.objectMerge(T[P],J[P]):T[P]=J[P]}}]),Y}(),D=function J(T){g(this,J);this._win=T},w=function(T){function J(){return g(this,J),h(this,e(J).apply(this,arguments))}return c(J,D),b(J,[{key:"isSupported",value:function(){return void 0!==
this._win.Notification}},{key:"create",value:function(P,K){return new this._win.Notification(P,{icon:C.isString(K.icon)||C.isUndefined(K.icon)||C.isNull(K.icon)?K.icon:K.icon.x32,body:K.body,tag:K.tag,requireInteraction:K.requireInteraction})}},{key:"close",value:function(P){P.close()}}]),J}(),z=function(T){function J(){return g(this,J),h(this,e(J).apply(this,arguments))}return c(J,D),b(J,[{key:"isSupported",value:function(){return void 0!==this._win.navigator&&void 0!==this._win.navigator.serviceWorker}},
{key:"getFunctionBody",value:function(P){P=P.toString().match(/function[^{]+{([\s\S]*)}$/);return null!=P&&1<P.length?P[1]:null}},{key:"create",value:function(P,K,E,x,H){var M=this;this._win.navigator.serviceWorker.register(x);this._win.navigator.serviceWorker.ready.then(function(G){var N={id:P,link:E.link,origin:document.location.href,onClick:C.isFunction(E.onClick)?M.getFunctionBody(E.onClick):"",onClose:C.isFunction(E.onClose)?M.getFunctionBody(E.onClose):""};void 0!==E.data&&null!==E.data&&(N=
Object.assign(N,E.data));G.showNotification(K,{icon:E.icon,body:E.body,vibrate:E.vibrate,tag:E.tag,data:N,requireInteraction:E.requireInteraction,silent:E.silent}).then(function(){G.getNotifications().then(function(R){G.active.postMessage("");H(R)})}).catch(function(R){throw Error(p+R.message);})}).catch(function(G){throw Error(q+G.message);})}},{key:"close",value:function(){}}]),J}(),L=function(T){function J(){return g(this,J),h(this,e(J).apply(this,arguments))}return c(J,D),b(J,[{key:"isSupported",
value:function(){return void 0!==this._win.navigator.mozNotification}},{key:"create",value:function(P,K){P=this._win.navigator.mozNotification.createNotification(P,K.body,K.icon);return P.show(),P}}]),J}(),U=function(T){function J(){return g(this,J),h(this,e(J).apply(this,arguments))}return c(J,D),b(J,[{key:"isSupported",value:function(){return void 0!==this._win.external&&void 0!==this._win.external.msIsSiteMode}},{key:"create",value:function(P,K){return this._win.external.msSiteModeClearIconOverlay(),
this._win.external.msSiteModeSetIconOverlay(C.isString(K.icon)||C.isUndefined(K.icon)?K.icon:K.icon.x16,P),this._win.external.msSiteModeActivate(),null}},{key:"close",value:function(){this._win.external.msSiteModeClearIconOverlay()}}]),J}(),V=function(T){function J(){return g(this,J),h(this,e(J).apply(this,arguments))}return c(J,D),b(J,[{key:"isSupported",value:function(){return void 0!==this._win.webkitNotifications}},{key:"create",value:function(P,K){P=this._win.webkitNotifications.createNotification(K.icon,
P,K.body);return P.show(),P}},{key:"close",value:function(P){P.cancel()}}]),J}();return new (function(){function T(J){g(this,T);this._currentId=0;this._notifications={};this._win=J;this.Permission=new t(J);this._agents={desktop:new w(J),chrome:new z(J),firefox:new L(J),ms:new U(J),webkit:new V(J)};this._configuration={serviceWorker:"/serviceWorker.min.js",fallback:function(P){}}}return b(T,[{key:"_closeNotification",value:function(J){var P=this._notifications[J];if(void 0!==P){if(J=this._removeNotification(J),
this._agents.desktop.isSupported())this._agents.desktop.close(P);else if(this._agents.webkit.isSupported())this._agents.webkit.close(P);else{if(!this._agents.ms.isSupported())throw Error(u);this._agents.ms.close()}return J}return!1}},{key:"_addNotification",value:function(J){var P=this._currentId;return this._notifications[P]=J,this._currentId++,P}},{key:"_removeNotification",value:function(J){var P=!1;return this._notifications.hasOwnProperty(J)&&(delete this._notifications[J],P=!0),P}},{key:"_prepareNotification",
value:function(J,P){var K,E=this;return K={get:function(){return E._notifications[J]},close:function(){E._closeNotification(J)}},P.timeout&&setTimeout(function(){K.close()},P.timeout),K}},{key:"_serviceWorkerCallback",value:function(J,P,K){var E=this;J=this._addNotification(J[J.length-1]);navigator&&navigator.serviceWorker&&(navigator.serviceWorker.addEventListener("message",function(x){x=JSON.parse(x.data);"close"===x.action&&Number.isInteger(x.id)&&E._removeNotification(x.id)}),K(this._prepareNotification(J,
P)));K(null)}},{key:"_createCallback",value:function(J,P,K){var E,x=this,H=null;if(P=P||{},E=function(R){x._removeNotification(R);C.isFunction(P.onClose)&&P.onClose.call(x,H)},this._agents.desktop.isSupported())try{H=this._agents.desktop.create(J,P)}catch(R){var M=this._currentId,G=this.config().serviceWorker;this._agents.chrome.isSupported()&&this._agents.chrome.create(M,J,P,G,function(O){return x._serviceWorkerCallback(O,P,K)})}else this._agents.webkit.isSupported()?H=this._agents.webkit.create(J,
P):this._agents.firefox.isSupported()?this._agents.firefox.create(J,P):this._agents.ms.isSupported()?H=this._agents.ms.create(J,P):(P.title=J,this.config().fallback(P));if(null!==H){var N=this._addNotification(H);J=this._prepareNotification(N,P);C.isFunction(H.addEventListener)&&(C.isFunction(P.onShow)&&H.addEventListener("show",P.onShow),C.isFunction(P.onError)&&H.addEventListener("error",P.onError),C.isFunction(P.onClick)&&H.addEventListener("click",P.onClick),H.addEventListener("close",function(){E(N)}),
H.addEventListener("cancel",function(){E(N)}));K(J)}K(null)}},{key:"create",value:function(J,P){var K,E=this;if(!C.isString(J))throw Error(k);return K=this.Permission.has()?function(x,H){try{E._createCallback(J,P,x)}catch(M){H(M)}}:function(x,H){E.Permission.request().then(function(){E._createCallback(J,P,x)}).catch(function(){H(l)})},new Promise(K)}},{key:"count",value:function(){var J,P=0;for(J in this._notifications)this._notifications.hasOwnProperty(J)&&P++;return P}},{key:"close",value:function(J){for(var P in this._notifications)if(this._notifications.hasOwnProperty(P)&&
this._notifications[P].tag===J)return this._closeNotification(P)}},{key:"clear",value:function(){var J,P=!0;for(J in this._notifications)this._notifications.hasOwnProperty(J)&&(P=P&&this._closeNotification(J));return P}},{key:"supported",value:function(){var J=!1,P;for(P in this._agents)this._agents.hasOwnProperty(P)&&(J=J||this._agents[P].isSupported());return J}},{key:"config",value:function(J){return(void 0!==J||null!==J&&C.isObject(J))&&C.objectMerge(this._configuration,J),this._configuration}},
{key:"extend",value:function(J){var P={}.hasOwnProperty;if(!P.call(J,"plugin"))throw Error(m);for(var K in P.call(J,"config")&&C.isObject(J.config)&&null!==J.config&&this.config(J.config),J=new (0,J.plugin)(this.config()))P.call(J,K)&&C.isFunction(J[K])&&(this[K]=J[K])}}]),T}())("undefined"!=typeof window?window:global)});(function(a,g,d,b){function c(k,l){this.element=k;this.settings=a.extend({},m,l);this._defaults=m;this._name="table2excel";this.init()}function e(k){return k.filename?k.filename:"table2excel"}function f(k){var l=/(\s+alt\s*=\s*"([^"]*)"|\s+alt\s*=\s*'([^']*)')/i;return k.replace(/<img[^>]*>/gi,function(p){p=l.exec(p);return null!==p&&2<=p.length?p[2]:""})}function h(k){var l=/(\s+value\s*=\s*"([^"]*)"|\s+value\s*=\s*'([^']*)')/i;return k.replace(/<input[^>]*>|<\/input>/gi,function(p){p=l.exec(p);
return null!==p&&2<=p.length?p[2]:""})}var m={exclude:".noExl",name:"Table2Excel",filename:"table2excel",fileext:".xls",exclude_img:!0,exclude_links:!0,exclude_inputs:!0,preserveColors:!1};c.prototype={init:function(){var k=this;k.template={head:'<html xmlns:o="urn:schemas-microsoft-com:office:office" xmlns:x="urn:schemas-microsoft-com:office:excel" xmlns="http://www.w3.org/TR/REC-html40"><meta http-equiv="content-type" content="application/vnd.ms-excel; charset=UTF-8"><head>\x3c!--[if gte mso 9]><xml><x:ExcelWorkbook><x:ExcelWorksheets>',
sheet:{head:"<x:ExcelWorksheet><x:Name>",tail:"</x:Name><x:WorksheetOptions><x:DisplayGridlines/></x:WorksheetOptions></x:ExcelWorksheet>"},mid:"</x:ExcelWorksheets></x:ExcelWorkbook></xml><![endif]--\x3e</head><body>",table:{head:"<table>",tail:"</table>"},foot:"</body></html>"};k.tableRows=[];var l="",p=null;a(k.element).each(function(q,u){var t="";a(u).find("tr").not(k.settings.exclude).each(function(C,D){l="";k.settings.preserveColors&&(p=getComputedStyle(D),l+=p&&p.backgroundColor?"background-color: "+
p.backgroundColor+";":"",l+=p&&p.color?"color: "+p.color+";":"");t+="<tr style='"+l+"'>";a(D).find("td,th").not(k.settings.exclude).each(function(w,z){l="";k.settings.preserveColors&&(p=getComputedStyle(z),l+=p&&p.backgroundColor?"background-color: "+p.backgroundColor+";":"",l+=p&&p.color?"color: "+p.color+";":"");w=a(this).attr("rowspan");var L=a(this).attr("colspan");0<a(z).find(k.settings.exclude).length?t+="<td> </td>":(t+="<td",0<w&&(t+=" rowspan='"+w+"' "),0<L&&(t+=" colspan='"+L+"' "),l&&(t+=
" style='"+l+"'"),t+=">"+a(z).html()+"</td>")});t+="</tr>"});k.settings.exclude_img&&(t=f(t));k.settings.exclude_links&&(t=t.replace(/<a[^>]*>|<\/a>/gi,""));k.settings.exclude_inputs&&(t=h(t));k.tableRows.push(t)});k.tableToExcel(k.tableRows,k.settings.name,k.settings.sheetName)},tableToExcel:function(k,l,p){var q=this,u="",t;q.format=function(C,D){return C.replace(/{(\w+)}/g,function(w,z){return D[z]})};p="undefined"===typeof p?"Sheet":p;q.ctx={worksheet:l||"Worksheet",table:k,sheetName:p};u=q.template.head;
a.isArray(k)&&Object.keys(k).forEach(function(C){u+=q.template.sheet.head+p+C+q.template.sheet.tail});u+=q.template.mid;a.isArray(k)&&Object.keys(k).forEach(function(C){u+=q.template.table.head+"{table"+C+"}"+q.template.table.tail});u+=q.template.foot;for(t in k)q.ctx["table"+t]=k[t];delete q.ctx.table;-1!==navigator.appVersion.indexOf("MSIE 10")||-1!==navigator.userAgent.indexOf("Trident")&&-1!==navigator.userAgent.indexOf("rv:11")?"undefined"!==typeof Blob?(u=q.format(u,q.ctx),u=[u],k=new Blob(u,
{type:"text/html"}),g.navigator.msSaveBlob(k,e(q.settings))):(txtArea1.document.open("text/html","replace"),txtArea1.document.write(q.format(u,q.ctx)),txtArea1.document.close(),txtArea1.focus(),sa=txtArea1.document.execCommand("SaveAs",!0,e(q.settings))):(k=new Blob([q.format(u,q.ctx)],{type:"application/vnd.ms-excel"}),g.URL=g.URL||g.webkitURL,k=g.URL.createObjectURL(k),l=d.createElement("a"),l.download=e(q.settings),l.href=k,d.body.appendChild(l),l.click(),d.body.removeChild(l));return!0}};a.fn.table2excel=
function(k){var l=this;l.each(function(){a.data(l,"plugin_table2excel")||a.data(l,"plugin_table2excel",new c(this,k))});return l}})(jQuery,window,document);var Constants={Masks:{TIME:"99:99"},Discount:{PERCENT:4,PERSON:5,NIGHT:6,VALUE:7,CHILD:8,BABY:9}};$("*").ajaxStart(function(a){OnlineLoading.showOverlay()});$("*").ajaxStop(function(){OnlineLoading.hide()});
var loading="<img src='/images/preloader_16x16.gif' />",loadingHorizontal="<img src='/images/loading.gif' />",template={servicePriceDiscount:'<input type="checkbox" id="sd_period_%count_%periodCount" data-id="%spId" class="input sdPeriod sdPeriod%periodCount" value="1" %checked/> <label for="sd_period_%count_%periodCount">\u041f\u0435\u0440\u0438\u043e\u0434 #%periodCountShow</label>'},SearchBlock=function(a,g,d,b,c,e){$(document).ready(function(){if(a.length){var f=$("<form method='POST'>"),h=$("<div class='inline'><div class='input-group'><input class='form-control' id='"+
g+"_search' placeholder='"+_("\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u0434\u043b\u044f \u043f\u043e\u0438\u0441\u043a\u0430")+"' value='"+(e?e:"")+"' style='outline: none;'><div class='input-group-btn'><button class='btn btn-default'><span class='fa fa-search'></span> "+_("\u041d\u0430\u0439\u0442\u0438")+"</button></div></div></div>"),m=$('<button type="button" class="btn btn-default button-ext-search inline" style="vertical-align: top;">'+_("\u0424\u0438\u043b\u044c\u0442\u0440\u044b")+" &rarr;</button>");
f.bind("submit",function(k){k.preventDefault();$("#pages_page").length&&$("#pages_page").val(1);d?d():list_view(g,"")});h.appendTo(f);b&&(m.appendTo(f),c&&m.click(function(k){c()}));f.prependTo(a)}})},ActiveBlock=function(a){$("#event-type-button button").click(function(g){$("#pages_page").val(1);$("#eventType").val($(this).val());$(this).parent().find("button.active").removeClass("active").end().end();$(this).toggleClass("active");list_view(a,"")})},OnlineLoadingClass=function(){this._parentContainer=
this._container=null;this._defaultMessage='\u041f\u043e\u0434\u043e\u0436\u0434\u0438\u0442\u0435 <img src="/images/preloader_64x64.gif" class="noborder" align="absmiddle"/>'};OnlineLoadingClass.prototype.setParentContainer=function(a){this._parentContainer=a};
OnlineLoadingClass.prototype._init=function(){if(!this._container){var a=this._parentContainer?this._parentContainer:$("BODY");this._container=$('<div><div class="loader-message"></div></div>').appendTo(a);this._container.find(".loader-message").css("top",$(window).height()/2+"px")}};
OnlineLoadingClass.prototype.showOverlay=function(a,g){this._init();a||(a=this._defaultMessage);g||={};g.classname||(g.classname="progressbar-overlay");g.title&&this._container.attr({title:g.title});this._container.css({height:jQuery(document).height()+"px"});this._container.attr({"class":g.classname});this._container.find(".loader-message").html(a);this._container.show()};
OnlineLoadingClass.prototype.showInContainer=function(a,g){g||(g=this._defaultMessage);this.destroy();this._container=a;this._container.remove("SCRIPT");a=this._container.parent();var d=$('<div class="progressbar-greyout-area" />');a.append(d);d.append(this._container);d.prepend('<div class="progressbar-greyout-shadow" />');d.prepend('<div class="progressbar-loader"><div class="loader-message">'+g+"</div></div>")};
OnlineLoadingClass.prototype.hide=function(){this._container&&(this._container.parent().find(".progressbar-greyout-shadow").length?(this._container.parent().replaceWith(this._container),this._container=null):this._container.hide())};OnlineLoadingClass.prototype.destroy=function(){this.hide();this._container&&(this._container.remove(),this._container=null)};var OnlineLoading=new OnlineLoadingClass;loading='<img src="/images/loading.gif" />';
var globalErrorMessage=_("\u041e\u0448\u0438\u0431\u043a\u0430 \u043f\u0440\u0438\u043b\u043e\u0436\u0435\u043d\u0438\u044f"),globalCloseTitle=_("\u0417\u0430\u043a\u0440\u044b\u0442\u044c"),globalOKTitle="",globalCancelTitle="";function getGlobalOKTitle(a=""){return globalOKTitle=a||_("OK")}function getGlobalCancelTitle(a=""){return globalCancelTitle=a||_("\u041e\u0442\u043c\u0435\u043d\u0430")}var time_global=new Date,time_offset=-time_global.getTimezoneOffset()/60,Utilits=function(){};
Utilits.htmlspecialchars=function(a){return $("<span>").text(a).html()};Utilits.nl2br=function(a,g){return(a+"").replace(/([^>\r\n]?)(\r\n|\n\r|\r|\n)/g,"$1"+(g||"undefined"===typeof g?"<br />":"<br>")+"$2")};
Utilits.convertDateToHumanReadable=function(a,g){if(a){var d=a.split(/[- :]/);if(1<d.length){if("0000"==d[0])return;a=0;d[3]&&0<d[3]&&(a=d[3]);var b=0;d[4]&&0<d[4]&&(b=d[4]);var c=0;d[5]&&0<d[5]&&(c=d[5]);d=new Date(d[0],d[1]-1,d[2],a,b,c);a=Utilits.normalizeDatetimeSubitem(d.getDate())+"."+Utilits.normalizeDatetimeSubitem(parseFloat(parseFloat(d.getMonth())+1))+"."+d.getFullYear();g&&(a+=" "+Utilits.normalizeDatetimeSubitem(d.getHours())+":"+Utilits.normalizeDatetimeSubitem(d.getMinutes()));return a}return a}};
Utilits.currentDate=function(){var a=new Date,g=a.getMonth()+1,d=a.getDate();return(10>d?"0":"")+d+"."+(10>g?"0":"")+g+"."+a.getFullYear()};Utilits.currentDateDatabase=function(){var a=new Date,g=a.getMonth()+1,d=a.getDate();return a.getFullYear()+"-"+(10>g?"0":"")+g+"-"+(10>d?"0":"")+d};
Utilits.convertDateToDatabase=function(a,g){if(a){var d=a.split(/[. :]/);if(1<d.length){if("0000"==d[0])return;a=0;d[3]&&0<d[3]&&(a=d[3]);var b=0;d[4]&&0<d[4]&&(b=d[4]);var c=0;d[5]&&0<d[5]&&(c=d[5]);d=new Date(d[2],d[1]-1,d[0],a,b,c);a=d.getFullYear()+"-"+Utilits.normalizeDatetimeSubitem(parseFloat(parseFloat(d.getMonth())+1))+"-"+Utilits.normalizeDatetimeSubitem(d.getDate());g&&(a+=" "+Utilits.normalizeDatetimeSubitem(d.getHours())+":"+Utilits.normalizeDatetimeSubitem(d.getMinutes()));return a}return a}};
Utilits.convertDateToDateObject=function(a){if(a){var g=a.split(/[. :]/);if(1<g.length){if("0000"==g[0])return;a=0;g[3]&&0<g[3]&&(a=g[3]);var d=0;g[4]&&0<g[4]&&(d=g[4]);var b=0;g[5]&&0<g[5]&&(b=g[5]);return new Date(g[2],g[1]-1,g[0],a,d,b)}return a}};Utilits.normalizeDatetimeSubitem=function(a){return 10>parseFloat(a)?"0"+a:a};Utilits.replace=function(a,g){return"string"!=typeof a?null:a.replace(RegExp("\\%(.+?)\\b","gm"),function(d,b){d=(g||{})[b];return"undefined"!=typeof d?null==d?"":d:b})};
Utilits.delegate=function(a,g){var d=$.makeArray(arguments).slice(2);return function(){var b=d.concat($.makeArray(arguments));return g.apply(a,b)}};Utilits.round=function(a,g){return Math.round(a*Math.pow(10,g))/Math.pow(10,g)};Utilits.classInheritance=function(a,g){var d=function(){};d.prototype=g.prototype;a.prototype=new d;a.prototype.constructor=a;a.superclass=g.prototype};
Utilits.generateString=function(){var a="";$.each({num:{chars:"0123456789",minCount:1},lower:{chars:"abcdefghijklmnopqrstuvwxyz",minCount:3},upper:{chars:"ABCDEFGHIJKLMNOPQRSTUVWXYZ",minCount:3}},function(b,c){b=c.minCount+Math.floor(2*Math.random());c=c.chars;for(var e=0;e<b;e++)a+=c.substr(Math.floor(Math.random()*c.length),1)});for(var g="";""!=a;){var d=Math.floor(Math.random()*a.length);g+=a.substr(d,1);a=a.substr(0,d)+a.substring(d+1)}return g};
Utilits.parseDate=function(a){a=a.split(".");return new Date(a[2],a[1]-1,a[0])};Utilits.datediff=function(a,g){return Math.round((g-a)/864E5)};Utilits.determineDateEnd=function(a,g){return""!=a&&void 0!=a&&(a=a.split("."),g=parseInt(g),1<a.length&&0<g)?(a=new Date(a[2],a[1]-1,a[0]),g=new Date(a.getFullYear(),a.getMonth(),a.getDate()+g),Utilits.normalizeDatetimeSubitem(g.getDate())+"."+Utilits.normalizeDatetimeSubitem(parseFloat(parseFloat(g.getMonth())+1))+"."+g.getFullYear()):""};
var $dialog=[],$dialogCounter=0;DialogClass=function(){this._dialog=null};DialogClass.prototype.setButtonClass=function(){this._dialog.closest(".ui-dialog").find(".ui-dialog-buttonpane BUTTON").addClass("ui-button btn btn-default")};DialogClass.prototype.setDefaultButton=function(a=""){""==a&&(a="btn-primary");this._dialog.closest(".ui-dialog").find(".ui-dialog-buttonpane BUTTON:first").addClass("ui-button btn "+a).removeClass("btn-default")};DialogClass.prototype.getDefaultButton=function(){return this._dialog.closest(".ui-dialog").find(".ui-dialog-buttonpane BUTTON:first")};
DialogClass.prototype._closeAndExecHandler=function(a){this._dialog.dialog("close");return a?a():null};DialogClass.prototype.getDialog=function(){return this._dialog};
DialogClass.prototype.show=function(a,g,d){this._dialog?this._dialog.dialog("destroy"):this._dialog=$('<div class="dialog"></div>').appendTo("BODY");g={title:g,autoOpen:!1,width:800,modal:!0,draggable:!0};d&&$.extend(g,d);this._dialog.dialog(g);this._dialog.html(a);this._dialog.closest(".ui-dialog").find(".ui-dialog-buttonpane BUTTON").addClass("button");this._dialog.closest(".ui-dialog").find(".ui-dialog-buttonpane BUTTON:first").addClass("button");this._dialog.dialog("open");$dialogCounter++;var b=
1E4;$(".ui-widget-overlay").each(function(c){$(this).css("z-index",b);b++});b=1E4;$(".ui-dialog").each(function(c){$(this).css("z-index",b);b++})};DialogClass.prototype.close=function(){this._closeAndExecHandler(null)};DialogClass.prototype.destroy=function(){this._dialog.dialog("destroy");this._dialog.close();this._dialog=null};
DialogClass.prototype.modalSimpleBox=function(a,g){this.show(this._prepareContent(a),g,{resizable:!1,modal:!0,width:800,closeOnEscape:!0,open:function(d,b){$(".ui-dialog-titlebar-close",$(this).parent()).hide()}})};DialogClass.prototype.modalMessageBox=function(a,g,d,b){var c={};c[getGlobalOKTitle()]=Utilits.delegate(this,this._closeAndExecHandler,d?d:null);d={resizable:!1,modal:!0,width:500,buttons:c};b&&$.extend(d,b);this.show(this._prepareContent(a),g,d);this.setButtonClass();this.setDefaultButton()};
DialogClass.prototype.modalConfirmBox=function(a,g,d,b,c){var e="";c&&c.buttonOk&&(""!=c.buttonOk.title&&(globalOKTitle=c.buttonOk.title),""!=c.buttonOk.className&&(e=c.buttonOk.className));c&&c.buttonCancel&&""!=c.buttonCancel.title&&(globalCancelTitle=c.buttonCancel.title);var f={};f[getGlobalOKTitle(globalOKTitle)]=Utilits.delegate(this,this._closeAndExecHandler,d?d:null);f[getGlobalCancelTitle(globalCancelTitle)]=Utilits.delegate(this,this._closeAndExecHandler,b?b:null);d={resizable:!1,modal:!0,
width:500,buttons:f,closeOnEscape:!1,position:"top+100"};c&&$.extend(d,c);this.show(this._prepareContent(a),g,d);this.setButtonClass();this.setDefaultButton(e)};DialogClass.prototype._prepareContent=function(a){var g=$('<p class="dialog-content"/>');"string"==typeof a?g.html(a):g.append(a);return g};
var DialogError=function(a,g=""){""!=g&&(globalOKTitle=g);g="<span class='attention' style='font-size: 14px;'>";g=(a?g+a:g+"\u0414\u043e\u0441\u0442\u0443\u043f \u043e\u0442\u0441\u0443\u0442\u0441\u0442\u0432\u0443\u0435\u0442")+"</span>";(new DialogClass).modalMessageBox(g,"\u0421\u043e\u043e\u0431\u0449\u0435\u043d\u0438\u0435 \u043e\u0431 \u043e\u0448\u0438\u0431\u043a\u0435")},Dialog=new DialogClass;function getLocaleStorage(a){try{var g;return store&&store.enabled?g=store.get(a):null}catch(d){"NS_ERROR_FILE_CORRUPTED"==d.name&&console.log("\u0418\u0437\u0432\u0438\u043d\u0438\u0442\u0435, \u043d\u043e localStorage \u0432 \u0432\u0430\u0448\u0435\u043c \u0431\u0440\u0430\u0443\u0437\u0435\u0440\u0435 \u043f\u043e\u0432\u0440\u0435\u0436\u0434\u0435\u043d. \u041e\u0447\u0438\u0441\u0442\u0438\u0442\u0435 \u0445\u0440\u0430\u043d\u0438\u043b\u0438\u0449\u0435 \u0442\u0443\u0442 Tools -> Clear Recent History -> Cookies. \u042d\u0442\u043e \u0443\u0434\u0430\u043b\u0438\u0442 \u043f\u043e\u0432\u0440\u0435\u0436\u0434\u0435\u043d\u043d\u043e\u0435 localeStorage \u043f\u043e \u0432\u0441\u0435\u043c \u0441\u0430\u0439\u0442\u0430\u043c.")}}
function setLocaleStorage(a,g){try{store&&store.enabled&&store.set(a,g)}catch(d){"NS_ERROR_FILE_CORRUPTED"==d.name&&console.log("\u0418\u0437\u0432\u0438\u043d\u0438\u0442\u0435, \u043d\u043e localStorage \u0432 \u0432\u0430\u0448\u0435\u043c \u0431\u0440\u0430\u0443\u0437\u0435\u0440\u0435 \u043f\u043e\u0432\u0440\u0435\u0436\u0434\u0435\u043d. \u041e\u0447\u0438\u0441\u0442\u0438\u0442\u0435 \u0445\u0440\u0430\u043d\u0438\u043b\u0438\u0449\u0435 \u0442\u0443\u0442 Tools -> Clear Recent History -> Cookies. \u042d\u0442\u043e \u0443\u0434\u0430\u043b\u0438\u0442 \u043f\u043e\u0432\u0440\u0435\u0436\u0434\u0435\u043d\u043d\u043e\u0435 localeStorage \u043f\u043e \u0432\u0441\u0435\u043c \u0441\u0430\u0439\u0442\u0430\u043c.")}}
function deleteLocaleStorage(a){try{store&&store.enabled&&store.remove(a)}catch(g){"NS_ERROR_FILE_CORRUPTED"==g.name&&console.log("\u0418\u0437\u0432\u0438\u043d\u0438\u0442\u0435, \u043d\u043e localStorage \u0432 \u0432\u0430\u0448\u0435\u043c \u0431\u0440\u0430\u0443\u0437\u0435\u0440\u0435 \u043f\u043e\u0432\u0440\u0435\u0436\u0434\u0435\u043d. \u041e\u0447\u0438\u0441\u0442\u0438\u0442\u0435 \u0445\u0440\u0430\u043d\u0438\u043b\u0438\u0449\u0435 \u0442\u0443\u0442 Tools -> Clear Recent History -> Cookies. \u042d\u0442\u043e \u0443\u0434\u0430\u043b\u0438\u0442 \u043f\u043e\u0432\u0440\u0435\u0436\u0434\u0435\u043d\u043d\u043e\u0435 localeStorage \u043f\u043e \u0432\u0441\u0435\u043c \u0441\u0430\u0439\u0442\u0430\u043c.")}}
function printArea(a,g=""){var d=window.open();a=a.clone();d.document.write("<html><head>"+$("head").html()+"</head><body style='background-color: #fff; padding: 20px;'>");d.document.write('<div style="text-align: left; padding-bottom: 20px;"><button type="button" class="btn btn-sm btn-default" onclick="$(this).remove(); window.print();"><span class="fa fa-print"></span> '+_("\u043f\u0435\u0447\u0430\u0442\u044c")+"</button></div>");""!=g&&d.document.write('<h2 class="alignLeft">'+g+"</h2><br/>");
d.document.write(a.find(".no-print").remove().end().html());d.document.write("</body></html>")}function exportTable(a,g=""){a.table2excel({exclude:".hidden, [data-tt-id='0']",name:"Worksheet1",filename:(""!=g?g:"export")+".xls"})}function nl2br(a,g){return(a+"").replace(/([^>\r\n]?)(\r\n|\n\r|\r|\n)/g,"$1"+(g||"undefined"===typeof g?"<br />":"<br>")+"$2")}
function redirectPost(a,g){var d=$('<form target="_blank"></form>');d.attr("method","post");d.attr("action",a);$.each(g,function(b,c){var e=$("<input></input>");e.attr("type","hidden");e.attr("name",b);e.attr("value",c);d.append(e)});$(d).appendTo("body").submit()}$(document).click(function(a){a=$(a.target);0==a.parents("header").length&&$(".cd-dropdown-trigger.dropdown-is-active").click();0==a.parents(".search").length&&$(".search-results-block").hide()});
$(document).on("click",".balance-update",function(a){a.preventDefault();var g=$(this);a="email";switch(g.attr("balance-type")){case "sms":a="sms";break;case "sms-doc-sign":a="sms_doc_sign";break;case "sms-mass":a="sms_mass";break;default:a="email"}Ajax.post("./ajax/ajax_"+a+"_balance_update.php",{},function(d){d.error?DialogError(d.error):(g.parent().find(".balance-value").text(d.balance),noty({type:"success",text:"\u0411\u0430\u043b\u0430\u043d\u0441 \u0443\u0441\u043f\u0435\u0448\u043d\u043e \u043e\u0431\u043d\u043e\u0432\u043b\u0435\u043d"}))},
"json")});$(document).on("change",".playback-rate",function(a){a.preventDefault();document.getElementById($(this).attr("data-id")).playbackRate=$(this).val()});
$(document).on("change","[data-request-autosave-field]",function(a){a=$("#request_id");a=0<a.length?parseInt(a.val()):0;var g=$(this).attr("data-request-autosave-field"),d=$(this).val();0<a&&Ajax.post("./ajax/ajax_request_main_field_save.php",{r_id:a,field:g,value:d},function(b){b.error?DialogError(b.error):b.success&&noty({type:"success",layout:"bottomRight",text:"\u041f\u043e\u043b\u0435 \u0432 \u0437\u0430\u044f\u0432\u043a\u0435 \u0441\u043e\u0445\u0440\u0430\u043d\u0435\u043d\u043e"})},"json")});
var $match=function(a,g){var d={"\u0439":"q","\u0446":"w","\u0443":"e","\u043a":"r","\u0435":"t","\u043d":"y","\u0433":"u","\u0448":"i","\u0449":"o","\u0437":"p","\u0445":"[","\u044a":"]","\u0444":"a","\u044b":"s","\u0432":"d","\u0430":"f","\u043f":"g","\u0440":"h","\u043e":"j","\u043b":"k","\u0434":"l","\u0436":";","\u044d":"'","\u0451":"\\","\u044f":"z","\u0447":"x","\u0441":"c","\u043c":"v","\u0438":"b","\u0442":"n","\u044c":"m","\u0431":",","\u044e":".",q:"\u0439",w:"\u0446",e:"\u0443",r:"\u043a",
t:"\u0435",y:"\u043d",u:"\u0433",i:"\u0448",o:"\u0449",p:"\u0437","[":"\u0445","]":"\u044a",a:"\u0444",s:"\u044b",d:"\u0432",f:"\u0430",g:"\u043f",h:"\u0440",j:"\u043e",k:"\u043b",l:"\u0434",";":"\u0436","'":"\u044d","\\":"\u0451",z:"\u044f",x:"\u0447",c:"\u0441",v:"\u043c",b:"\u0438",n:"\u0442",m:"\u044c",",":"\u0431",".":"\u044e"};if(""===$.trim(a))return g;if("undefined"===typeof g)return null;g=g.toLowerCase();a=a.toLowerCase();for(var b="",c=0;c<g.length;c++)b+=d[g[c]]?d[g[c]]:"";g=g+" "+b;return-1<
g.indexOf(a)?(a=$.extend({},g,!0),a.text+=" (matched)",a):null};
(function(a){a.extend(!0,a.fn.bPopup.defaults,{positionStyle:"absolute",follow:[!1,!1],closeIcon:!1,escClose:!1,modalClose:!1,onOpen:function(){a(this).addClass("bPopup");var g=_("\u0414\u043e\u0431\u0430\u0432\u043b\u0435\u043d\u0438\u0435 \u043d\u043e\u0432\u043e\u0439 \u0437\u0430\u043f\u0438\u0441\u0438");a(this).attr("data-title")&&(g=a(this).attr("data-title"));var d=500;a(this).attr("data-width")&&(d=a(this).attr("data-width"));a(this).css("width",d+"px");a(this).prepend('<div class="bPopup-title">'+
g+"</div>")}});a.extend(!0,a.fn.bPopup(),{destroy:function(){this.close();this.remove()}});a.fn.select2.defaults.set("theme","bootstrap");a.fn.select2.defaults.set("width","100%");a.fn.select2.defaults.set("language","ru");a.extend(!0,a.fn.select2.defaults,{matcher:$match})})(jQuery);
$.noty.defaults={layout:"top",theme:"relax",type:"information",text:"",template:'<div class="noty_message"><span class="noty_text"></span><div class="noty_close_all" style="display: none; color: #000; position: absolute; right: 20px; top: 1px;"><a href="#n" style="color: #000;" onclick="$.noty.closeAll();">\u0437\u0430\u043a\u0440\u044b\u0442\u044c \u0432\u0441\u0435</a> /</div><div class="noty_close"></div></div>',dismissQueue:!0,maxVisible:5,animation:{open:{height:"toggle"},close:{height:"toggle"},
easing:"swing",speed:500},timeout:3E3,modal:!1,closeWith:["click"],buttons:!1,callback:{onShow:function(){},afterShow:function(){},onClose:function(){},afterClose:function(){}}};
AutocompleteBlock=function(a,g,d){a.length&&d.source&&(this.container=a,this.idContainer=g,this.options={source:d.source,minLength:3,delay:500,dataType:"json",select:function(b,c){g&&g.val(c.item.value);c.item.value=c.item.label;d.customCallback&&d.customCallback(b,c.item,c)},change:function(b,c){g&&(c.item?"":g.val(0))}},$.extend(this.options,d),this.container.autocomplete(this.options))};
AutocompleteField=function(a,g,d){a.length&&d.source&&(this.container=a,this.idContainer=g,this.options={source:d.source,minLength:3,delay:500,dataType:"json",select:function(b,c){g&&(g.val(c.item.value),g.attr("data-title",c.item.label),g.trigger("change"));c.item.value="";d.customCallback&&d.customCallback(b,c.item,c)}},$.extend(this.options,d),this.container.autocomplete(this.options))};
ServiceRequestBlock=function(a,g,d,b,c){a.length&&(this.container=a,this.mainCurrencyId=CURRENCY_MAIN_ID,this.mainCurrencyName=CURRENCY_MAIN_NAME,this.currencyRates=this.commission=this.koef=this.koefNetto=this.companyCurrencyPercent=this.currencyNameNetto=this.currencyName=this.currencyIdNetto=this.currencyId=null,this.serviceList=this.container.find(".serviceRequestServiceList"),this.servicePriceItems={},this.contentContainer=g,this.options={id:this.container.attr("data-id"),catalogPackageId:this.container.attr("data-catalog-package-id"),
catalogId:this.container.attr("data-catalog-sr-id"),dateBegin:null,dateEnd:null,serviceId:this.serviceList.val(),requestId:null,countryId:null,cityId:null,hotelId:null,hotelTypeId:null,hotelPlaceId:null,nutritionId:null,course:null,mainCurrencyId:CURRENCY_MAIN_ID,mainCurrencyName:CURRENCY_MAIN_NAME,currencyId:null,currencyIdNetto:null,currencyName:null,currencyNameNetto:null,companyCurrencyPercent:null,koefNetto:null,koef:null,currencyRates:null,extBlocks:1,isCatalog:0,commission:0},$.extend(this.options,
c),this.setCurrencyId(this.options.currencyId),this.setCurrencyIdNetto(this.options.currencyIdNetto),this.setCurrencyName(this.options.currencyName),this.setCurrencyNameNetto(this.options.currencyNameNetto),this.setMainCurrencyId(this.options.mainCurrencyId),this.setMainCurrencyName(this.options.mainCurrencyName),this.setCurrencyRates(this.options.currencyRates),this.setCompanyCurrencyPercent(this.options.companyCurrencyPercent),this.setKoefNetto(this.options.koefNetto),this.setKoef(this.options.koef),
this.setCommission(this.options.commission),this.updateDateBegin(this,this.options.dateBegin),this.updateDateEnd(this,this.options.dateEnd),this.updateCurrency(this,this.getCurrencyId()),this.updateCurrencyNetto(this,this.getCurrencyIdNetto()),this.updateCurrencyName(this,this.getCurrencyName()?this.getCurrencyName():this.getMainCurrencyName()),this.updateCurrencyNameNetto(this,this.getCurrencyNameNetto()?this.getCurrencyNameNetto():this.getMainCurrencyName()),this.ServicePriceObject=new ServicePriceList(this,
d.container,d.template,d.items,d.options),this.ServiceDiscountObject=new ServiceDiscountList(this,b.container,b.template,b.items),this.init())};
ServiceRequestBlock.prototype.init=function(){this.serviceList.bind("change",Utilits.delegate(this,function(){this.serviceUpdate()}));this.serviceList.trigger("change");this.container.bind("priceItemAdd",Utilits.delegate(this,function(a,g){this.addDiscountPriceItem(g)})).bind("priceItemDelete",Utilits.delegate(this,function(a,g){this.removeDiscountPriceItem(g)})).bind("priceItemUpdate",Utilits.delegate(this,function(a,g){this.updateDiscountPriceItem(g)}));this.updateResultPriceNotifyBlock();this.bindFields()};
ServiceRequestBlock.prototype.subitemComplete=function(){};ServiceRequestBlock.prototype.bindFields=function(){this.bindNightsActions();this.bindTouristActions();this.bindPriceActions();this.bindPriceNettoActions();this.bindPriceSumActions();this.bindCurrencyActions();this.bindCurrencyNettoActions();this.bindCommissionActions()};ServiceRequestBlock.prototype.getPriceItemLast=function(){var a=!1;$.each(this.servicePriceItems,function(g,d){a=d.hash});return a?this.servicePriceItems[a]:null};
ServiceRequestBlock.prototype.bindTouristActions=function(){this.container.find(".serviceRequestTouristCount").bind("change",Utilits.delegate(this,this.updateResultPriceAll)).end()};ServiceRequestBlock.prototype.bindNightsActions=function(){this.container.find(".nights").bind("change",Utilits.delegate(this,this.updateResultPriceAll)).end()};ServiceRequestBlock.prototype.bindPriceSumActions=function(){this.container.find(".serviceRequestPriceSum").bind("keyup",Utilits.delegate(this,this.updateResultPriceNotifyBlock)).end()};
ServiceRequestBlock.prototype.bindPriceActions=function(){this.container.find(".price").bind("keyup",Utilits.delegate(this,this.updateResultPrice)).end()};ServiceRequestBlock.prototype.bindPriceNettoActions=function(){this.container.find(".priceNetto").bind("keyup",Utilits.delegate(this,function(){this.updateResultPrice("netto")})).end()};
ServiceRequestBlock.prototype.bindCommissionActions=function(){this.container.find(".package_commission").bind("keyup",Utilits.delegate(this,function(){this.updateResultPriceNettoByCommission();this.updateResultPriceNotifyBlock()})).end()};
ServiceRequestBlock.prototype.bindCurrencyActions=function(){var a=this;this.container.find(".currency").bind("change",function(){a.koef=null;a.updateCurrency(a,this.value);a.options.extBlocks?(a.koefNetto=null,a.updateCurrencyNetto(a,this.value)):a.container.find(".serviceRequestPriceResult").val(Utilits.round(a.container.find(".serviceRequestPrice").val()*a.container.find("#sr_koef").val(),6)).end();-1<this.selectedIndex&&(a.updateCurrencyName(a,this.options[this.selectedIndex].text),a.options.extBlocks&&
a.updateCurrencyNameNetto(a,this.options[this.selectedIndex].text))}).end()};
ServiceRequestBlock.prototype.bindCurrencyNettoActions=function(){var a=this;this.container.find(".currency_netto").bind("change",function(){a.koefNetto=null;a.updateCurrencyNetto(a,this.value);a.options.extBlocks?(a.koef=null,a.updateCurrency(a,this.value)):a.container.find(".serviceRequestPriceNettoResult").val(Utilits.round(a.container.find(".serviceRequestPriceNetto").val()*a.container.find("#sr_koef_netto").val(),6)).end();-1<this.selectedIndex&&(a.updateCurrencyNameNetto(a,this.options[this.selectedIndex].text),
a.options.extBlocks&&a.updateCurrencyName(a,this.options[this.selectedIndex].text))}).end()};ServiceRequestBlock.prototype.setCurrencyId=function(a){this.currencyId=a};ServiceRequestBlock.prototype.setCurrencyIdNetto=function(a){this.currencyIdNetto=a};ServiceRequestBlock.prototype.setCurrencyName=function(a){this.currencyName=a};ServiceRequestBlock.prototype.setCurrencyNameNetto=function(a){this.currencyNameNetto=a};
ServiceRequestBlock.prototype.setMainCurrencyName=function(a){this.mainCurrencyName=a};ServiceRequestBlock.prototype.setMainCurrencyId=function(a){this.mainCurrencyId=a};ServiceRequestBlock.prototype.setCurrencyRates=function(a){this.currencyRates=a};ServiceRequestBlock.prototype.setCompanyCurrencyPercent=function(a){this.companyCurrencyPercent=a};ServiceRequestBlock.prototype.setKoefNetto=function(a){this.koefNetto=a};ServiceRequestBlock.prototype.setKoef=function(a){this.koef=a};
ServiceRequestBlock.prototype.setCommission=function(a){this.commission=a};ServiceRequestBlock.prototype.getCurrencyId=function(){return this.currencyId};ServiceRequestBlock.prototype.getCurrencyIdNetto=function(){return this.currencyIdNetto};ServiceRequestBlock.prototype.getCurrencyName=function(){return this.currencyName};ServiceRequestBlock.prototype.getCurrencyNameNetto=function(){return this.currencyNameNetto};ServiceRequestBlock.prototype.getMainCurrencyName=function(){return this.mainCurrencyName};
ServiceRequestBlock.prototype.getMainCurrencyId=function(){return this.mainCurrencyId};ServiceRequestBlock.prototype.getCurrencyRate=function(a){return this.currencyRates[a]?this.currencyRates[a]:1};ServiceRequestBlock.prototype.getCompanyCurrencyPercent=function(){return this.companyCurrencyPercent};ServiceRequestBlock.prototype.getKoefNetto=function(){return this.koefNetto};ServiceRequestBlock.prototype.getKoef=function(){return this.koef};ServiceRequestBlock.prototype.getCommission=function(){return this.commission};
ServiceRequestBlock.prototype.updateDateBegin=function(a,g){a.container.find(".sr_dat_begin").val(g).end()};ServiceRequestBlock.prototype.updateDateEnd=function(a,g){a.container.find(".sr_dat_end").val(g).end()};ServiceRequestBlock.prototype.updateCurrency=function(a,g){a.setCurrencyId(g);a.setCurrencyKoef(a,g);a.container.find(".currency").val(g).end()};ServiceRequestBlock.prototype.updateCurrencyNetto=function(a,g){a.setCurrencyIdNetto(g);a.setCurrencyKoefNetto(a,g);a.container.find(".currency_netto").val(g).end()};
ServiceRequestBlock.prototype.updateCurrencyName=function(a,g){a.container.find(".currencyName").html(g).end()};ServiceRequestBlock.prototype.updateCurrencyNameNetto=function(a,g){a.container.find(".currencyNameNetto").html(g).end()};
ServiceRequestBlock.prototype.setCurrencyKoefNetto=function(a,g){var d=0<this.koefNetto?this.koefNetto:this.getCurrencyRate(g);a.container.find(".serviceRequestCurrencyKoefNetto").val(d).end().find(".serviceRequestCurrencyKoefNettoBlock, .currencySettingsBlock.koefNettoSettingsBlock").toggle(g!=this.getMainCurrencyId()&&0!=g).end()};
ServiceRequestBlock.prototype.setCurrencyKoef=function(a,g){var d=0<this.koef?this.koef:this.getCurrencyRate(g);a.container.find(".serviceRequestCurrencyKoef").val(d).end().find(".serviceRequestCurrencyKoefBlock, .currencySettingsBlock.koefSettingsBlock").toggle(g!=this.getMainCurrencyId()&&0!=g).end()};
ServiceRequestBlock.prototype.updateResultPrice=function(a){if(this.options.extBlocks){var g="";"netto"==a&&(g="Netto");var d=parseInt(this.container.find("#sr_tr_count").val()),b=parseInt(this.container.find("#sr_tr_child_count").val()),c=parseInt(this.container.find("#sr_tr_baby_count").val()),e=parseFloat(this.container.find(".serviceRequestPriceExtTouristCount").val()),f=parseFloat(this.container.find(".serviceRequestPriceExtChildTouristCount").val()),h=parseFloat(this.container.find(".serviceRequestPriceExtBabyTouristCount").val()),
m=parseFloat(this.container.find(".serviceRequestPriceExt"+g).val()),k=parseFloat(this.container.find(".serviceRequestPriceExtChild"+g).val()),l=parseFloat(this.container.find(".serviceRequestPriceExtBaby"+g).val()),p=[],q=[],u=[],t=[],C=[],D=[],w=[],z=0,L=[],U=[],V=[],Y=0,T=0,J=0,P=0,K=0,E=0,x=0;this.container.find(".servicePriceItem").length&&$.each(this.container.find(".servicePriceItem"),function(G,N){N=$(this);var R=parseInt(N.find(".spNightsCount").val())||1;P=parseFloat(N.find(".spPrice"+g).val());
K=parseFloat(N.find(".spPriceChild"+g).val());E=parseFloat(N.find(".spPriceBaby"+g).val());L[G]=P;U[G]=K;V[G]=E;p[G]=P*R;q[G]=K*R;u[G]=E*R;z+=R;Y+=p[G];T+=q[G];J+=u[G]});0<d&&$.each(p,function(G,N){t[G]=parseFloat(N*d)});0<b&&$.each(q,function(G,N){C[G]=parseFloat(N*b)});0<c&&$.each(u,function(G,N){D[G]=parseFloat(N*c)});$.each(p,function(G,N){w[G]=0;t.length&&0<t[G]&&(w[G]+=parseFloat(t[G]));C.length&&0<C[G]&&(w[G]+=parseFloat(C[G]));D.length&&0<D[G]&&(w[G]+=parseFloat(D[G]))});var H=!1;-1<parseFloat(Y)&&
(H+=parseFloat(Y*d));-1<parseFloat(T)&&(H+=parseFloat(T*b));-1<parseFloat(J)&&(H+=parseFloat(J*c));!1!==H&&this.container.find(".serviceRequestPrice"+g+"WithoutDiscount").val(Math.round(100*H)/100);x=parseFloat(z);$(".serviceDiscountItem").length&&$(".serviceDiscountItem").each(function(G,N){G=$(this);G.attr("data-id");if(0<G.find(".sdAmount").val()&&(N=".sdPrice","netto"==a&&(N=".sdPriceNetto"),G.find(N).is(":checked"))){var R=parseFloat(G.find(".sdAmount").val());switch(parseFloat(G.find(".sdCurrency").val())){case Constants.Discount.PERCENT:G.find(".sdPeriodList li[default=1] input").is(":checked")?
(H-=H*R/100,$.each(G.find(".sdPeriodList li[default=0]"),function(O,da){w[O]-=w[O]*R/100})):$.each(G.find(".sdPeriodList li[default=0] input"),function(O,da){$(da).is(":checked")&&(H-=w[O]*R/100,w[O]-=w[O]*R/100)});break;case Constants.Discount.PERSON:d-=R;G.find(".sdPeriodList li[default=1] input").is(":checked")?(0<Y&&(H-=parseFloat(Y*R)),$.each(G.find(".sdPeriodList li[default=0]"),function(O,da){w[O]-=p[O]})):$.each(G.find(".sdPeriodList li[default=0] input"),function(O,da){$(da).is(":checked")&&
(H-=p[O],w[O]-=p[O])});break;case Constants.Discount.NIGHT:G.find(".sdPeriodList li[default=1] input").is(":checked")?$.each(G.find(".sdPeriodList li[default=0]"),function(O,da){da=parseFloat(L[O]*d*R)+parseFloat(U[O]*b*R)+parseFloat(V[O]*c*R);w[O]-=da;H-=parseFloat(da)}):$.each(G.find(".sdPeriodList li[default=0] input"),function(O,da){$(da).is(":checked")&&(da=parseFloat(L[O]*d*R)+parseFloat(U[O]*b*R)+parseFloat(V[O]*c*R),w[O]-=da,H-=parseFloat(da))});x=R;break;case Constants.Discount.VALUE:G.find(".sdPeriodList li[default=1] input").is(":checked")?
(H-=R,$.each(G.find(".sdPeriodList li[default=0]"),function(O,da){w[O]-=R})):$.each(G.find(".sdPeriodList li[default=0] input"),function(O,da){$(da).is(":checked")&&(H-=R,w[O]-=R)});break;case Constants.Discount.CHILD:b-=R;G.find(".sdPeriodList li[default=1] input").is(":checked")?(0<T&&(H-=T*R),$.each(G.find(".sdPeriodList li[default=0]"),function(O,da){w[O]-=q[O]})):$.each(G.find(".sdPeriodList li[default=0] input"),function(O,da){$(da).is(":checked")&&(H-=q[O],w[O]-=q[O])});break;case Constants.Discount.BABY:c-=
R,G.find(".sdPeriodList li[default=1] input").is(":checked")?(0<J&&(H-=J*R),$.each(G.find(".sdPeriodList li[default=0]"),function(O,da){w[O]-=u[O]})):$.each(G.find(".sdPeriodList li[default=0] input"),function(O,da){$(da).is(":checked")&&(H-=u[O],w[O]-=u[O])})}}});var M=!1;0<m&&(isNaN(parseFloat(m*e))||(M+=parseFloat(m*e)),isNaN(parseFloat(k*f))||(M+=parseFloat(k*f)),isNaN(parseFloat(l*h))||(M+=parseFloat(l*h)),0<M&&(!1===H&&(H=0),H=parseFloat(H)+parseFloat(M)*parseFloat(x)));!1!==H&&(e=Math.round(100*
H)/100,0<H&&(this.container.find(".serviceRequestPrice"+g).val(e),this.container.find(".serviceRequestPriceSumBlock .sum"+g).html(e)))}};ServiceRequestBlock.prototype.updateResultPriceAll=function(){this.updateResultPrice();this.updateResultPrice("netto")};
ServiceRequestBlock.prototype.updateResultPriceNettoByCommission=function(){if(0<this.container.find(".package_commission").length){var a=parseFloat(this.container.find(".package_commission").val());0<a&&this.container.find(".serviceRequestPriceNetto").val(this.container.find(".serviceRequestPrice").val()-this.container.find(".serviceRequestPrice").val()*parseFloat(a)/100)}};
ServiceRequestBlock.prototype.updateResultPriceNotifyBlock=function(){this.updateResultPriceNettoByCommission();this.container.find(".serviceRequestPriceSumBlock .sum").html(this.container.find(".serviceRequestPrice").val());this.container.find(".serviceRequestPriceSumBlock .sumNetto").html(this.container.find(".serviceRequestPriceNetto").val());if(0!=parseInt(this.container.find(".serviceRequestPrice").val())){var a=100*(1-this.container.find(".serviceRequestPriceNetto").val()/this.container.find(".serviceRequestPrice").val());
var g="";0<this.container.find(".serviceRequestPriceWithoutDiscount").length&&0!=this.container.find(".serviceRequestPriceWithoutDiscount").val()&&(g=" <span title='\u041a\u043e\u043c\u0438\u0441\u0441\u0438\u044f \u0431\u0435\u0437 \u0441\u043a\u0438\u0434\u043a\u0438'>("+Utilits.round(100*(1-this.container.find(".serviceRequestPriceNetto").val()/this.container.find(".serviceRequestPriceWithoutDiscount").val()),2)+"%)</span>");this.container.find(".serviceRequestPriceSumBlock .sumCommission").html(Utilits.round(a,
2)+"%"+g)}};ServiceRequestBlock.prototype.serviceUpdate=function(){this.options.serviceId=this.getServiceType();this.loadData()};
ServiceRequestBlock.prototype.loadData=function(){this.contentContainer.html(loadingHorizontal);if(6!=this.getServiceDefaultId())$(".submenu-sr-avia, .submenuContent_sr-avia").addClass("hidden");else{$(".submenu-sr-avia, .submenuContent_sr-avia").removeClass("hidden");var a=_("\u0410\u0432\u0438\u0430\u043f\u0435\u0440\u0435\u043b\u0435\u0442\u044b");"\u0410\u0432\u0438\u0430\u0431\u0438\u043b\u0435\u0442"!=this.getServiceName()&&(a=_("\u041c\u0430\u0440\u0448\u0440\u0443\u0442\u044b"));$(".submenu-sr-avia a").text(a)}Ajax.ajax({type:"POST",
url:"./ajax/ajax_"+(this.options.isCatalog?"catalog_":"")+"service_type_data.php",data:{sr_id:this.options.id,catalog_package_id:this.options.catalogPackageId,catalog_sr_id:this.options.catalogId,s_id:this.options.serviceId,r_id:this.options.requestId,dat_begin:this.options.dateBegin,dat_end:this.options.dateEnd,cnt_id:this.options.countryId,city_id:this.options.cityId,h_id:this.options.hotelId,ht_id:this.options.hotelTypeId,hp_id:this.options.hotelPlaceId,n_id:this.options.nutritionId,course:this.options.course},
success:Utilits.delegate(this,function(g){this.contentContainer.html(g);extendedFieldsInit()}),error:Utilits.delegate(this,function(){this.contentContainer.html(_("\u041e\u0448\u0438\u0431\u043a\u0430 \u043f\u043e\u043b\u0443\u0447\u0435\u043d\u0438\u044f \u0434\u0430\u043d\u043d\u044b\u0445"))})})};ServiceRequestBlock.prototype.getServiceType=function(){return this.serviceList.val()};ServiceRequestBlock.prototype.getServiceTypePeriodically=function(){return this.serviceList.find("option:selected").attr("data-periodically")};
ServiceRequestBlock.prototype.getServiceDefaultId=function(){return this.serviceList.find("option:selected").attr("data-default-id")};ServiceRequestBlock.prototype.getServiceName=function(){return this.serviceList.find("option:selected").text()};ServiceRequestBlock.prototype.buildDiscountPriceItemDefault=function(){var a={id:-1,hash:Utilits.generateString(),default:1};return this.buildDiscountPriceItem(a)};
ServiceRequestBlock.prototype.buildDiscountPriceItem=function(a){var g=$("<li>");g.attr("default",a.default).attr("data-id",a.id).attr("data-hash",a.hash);var d=$("<div>"),b=$("<label>");if(a.default)var c=_("\u0412\u0441\u0435 \u043f\u0435\u0440\u0438\u043e\u0434\u044b");else c=Utilits.convertDateToHumanReadable(a.dateBegin),1==this.getServiceTypePeriodically()&&(c+=" - "+Utilits.convertDateToHumanReadable(a.dateEnd));b.text(c);c=$("<input type='checkbox'>");1==a.checked&&c.attr("checked","checked");
d.append(c);d.append(" ");d.append(b);g.append(d);var e=this;g.bind("click",function(){var f=$(this),h=f.find("input");1==f.attr("default")?h.is(":checked")?f.siblings("[default=0]").find("input").removeAttr("checked"):h.attr("checked","checked"):h.is(":checked")?f.parent().find("[default=0]").length==f.parent().find("[default=0]").find("input:checked").length?(f.parent().find("[default=0]").find("input").removeAttr("checked"),f.siblings("[default=1]").find("input").attr("checked","checked")):f.siblings("[default=1]").find("input").removeAttr("checked"):
f.parent().find("[default=0]").length==f.parent().find("[default=0]").find("input:not(:checked)").length&&f.siblings("[default=1]").find("input").attr("checked","checked");e.updateResultPriceAll()});return g};ServiceRequestBlock.prototype.addDiscountPriceItem=function(a){a=this.buildDiscountPriceItem(a);this.container.find(".sdPeriodList").append(a)};
ServiceRequestBlock.prototype.updateDiscountPriceItem=function(a){var g=Utilits.convertDateToHumanReadable(a.dateBegin);1==this.getServiceTypePeriodically()&&(g+=" - "+Utilits.convertDateToHumanReadable(a.dateEnd));this.container.find(".sdPeriodList").find("[data-hash="+a.hash+"] label").text(g)};ServiceRequestBlock.prototype.removeDiscountPriceItem=function(a){this.container.find(".sdPeriodList").find("[data-hash="+a.hash+"]").remove()};
ServiceSubitemBlock=function(a,g,d,b,c){this.parent=a;this.container=g;this.template=d;this.items=b;this.itemsContainer=null;this.init()};ServiceSubitemBlock.prototype.init=function(){this.appendItemList();this.appendAddButton()};ServiceSubitemBlock.prototype.appendItemList=function(){this.itemsContainer=$("<ul>");this.itemsContainer.addClass("none").appendTo(this.container);this.items&&this.items.length?$.each(this.items,Utilits.delegate(this,function(a,g){this.appendItem(g)})):this.appendItem()};
ServiceSubitemBlock.prototype.appendAddButton=function(){var a=$("<button>");a.attr("type","button").addClass("btn btn-success btn-sm").html('<span class="glyphicon glyphicon-plus"></span> '+_("\u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c \u043d\u043e\u0432\u044b\u0439 \u0431\u043b\u043e\u043a")).bind("click",Utilits.delegate(this,function(){this.appendItem()}));a.appendTo(this.container)};ServiceSubitemBlock.prototype.appendItem=function(a){};
ServiceDiscountList=function(a,g,d,b){ServiceDiscountList.superclass.constructor.call(this,a,g,d,b)};Utilits.classInheritance(ServiceDiscountList,ServiceSubitemBlock);
ServiceDiscountList.prototype.appendItem=function(a){var g=a?a.sd_id:0,d=a?a.sd_discount:0,b=a?a.sd_c_id:0,c=a?a.sd_reason:"",e=a?a.sd_reason_en:"",f=a?a.sd_netto:1,h=a?a.sd_brutto:1,m=a?a.sdPeriodList:[],k=$("<li>");k.html(this.template);k.find(".sdDeleteButton").bind("click",Utilits.delegate(this,function(){0<g?Ajax.ajax({type:"POST",url:"./ajax/ajax_service_discount_delete.php",data:{sd_id:g},success:Utilits.delegate(this,function(q){k.remove();this.parent.updateResultPriceAll()})}):(k.remove(),
this.parent.updateResultPriceAll())})).end().find(".sdAmount").bind("keyup",Utilits.delegate(this,function(){this.parent.updateResultPriceAll()})).val(d).end().find(".sdCurrency").bind("change",Utilits.delegate(this,function(){this.parent.updateResultPriceAll()})).end().find(".sdCurrency option[value="+b+"]").attr("selected","selected").end().find(".sdReason").val(c).end().find(".sdReasonEn").val(e).end().find(".sdPrice").bind("click",Utilits.delegate(this,function(){this.parent.updateResultPrice()})).end().on("click",
".sdPriceNetto",Utilits.delegate(this,function(){this.parent.updateResultPrice("netto");console.log("click")})).addClass("serviceDiscountItem").attr("data-id",g);var l=k.find(".sdPeriodList");d=this.parent.buildDiscountPriceItemDefault();l.append(d);var p=!1;$.each(this.parent.servicePriceItems,Utilits.delegate(this,function(q,u){u.checked=!1;0<m.length?$.each(m,function(t,C){C.sp_id==u.id&&(p=u.checked=!0)}):u.checked=!1;q=this.parent.buildDiscountPriceItem(u);l.append(q)}));a&&p||l.find("[default=1] input").attr("checked",
"checked");parseInt(h)&&k.find(".sdPrice").attr("checked","checked");parseInt(f)&&k.find(".sdPriceNetto").attr("checked","checked");k.appendTo(this.itemsContainer);this.parent.bindFields()};ServicePriceList=function(a,g,d,b,c){this.options={periodically:!0};$.extend(this.options,c);a.serviceList.bind("change",Utilits.delegate(this,function(){this.updateFields(g)}));ServicePriceList.superclass.constructor.call(this,a,g,d,b)};Utilits.classInheritance(ServicePriceList,ServiceSubitemBlock);
ServicePriceList.prototype.appendItem=function(a){var g=this.parent.getPriceItemLast();g||={dateEnd:this.parent.options.dateBegin,timeEnd:this.parent.options.timeBegin,timeEnd2:this.parent.options.timeEnd,nights:this.parent.options.nights||1};var d=Utilits.generateString(),b={id:a?a.sp_id:0,hash:d,default:0,dateBegin:a?a.sp_dat_begin:g.dateEnd,timeBegin:a?a.sp_time_begin:g.timeEnd?g.timeEnd:"14:00",dateEnd:a?a.sp_dat_end:Utilits.determineDateEnd(Utilits.convertDateToHumanReadable(g.dateEnd),0<parseInt(g.nights)?
g.nights:1),timeEnd:a?a.sp_time_end:g.timeEnd2?g.timeEnd2:"12:00",nights:a?a.sp_nights:0<parseInt(g.nights)?g.nights:1,priceNetto:a?a.sp_price_one_netto:0,price:a?a.sp_price_one:0,priceChildNetto:a?a.sp_price_one_netto_child:0,priceChild:a?a.sp_price_one_child:0,priceBabyNetto:a?a.sp_price_one_netto_baby:0,priceBaby:a?a.sp_price_one_baby:0,currencyId:this.parent.getCurrencyId(),checked:!1},c=$("<li>");c.html(this.template);c.find(".spDateBegin").val(Utilits.convertDateToHumanReadable(b.dateBegin)).bind("change",
Utilits.delegate(this,function(){b.dateBegin=c.find(".spDateBegin").val();this.parent.container.trigger("priceItemUpdate",b)})).end().find(".spTimeBegin").val(b.timeBegin).mask(Constants.Masks.TIME).end().find(".spDeleteButton").bind("click",Utilits.delegate(this,function(){0<b.id?Ajax.ajax({type:"POST",url:"./ajax/ajax_service_price_delete.php",data:{sp_id:b.id},success:Utilits.delegate(this,function(e){c.remove();delete this.parent.servicePriceItems[b.hash];this.parent.updateResultPriceAll();this.parent.container.trigger("priceItemDelete",
b)})}):(c.remove(),delete this.parent.servicePriceItems[b.hash],this.parent.updateResultPriceAll(),this.parent.container.trigger("priceItemDelete",b))})).end().find(".spPrice").val(b.price).end().find(".spPriceNetto").val(b.priceNetto).end().find(".spPriceChild").val(b.priceChild).end().find(".spPriceChildNetto").val(b.priceChildNetto).end().find(".spPriceBaby").val(b.priceBaby).end().find(".spPriceBabyNetto").val(b.priceBabyNetto).end().find(".spPriceCurrency option[value="+b.currencyId+"]").attr("selected",
"selected").end().find(".spNightsCountList").bind("change",Utilits.delegate(this,function(){var e=c.find(".spNightsCountList").val();c.find(".spNightsCount").val(e);b.nights=e;this.parent.container.trigger("priceItemUpdate",b)})).val(b.nights).end().find(".spNightsCount").val(b.nights).end().find(".spDateEnd").val(Utilits.convertDateToHumanReadable(b.dateEnd)).bind("change",Utilits.delegate(this,function(){b.dateEnd=c.find(".spDateEnd").val();this.parent.container.trigger("priceItemUpdate",b)})).end().find(".spTimeEnd").val(b.timeEnd).mask(Constants.Masks.TIME).end().addClass("servicePriceItem").attr("data-id",
b.id).attr("data-hash",b.hash);new DatePeriodBlock(c.find(".spDateBegin"),c.find(".spDateEnd"),c.find(".spNightsCountList"));this.updateFields(c);c.appendTo(this.itemsContainer);this.parent.bindFields();this.parent.container.trigger("priceItemAdd",b);this.parent.servicePriceItems[d]=b;datepicker_init()};
ServicePriceList.prototype.updateFields=function(a){1==this.parent.getServiceTypePeriodically()?a.find(".spPeriodElement").show().end().find(".spOneNightElement").hide().end().find(".spDateEnd").removeAttr("inactive").end().find(".spNightsCountList").trigger("change").end():a.find(".spPeriodElement").hide().end().find(".spOneNightElement").show().end().find(".spDateEnd").attr("inactive","true").val("").end().find(".spTimeEnd").val("").end().find(".spNightsCountList").val(1).trigger("change").end();
this.parent.updateResultPriceAll()};DatePeriodBlock=function(a,g,d){if(!a)return!1;this.begin=a;this.end=g;this.count=!1;d&&1==d.length&&(this.count=d);this.begin.off("change");this.begin.on("change",Utilits.delegate(this,this.updateDateFields));if(this.count)this.count.on("change",Utilits.delegate(this,this.updateDateFields))};
DatePeriodBlock.prototype.updateDateFields=function(){var a=this.begin.val().split(".");1<a.length&&!this.end.attr("inactive")&&(a=new Date(a[2],a[1]-1,a[0]),a=new Date(a.getFullYear(),a.getMonth(),a.getDate()+parseInt($(this.count).val())),this.end.val(Utilits.normalizeDatetimeSubitem(a.getDate())+"."+Utilits.normalizeDatetimeSubitem(a.getMonth()+1)+"."+a.getFullYear()))};
var ServiceSupplierAutocomplete=function(a){AutocompleteBlock(a.find(".ssList"),a.find(".ssListId"),{source:"/ajax/ajax_supplier_json.php",response:function(g,d){return $.map(d.content,function(b){b.label=b.ss_name.replace(/&quot;/g,'"');b.value=b.ss_id})},customCallback:function(g,d){}})},PaydocAutocomplete=function(a,g){var d=g;d||=1;AutocompleteBlock(a.find(".pdSelect"),a.find(".pdId"),{source:function(b,c){$.getJSON("/ajax/ajax_paydoc_json.php",{term:b.term,pd_pdt_id:d},c)},response:function(b,
c){return $.map(c.content,function(e){var f=e.pd_number+" "+_("\u043e\u0442")+" "+e.pd_date;e.r_id_system&&(f+=" / "+_("\u0437\u0430\u044f\u0432\u043a\u0430 #")+e.r_id_system);e.label=f;e.value=e.pd_id})},customCallback:function(b,c){}})},Ajax=function(){return{ajax:function(a){var g=a.error;a.beforeSend=function(){OnlineLoading.showOverlay()};a.complete=function(){OnlineLoading.hide()};a.error=function(d){if(401==d.status){if("function"==typeof a.authError)return a.authError.apply(this,arguments);
location.reload(!0)}else if("function"==typeof g)return g.apply(this,arguments)};return $.ajax(a)},post:function(a,g,d,b){return this.ajax({type:"POST",url:a,data:g,success:d,dataType:b})},get:function(a,g,d,b){return this.ajax({url:a,data:g,success:d,dataType:b})},getJSON:function(a,g,d){return this.ajax({url:a,dataType:"json",data:g,success:d})}}}();function initTabs(){$(".idTabs th:first").addClass("tabSelected").addClass("borderBottomNone").removeClass("border")}
function fixedBlockInit(){$(".fixed").liFixar({relative:"top",fixStart:0})}
function multiselectInit(a="[multiselect-element]:not(.multiselect-element-completed)"){$(a).multiselect({numberDisplayed:50,maxHeight:305,enableFiltering:!0,enableCaseInsensitiveFiltering:!0,filterPlaceholder:"\u041d\u0430\u0439\u0442\u0438...",enableClickableOptGroups:!0,includeSelectAllOption:!0,inheritClass:!0,buttonWidth:"100%",selectAllText:_("\u0432\u044b\u0431\u0440\u0430\u0442\u044c \u0432\u0441\u0435"),allSelectedText:_("\u0432\u044b\u0431\u0440\u0430\u043d\u044b \u0432\u0441\u0435"),nonSelectedText:"",
nSelectedText:" "+_("\u0432\u044b\u0431\u0440\u0430\u043d\u043e"),buttonTextAlignment:"left",showSelectedValues:!0,showSelectedValuesEmpty:!1,selectedValuesTitleText:_("\u0412\u044b\u0431\u0440\u0430\u043d\u044b"),selectedValuesNoValuesText:_("\u041f\u0443\u0441\u0442\u043e"),onInitialized:function(g,d){$(g).addClass("multiselect-element-completed")}})}function multiselectDestroy(a="[multiselect-element]"){$(a).multiselect("destroy").removeClass("multiselect-element-completed")}
function serviceRequestCurrencyFixInit(){$(".currency_fix_toggle").length&&$(".currency_fix_toggle").click(function(){var a=$(this);OnlineLoading.showOverlay();Ajax.post("./ajax/ajax_currency_fix.php",{sr_id:$(this).parents(".serviceItem").attr("data-id"),value:1==$(this).attr("data-value")?0:1},function(g){a.attr("data-value",1==a.attr("data-value")?0:1);a.find(".sr-koef-fixed").toggle();OnlineLoading.hide()})});$(".currency_fix_netto_toggle").length&&$(".currency_fix_netto_toggle").click(function(){var a=
$(this);OnlineLoading.showOverlay();Ajax.post("./ajax/ajax_currency_fix.php",{sr_id:$(this).parents(".serviceItem").attr("data-id"),value:1==$(this).attr("data-value")?0:1,netto:1},function(g){a.attr("data-value",1==a.attr("data-value")?0:1);a.find(".sr-koef-netto-fixed").toggle();OnlineLoading.hide()})})}
function extendedFieldWithLinkInit(a,g=".r_ext_field",d=".r_ext_field_go"){a.on("keyup",function(){var b=$(this).find(g),c=$(this).find(d);""==$.trim(b.val())?c.css("visibility","hidden"):(b=$.trim(b.val()),0>b.indexOf("http")&&0>b.indexOf("HTTP")&&(b="http://"+b),c.attr("href",b).css("visibility","visible"))}).trigger("keyup")}
$(document).ready(function(){if(0<$(".submenuContainer").length){var a=function(){var b=0;$(".submenuContainer li").each(function(){var c=$(this).outerWidth();b+=c});return b+80},g=function(){return $(".submenuListContainer").length?$(".submenuListContainer").position().left:0},d=function(){$(".submenuContainer .wrapper").outerWidth()<a()?$(".submenuContainer .scroller-right").show():$(".submenuContainer .scroller-right").hide();-1>g()?$(".submenuContainer .scroller-left").show():($(".submenuContainer .item").animate({left:"-="+
g()+"px"},"slow"),$(".submenuContainer .scroller-left").hide())};d();$(window).on("resize",function(b){d()});$(".submenuContainer .scroller-right").click(function(){$(".submenuContainer .scroller-left").fadeIn("slow");$(".submenuContainer .scroller-right").fadeOut("slow");$(".submenuListContainer").animate({left:"+="+($(".submenuContainer .wrapper").outerWidth()-a()-g()-40)+"px"},"slow",function(){})});$(".submenuContainer .scroller-left").click(function(){$(".submenuContainer .scroller-right").fadeIn("slow");
$(".submenuContainer .scroller-left").fadeOut("slow");$(".submenuListContainer").animate({left:"-="+g()+"px"},"slow",function(){})})}create_new_element_block_init();datepicker_init();datepickerPeriodListInit();checkboxInit();clientSettingsInit();tooltipInit();fixedBlockInit();multiselectInit();serviceRequestCurrencyFixInit();radioButtonInit();bindExtendedMode();bindAjaxifyForm();bindBootstrapEditable();columnsWithSort();numberFormat();numberPositiveFormat();currencyFormat();datepickerClearButton();
popoverInit();momentInit();timepickerInit();customSelect2Init();mailBodyInit();"undefined"!=typeof telephonyInit&&telephonyInit();$(document).delegate('*[data-toggle="lightbox"]',"click",function(b){b.preventDefault();$(this).ekkoLightbox()});$(document).on("click",".collapseHead",function(){var b=$(this);$(this).siblings(".collapseContent").toggle("fast");b.toggleClass("open")});$(document).ajaxComplete(function(b,c,e){checkboxInit();clientSettingsInit();tooltipInit();datepicker_init();datepickerPeriodListInit();
fixedBlockInit();multiselectInit();radioButtonInit();bindExtendedMode();bindAjaxifyForm();bindBootstrapEditable();columnsWithSort();numberFormat();numberPositiveFormat();currencyFormat();datepickerClearButton();popoverInit();momentInit();timepickerInit();customSelect2Init();"undefined"!=typeof telephonyInit&&telephonyInit();"undefined"!=typeof requiredFieldsAttach&&requiredFieldsAttach()});$(".idTabs th a").click(function(){$(".idTabs th").removeClass("tabSelected").removeClass("borderBottomNone").addClass("border");
$(this).parent().addClass("tabSelected").addClass("borderBottomNone").removeClass("border")});$(".jqmWindow").jqm({modal:!0}).ajaxComplete(function(b){datepicker_init();$(".datepicker").blur()});$("#request_file").change(function(){$("#request_file_loading").html(loadingHorizontal);$(this).upload("/ajax/ajax_request_file.php",{request_id:$("#request_id").val(),request_file_note:$("#request_file_note").val(),request_file_private:0<$("#request_file_private:checked").length?1:0},function(b){b.success?
($("#request_file").val(""),b.file&&$.each(b.file,function(c,e){$("#request_file_list").prepend("<li class='list-group-item'><p class='file-item' id='rf_"+e.rf_id+"'><a href='#n' class='btn btn-xs btn-danger link' style='float: right;' onclick='javascript: request_file_delete("+e.rf_id+", "+e.rf_r_id+"); return false;'><span class='fa fa-times'></span></a> <noindex><a href='"+STATIC_URL_FILES+b.client_id+"/"+e.rf_name+"' target='_blank'>"+e.rf_filename+"</a> "+(1==parseInt(e.rf_is_private)?" &nbsp;&nbsp;<span class='fa fa-lock'></span>":
"")+"</noindex><span class='request_file_note'>"+e.rf_file_note+"</span></p></li>")}),$("#request_file_loading").html("")):alert(b.error)},"json")});$("#templateReplaceArrayLink").click(function(){$("#templateReplaceArray").toggle()})});function ctrlEnterKeyBind(a,g){$(a).keyup(function(d){10!=d.keyCode&&13!=d.keyCode||!d.ctrlKey||$(g).click()})}function enterKeyBind(a,g){$(a).keyup(function(d){13==d.keyCode&&$(g).click()})}
function enterKeyBindObject(a,g){a.keyup(function(d){13==d.keyCode&&g.click()})}
function hotelSearchBlock(a){var g=new Bloodhound({datumTokenizer:Bloodhound.tokenizers.obj.whitespace("name"),queryTokenizer:Bloodhound.tokenizers.whitespace,remote:{url:"/ajax/ajax_hotel_json.php?ext=1",replace:function(d,b){$(".tt-hint").css("background-image",'url("/images/preloader_16x16.gif")');$(".tt-hint").css("background-repeat","no-repeat");$(".tt-hint").css("background-position","center right");return d+"&query="+encodeURIComponent(b)},filter:function(d){$(".tt-hint").css("background-image",
"");return d}},limit:50});g.initialize();a.typeahead({minLength:3,highlight:!0,hint:!0},{name:"hotels",minLength:3,displayKey:"name",source:g.ttAdapter(),templates:{empty:['<div class="empty-message">',_("\u0417\u0430\u043f\u0438\u0441\u0438 \u043d\u0435 \u043d\u0430\u0439\u0434\u0435\u043d\u044b"),"</div>"].join("\n"),suggestion:function(d){return["<div><strong>"+d.h_name+"</strong></div>",'<div style="color: #888; font-size: 10px;">',d.cnt_name+" / "+d.city_name,"</div>"].join("")}}}).on("typeahead:selected",
function(d,b){Ajax.post("./ajax/ajax_sr_select.php",{type:"country",selectname:"sr_cnt",choose:b.h_cnt_id},function(c){$("#sr_cnt_div").html(c);Ajax.post("./ajax/ajax_sr_select.php",{type:"city",cnt_id:b.h_cnt_id,selectname:"sr_city",choose:b.h_city_id},function(e){$("#sr_city_div").html(e);Ajax.post("./ajax/ajax_sr_select.php",{type:"hotel",cnt_id:b.h_cnt_id,city_id:b.h_city_id,selectname:"sr_h",choose:b.h_id},function(f){$("#sr_h_div").html(f).find("select").trigger("change")})})})}).on("typeahead:opened",
function(d,b){$(this).parent().css("width",$(this).outerWidth())})}function quickReservationButton(a){Ajax.post("/quiquo_quick_reservation_button.php",{r_id:a},function(g){$(".qq-container").html(g)})}
function datepicker_init(){$(".datepicker-group").datepicker({orientation:"bottom auto",format:"dd.mm.yyyy",language:LANG,autoclose:!0,todayBtn:"linked",clearBtn:!0,keyboardNavigation:!1,todayHighlight:!0});$(".datepicker-group-range.input-daterange").datepicker({orientation:"bottom auto",format:"dd.mm.yyyy",language:LANG,autoclose:!0,todayBtn:"linked",clearBtn:!0,keyboardNavigation:!1,todayHighlight:!0})}
function set_datetime_value(a,g){g=Utilits.convertDateToDateObject(g);a.parent().datepicker("update",g)}
function user_kind_update(a,g,d=0){if($("#u_tk_id").length){var b=$(a).val();g=$(g).val();a=!1;b?(b=b.split("."),b=new Date(new Date-new Date(b[2]+"-"+b[1]+"-"+b[0]))/1E3/60/60/24/365,2>=b?($("#u_tk_id").val(5),a=!0):12>=b&&($("#u_tk_id").val(4),a=!0)):$("#u_tk_id").val(0);!g||0!=a&&1!=d||(0<g&&(0==$("#u_tk_id").val()||1==d)?1==g?$("#u_tk_id").val(1):2==g&&$("#u_tk_id").val(2):$("#u_tk_id").val(0))}}function checkboxInit(){}
function datepickerPeriodListInit(){$(".datepickerPeriodValues").off("click").on("click",function(a,g){var d=$(this).attr("data-id");a=$(this).parents(".datepickerPeriodValuesContainer").attr("data-period-id1");g=$(this).parents(".datepickerPeriodValuesContainer").attr("data-period-id2");if($(a)&&$(g)){var b=new Date;switch(d){case "today":d=new Date(b.getFullYear(),b.getMonth(),b.getDate());b=new Date(b.getFullYear(),b.getMonth(),b.getDate());break;case "yesterday":d=new Date(b.getFullYear(),b.getMonth(),
b.getDate()-1);b=new Date(b.getFullYear(),b.getMonth(),b.getDate()-1);break;case "currentMonth":d=new Date(b.getFullYear(),b.getMonth(),1);b=new Date(b.getFullYear(),b.getMonth()+1,0);break;case "lastMonth":var c=0===b.getMonth()?b.getFullYear()-1:b.getFullYear(),e=(b.getMonth()+11)%12;d=new Date(c,e,1);b=new Date(c,e+1,0);break;case "currentYear":d=new Date(b.getFullYear(),0,1);b=new Date(b.getFullYear(),11,31);break;case "lastYear":d=new Date(b.getFullYear()-1,0,1);b=new Date(b.getFullYear()-1,
11,31);break;default:return}var f=("0"+d.getDate()).slice(-2);e=("0"+(d.getMonth()+1)).slice(-2);c=d.getFullYear();$(a).datepicker("update",Utilits.convertDateToHumanReadable(c+"-"+e+"-"+f));$(a).parent().datepicker("update",Utilits.convertDateToHumanReadable(c+"-"+e+"-"+f));f=("0"+b.getDate()).slice(-2);e=("0"+(b.getMonth()+1)).slice(-2);c=b.getFullYear();$(g).datepicker("update",Utilits.convertDateToHumanReadable(c+"-"+e+"-"+f));$(g).parent().datepicker("update",Utilits.convertDateToHumanReadable(c+
"-"+e+"-"+f))}})}
function clientSettingsInit(){$(document).on("change",".client-settings",function(a){a.preventDefault();a=[];0<$(this).attr("data-setting-id")&&"checkbox"==$(this).attr("type")&&(item={id:$(this).attr("data-setting-id"),value:$(this).is(":checked")?1:0},a.push(item));0<$(this).attr("data-setting-id")&&$(this).is("select")&&(item={id:$(this).attr("data-setting-id"),value:$(this).val()},a.push(item));Ajax.post("/ajax/ajax_request_settings_save.php",{items:a},function(g){g&&g.success?noty({type:"success",
text:_("\u041d\u0430\u0441\u0442\u0440\u043e\u0439\u043a\u0438 \u0443\u0441\u043f\u0435\u0448\u043d\u043e \u0441\u043e\u0445\u0440\u0430\u043d\u0435\u043d\u044b")}):noty({type:"error",text:g.error})},"json")})}
function mailBodyInit(){$(document).on("click",".mail-modal",function(a){a.preventDefault();a=$(this).data("id");Ajax.post("./ajax/ajax_email_get.php",{id:a},function(g){Dialog.modalMessageBox('<div style="padding: 20px;"><textarea rows="20">'+g.mail_text+"</textarea></div>",_("\u0422\u0435\u043a\u0441\u0442 \u043f\u0438\u0441\u044c\u043c\u0430"),null,{width:900,closeOnEscape:!0});$editableDefaults.scrollableContainer=".ui-dialog";$(".ui-dialog textarea").froalaEditor($editableDefaults)},"json")})}
function userFileInit(){$("#user_file").change(function(){$("#user_file_loading").html(loadingHorizontal);$(this).upload("/ajax/ajax_user_file.php",{u_id:$("#u_id").val()},function(a){if(a.success){$("#user_file").val("");if(a.file&&($("#user_file_list").prepend("<p style='font-size: 12px; margin-left: 15px;' class='user_file' data-id='"+a.file.f_id+"' id='f_"+a.file.f_id+"'><noindex><a href='"+STATIC_URL_FILES+"user/"+a.client_id+"/"+a.file.f_name+"' target='_blank' class='dashed'>"+a.file.f_filename+
"</a></noindex> <span class='glyphicon glyphicon-remove attention link user-file-delete-link' data-f-id='"+a.file.f_id+"' data-u-id='"+a.file.f_u_id+"'></span></p>"),0<$(".client_file_ids").length&&0==a.file.f_u_id)){var g=$(".client_file_ids").val();var d=[];""!=g&&(d=g.split(","));d.push(a.file.f_id);g=d.join(",");$(".client_file_ids").val(g)}$("#user_file_loading").html("")}else alert(_("\u041e\u0448\u0438\u0431\u043a\u0430 \u043f\u0440\u0438 \u0437\u0430\u0433\u0440\u0443\u0437\u043a\u0435 \u0444\u0430\u0439\u043b\u0430"))},
"json")});$(document).on("click",".user-file-delete-link",function(){var a=$(this);Dialog.modalConfirmBox(_("\u0412\u044b \u0434\u0435\u0439\u0441\u0442\u0432\u0438\u0442\u0435\u043b\u044c\u043d\u043e \u0445\u043e\u0442\u0438\u0442\u0435 \u0443\u0434\u0430\u043b\u0438\u0442\u044c \u0444\u0430\u0439\u043b?"),_("\u0423\u0434\u0430\u043b\u0435\u043d\u0438\u0435 \u0444\u0430\u0439\u043b\u0430"),function(){user_file_delete(a.attr("data-f-id"),a.attr("data-u-id"))})})}
function hotelFileInit(){$("#hotel_file").change(function(){$("#hotel_file_loading").html(loadingHorizontal);$(this).upload("/ajax/ajax_hotel_file.php",{h_id:$("#h_id").val()},function(a){a.success?($("#hotel_file").val(""),a.file&&$("#hotel_file_list").prepend("<p style='font-size: 12px; margin-left: 15px;' id='f_"+a.file.f_id+"'><noindex><a href='"+STATIC_URL_FILES+"hotel/"+a.client_id+"/"+a.file.f_name+"' target='_blank' class='dashed'>"+a.file.f_filename+"</a></noindex> <span class='glyphicon glyphicon-remove attention link' onclick='javascript: hotel_file_delete("+
a.file.f_id+", "+a.file.f_h_id+")'></span></p>"),$("#hotel_file_loading").html("")):alert(_("\u041e\u0448\u0438\u0431\u043a\u0430 \u043f\u0440\u0438 \u0437\u0430\u0433\u0440\u0443\u0437\u043a\u0435 \u0444\u0430\u0439\u043b\u0430"))},"json")})}
function ssFileInit(){$("#ss_file").change(function(){$("#ss_file_loading").html(loadingHorizontal);$(this).upload("/ajax/ajax_ss_file.php",{ss_id:$("#ss_id").val()},function(a){a.success?($("#ss_file").val(""),a.file&&$("#ss_file_list").prepend("<p style='font-size: 12px; margin-left: 15px;' id='f_"+a.file.f_id+"'><noindex><a href='"+STATIC_URL_FILES+"service_supplier/"+a.client_id+"/"+a.file.f_name+"' target='_blank' class='dashed'>"+a.file.f_filename+"</a></noindex> <span class='glyphicon glyphicon-remove attention link' onclick='javascript: ss_file_delete("+
a.file.f_id+", "+a.file.f_ss_id+")'></span></p>"),$("#ss_file_loading").html("")):alert(_("\u041e\u0448\u0438\u0431\u043a\u0430 \u043f\u0440\u0438 \u0437\u0430\u0433\u0440\u0443\u0437\u043a\u0435 \u0444\u0430\u0439\u043b\u0430"))},"json")})}function checkExtendedMode(){0==$(".extendedModeButton").attr("data-extended")?$(document).find(".extendedMode").hide():$(document).find(".extendedMode").show()}
function extendedModeButtonSettingsSwitch(a){a.toggleClass("hidden");a.hasClass("hidden")?a.parent().html(a.parent().html()+'<div class="extendedModeButtonSettingsButtons">&nbsp;<button class="btn btn-xs btn-success extendedModeButtonSettingsSave">'+_("\u0441\u043e\u0445\u0440.")+'</button>&nbsp;<button class="btn btn-xs btn-danger extendedModeButtonSettingsClose">'+_("\u043e\u0442\u043c\u0435\u043d\u0430")+"</button></div>").end():a.parent().find(".extendedModeButtonSettingsButtons").remove();var g=
'<div class="extendedModeSwitcher inline"><input type="checkbox" class="inline" tooltip="'+_("\u041f\u043e\u043a\u0430\u0437\u044b\u0432\u0430\u0442\u044c \u043f\u043e\u043b\u0435 \u043f\u043e-\u0443\u043c\u043e\u043b\u0447\u0430\u043d\u0438\u044e?")+'"/></div>';$('[data-class="extendedFieldPossible"] td:first-child, [data-class="extendedFieldPossible"] > div:first-child').each(function(d,b){d=$(b).find(".extendedModeSwitcher");0<d.length?d.toggleClass("hidden"):$(b).html(g+$(b).html());$(b).find("input").removeAttr("checked");
$(b).parent().hasClass("extendedMode")||$(b).find("input").click()});tooltipInit()}
function extendedFieldsInit(){var a=[];0<$("[data-extended-name]").length&&Ajax.ajax({type:"POST",url:"/ajax/ajax_extended_mode_get.php",data:{},dataType:"json",success:function(g){g&&($.each(g,function(d,b){var c={};c.name=d;c.value=b;a.push(c)}),a.length&&$(a).each(function(d,b){0==b.value?$('[data-extended-name="'+b.name+'"]').addClass("extendedMode").hide():$('[data-extended-name="'+b.name+'"]').removeClass("extendedMode").show()}))}})}
function bindExtendedMode(){0==$(".extendedModeButton").attr("data-extended")&&($(document).find(".extendedMode").hide(),bindExtendedModeExtended());1==$(".simpleModeButton").attr("data-extended")&&($(document).find(".extendedMode").show(),bindExtendedModeSimple())}
function bindSmsEmailNotificationButtons(a,g){$(".switch-button-label, .switch-button-background").remove();$(".active-sms").length&&$(".active-sms").switchButton({checked:a,on_label:_("\u0434\u0430"),off_label:_("\u043d\u0435\u0442"),clear:!1});$(".active-email").length&&$(".active-email").switchButton({checked:g,on_label:_("\u0434\u0430"),off_label:_("\u043d\u0435\u0442"),clear:!1})}function bindAjaxifyForm(){$("form.ajax-form").length&&$("form.ajax-form").ajaxifyForm()}function CKupdate(){}
function bindBootstrapEditable(){$("a[bootstrap-editable]").length&&$("a[bootstrap-editable]").editable({emptytext:"undefined"!==typeof $emptyText?$emptyText:"",mode:"popup",success:function(){$(this).trigger("success")}})}function numberFormat(){$(document).on("keyup blur",".number",function(){parseNumber(this)})}function numberPositiveFormat(){$(document).on("keyup blur",".numberPositive",function(){parsePositiveNumber(this)})}
function currencyFormat(){$(document).on("keyup blur",".currencyNumber",function(){parseCurrency(this)})}function datepickerClearButton(){$(document).on("click",".datepicker-group-clear",function(){$("#"+$(this).attr("data-id")).parent().datepicker("update","")});$(document).on("click",".datepicker-group-range-clear",function(){$("."+$(this).attr("data-id1")).datepicker("update","");$("."+$(this).attr("data-id2")).datepicker("update","")})}
function columnsWithSort(){var a="asc",g,d,b;$("#sortBy").each(function(c,e){g=$(e).val()});$("#sort").each(function(c,e){a=$(e).val()});$("[data-sort]").each(function(c,e){0==$(this).find(".sort-icon").length&&(b="",d="fa-arrows-alt-v",""!=g&&$(e).attr("data-sort")==g?d="asc"==a?"fa-long-arrow-alt-up fa-rotate-180":"fa-long-arrow-alt-up":b="colorGray",$(e).html('<span class="sort-icon fa '+d+" "+b+'"></span> '+$(e).html()))})}
function bindExtendedModeExtended(){var a=$(".extendedModeButton");a.unbind("click");a.on("click",function(){$(document).find(".extendedMode").show();a.removeClass("extendedModeButton");a.addClass("simpleModeButton");a.attr("data-extended","1");a.text(_("\u0432\u043a\u043b\u044e\u0447\u0438\u0442\u044c \u043f\u0440\u043e\u0441\u0442\u043e\u0439 \u0440\u0435\u0436\u0438\u043c"));bindExtendedModeSimple()})}
function bindExtendedModeSimple(){var a=$(".simpleModeButton");a.unbind("click");a.on("click",function(){$(document).find(".extendedMode").hide();a.addClass("extendedModeButton");a.removeClass("simpleModeButton");a.attr("data-extended","0");a.text(_("\u0432\u043a\u043b\u044e\u0447\u0438\u0442\u044c \u0440\u0430\u0441\u0448\u0438\u0440\u0435\u043d\u043d\u044b\u0439 \u0440\u0435\u0436\u0438\u043c"));bindExtendedModeExtended()})}
function create_new_element_block_init(){$(document).on("keyup",".create_new_element_block input",function(a){13==a.keyCode&&$(".create_new_element_block_buttons input:first").click()})}function create_new_element_block_error(){$(".create_new_element_block input").each(function(a,g){""==$(g).val()?$(g).addClass("error-input"):$(g).removeClass("error-input")})}
function passwordEyeToggle(a){var g=a.siblings("input");"password"==g.attr("type")?g.attr("type","password2"):g.attr("type","password");a.find("span").toggleClass("fa-eye fa-eye-slash")}function tooltipHide(){$("*[tooltip]").tooltip("hide")}
function tooltipInit(){$("*[tooltip]").tooltip({trigger:"hover",title:function(){return $(this).attr("tooltip")}});$(".tooltipster").tooltipster({contentAsHTML:!0,touchDevices:!1,trigger:"hover",onlyOne:!0,maxWidth:"300",theme:"tooltipster-light",position:"bottom-left",interactive:!0});$(".tooltipster-icon").tooltipster({contentAsHTML:!0,touchDevices:!1,trigger:"hover",icon:$('<span class="far fa-question-circle tooltipster-icon-element colorGray" style="font-size: 16px; font-weight: normal; margin-left: 6px; vertical-align: middle;"></span>'),
onlyOne:!0,maxWidth:"300",theme:"tooltipster-light",iconDesktop:!0,position:"bottom-left",interactive:!0})}function switchInit(){$('[data-toggle="switch"]').bootstrapSwitch()}
function momentInit(){if("undefined"==typeof DENY_DATETIME_FROM_NOW||1!=DENY_DATETIME_FROM_NOW)moment.locale(LANG),$(".moment-datetime").each(function(){$(this).attr("data-original")||($(this).attr("data-original",$(this).text()),$(this).text(moment(1E3*$(this).attr("data-datetime")).add(3-TIMEZONE,"hours").fromNow()),$(this).on("click",function(){var a=$(this).text();$(this).text($(this).attr("data-original"));$(this).attr("data-original",a)}))})}
function popoverInit(){$('[data-toggle="popover"]').popover({html:!0})}function timepickerInit(){$(".timepicker").timepicker({minTime:"00:00",maxTime:"23:59",timeFormat:"H:i",scrollDefault:"now"})}function customSelect2TriggerChange(a){var g=a.find("option:selected").text()||a.find("option").first().text();g=$("<span>").html(g).css({"font-size":a.css("font-size"),display:"none"});g.appendTo($("body"));var d=g.width()+30;g.remove();a.parent().css("width",""+d+"px").attr("data-width",d)}
function customSelect2Init(){$(".custom-select2 > select").each(function(a,g){$(g).parent().attr("data-width")||(customSelect2TriggerChange($(g)),$(g).on("change",function(){customSelect2TriggerChange($(g))}))})}
function radioButtonSetValue(a,g,d){g.val(a.val());$("button",d).each(function(b,c){$(c).removeClass("active").removeClass("btn-default btn-success btn-primary btn-danger btn-warning btn-info").addClass("btn-default")});a.val()==g.val()&&(d=a.attr("data-toggle-class")||"btn-success",a.addClass("active").removeClass("btn-default btn-success btn-primary btn-danger btn-warning btn-info").addClass(d));g.trigger("change")}
function radioButtonInit(){$("div.btn-group[data-toggle-id]").each(function(){var a=$(this),g=a.attr("data-toggle-id"),d=$('input[id="'+g+'"]');a.css("z-index",0);$("button",a).each(function(){var b=$(this);b.attr("data-toggle-class");b.on("click",function(){radioButtonSetValue($(this),d,a)});b.val()==d.val()&&radioButtonSetValue($(this),d,a);d.trigger("change")})})}
function parseCurrency(a){var g=$(a).val();var d=g.replace(/,/g,".");d=d.replace(/[^0-9\-\.]/g,"");d=d.match(/^(\-)?([0-9]+)?([.])?([0-9]+)?/igm);d!=g&&$(a).val(d).trigger("keyup")}function parseNumber(a){var g=$(a).val();var d=g.replace(/[^0-9\-]/g,"");d=d.match(/^(\-)?([0-9]+)?/igm);d!=g&&$(a).val(d)}function parsePositiveNumber(a){var g=$(a).val();var d=g.replace(/[^0-9\-]/g,"");d=d.match(/^([0-9]+)?/igm);d!=g&&$(a).val(d)}
function set_koef_currency_main(a,g,d){parseCurrency(g);parseCurrency(d);if($(d).length){if($(a).val()==CURRENCY_MAIN_ID){$(d).val("1.00");var b=$(d).parent().parent();"TR"==b.prop("tagName")&&b.hide();$("#pc_services_koef_update").removeAttr("checked")}else $(d).parents("tr").show();$("#finance_currency").html($("option:selected",a).text());0<$(g).val()?$("#finance_result").val(Math.round(100*($(g).val()*$(d).val()).toFixed(10))/100):$("#finance_result").val(0)}}
function set_price_result_by_currency(a,g,d){$(a).length&&$(g).length&&$(d).length&&(parseCurrency(a),parseCurrency(d),$(a).keyup(function(){$(d).val(Utilits.round($(a).val()*$(g).val(),2))}),$(g).keyup(function(){$(d).val(Utilits.round($(g).val()*$(a).val(),2))}),$(d).keyup(function(){$(a).val(Utilits.round($(d).val()/$(g).val(),6))}))}function user_file_delete(a,g){$.post("/ajax/ajax_user_file_delete.php",{f_id:a,f_u_id:g},function(){$("#f_"+a).remove()})}
function hotel_file_delete(a,g){$.post("/ajax/ajax_hotel_file_delete.php",{f_id:a,f_h_id:g},function(){$("#f_"+a).remove()})}function ss_file_delete(a,g){$.post("/ajax/ajax_ss_file_delete.php",{f_id:a,f_ss_id:g},function(){$("#f_"+a).remove()})}function request_file_delete(a,g){$.post("/ajax/ajax_request_file_delete.php",{rf_id:a,rf_r_id:g},function(){$("#rf_"+a).parent().remove()})}
function payment_file_delete(a,g){$.post("/ajax/ajax_payment_file_delete.php",{pf_id:a,pf_p_id:g},function(){$("#pf_"+a).remove()})}
function payment_partner_paid(a){var g=0,d=[],b=[];0<$("p[class*=pd_file_]").length&&$("p[class*=pd_file_]").each(function(c,e){d[g]=$(this).attr("pd-id");b[g]=$(this).attr("joined");g+=1});$.post("./ajax/ajax_payment_partner_paid.php",{p_id:a,p_cash_id:$("#pp_cash_id").val(),p_price:$("#pp_price").val(),p_c_id:$("#pp_c_id").val(),p_koef:$("#pp_koef").val(),"p_pd_array[]":d,"p_pd_array_joined_param[]":b},function(c){list_view("payment_plan","");popupClose();c&&0<c.p_r_id&&(payment_partner_list_update(c.p_r_id),
$.post("./ajax/ajax_finance.php",{r_id:c.p_r_id},function(e){$("#finance_div").html(e)}),updateServices&&$.post("./ajax/ajax_services.php",{r_id:c.p_r_id},function(e){$("#services").html(e)}))},"json")}
function payment_client_paid(a){$.post("./ajax/ajax_payment_client_paid.php",{p_id:a,p_cash_id:$("#pp_cash_id").val(),p_price:$("#pp_price").val(),p_c_id:$("#pp_c_id").val(),p_koef:$("#pp_koef").val(),"p_pd_array[]":[],"p_pd_array_joined_param[]":[]},function(g){list_view("payment_plan","");popupClose();g&&0<g.p_r_id&&payment_client_list_update(g.p_r_id)},"json")}
function payment_bill_paid(a,g=1){$.post("./ajax/ajax_payment_bill_paid.php",{b_id:a,paid:g},function(d){1==g?$("#payment_bill_list tr[data-id="+a+"]").removeClass("danger"):$("#payment_bill_list tr[data-id="+a+"]").addClass("danger");d&&0<d.b_r_id&&1==g&&Dialog.modalConfirmBox(_("\u0421\u0444\u043e\u0440\u043c\u0438\u0440\u043e\u0432\u0430\u0442\u044c \u043f\u043b\u0430\u0442\u0435\u0436 \u043e\u0442 \u043a\u043b\u0438\u0435\u043d\u0442\u0430?"),_("\u0420\u0430\u0441\u0447\u0435\u0442 \u0441 \u043a\u043b\u0438\u0435\u043d\u0442\u043e\u043c"),
function(){$.post("/ajax/ajax_payment_client_update.php",{b_id:d.b_id,r_id:d.b_r_id,reason:_("\u041e\u043f\u043b\u0430\u0447\u0435\u043d\u043d\u044b\u0439 \u0441\u0447\u0435\u0442 #")+d.b_number,price:d.bs_sum},function(b){fillAndShow("payment_client_new",b)})});popupClose()},"json")}function get_bill_list(a){$("#bill_list").html("");$.post("/ajax/ajax_bill_list.php",{r_id:a},function(g){$("#bill_list").html(g)})}
function bill_delete(a){var g=[];$(".bill_checkbox:checked").each(function(d,b){g[d]=$(this).val()});$.post("/ajax/ajax_bill_delete.php",{"b_ids[]":g},function(d){d.error?DialogError(d.error):$.post("/ajax/ajax_bill_list.php",{r_id:a},function(b){$("#bill_list").html(d)})},"json")}
function bill_service_delete(){var a=[];$(".bill_service_checkbox:checked").each(function(g,d){a[g]=$(this).val()});$("#bill_services").html("<img src='/images/loading.gif' />");$.post("/ajax/ajax_bill_service_delete.php",{"bs_ids[]":a},function(){$.post("/ajax/ajax_bill_service.php",{b_id:$("#b_id").val()},function(g){g&&$("#bill_services").html(g)})})}
function bill_service_update(){$("#bill_services").html("<img src='/images/loading.gif' />");$("#bs_new").hide();$(".bill_service_buttons_block").show();$.post("/ajax/ajax_bill_service_update.php",{b_id:$("#b_id").val(),bs_id:$("#bs_id").val(),bs_name:$("#bs_name").val(),bs_count:$("#bs_count").val(),bs_price:$("#bs_price").val(),bs_c_id:$("#bs_c_id").val()},function(){$.post("/ajax/ajax_bill_service.php",{b_id:$("#b_id").val()},function(a){a&&$("#bill_services").html(a)})})}
function bill_service_fill_data(a,g,d,b){$("#bs_id").val(a);$("#bs_name").val(g);$("#bs_count").val(d);$("#bs_price").val(b);$("#bs_new").show();$(".bill_service_buttons_block").hide()}function bill_service_fill_data_services(a){$.post("/ajax/ajax_bill_fill_with_services_requests_list.php",{b_id:a,r_id:$("#request_id").val()},function(g){g?alert(g):$.post("/ajax/ajax_bill_service.php",{b_id:a},function(d){d&&$("#bill_services").html(d)})})}
function bill_update(){var a=0;$("#b_cl_id").length&&(a=$("#b_cl_id").val());$.post("/ajax/ajax_bill_update.php",{r_id:$("#request_id").val(),b_cif_id:$("#b_cif_id").val(),b_id:$("#b_id").val(),b_cl_id:a,b_date:$("#b_date").val(),b_paid_date:1==$("#b_paid_date").length?$("#b_paid_date").val():"",b_shw:1==$("#b_shw").length?$("#b_shw").val():0,b_number:$("#b_number").val(),b_nds:$("#b_nds").val(),b_reason:$("#b_reason").val(),b_note:$("#b_note").val()},function(g){$("#bill_new").hide();$.post("/ajax/ajax_bill_list.php",
{r_id:$("#request_id").val()},function(d){$("#bill_list").length?$("#bill_list").html(d):window.location.reload()})})}
function online_bill_update(){if(0==checkReceiptError())return!1;var a=0;$("#b_cl_id").length&&(a=$("#b_cl_id").val());var g="",d=0;$(".products-container .item").each(function(e,f){$(f).hasClass("template")||(g+=$(f).find(".product-name").val().replace(";",",").replace('"',"").replace("'","")+";"+$(f).find(".product-quantity").val()+";"+$(f).find(".product-price").val(),0<$("#b_receipt_tax:visible").length?g+=";"+$("#b_receipt_tax").val().replace(";",","):0<$(f).find(".b_receipt_tax:visible").length&&
(g+=";"+$(f).find(".b_receipt_tax").val().replace(";",",")),0<$(f).find(".b_receipt_is_agent:visible:checked").length?g+=";"+$(f).find(".b_receipt_supplier_name").val().replace(";",",").replace('"',"").replace("'","")+";"+$(f).find(".b_receipt_supplier_inn").val().replace(";",",").replace('"',"").replace("'","")+";"+$(f).find(".b_receipt_supplier_address").val().replace(";",",").replace('"',"").replace("'","")+";"+$(f).find(".b_receipt_supplier_phone").val().replace(";",",").replace('"',"").replace("'",
""):1==$("#b_receipt_is_agent:visible").val()&&(g+=";"+$("#b_receipt_supplier_name").val().replace(";",",").replace('"',"").replace("'","")+";"+$("#b_receipt_supplier_inn").val().replace(";",",").replace('"',"").replace("'","")+";"+$("#b_receipt_supplier_address").val().replace(";",",").replace('"',"").replace("'","")+";"+$("#b_receipt_supplier_phone").val().replace(";",",").replace('"',"").replace("'","")),g+="\r\n",d+=parseInt($(f).find(".product-quantity").val())*parseFloat($(f).find(".product-price").val()))});
var b=1,c={ps_id:$("#ps_id").val(),r_id:$("#request_id").val(),b_id:$("#b_id").val(),b_cif_id:$("#b_cif_id").val(),b_cl_id:a,b_date:$("#b_date").val(),b_number:$("#b_number").val(),b_nds:$("#b_nds").val(),b_reason:$("#b_reason").val(),b_note:$("#b_note").val(),b_prepay_id:$("#b_prepay_id").val(),b_receipt_ps_id:0<$("#b_receipt_ps_id").length?$("#b_receipt_ps_id").val():"",b_receipt_mode:0<$("#b_receipt_mode").length?$("#b_receipt_mode").val():"",b_receipt_products:g,b_receipt_pay_type:0<$("#pc_receipt_pay_type").length?
$("#pc_receipt_pay_type").val():0,b_receipt_prepay:0<$("#b_receipt_prepay").length?$("#b_receipt_prepay").val():0,b_receipt_prepay_sum:0<$("#b_receipt_prepay_sum:visible").length?$("#b_receipt_prepay_sum").val():0,b_receipt_inn:0<$("#b_receipt_inn").length?$("#b_receipt_inn").val():"",b_receipt_tax:0<$("#b_receipt_tax").length?$("#b_receipt_tax").val():0,b_receipt_taxmode:0<$("#b_receipt_taxmode").length?$("#b_receipt_taxmode").val():0,b_receipt_pos:0<$("#b_receipt_pos").length?$("#b_receipt_pos").val():
0,b_cash_id:0<$("#b_cash_id").length?$("#b_cash_id").val():"",b_payment_system_order_price:0<$("#TouroperatorPrice").length?$("#TouroperatorPrice").val():"",b_payment_system_order_c_id:0<$("#pc_c_id").length?$("#pc_c_id").val():"",b_payment_system_order_koef:0<$("#pc_koef").length?$("#pc_koef").val():""};$(".b_add_properties").each(function(e){c[$(this).attr("name")]=$(this).val()});a=parseFloat($("#TouroperatorPrice").val());1!=$("#pc_koef").val()&&(a=parseFloat($("#finance_result").val()));c.price_sum=
a;0<$("#b_receipt_prepay").length&&4!=$("#b_receipt_prepay").val()&&0<$("#b_receipt_mode").length&&0<$("#b_receipt_mode").val()&&0<$("#TouroperatorPrice").length&&a!=parseFloat(d)&&(console.log(a," = ",parseFloat(d)),noty({type:"error",text:"\u0421\u0443\u043c\u043c\u0430 \u0441\u0447\u0435\u0442\u0430 ("+a+") \u041d\u0415 \u0440\u0430\u0432\u043d\u0430 \u0441\u0443\u043c\u043c\u0435 \u0432\u0441\u0435\u0445 \u043f\u043e\u0437\u0438\u0446\u0438\u0439 \u0432 \u0447\u0435\u043a\u0435 ("+parseFloat(d)+
")!"}),b=0);1==b&&(OnlineLoading.showOverlay(),$.post("/ajax/ajax_online_bill_create.php",c,function(e){$("#bill_new").hide();e&&e.error?(OnlineLoading.hide(),DialogError(e.error)):$.post("/ajax/ajax_bill_list.php",{r_id:$("#request_id").val()},function(f){$("#bill_list").length?($("#bill_list").html(f),OnlineLoading.hide()):window.location.reload()})},"json"));return b}
function kpi_plan_update(){var a=$.Deferred();$(".kpi-error").removeClass("alert alert-danger").html("");var g=$("#kp_id").val();Ajax.post("/ajax/ajax_kpi_plan_update.php",{kp_id:g,kp_begin:$("#kp_begin").val(),kp_end:$("#kp_end").val(),kp_value:$("#kp_value").val()},function(d){d.error?($(".kpi-error").addClass("alert alert-danger").html(d.error),a.resolve(!1)):(0<g?location.reload():location.href="kpi.php?id="+d.id,a.resolve(!0))},"json");return a.promise()}
function bcard_update(){var a=$.Deferred();$(".bcard-error").removeClass("alert alert-danger").html("");Ajax.post("/ajax/ajax_bcard_update.php",{bc_id:$("#bc_id").val(),bc_number:$("#bc_number").val(),bc_datetime:$("#bc_datetime").val(),bc_value:$("#bc_value").val(),bcb_till_date:$("#bcb_till_date").val(),bc_cl_id:$("#bc_cl_id").val(),bc_u_id:$("#bc_u_id").val(),bc_control_question:$("#bc_control_question").val(),bc_codeword:$("#bc_codeword").val(),bctype_id:$("#bctype_id").val()},function(g){g.error?
($(".bcard-error").addClass("alert alert-danger").html(g.error),a.resolve(!1)):(0<$("#bcard_list").length&&list_view("bcard",""),a.resolve(!0))},"json");return a.promise()}
function bcard_bonus_add(){var a=$("#bcb_value").val(),g=$("#bcb_in_out").val(),d=$(".bcard_value");Ajax.post("/ajax/ajax_bcard_bonus_add.php",{bc_id:$("#bc_id").val(),bcb_value:$("#bcb_value").val(),bcb_reason:$("#bcb_reason").val(),bcb_in_out:$("#bcb_in_out").val(),bcb_till_date:$("#bcb_till_date").val()},function(b){b.error?DialogError(b.error):(0<$("#bcard_list").length&&list_view("bcard",""),0<d.length&&(b=parseInt(d.text())+(2==g?-1:1)*parseInt(a),d.text(b)))},"json")}
function bindRequestVisaChange(a){$(".request-visa-container").on("click",".label",function(g){g.preventDefault();g.stopPropagation();var d=$(this),b=a||$(this).parents("tr").attr("data-id");g=$(this).attr("data-id");if($("span",this).length){var c=$("<div></div>");c.html($(".request-change-visa").html());c.find("div[data-id="+g+"] input").attr("checked","checked");Dialog.modalConfirmBox(c,_("\u0418\u0437\u043c\u0435\u043d\u0435\u043d\u0438\u0435 \u0441\u0442\u0430\u0442\u0443\u0441\u0430 \u0432\u0438\u0437\u044b \u0437\u0430\u044f\u0432\u043a\u0438"),
function(){$.post("/ajax/ajax_request_change_visa.php",{r_id:b,status_id:$("#request_visa_id_selected").val()},function(e){e.success?d.replaceWith('<a class="label" data-id="'+e.element.visa_id+'" style="color: #000;"><span>'+e.element.visa_name+"</span></a>"):DialogError(e.error)},"json")})}else DialogError(_("\u0423 \u0432\u0430\u0441 \u043d\u0435\u0434\u043e\u0441\u0442\u0430\u0442\u043e\u0447\u043d\u043e \u043f\u0440\u0430\u0432 \u043d\u0430 \u0438\u0437\u043c\u0435\u043d\u0435\u043d\u0438\u0435 \u0441\u0442\u0430\u0442\u0443\u0441\u0430 \u0432\u0438\u0437\u044b \u0432 \u0443\u043a\u0430\u0437\u0430\u043d\u043d\u043e\u0439 \u0437\u0430\u044f\u0432\u043a\u0435"))})}
function bindRequestInsuranceChange(a){$(".request-insurance-container").on("click",".label",function(g){g.preventDefault();g.stopPropagation();var d=$(this),b=a||$(this).parents("tr").attr("data-id");g=$(this).attr("data-id");if($("span",this).length){var c=$("<div></div>");c.html($(".request-change-insurance").html());c.find("div[data-id="+g+"] input").attr("checked","checked");Dialog.modalConfirmBox(c,_("\u0418\u0437\u043c\u0435\u043d\u0435\u043d\u0438\u0435 \u0441\u0442\u0430\u0442\u0443\u0441\u0430 \u0441\u0442\u0440\u0430\u0445\u043e\u0432\u043a\u0438 \u0437\u0430\u044f\u0432\u043a\u0438"),
function(){$.post("/ajax/ajax_request_change_insurance.php",{r_id:b,status_id:$("#request_insurance_id_selected").val()},function(e){e.success?d.replaceWith('<a class="label" data-id="'+e.element.insurance_id+'" style="color: #000;"><span>'+e.element.insurance_name+"</span></a>"):DialogError(e.error)},"json")})}else DialogError(_("\u0423 \u0432\u0430\u0441 \u043d\u0435\u0434\u043e\u0441\u0442\u0430\u0442\u043e\u0447\u043d\u043e \u043f\u0440\u0430\u0432 \u043d\u0430 \u0438\u0437\u043c\u0435\u043d\u0435\u043d\u0438\u0435 \u0441\u0442\u0430\u0442\u0443\u0441\u0430 \u0432\u0438\u0437\u044b \u0432 \u0443\u043a\u0430\u0437\u0430\u043d\u043d\u043e\u0439 \u0437\u0430\u044f\u0432\u043a\u0435"))})}
function bindRequestStatusChange(a){$(".request-status-container").on("click",".request-status-label",function(g){g.preventDefault();g.stopPropagation();var d=$(this),b=a||$(this).parents("tr").attr("data-id"),c=$(this).attr("data-id");$("span",this).length?Ajax.post("/ajax/ajax_request_status_content.php",{r_id:b},function(e){var f=$("<div></div>");f.html(e);f.find("div[data-id="+c+"] input").attr("checked","checked");f.find(".st-item[data-shw=0][data-id!="+c+"]").remove();STATUS_STEP_BY_STEP&&(f.find(".st-item[data-is-cancel=0]").addClass("colorGray").find("input").attr("disabled",
"disabled").end(),f.find(".st-item").each(function(h,m){$(m).attr("data-id")==c&&($(m).removeClass("colorGray").find("input").removeAttr("disabled").end(),h=$(m).prevAll(".st-item[data-is-cancel=0]"),m=$(m).nextAll(".st-item[data-is-cancel=0]").first(),h&&h.removeClass("colorGray").find("input").removeAttr("disabled").end(),m&&m.removeClass("colorGray").find("input").removeAttr("disabled").end())}));Dialog.modalConfirmBox(f,_("\u0418\u0437\u043c\u0435\u043d\u0435\u043d\u0438\u0435 \u0441\u0442\u0430\u0442\u0443\u0441\u0430 \u0437\u0430\u044f\u0432\u043a\u0438"),
function(){$.post("/ajax/ajax_request_change_status.php",{r_id:b,status_id:$("#request_status_id_selected").val(),status_active_sms:0<$("#status_active_sms",f).length?$("#status_active_sms:checked",f).length?1:0:null,status_active_email:0<$("#status_active_email",f).length?$("#status_active_email:checked",f).length?1:0:null},function(h){if(h.success){d.replaceWith('<a class="request-status-label label" data-id="'+h.element.st_id+'" style="background-color:'+h.element.st_color+'; color: #fff;"><span>'+
h.element.st_name+"</span></a>");var m=$.Deferred();if(h.bonus||h.bonus_lead){var k="";if(h.bonus){var l="<div style='padding-top: 10px;'>"+_("\u041a\u043b\u0438\u0435\u043d\u0442\u0443 \u0431\u044b\u043b\u043e \u043d\u0430\u0447\u0438\u0441\u043b\u0435\u043d\u043e %s \u0431\u043e\u043d\u0443\u0441\u043e\u0432.")+"</div>";l=l.replace(/%s/g,'<span class="text-success">'+h.bonus.value+"</span>");var p=_("\u041a\u0430\u0440\u0442\u0430 #")+h.bonus.bc_number;k=k+l+p;""!=h.bonus.till_date&&(k=k+"<br/>"+
_("\u0414\u0430\u0442\u0430 \u0441\u0433\u043e\u0440\u0430\u043d\u0438\u044f")+" "+h.bonus.till_date)}h.bonus_lead&&(l="<div style='padding-top: 10px;'>"+_("\u041a\u043b\u0438\u0435\u043d\u0442\u0443, \u043a\u043e\u0442\u043e\u0440\u044b\u0439 \u0435\u0433\u043e \u043f\u0440\u0438\u0432\u0435\u043b, \u0431\u044b\u043b\u043e \u043d\u0430\u0447\u0438\u0441\u043b\u0435\u043d\u043e %s \u0431\u043e\u043d\u0443\u0441\u043e\u0432.")+"</div>",l=l.replace(/%s/g,'<span class="text-success">'+h.bonus_lead.value+
"</span>"),p=_("\u041a\u0430\u0440\u0442\u0430 #")+h.bonus_lead.bc_number,k=k+l+p,""!=h.bonus_lead.till_date&&(k=k+"<br/>"+_("\u0414\u0430\u0442\u0430 \u0441\u0433\u043e\u0440\u0430\u043d\u0438\u044f")+" "+h.bonus_lead.till_date));Dialog.modalMessageBox(k,_("\u041d\u0430\u0447\u0438\u0441\u043b\u0435\u043d\u0438\u0435 \u0431\u043e\u043d\u0443\u0441\u043e\u0432"),function(){m.resolve(!0)})}else m.resolve(!0);h.cancel_notification&&($(".active-link-sms").find("button").removeClass("active btn-danger btn-success").addClass("btn-default").end().find("button[value=0]").removeClass("btn-default").addClass("active btn-danger").end().each(function(q,
u){q=$(u).attr("data-toggle-id");$("#"+q).val(0)}),$(".active-link-email").find("button").removeClass("active btn-danger btn-success").addClass("btn-default").end().find("button[value=0]").removeClass("btn-default").addClass("active btn-danger").end().each(function(q,u){q=$(u).attr("data-toggle-id");$("#"+q).val(0)}));h.message&&(noty({type:"success",text:h.message,timeout:1E4}),Ajax.post("/ajax/ajax_services.php",{r_id:b},function(q){$("#services").html(q)}));h.element.st_id==STATUS_BACK_TO_LEAD&&
Dialog.modalConfirmBox(_("\u041f\u0435\u0440\u0435\u0439\u0442\u0438 \u0438\u0437 \u043e\u043a\u043d\u0430 \u0417\u0430\u044f\u0432\u043a\u0438 \u0432 \u043e\u043a\u043d\u043e \u041b\u0438\u0434\u0430 / \u041e\u0431\u0440\u0430\u0449\u0435\u043d\u0438\u044f \u043f\u0440\u044f\u043c\u043e \u0441\u0435\u0439\u0447\u0430\u0441?"),_("\u041f\u0435\u0440\u0435\u043a\u043b\u044e\u0447\u0435\u043d\u0438\u0435 \u0417\u0430\u044f\u0432\u043a\u0430 -> \u041e\u0431\u0440\u0430\u0449\u0435\u043d\u0438\u0435"),
function(){location.href="/request_edit_lead.php?r_id="+b});m.promise().done(function(){if(-1<$.inArray(h.element.st_id.toString(),REACTIVATION_STATUS_CLOSED))if(1==REACTIVATION_AUTO_ON)Ajax.post("/ajax/ajax_lead_and_reminder_create.php",{r_id:b},function(u){u.success?noty({timeout:5E3,type:"success",text:_("\u041d\u043e\u0432\u043e\u0435 \u043e\u0431\u0440\u0430\u0449\u0435\u043d\u0438\u0435 \u0438 \u043d\u0430\u043f\u043e\u043c\u0438\u043d\u0430\u043d\u0438\u0435 \u0443\u0441\u043f\u0435\u0448\u043d\u043e \u0441\u043e\u0437\u0434\u0430\u043d\u044b")+
': <a href="/request_edit_lead.php?r_id='+u.r_id+'" target="_blank">'+_("\u0441\u0441\u044b\u043b\u043a\u0430 \u043d\u0430 \u043e\u0431\u0440\u0430\u0449\u0435\u043d\u0438\u0435")+"</a>"}):u.error&&DialogError(u.error)},"json");else if(1==REACTIVATION_ON){var q=_("\u0421\u043e\u0437\u0434\u0430\u0442\u044c \u043d\u043e\u0432\u043e\u0435 \u043e\u0431\u0440\u0430\u0449\u0435\u043d\u0438\u0435 \u0441 \u043d\u0430\u043f\u043e\u043c\u0438\u043d\u0430\u043d\u0438\u0435\u043c \u0447\u0435\u0440\u0435\u0437 %s \u043c\u0435\u0441\u044f\u0446\u0430, \u0447\u0442\u043e\u0431\u044b \u0441\u043e\u0437\u0432\u043e\u043d\u0438\u0442\u044c\u0441\u044f \u0441 \u043a\u043b\u0438\u0435\u043d\u0442\u043e\u043c \u0443\u0436\u0435 \u043f\u043e \u043d\u043e\u0432\u043e\u0439 \u0437\u0430\u044f\u0432\u043a\u0435?");
q=q.replace(/%s/g,REACTIVATION_MONTHS_COUNT);Dialog.modalConfirmBox(q,_("\u0420\u0435\u0430\u043a\u0442\u0438\u0432\u0430\u0446\u0438\u044f \u043a\u043b\u0438\u0435\u043d\u0442\u0430"),function(){$.post("/ajax/ajax_lead_and_reminder_create.php",{r_id:b},function(u){u.success?noty({timeout:5E3,type:"success",text:_("\u041d\u043e\u0432\u043e\u0435 \u043e\u0431\u0440\u0430\u0449\u0435\u043d\u0438\u0435 \u0438 \u043d\u0430\u043f\u043e\u043c\u0438\u043d\u0430\u043d\u0438\u0435 \u0443\u0441\u043f\u0435\u0448\u043d\u043e \u0441\u043e\u0437\u0434\u0430\u043d\u044b")+
': <a href="/request_edit_lead.php?r_id='+u.r_id+'" target="_blank">'+_("\u0441\u0441\u044b\u043b\u043a\u0430 \u043d\u0430 \u043e\u0431\u0440\u0430\u0449\u0435\u043d\u0438\u0435")+"</a>"}):u.error&&DialogError(u.error)},"json")})}})}else h.error&&DialogError(h.error)},"json")})}):DialogError(_("\u0423 \u0432\u0430\u0441 \u043d\u0435\u0434\u043e\u0441\u0442\u0430\u0442\u043e\u0447\u043d\u043e \u043f\u0440\u0430\u0432 \u043d\u0430 \u0438\u0437\u043c\u0435\u043d\u0435\u043d\u0438\u0435 \u0441\u0442\u0430\u0442\u0443\u0441\u0430 \u0432 \u0443\u043a\u0430\u0437\u0430\u043d\u043d\u043e\u0439 \u0437\u0430\u044f\u0432\u043a\u0435"))})}
function bindRequestStatusPayChange(a){$(".request-status-container").on("click",".request-status-pay-label",function(g){g.preventDefault();g.stopPropagation();var d=$(this),b=a||$(this).parents("tr").attr("data-id");g=$(this).attr("data-id");if($("span",this).length){var c=$("<div></div>");c.html($(".request-change-status-pay").html());c.find("div[data-id="+g+"] input").attr("checked","checked");c.find(".st-item[data-shw=0][data-id!="+g+"]").remove();Dialog.modalConfirmBox(c,_("\u0418\u0437\u043c\u0435\u043d\u0435\u043d\u0438\u0435 \u0441\u0442\u0430\u0442\u0443\u0441\u0430 \u0437\u0430\u044f\u0432\u043a\u0438 \u043f\u043e \u043e\u043f\u043b\u0430\u0442\u0435"),
function(){$.post("/ajax/ajax_request_change_status_pay.php",{r_id:b,status_id:$("#request_status_pay_id_selected").val()},function(e){e.success?(d.replaceWith('<a class="request-status-pay-label label" data-id="'+e.element.st_id+'" style="background-color:'+e.element.st_color+'; color: #fff;"><span>'+e.element.st_name+"</span></a>"),e.message&&(noty({type:"success",text:e.message,timeout:1E4}),Ajax.post("/ajax/ajax_services.php",{r_id:b},function(f){$("#services").html(f)}))):e.error&&DialogError(e.error)},
"json")})}else DialogError(_("\u0423 \u0432\u0430\u0441 \u043d\u0435\u0434\u043e\u0441\u0442\u0430\u0442\u043e\u0447\u043d\u043e \u043f\u0440\u0430\u0432 \u043d\u0430 \u0438\u0437\u043c\u0435\u043d\u0435\u043d\u0438\u0435 \u0441\u0442\u0430\u0442\u0443\u0441\u0430 \u043f\u043e \u043e\u043f\u043b\u0430\u0442\u0435 \u0432 \u0443\u043a\u0430\u0437\u0430\u043d\u043d\u043e\u0439 \u0437\u0430\u044f\u0432\u043a\u0435"))})}
function bindRequestStatusCBChange(a){$(".request-status-container").on("click",".request-status-cb-label",function(g){g.preventDefault();g.stopPropagation();var d=$(this),b=a||$(this).parents("tr").attr("data-id");g=$(this).attr("data-id");if($("span",this).length){var c=$("<div></div>");c.html($(".request-change-status-cb").html());c.find("div[data-id="+g+"] input").attr("checked","checked");c.find(".st-item[data-shw=0][data-id!="+g+"]").remove();Dialog.modalConfirmBox(c,_("\u0418\u0437\u043c\u0435\u043d\u0435\u043d\u0438\u0435 \u0441\u0442\u0430\u0442\u0443\u0441\u0430 \u0437\u0430\u044f\u0432\u043a\u0438 \u0426\u0435\u043d\u0442\u0440\u0430 \u0411\u0440\u043e\u043d\u0438\u0440\u043e\u0432\u0430\u043d\u0438\u044f"),
function(){$.post("/ajax/ajax_request_change_status_cb.php",{r_id:b,status_id:$("#request_status_cb_id_selected").val(),ta_update:1},function(e){e.success?(d.replaceWith('<a class="request-status-cb-label label" data-id="'+e.element.st_id+'" style="background-color:'+e.element.st_color+'; color: #fff;"><span>'+e.element.st_name+"</span></a>"),e.message&&noty({type:"success",text:e.message,timeout:5E3})):e.error&&DialogError(e.error)},"json")})}else DialogError(_("\u0423 \u0432\u0430\u0441 \u043d\u0435\u0434\u043e\u0441\u0442\u0430\u0442\u043e\u0447\u043d\u043e \u043f\u0440\u0430\u0432 \u043d\u0430 \u0438\u0437\u043c\u0435\u043d\u0435\u043d\u0438\u0435 \u0441\u0442\u0430\u0442\u0443\u0441\u0430 \u0426\u0435\u043d\u0442\u0440\u0430 \u0411\u0440\u043e\u043d\u0438\u0440\u043e\u0432\u0430\u043d\u0438\u044f \u043f\u043e \u0443\u043a\u0430\u0437\u0430\u043d\u043d\u043e\u0439 \u0437\u0430\u044f\u0432\u043a\u0435"))})}
function bindUserStatusChange(a){$(".request-status-container").on("click",".user-status-label",function(g){g.preventDefault();g.stopPropagation();var d=$(this),b=a||$(this).parents("tr").attr("data-id"),c=$(this).attr("data-id"),e=$(this).attr("data-reason-deny-id")||0;$("span",this).length?Ajax.post("/ajax/ajax_lead_status_content.php",{r_id:b},function(f){var h=$("<div></div>");h.html(f);h.addClass("user-change-status-clone");h.find("div[data-id="+c+"] input").attr("checked","checked");h.find(".ust-item[data-shw=0][data-id!="+
c+"]").remove();h.find(".rd-item[data-shw=0][data-reason-id!="+e+"]").remove();USER_STATUS_STEP_BY_STEP&&(h.find(".ust-item[data-is-cancel=0]").addClass("colorGray").find("input").attr("disabled","disabled").end(),h.find(".ust-item").each(function(m,k){$(k).attr("data-id")==c&&($(k).removeClass("colorGray").find("input").removeAttr("disabled").end(),m=$(k).prevAll(".ust-item[data-is-cancel=0]"),k=$(k).nextAll(".ust-item[data-is-cancel=0]").first(),m&&m.removeClass("colorGray").find("input").removeAttr("disabled").end(),
k&&k.removeClass("colorGray").find("input").removeAttr("disabled").end())}));h.find("div[data-reason-id="+e+"] input").click();c==USER_STATUS_CANCEL?h.find("div.reason-deny-container").removeClass("hidden"):h.find("div.reason-deny-container").addClass("hidden");Dialog.modalConfirmBox(h,_("\u0418\u0437\u043c\u0435\u043d\u0435\u043d\u0438\u0435 \u0441\u0442\u0430\u0442\u0443\u0441\u0430 \u043b\u0438\u0434\u0430 / \u043e\u0431\u0440\u0430\u0449\u0435\u043d\u0438\u044f"),function(){$.post("/ajax/ajax_user_change_status.php",
{id:b,status_id_old:c,status_id:h.find("#user_status_id_selected").val(),reason_deny_id:h.find("#reason_deny_id_selected").val(),status_active_sms:0<$("#status_active_sms",h).length?$("#status_active_sms:checked",h).length?1:0:null,status_active_email:0<$("#status_active_email",h).length?$("#status_active_email:checked",h).length?1:0:null},function(m){m.success?(d.replaceWith('<a class="user-status-label label" data-id="'+m.element.ust_id+'" '+(0<m.reason.rd_id?'data-reason-deny-id="'+m.reason.rd_id+
'"':"")+' style="background-color:'+m.element.ust_color+'; color: #fff;"><span>'+m.element.ust_name+(0<m.reason.rd_id?" ("+m.reason.rd_name+")":"")+"</span></a>"),m.element.ust_id==USER_STATUS_PAID&&Dialog.modalConfirmBox(_("\u041f\u0435\u0440\u0435\u0439\u0442\u0438 \u0438\u0437 \u043e\u043a\u043d\u0430 \u041e\u0431\u0440\u0430\u0449\u0435\u043d\u0438\u044f \u0432 \u0440\u0430\u0441\u0448\u0438\u0440\u0435\u043d\u043d\u043e\u0435 \u043e\u043a\u043d\u043e \u0417\u0430\u044f\u0432\u043a\u0438 \u043f\u0440\u044f\u043c\u043e \u0441\u0435\u0439\u0447\u0430\u0441?"),
_("\u041f\u0435\u0440\u0435\u043a\u043b\u044e\u0447\u0435\u043d\u0438\u0435 \u041e\u0431\u0440\u0430\u0449\u0435\u043d\u0438\u0435 -> \u0417\u0430\u044f\u0432\u043a\u0430"),function(){location.href="/request_edit.php?r_id="+b})):m.error&&DialogError(m.error)},"json")},null,{width:700})}):DialogError(_("\u0423 \u0432\u0430\u0441 \u043d\u0435\u0434\u043e\u0441\u0442\u0430\u0442\u043e\u0447\u043d\u043e \u043f\u0440\u0430\u0432 \u043d\u0430 \u0438\u0437\u043c\u0435\u043d\u0435\u043d\u0438\u0435 \u0441\u0442\u0430\u0442\u0443\u0441\u0430 \u043b\u0438\u0434\u0430 / \u043e\u0431\u0440\u0430\u0449\u0435\u043d\u0438\u044f"))})}
function bindRequestManagerChange(a){$(".request-manager-container").on("click",function(g){g.preventDefault();g.stopPropagation();var d=$(this).find(".request-manager-id");g=d.attr("data-id");var b=a;"undefined"===typeof a&&(b=d.attr("data-request-id"));"undefined"===typeof g&&(g=USER_ID);if($("span",this).length){var c=$("<div></div>");c.html($(".request-change-manager").html());c.find("div[data-id="+g+"] input").attr("checked","checked").trigger("change");Dialog.modalConfirmBox(c,_("\u041f\u0435\u0440\u0435\u0434\u0430\u0447\u0430 \u0437\u0430\u044f\u0432\u043a\u0438 \u043c\u0435\u043d\u0435\u0434\u0436\u0435\u0440\u0443"),
function(){var e=$("#request_manager_id_selected").val();Ajax.post("/ajax/ajax_request_change_manager.php",{r_id:b,manager_id:e},function(f){f.success?(d.attr("data-id",f.id),d.html(f.name),0<$(".request-manager-hidden").length&&$(".request-manager-hidden").attr("data-ci-id",f.company_id).attr("data-co-id",f.office_id).val(f.id).trigger("change")):DialogError(f.error)},"json")});tooltipInit()}else DialogError(_("\u0423 \u0432\u0430\u0441 \u043d\u0435\u0434\u043e\u0441\u0442\u0430\u0442\u043e\u0447\u043d\u043e \u043f\u0440\u0430\u0432 \u0434\u043b\u044f \u043f\u0435\u0440\u0435\u0434\u0430\u0447\u0438 \u0437\u0430\u044f\u0432\u043a\u0438"))})}
function bindManagerStatusChange(){$(".manager-status").off("click").on("click",function(a){var g=$(this);a.preventDefault();a.stopPropagation();var d=g.attr("data-user-id")||0;a=g.attr("data-user-status")||USERSTATUS;var b=$("<div></div>");b.html($(".manager-status-change").html());b.find("div[data-id="+a+"] input").attr("checked","checked");Dialog.modalConfirmBox(b,_("\u0418\u0437\u043c\u0435\u043d\u0435\u043d\u0438\u0435 \u043c\u043e\u0435\u0433\u043e \u0441\u0442\u0430\u0442\u0443\u0441\u0430 \u0437\u0430\u043d\u044f\u0442\u043e\u0441\u0442\u0438"),
function(){var c=b.find("div input:checked").val();$.post("/ajax/ajax_manager_status_change.php",{user_id:d,id:c},function(e){e.success?0==d?(g.find("span").removeAttr("class").addClass("notifier-indicator-icon").find("txt-icon").html(e.element.circleIcon).end().find("txt").text(" "+e.element.name).end(),USERSTATUS=c):g.html(e.element.circleIcon).attr("data-user-status",c):e.error&&DialogError(e.error)},"json")})})}
function bindRequestFavorite(){$(".request-fav-link").on("click",function(a){var g=$(this),d=g.attr("data-favorite-value"),b=(parseInt(d)+1)%2;a.preventDefault();a.stopPropagation();Ajax.post("/ajax/ajax_request_manager_favorite_set.php",{id:g.attr("data-id"),value:b},function(c){c.success?(g.toggleClass("fa far"),g.attr("data-favorite-value",b)):c.error&&DialogError(c.error)},"json")})}
function bindRequestToggleInClientCabinet(){$(".request-toggle-client-cabinet-link").on("click",function(a){var g=$(this),d=g.attr("data-cabinet-value"),b=(parseInt(d)+1)%2;a.preventDefault();a.stopPropagation();Ajax.post("/ajax/ajax_request_client_cabinet_toggle.php",{id:g.attr("data-id"),value:b},function(c){c.success?(g.toggleClass("fa-eye fa-eye-slash"),g.attr("data-cabinet-value",b)):c.error&&DialogError(c.error)},"json")})}
function check_tourist_fields(a){var g=$.Deferred(),d=!0;$.noty.closeAll();var b=0;$(".existing-client-block").each(function(c,e){""!=$(e).html()&&(b=1)});1==b?(noty({type:"error",text:_("\u0418\u0441\u043f\u0440\u0430\u0432\u044c\u0442\u0435, \u043f\u043e\u0436\u0430\u043b\u0443\u0439\u0441\u0442\u0430, \u0432\u043e\u0437\u043d\u0438\u043a\u0448\u0438\u0435 \u043e\u0448\u0438\u0431\u043a\u0438")}),g.resolve(!1)):(!a||""!=jQuery.trim($("#u_surname").val())&&""!=jQuery.trim($("#u_name").val())&&""!=
jQuery.trim($("#u_surname_en").val())&&""!=jQuery.trim($("#u_name_en").val())&&""!=jQuery.trim($("#u_zagran_number").val())&&""!=jQuery.trim($("#u_zagran_expire").val())||(noty({type:"error",text:_("\u0417\u0430\u043f\u043e\u043b\u043d\u0438\u0442\u0435, \u043f\u043e\u0436\u0430\u043b\u0443\u0439\u0441\u0442\u0430, \u0432\u0441\u0435 \u043f\u043e\u043b\u044f, \u043e\u0442\u043c\u0435\u0447\u0435\u043d\u043d\u044b\u0435 \u0437\u0432\u0435\u0437\u0434\u043e\u0447\u043a\u043e\u0439")}),d=!1),$.post("/ajax/ajax_email_exist_check.php",
{id:$("#u_id").val(),email:jQuery.trim($("#u_email").val())},function(c){c.invalidate?(noty({type:"error",text:_("\u041d\u0435\u0432\u0435\u0440\u043d\u044b\u0439 \u0444\u043e\u0440\u043c\u0430\u0442 E-mail \u0430\u0434\u0440\u0435\u0441\u0430!")}),g.resolve(!1)):g.resolve(d)},"json"));return g.promise()}
function check_lead_client_fields(){var a=$.Deferred(),g=!0;$.noty.closeAll();if($("#request_is_lead").length&&1==$("#request_is_lead").val()&&0==$("#u_id").val())if(""==$.trim($("#u_surname").val())&&""==$.trim($("#u_name").val())&&""==$.trim($("#u_phone_mobile").val())&&""==$.trim($("#u_email").val()))noty({type:"error",text:_("\u0417\u0430\u043f\u043e\u043b\u043d\u0438\u0442\u0435, \u043f\u043e\u0436\u0430\u043b\u0443\u0439\u0441\u0442\u0430, \u0445\u043e\u0442\u044f \u0431\u044b \u043e\u0434\u043d\u043e \u0438\u0437 \u043f\u043e\u043b\u0435\u0439 \u043f\u043e\u043a\u0443\u043f\u0430\u0442\u0435\u043b\u044f")}),
a.resolve(!1);else{$("#client_div").find("[data-parsley-required=true]").removeClass("error-input").trigger("changeClass");var d=!1;$("#client_div").find("[data-parsley-required=true]").each(function(){""==$.trim($(this).val())&&($(this).addClass("error-input").trigger("changeClass"),d=!0)});d&&(noty({type:"error",text:_("\u0417\u0430\u043f\u043e\u043b\u043d\u0438\u0442\u0435, \u043f\u043e\u0436\u0430\u043b\u0443\u0439\u0441\u0442\u0430, \u043e\u0431\u044f\u0437\u0430\u0442\u0435\u043b\u044c\u043d\u044b\u0435 \u043f\u043e\u043b\u044f")}),
a.resolve(!1))}$.post("/ajax/ajax_email_exist_check.php",{id:$("#u_id").val(),email:jQuery.trim($("#u_email").val())},function(b){b.invalidate?(noty({type:"error",text:_("\u041d\u0435\u0432\u0435\u0440\u043d\u044b\u0439 \u0444\u043e\u0440\u043c\u0430\u0442 E-mail \u0430\u0434\u0440\u0435\u0441\u0430!")}),g=!1):b.result?(noty({type:"error",text:_("E-mail \u0443\u0436\u0435 \u0438\u0441\u043f\u043e\u043b\u044c\u0437\u0443\u0435\u0442\u0441\u044f \u0432 \u0441\u0438\u0441\u0442\u0435\u043c\u0435! \u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u043d\u043e\u0432\u044b\u0439 \u0430\u0434\u0440\u0435\u0441 \u044d\u043b\u0435\u043a\u0442\u0440\u043e\u043d\u043d\u043e\u0439 \u043f\u043e\u0447\u0442\u044b. \u041d\u0430\u0447\u043d\u0438\u0442\u0435 \u0432\u0432\u043e\u0434\u0438\u0442\u044c E-mail \u0430\u0434\u0440\u0435\u0441, \u0432 \u0432\u044b\u043f\u0430\u0434\u0430\u044e\u0449\u0435\u043c \u0441\u043f\u0438\u0441\u043a\u0435 \u0432\u044b \u0441\u043c\u043e\u0436\u0435\u0442\u0435 \u0443\u0432\u0438\u0434\u0435\u0442\u044c \u0442\u0443\u0440\u0438\u0441\u0442\u043e\u0432 \u0441 \u0443\u043a\u0430\u0437\u0430\u043d\u043d\u044b\u043c E-mail \u0430\u0434\u0440\u0435\u0441\u043e\u043c"),
timeout:1E4}),g=!1):$.post("/ajax/ajax_phone_exist_check.php",{id:$("#u_id").val(),phone:jQuery.trim($("#u_phone_mobile").val())},function(c){c.result?(noty({type:"error",text:_("\u0422\u0435\u043b\u0435\u0444\u043e\u043d \u0443\u0436\u0435 \u0438\u0441\u043f\u043e\u043b\u044c\u0437\u0443\u0435\u0442\u0441\u044f \u0432 \u0441\u0438\u0441\u0442\u0435\u043c\u0435! \u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u043d\u043e\u0432\u044b\u0439 \u0442\u0435\u043b\u0435\u0444\u043e\u043d \u0438\u043b\u0438 \u0432\u044b\u0431\u0435\u0440\u0438\u0442\u0435 \u0443\u0436\u0435 \u0441\u0443\u0449\u0435\u0441\u0442\u0432\u0443\u044e\u0449\u0435\u0433\u043e \u0442\u0443\u0440\u0438\u0441\u0442\u0430. \u041d\u0430\u0447\u043d\u0438\u0442\u0435 \u0432\u0432\u043e\u0434\u0438\u0442\u044c \u0442\u0435\u043b\u0435\u0444\u043e\u043d, \u0432 \u0432\u044b\u043f\u0430\u0434\u0430\u044e\u0449\u0435\u043c \u0441\u043f\u0438\u0441\u043a\u0435 \u0432\u044b \u0441\u043c\u043e\u0436\u0435\u0442\u0435 \u0443\u0432\u0438\u0434\u0435\u0442\u044c \u0442\u0443\u0440\u0438\u0441\u0442\u043e\u0432 \u0441 \u0443\u043a\u0430\u0437\u0430\u043d\u043d\u044b\u043c \u0442\u0435\u043b\u0435\u0444\u043e\u043d\u043e\u043c"),
timeout:1E4}),g=!1):g=!0;a.resolve(g)},"json")},"json");return a.promise()}
function check_client_fields(a){var g=$.Deferred();$.noty.closeAll();var d=0;$(".existing-client-block").each(function(b,c){console.log(":"+$.trim($(c).html()));""!=$.trim($(c).html())&&(d=1)});1==d?(noty({type:"error",text:_("\u0418\u0441\u043f\u0440\u0430\u0432\u044c\u0442\u0435, \u043f\u043e\u0436\u0430\u043b\u0443\u0439\u0441\u0442\u0430, \u0432\u043e\u0437\u043d\u0438\u043a\u0448\u0438\u0435 \u043e\u0448\u0438\u0431\u043a\u0438")}),g.resolve(!1)):a?1==$("#u_type").val()?""==jQuery.trim($("#u_surname").val())||
""==jQuery.trim($("#u_name").val())||0<$("#u_passport_russia").length&&""==jQuery.trim($("#u_passport_russia").val())||0<$("#u_passport_number").length&&""==jQuery.trim($("#u_passport_number").val())||0<$("#u_passport_taken").length&&""==jQuery.trim($("#u_passport_taken").val())||0<$("#u_phone").length&&""==jQuery.trim($("#u_phone").val())?(noty({type:"error",text:_("\u0417\u0430\u043f\u043e\u043b\u043d\u0438\u0442\u0435, \u043f\u043e\u0436\u0430\u043b\u0443\u0439\u0441\u0442\u0430, \u0432\u0441\u0435 \u043f\u043e\u043b\u044f, \u043e\u0442\u043c\u0435\u0447\u0435\u043d\u043d\u044b\u0435 \u0437\u0432\u0435\u0437\u0434\u043e\u0447\u043a\u043e\u0439")}),
g.resolve(!1)):g.resolve(!0):""==jQuery.trim($("#u_company").val())||""==jQuery.trim($("#u_surname").val())||""==jQuery.trim($("#u_name").val())||0<$("#u_phone").length&&""==jQuery.trim($("#u_phone").val())?(noty({type:"error",text:_("\u0417\u0430\u043f\u043e\u043b\u043d\u0438\u0442\u0435, \u043f\u043e\u0436\u0430\u043b\u0443\u0439\u0441\u0442\u0430, \u0432\u0441\u0435 \u043f\u043e\u043b\u044f, \u043e\u0442\u043c\u0435\u0447\u0435\u043d\u043d\u044b\u0435 \u0437\u0432\u0435\u0437\u0434\u043e\u0447\u043a\u043e\u0439")}),
g.resolve(!1)):g.resolve(!0):g.resolve(!0);return g.promise()}
function check_user_fields(a){var g=$.Deferred(),d=!0;$.noty.closeAll();var b=0;$(".existing-client-block").each(function(c,e){""!=$(e).html()&&(b=1)});0<$(".password-mismatch:visible").length&&(b=1);1==b?(noty({type:"error",text:_("\u0418\u0441\u043f\u0440\u0430\u0432\u044c\u0442\u0435, \u043f\u043e\u0436\u0430\u043b\u0443\u0439\u0441\u0442\u0430, \u0432\u043e\u0437\u043d\u0438\u043a\u0448\u0438\u0435 \u043e\u0448\u0438\u0431\u043a\u0438")}),g.resolve(!1)):(a&&""==jQuery.trim($("#u_email").val())&&
(noty({type:"error",text:_("\u0417\u0430\u043f\u043e\u043b\u043d\u0438\u0442\u0435, \u043f\u043e\u0436\u0430\u043b\u0443\u0439\u0441\u0442\u0430, \u0432\u0441\u0435 \u043f\u043e\u043b\u044f, \u043e\u0442\u043c\u0435\u0447\u0435\u043d\u043d\u044b\u0435 \u0437\u0432\u0435\u0437\u0434\u043e\u0447\u043a\u043e\u0439")}),d=!1),$.post("/ajax/ajax_email_exist_check.php",{id:$("#u_id").val(),email:jQuery.trim($("#u_email").val())},function(c){c.invalidate?(noty({type:"error",text:_("\u041d\u0435\u0432\u0435\u0440\u043d\u044b\u0439 \u0444\u043e\u0440\u043c\u0430\u0442 E-mail \u0430\u0434\u0440\u0435\u0441\u0430!")}),
g.resolve(!1)):g.resolve(d)},"json"));return g.promise()}
function check_payment_partner_bill(a){if(a&&$(".pp_pd_bill").length&&0==$("p[class*=pd_file_]","#pp_pd_1_block").length&&0<$("#pp_s_id option[need-bill=1]:selected").length)return alert(_("\u0417\u0430\u0433\u0440\u0443\u0437\u0438\u0442\u0435, \u043f\u043e\u0436\u0430\u043b\u0443\u0439\u0441\u0442\u0430, \u0441\u0447\u0435\u0442")),0;if($("#pp_in_plan").length&&1==$("#pp_in_plan").val()&&""==$.trim($("#pp_dat_plan").val()))return alert(_("\u0423\u043a\u0430\u0436\u0438\u0442\u0435 \u0434\u0430\u0442\u0443 \u043f\u043b\u0430\u043d\u043e\u0432\u043e\u0433\u043e \u043f\u043b\u0430\u0442\u0435\u0436\u0430")),0;
if($("#pp_in_plan").length&&1==$("#pp_in_plan").val()){var g=new Date(Utilits.convertDateToDatabase($.trim($("#pp_dat_plan").val()))),d=g.getMonth()+1,b=g.getDate();a=g.getFullYear()+"-"+(10>d?"0":"")+d+"-"+(10>b?"0":"")+b;g=new Date;d=g.getMonth()+1;b=g.getDate();g=g.getFullYear()+"-"+(10>d?"0":"")+d+"-"+(10>b?"0":"")+b;if(a<g&&1==$("#pp_future_date").val())return alert(_("\u0423\u043a\u0430\u0436\u0438\u0442\u0435 \u0441\u0435\u0433\u043e\u0434\u043d\u044f\u0448\u043d\u044e\u044e \u0434\u0430\u0442\u0443 \u0438\u043b\u0438 \u043f\u043e\u0437\u0436\u0435")),
0}return 1}
function check_payment_client_bill(){if($("#pp_in_plan").length&&1==$("#pp_in_plan").val()&&""==$.trim($("#pp_dat_plan").val()))return alert(_("\u0423\u043a\u0430\u0436\u0438\u0442\u0435 \u0434\u0430\u0442\u0443 \u043f\u043b\u0430\u043d\u043e\u0432\u043e\u0433\u043e \u043f\u043b\u0430\u0442\u0435\u0436\u0430")),0;if($("#pp_in_plan").length&&1==$("#pp_in_plan").val()){var a=new Date(Utilits.convertDateToDatabase($.trim($("#pp_dat_plan").val()))),g=a.getMonth()+1,d=a.getDate(),b=a.getFullYear()+"-"+
(10>g?"0":"")+g+"-"+(10>d?"0":"")+d;a=new Date;g=a.getMonth()+1;d=a.getDate();a=a.getFullYear()+"-"+(10>g?"0":"")+g+"-"+(10>d?"0":"")+d;if(b<a&&1==$("#pp_future_date").val())return alert(_("\u0423\u043a\u0430\u0436\u0438\u0442\u0435 \u0441\u0435\u0433\u043e\u0434\u043d\u044f\u0448\u043d\u044e\u044e \u0434\u0430\u0442\u0443 \u0438\u043b\u0438 \u043f\u043e\u0437\u0436\u0435")),0}return 1}
function file_upload(a){$(document).off("change","."+a).on("change","."+a,function(){$(".pd_files").html(loadingHorizontal);$(this).upload("/ajax/ajax_file_upload.php",{field_name:a},function(g){g.success?($(".pd_files").empty(),$(".pd_filename").val(g.filename),$(".pd_filename_unique").val(g.filename_unique),$(".pd_files").html("<p><noindex><a href='"+STATIC_URL_FILES+g.client_id+"/"+g.filename_unique+"' target='_blank'>"+g.filename+"</a></noindex></p>"),$(".pd_save_sbm").removeAttr("disabled")):
$(".pd_files").html(_("\u041e\u0448\u0438\u0431\u043a\u0430 \u043f\u0440\u0438 \u0437\u0430\u0433\u0440\u0443\u0437\u043a\u0435 \u0444\u0430\u0439\u043b\u0430"))},"json")})}String.prototype.escapeSpecialChars=function(){return this.replace(/\\n/g,"\\n").replace(/\\'/g,"\\'").replace(/\\"/g,'\\"').replace(/\\&/g,"\\&").replace(/\\r/g,"\\r").replace(/\\t/g,"\\t").replace(/\\b/g,"\\b").replace(/\\f/g,"\\f")};function trim(a){return a.replace(/(^\s+)|(\s+$)/g,"")}
function getCheckboxValues(a){var g="";a=$("input[name="+a+"]:checked");for(var d=0;d<a.length;d++)g=""!=g?g+(","+a[d].value):g+a[d].value;return g}function getDocsValues(a){var g="";a=$("select[id="+a+"]");for(var d=0;d<a.length;d++)""!=g&&(g+=","),g+=a[d].value;return g}function delete_div_params(a){for(i=a+1;5>=i;i++)$("#div_param"+i)&&$("#div_param"+i+" select").remove()}function save_input_array_func(a){}function popupClose(){$.colorbox.close()}
function fillAndShow(a,g,d,b){a={html:g,overlayClose:!1,escKey:!1,closeButton:!1,innerWidth:"750px",innerHeight:"75%",fixed:!0,returnFocus:!1,trapFocus:!1,title:d};b&&$.extend(a,b);$.colorbox(a)}
function showMessages(a,g){30<document.getElementById(a).innerHTML.length&&(document.getElementById(a).style.paddingTop="15px");"absolute"==g?($("#"+a).center(),setTimeout(function(){document.getElementById(a).style.display="none"},2300)):"relative"==g&&(document.getElementById(a).style.position="relative");$("#"+a).show()}function highlight(a){$(a).addClass("highlightRow");return!0}function normallight(a){$(a).removeClass("highlightRow");return!0}
function users_clients_delete(a){$.post("./ajax/ajax_users_clients_delete.php",{uc_id:a},function(g){$("#users_clients_block_"+a).remove()})}function bookmark_show(a){$("#bookmark_sel_hid").val(a);$(".bookmark_link").removeClass("act");$(".bookmark_link").addClass("pas");$(".bookmark_block").hide();$("#bookmark_"+a).show();1<$(".bookmark_link").length&&($("#bookmark_link_"+a).addClass("act"),$("#bookmark_link_"+a).removeClass("pas"));$(".bookmark_link:last").addClass("bookmark_last")}
function submenu_show(a,g){g||=$("body");$(".submenuItemTop",g).removeClass("active");$('.submenuItemTop a[href="'+a+'"]',g).parent().addClass("active");$(".submenuContent",g).hide();$(".submenuContent_"+a,g).show()}
function toggleCommunicationBlock(){Ajax.post("./ajax/ajax_communication_toggle.php",{},function(a){$(".toggle-communication-link").toggleClass("hidden");$("#main-column-right").attr("style",function(d,b){return"display: none !important"==b?null:"display: none !important"});a=$("#main-column-left");var g=a.attr("data-width-toggle");a.attr("data-width-toggle",a.attr("width"));a.attr("width",g)})}
function delRecordById(a){confirm(_("\u0412\u044b \u0434\u0435\u0439\u0441\u0442\u0432\u0438\u0442\u0435\u043b\u044c\u043d\u043e \u0445\u043e\u0442\u0438\u0442\u0435 \u0443\u0434\u0430\u043b\u0438\u0442\u044c \u0437\u0430\u043f\u0438\u0441\u044c?"))&&(window.location.href="?id="+a+"&del")}function updateNightsCount(a,g,d){return $("#"+d).val()}
function create_new_element(a,g,d,b,c,e,f){""==b&&(b=0);""==c&&(c=0);""==e&&(e=0);d="<div class='create_new_element_block'><div class='create_new_element_title'>"+_("\u041d\u0430\u0437\u0432\u0430\u043d\u0438\u0435")+" <span class='attention'>*</span>:</div> <input name='"+a+"_new' class='"+a+"_new form-control'></div>";var h=$dialogCounter;$dialog[h]=new DialogClass;$dialog[h].modalConfirmBox(d,_("\u0414\u043e\u0431\u0430\u0432\u043b\u0435\u043d\u0438\u0435 \u043d\u043e\u0432\u043e\u0439 \u0437\u0430\u043f\u0438\u0441\u0438"),
function(){var m=$dialog[h].getDialog().find("."+a+"_new");""!=trim(m.val())?Ajax.post("./ajax/ajax_sr_select.php",{type:g,selectname:a,par1:trim(m.val()),cnt_id:b,city_id:c,h_id:e,multiple:f},function(k){"sr_cnt"==a?($("#"+a+"_div").html(k),Ajax.post("./ajax/ajax_sr_select.php",{type:"city",cnt_id:$("#sr_cnt").val(),selectname:"sr_city",choose:0,added:1},function(l){$("#sr_city_div").html(l)}),Ajax.post("./ajax/ajax_sr_select.php",{type:"hotel",cnt_id:$("#sr_cnt").val(),city_id:0,selectname:"sr_h",
choose:0,added:1},function(l){$("#sr_h_div").html(l)})):"sr_city"==a?($("#"+a+"_div").html(k),Ajax.post("./ajax/ajax_sr_select.php",{type:"hotel",cnt_id:$("#sr_cnt").val(),city_id:$("#sr_city").val(),selectname:"sr_h",choose:0,added:1},function(l){$("#sr_h_div").html(l)})):"sr_h"==a?($("#"+a+"_div").html(k),Ajax.post("./ajax/ajax_sr_select.php",{type:"hotel_type",cnt_id:$("#sr_cnt").val(),city_id:$("#sr_city").val(),h_id:$("#sr_h").val(),selectname:"sr_ht",choose:0,added:1},function(l){$("#sr_ht_div").html(l)})):
$("#"+a+"_div").html(k)}):"sr_h"!=a&&"sr_ht"!=a&&create_new_element_block_error()});enterKeyBindObject($dialog[h].getDialog().find("."+a+"_new"),$dialog[h].getDefaultButton())}
function create_new_ss_element(a,g,d,b=0){suppliers_only_one("#"+a);g=$(".sst_list").val();$types=[];""!=g&&(g=$.parseJSON(g),$(g).each(function(e,f){$types.push('<option value="'+f.sst_id+'"'+(0<b?"selected":"")+">"+f.sst_name+"</option>")}));g="<div class='create_new_element_block'><div style='text-align: left; padding-left: 100px;'><div>"+_("\u041d\u0430\u0437\u0432\u0430\u043d\u0438\u0435")+" <span class='attention'>*</span>:</div><div style='padding: 5px 0 10px;'><input name='"+a+"_new' class='"+
a+"_new form-control inline input_width'></div><div class='create_new_element_type'>"+_("\u0422\u0438\u043f")+" <span class='attention'>*</span>:</div><div style='padding: 5px 0 10px;'><label class='custom-select input_width'><select name='"+a+"_new_type' class='"+a+"_new_type form-control inline'>"+$types.join("")+"</select></label><span class='far fa-question-circle text-danger' tooltip='\u0422\u0438\u043f \u043c\u043e\u0436\u043d\u043e \u0434\u043e\u0431\u0430\u0432\u0438\u0442\u044c \u0432 \u0440\u0430\u0437\u0434\u0435\u043b\u0435 \u041f\u0430\u0440\u0442\u043d\u0435\u0440\u044b - \u0422\u0438\u043f\u044b \u043f\u0430\u0440\u0442\u043d\u0435\u0440\u043e\u0432' style='font-size: 16px; margin-left: 10px;'></span></div></div></div>";
var c=$dialogCounter;$dialog[c]=new DialogClass;$dialog[c].modalConfirmBox(g,_("\u0414\u043e\u0431\u0430\u0432\u043b\u0435\u043d\u0438\u0435 \u043d\u043e\u0432\u043e\u0439 \u0437\u0430\u043f\u0438\u0441\u0438"),function(){var e=$dialog[c].getDialog().find("."+a+"_new"),f=$dialog[c].getDialog().find("."+a+"_new_type");""!=trim(e.val())?Ajax.post("./ajax/ajax_ss_select.php",{selectname:a,par1:trim(e.val()),type:trim(f.val()),only_one:d,sst_id:b},function(h){$("#"+a+"_div").html(h)}):create_new_element_block_error()});
tooltipInit();enterKeyBindObject($dialog[c].getDialog().find("."+a+"_new"),$dialog[c].getDefaultButton())}
function create_input_element(a,g,d){d="<div class='create_new_element_block'><div class='create_new_element_title'>"+_("\u041d\u0430\u0437\u0432\u0430\u043d\u0438\u0435")+" <span class='attention'>*</span>:</div> <input name='"+a+"_new' class='"+a+"_new form-control'><br/></div>";var b=$dialogCounter;$dialog[b]=new DialogClass;$dialog[b].modalConfirmBox(d,_("\u0414\u043e\u0431\u0430\u0432\u043b\u0435\u043d\u0438\u0435 \u043d\u043e\u0432\u043e\u0439 \u0437\u0430\u043f\u0438\u0441\u0438"),function(){var c=
$dialog[b].getDialog().find("."+a+"_new");""!=trim(c.val())?Ajax.post("./ajax/ajax_select.php",{type:g,selectname:a,par1:trim(c.val())},function(e){$("#"+a+"_div").html(e)}):create_new_element_block_error()});enterKeyBindObject($dialog[b].getDialog().find("."+a+"_new"),$dialog[b].getDefaultButton())}
function create_input_element_single(a,g,d,b){var c=b||0;d="<div class='create_new_element_title'>"+_("\u041d\u0430\u0437\u0432\u0430\u043d\u0438\u0435")+" <span class='attention'>*</span>:</div> <input name='"+a+"_new' class='"+a+"_new form-control' /></div>";var e=$dialogCounter;$dialog[e]=new DialogClass;$dialog[e].modalConfirmBox(d,_("\u0414\u043e\u0431\u0430\u0432\u043b\u0435\u043d\u0438\u0435 \u043d\u043e\u0432\u043e\u0439 \u0437\u0430\u043f\u0438\u0441\u0438"),function(){var f=$dialog[e].getDialog().find("."+
a+"_new");""!=trim(f.val())?Ajax.post("./ajax/ajax_select"+(1==c?"_inline":"")+".php",{type:g,selectname:a,par1:trim(f.val())},function(h){$("#"+a+"_div").html(h)}):create_new_element_block_error()});enterKeyBindObject($dialog[e].getDialog().find("."+a+"_new"),$dialog[e].getDefaultButton())}
function form_send_email(a,g="",d="",b="",c=""){a?Ajax.post("/ajax/ajax_form_send_email.php",{u_email:a,subject:g,text:d,r_id:b,client_id:c},function(e){fillAndShow("",e,"",{innerWidth:"90%"})}):DialogError(_('\u041d\u0435 \u0437\u0430\u043f\u043e\u043b\u043d\u0435\u043d\u043e \u043f\u043e\u043b\u0435 "Email". \u041e\u0442\u043f\u0440\u0430\u0432\u043a\u0430 \u0441\u043e\u043e\u0431\u0449\u0435\u043d\u0438\u044f \u043d\u0435\u0432\u043e\u0437\u043c\u043e\u0436\u043d\u0430!'))}
function form_send_sms(a,g,d="",b="",c=""){g?Ajax.post("/ajax/ajax_form_send_sms.php",{r_id:c,user_id:a,phone:g,text:d,comment:b},function(e){fillAndShow("",e,"",{innerWidth:"90%"})}):DialogError(_('\u041d\u0435 \u0437\u0430\u043f\u043e\u043b\u043d\u0435\u043d\u043e \u043f\u043e\u043b\u0435 "\u0422\u0435\u043b\u0435\u0444\u043e\u043d". \u041e\u0442\u043f\u0440\u0430\u0432\u043a\u0430 SMS \u043d\u0435\u0432\u043e\u0437\u043c\u043e\u0436\u043d\u0430!'))}
function form_subscribe_email(a,g,d,b,c,e,f){a?Ajax.post("/ajax/ajax_form_subscribe_email.php",{u_email:a,u_name:g,u_sname:d,u_surname:b,u_birthday:c,u_phone:e,u_sex:f},function(h){fillAndShow("",h)}):DialogError(_("\u0423 \u0437\u0430\u043a\u0430\u0437\u0447\u0438\u043a\u0430 \u043d\u0435 \u0437\u0430\u043f\u043e\u043b\u043d\u0435\u043d E-mail \u0430\u0434\u0440\u0435\u0441. \u0414\u043e\u0431\u0430\u0432\u043b\u0435\u043d\u0438\u0435 \u0432 \u043b\u0438\u0441\u0442 \u0440\u0430\u0441\u0441\u044b\u043b\u043a\u0438 \u043d\u0435\u0432\u043e\u0437\u043c\u043e\u0436\u043d\u043e!"))}
function suppliers_only_one(a){var g=$(a).attr("id"),d=null;a&&(d=$(a).parents("table").first());$(".service_suppliers",d).each(function(){$(this).attr("id")!=g&&$(this).val(0)})}function sync_dates(a,g){a.on("change",function(){(Utilits.convertDateToDatabase(g.val())<Utilits.convertDateToDatabase(a.val())||""==g.val())&&set_datetime_value(g,a.val())})}
function sync_times(a,g){a.on("change",function(){if(/[0-9]{2}:[0-9]{2}/.test(a.val())){var d=a.val().split(":"),b=new Date(1970,1,1,d[0],d[1]);b.setMinutes(b.getMinutes()+30);var c=""+b.getHours();d="00".substring(0,2-c.length)+c;c=""+b.getMinutes();b="00".substring(0,2-c.length)+c;g.val(d+":"+b)}})}
function service_request_check(){var a=0;$("#dates_updated").length&&(a=$("#dates_updated").val());if(1==$acl_deny_past_date&&1==a){if(Utilits.convertDateToDatabase($("#sr_dat_begin").val(),!1)<Utilits.currentDateDatabase())return _("\u0414\u0430\u0442\u0430 \u043d\u0430\u0447\u0430\u043b\u0430 \u043d\u0435 \u043c\u043e\u0436\u0435\u0442 \u0431\u044b\u0442\u044c \u043c\u0435\u043d\u044c\u0448\u0435 \u0442\u0435\u043a\u0443\u0449\u0435\u0439 \u0434\u0430\u0442\u044b");if(Utilits.convertDateToDatabase($("#sr_dat_end").val(),
!1)<Utilits.currentDateDatabase())return _("\u0414\u0430\u0442\u0430 \u043e\u043a\u043e\u043d\u0447\u0430\u043d\u0438\u044f \u043d\u0435 \u043c\u043e\u0436\u0435\u0442 \u0431\u044b\u0442\u044c \u043c\u0435\u043d\u044c\u0448\u0435 \u0442\u0435\u043a\u0443\u0449\u0435\u0439 \u0434\u0430\u0442\u044b")}return""}
function service_request_update(a,g,d,b,c,e,f,h,m,k,l,p,q,u,t,C,D,w,z,L,U,V,Y,T,J,P,K,E){var x=0;$("#dates_updated").length&&(x=$("#dates_updated").val());var H=0;$("#koef_netto_updated").length&&(H=$("#koef_netto_updated").val());var M=0;$("#koef_updated").length&&(M=$("#koef_updated").val());var G=$("#sr_other").length?$("#sr_other").val():0,N=$("#sr_with_currency_netto").length?$("#sr_with_currency_netto").val():0,R=$("#sr_with_currency").length?$("#sr_with_currency").val():0,O=$("#sr_dat_begin").val(),
da=$("#sr_dat_end").val(),X=$("#sr_koef_netto").val(),la=$("#sr_koef").val(),qa=0;1==u&&(qa=1);u=0;1==t&&(u=1);t=0;1==C&&(t=1);C=0;1==D&&(C=1);D=0;1==w&&(D=1);w=0;1==z&&(w=1);var va=0;$("#request_is_lead").length&&(va=$("#request_is_lead").val());z="";$("#sr_service_link").length&&(z=$("#sr_service_link").val());var pa="";$("#sr_duration").length&&(pa=$("#sr_duration").val());var wa="";$("#sr_duration_en").length&&(wa=$("#sr_duration_en").val());var oa="";$("#sr_pickup_place_en").length&&(oa=$("#sr_pickup_place_en").val());
var Fa=0;$(".serviceRequestPriceDiscount").length&&(Fa=$(".serviceRequestPriceDiscount").val());var Ja=0;$("#sr_c_id_discount_type").length&&(Ja=$("#sr_c_id_discount_type").val());var Ka=[];$(q).length&&$(q).each(function(Ga,Aa){Ka[Ga]=$(this).val()});var $a=Ka.join(","),Za=[];0<$(".submenuContent_sr-avia.hidden").length||$("input[id*=at_count_]").each(function(Ga,Aa){Za[Ga]=[encodeURIComponent($("#at_id_"+$(this).val()).val()),$("#at_dat_begin_"+$(this).val()).val(),$("#at_dat_end_"+$(this).val()).val(),
$("#at_time_begin_"+$(this).val()).val(),$("#at_time_end_"+$(this).val()).val(),encodeURIComponent($("#at_flight_number_"+$(this).val()).val()),encodeURIComponent($("#at_course_begin_"+$(this).val()).val()),encodeURIComponent($("#at_course_end_"+$(this).val()).val()),encodeURIComponent($("#at_code_begin_"+$(this).val()).val()),encodeURIComponent($("#at_code_end_"+$(this).val()).val()),encodeURIComponent($("#at_type_"+$(this).val()).val()),encodeURIComponent($("#at_class_"+$(this).val()).val()),encodeURIComponent($("#at_duration_"+
$(this).val()).val()),$("#at_ss_id_"+$(this).val()).val(),encodeURIComponent($("#at_terminal_begin_"+$(this).val()).val()),encodeURIComponent($("#at_terminal_end_"+$(this).val()).val()),encodeURIComponent($("#at_seats_"+$(this).val()).val()),encodeURIComponent($("#at_tickets_"+$(this).val()).val()),encodeURIComponent($("#at_class_id_"+$(this).val()).val()),encodeURIComponent($("#at_baggage_"+$(this).val()).val()),encodeURIComponent($("#at_type_id_"+$(this).val()).val())]});var Ma=[],sb=[],lb,jb;$(".serviceDiscountItem").each(function(Ga,
Aa){Aa=$(Aa);lb=0;Aa.find(".sdPriceNetto").is(":checked")&&(lb=1);jb=0;Aa.find(".sdPrice").is(":checked")&&(jb=1);Ma[Ga]=[Aa.attr("data-id"),Aa.find(".sdAmount").val(),Aa.find(".sdCurrency").val(),Aa.find(".sdReason").val(),Aa.find(".sdReasonEn").val(),lb,jb];sb[Ga]=[];Aa.find(".sdPeriodList li[default=0]").each(function(Va,db){var kb=$(db),rb=0;$(db).find("input").is(":checked")&&(rb=1);sb[Ga][Va]=[kb.attr("data-id"),kb.attr("data-hash"),rb]})});var tb=[];$(".servicePriceItem").each(function(Ga,
Aa){Aa=$(Aa);tb[Ga]=[Aa.attr("data-id"),Aa.attr("data-hash"),Aa.find(".spDateBegin").val(),Aa.find(".spTimeBegin").val(),Aa.find(".spDateEnd").val(),Aa.find(".spTimeEnd").val(),Aa.find(".spNightsCount").val(),Aa.find(".spPriceNetto").val(),Aa.find(".spPriceChildNetto").val(),Aa.find(".spPriceBabyNetto").val(),Aa.find(".spPrice").val(),Aa.find(".spPriceChild").val(),Aa.find(".spPriceBaby").val()]});q=0;$("#sr_koef_netto_fixed").is(":checked")&&(q=1);var Ra=1;$("#sr_koef_netto").length&&(Ra=$("#sr_koef_netto").val());
var ia=0;$("#sr_koef_fixed").is(":checked")&&(ia=1);var y=1;$("#sr_koef").length&&(y=$("#sr_koef").val());var Na=0;$(p).each(function(Ga,Aa){0<parseInt(Aa)&&(Na=Aa)});var pb=0;0<$("#supplier_old_id").length&&parseInt($("#supplier_old_id").val())!=Na&&(pb=1);var ib=0;0<$("#hotel_old_id").length&&parseInt($("#hotel_old_id").val())!=parseInt(m)&&(ib=1);var Ab=parseInt($("#sr_tr_count").val()),vb=parseInt($("#sr_tr_child_count").val()),mb=parseInt($("#sr_tr_baby_count").val()),Sa=0;if($("#tourists_old").length&&
$("#tourists_old").val()!=""+Ab+","+vb+","+mb||$("#tourists_ids_old").length&&$("#tourists_ids_old").val()!=$a)Sa=1;var Kb=$(".serviceRequestPriceNetto").val();$a=$(".serviceRequestPrice").val();var Mb=$("#sr_c_id").val(),xa=$("#sr_c_id_netto").val(),Ca={type:a,r_id:g,sr_id:d,sr_s_id:b,sr_in_package:$("#sr_in_package").val(),sr_catalog_dat_begin:$("#sr_catalog_dat_begin").val(),sr_catalog_dat_end:$("#sr_catalog_dat_end").val(),sr_catalog_days:$("#sr_catalog_days").val(),sr_catalog_service_id:$("#sr_catalog_service_id").val(),
sr_catalog_package_id:$("#sr_catalog_package_id").val(),sr_catalog_quota_count:$("#sr_catalog_quota_count").val(),sr_dat_begin:O,sr_dat_end:da,sr_dates_exclude:0<$("#sr_dates_exclude:checked").length?1:0,sr_at_id:$("#sr_at_id").val(),sr_arrive_departure:$("#sr_arrive_departure").val(),sr_srs_id:c,sr_status_dat:$("#sr_status_dat").val(),sr_description:e,sr_description_en:$("#sr_description_en").val(),sr_cnt:f,sr_city:h,sr_h:m,sr_confirmation_number:k,sr_pickup_place:l,sr_pickup_place_en:oa,"sr_ss_ar[]":p,
"tr_ids[]":Ka,sr_meet:qa,sr_trips:u,sr_transfer:t,sr_visa_supply:C,sr_insurance:D,sr_insurance_noreturn:w,sr_ht:L,sr_hp:$("#sr_hp").val(),sr_nutrition:U,sr_course:V,sr_course_en:Y,sr_remarks:$("#sr_remarks").val(),sr_type:T,sr_type_en:J,sr_class:P,sr_duration:pa,sr_duration_en:wa,sr_dat_client_gave_docs:$("#sr_dat_client_gave_docs").val(),sr_dat_docs_give:$("#sr_dat_docs_give").val(),sr_dat_docs_take:$("#sr_dat_docs_take").val(),sr_passport_children_mark:0<$("#sr_passport_children_mark").length&&
$("#sr_passport_children_mark").is(":checked")?1:0,sr_passport_new_number:0<$("#sr_passport_new_number").length?$("#sr_passport_new_number").val():"",sr_passport_new_tourist_update:0<$("#sr_passport_new_tourist_update").length&&$("#sr_passport_new_tourist_update").is(":checked")?1:0,sr_passport_new_client_update:0<$("#sr_passport_new_client_update").length&&$("#sr_passport_new_client_update").is(":checked")?1:0,sr_price_ext_netto:$(".serviceRequestPriceExtNetto").val(),sr_price_ext:$(".serviceRequestPriceExt").val(),
sr_price_ext_c_id:$("#sr_price_ext_c_id").val(),sr_price_ext_child_netto:$(".serviceRequestPriceExtChildNetto").val(),sr_price_ext_child:$(".serviceRequestPriceExtChild").val(),sr_price_ext_child_c_id:$("#sr_price_ext_child_c_id").val(),sr_price_ext_baby_netto:$(".serviceRequestPriceExtBabyNetto").val(),sr_price_ext_baby:$(".serviceRequestPriceExtBaby").val(),sr_price_ext_baby_c_id:$("#sr_price_ext_baby_c_id").val(),sr_price_ext_reason:$("#sr_price_ext_reason").val(),sr_price_ext_tr_count:$(".serviceRequestPriceExtTouristCount").val(),
sr_price_ext_tr_child_count:$(".serviceRequestPriceExtChildTouristCount").val(),sr_price_ext_tr_baby_count:$(".serviceRequestPriceExtBabyTouristCount").val(),sr_tr_count:Ab,sr_tr_child_count:vb,sr_tr_baby_count:mb,sr_price_netto_without_discount:$(".serviceRequestPriceNettoWithoutDiscount").val(),sr_price_netto_operator:$(".serviceRequestPriceNettoOperator").val(),sr_price_netto:Kb,sr_price_without_discount:$(".serviceRequestPriceWithoutDiscount").val(),sr_discount:Fa,sr_discount_is_percent:Ja,sr_price:$a,
sr_c_id:Mb,sr_c_id_netto:xa,sr_koef_netto:Ra,sr_koef_netto_touroperator_id:$("#sr_koef_netto_touroperator_id").val(),sr_koef_netto_touroperator_rate_diff:$("#sr_koef_netto_touroperator_rate_diff").val(),sr_koef_netto_fixed:q,sr_koef:y,sr_koef_touroperator_id:$("#sr_koef_touroperator_id").val(),sr_koef_touroperator_rate_diff:$("#sr_koef_touroperator_rate_diff").val(),sr_koef_fixed:ia,sr_note:K,sr_note_manager:$("#sr_note_manager").val(),sr_cancel_conditions:$("#sr_cancel_conditions").val(),"sr_at_array[]":Za,
"sr_sd_array[]":Ma,"sr_sp_array[]":tb,"sr_sd_sp_array[]":sb,sr_service_link:z,sr_active:$("#sr_active").val()};0<$(".r_ext_field_service[name*=r_ext_field]").length&&$(".r_ext_field_service[name*=r_ext_field]").each(function(Ga,Aa){Ca[$(Aa).attr("name")]=$(Aa).val()});$.post("./ajax/ajax_services.php",Ca,function(Ga){$(".services").length&&$(".services").html(Ga);1==E&&window.location.reload();2==a&&0<G&&1==x&&!va&&(new DialogClass).modalConfirmBox(_("\u0418\u0437\u043c\u0435\u043d\u0438\u0442\u044c \u0434\u0430\u0442\u044b \u0443 \u0432\u0441\u0435\u0445 \u043e\u0441\u0442\u0430\u043b\u044c\u043d\u044b\u0445 \u0443\u0441\u043b\u0443\u0433 \u043d\u0430 \u0434\u0430\u0442\u044b ")+
O+" - "+da+"?",_("\u0418\u0437\u043c\u0435\u043d\u0435\u043d\u0438\u0435 \u0434\u0430\u0442"),function(){$.post("/ajax/ajax_services_requests_dates_update.php",{r_id:g,dat_begin:O,dat_end:da},function(){Ajax.post("/ajax/ajax_services.php",{r_id:g},function(Aa){$("#services").html(Aa)})})});2==a&&0<G&&1==pb&&!va&&(new DialogClass).modalConfirmBox(_("\u0418\u0437\u043c\u0435\u043d\u0438\u0442\u044c \u043f\u043e\u0441\u0442\u0430\u0432\u0449\u0438\u043a\u0430 \u0443 \u0432\u0441\u0435\u0445 \u043e\u0441\u0442\u0430\u043b\u044c\u043d\u044b\u0445 \u0443\u0441\u043b\u0443\u0433")+
"?",_("\u0418\u0437\u043c\u0435\u043d\u0435\u043d\u0438\u0435 \u043f\u043e\u0441\u0442\u0430\u0432\u0449\u0438\u043a\u0430"),function(){$.post("/ajax/ajax_services_requests_supplier_update.php",{r_id:g,ss_id:p[0]},function(){Ajax.post("/ajax/ajax_services.php",{r_id:g},function(Aa){$("#services").html(Aa)})})});2==a&&0<G&&1==ib&&!va&&(new DialogClass).modalConfirmBox(_("\u0418\u0437\u043c\u0435\u043d\u0438\u0442\u044c \u043e\u0442\u0435\u043b\u044c \u0443 \u0432\u0441\u0435\u0445 \u043e\u0441\u0442\u0430\u043b\u044c\u043d\u044b\u0445 \u0443\u0441\u043b\u0443\u0433")+
"?",_("\u0418\u0437\u043c\u0435\u043d\u0435\u043d\u0438\u0435 \u043e\u0442\u0435\u043b\u044f"),function(){$.post("/ajax/ajax_services_requests_hotel_update.php",{r_id:g,cnt_id:f,city_id:h,h_id:m},function(){Ajax.post("/ajax/ajax_services.php",{r_id:g},function(Aa){$("#services").html(Aa)})})});2==a&&0<G&&1==Sa&&!va&&(new DialogClass).modalConfirmBox(_("\u0418\u0437\u043c\u0435\u043d\u0438\u0442\u044c \u043a\u043e\u043b\u0438\u0447\u0435\u0441\u0442\u0432\u043e \u0442\u0443\u0440\u0438\u0441\u0442\u043e\u0432 (\u0432\u0437\u0440/\u0434\u0435\u0442\u0435\u0439/\u043c\u043b\u0430\u0434) \u0443 \u0432\u0441\u0435\u0445 \u043e\u0441\u0442\u0430\u043b\u044c\u043d\u044b\u0445 \u0443\u0441\u043b\u0443\u0433")+
"?",_("\u0418\u0437\u043c\u0435\u043d\u0435\u043d\u0438\u0435 \u043a\u043e\u043b\u0438\u0447\u0435\u0441\u0442\u0432\u0430 \u0442\u0443\u0440\u0438\u0441\u0442\u043e\u0432"),function(){$.post("/ajax/ajax_services_requests_tourists_update.php",{r_id:g,tr_count:Ab,tr_child_count:vb,tr_baby_count:mb,tr_ids:Ka},function(){Ajax.post("/ajax/ajax_services.php",{r_id:g},function(Aa){$("#services").html(Aa)})})});2==a&&(0<N&&1==H||0<R&&1==M)&&!va&&(new DialogClass).modalConfirmBox(_("\u0418\u0437\u043c\u0435\u043d\u0438\u0442\u044c \u043a\u0443\u0440\u0441 \u0432\u0430\u043b\u044e\u0442\u044b \u0443 \u0432\u0441\u0435\u0445 \u043e\u0441\u0442\u0430\u043b\u044c\u043d\u044b\u0445 \u0443\u0441\u043b\u0443\u0433? \u0421\u043d\u0438\u043c\u0438\u0442\u0435 \u0433\u0430\u043b\u043e\u0447\u043a\u0443, \u0435\u0441\u043b\u0438 \u043d\u0435 \u0445\u043e\u0442\u0438\u0442\u0435 \u0438\u0437\u043c\u0435\u043d\u044f\u0442\u044c \u043a\u0443\u0440\u0441:")+
'<div style="margin-top: 15px;">'+(1!=X&&1==H?'<div><label><input type="checkbox" id="koef_netto_update" value="1" checked /> '+_("\u043a\u0443\u0440\u0441 \u0441\u0435\u0431\u0435\u0441\u0442\u043e\u0438\u043c\u043e\u0441\u0442\u0438")+" - "+X+"</label></div>":"")+(1!=la&&1==M?'<div><label><input type="checkbox" id="koef_update" value="1" checked /> '+_("\u043a\u0443\u0440\u0441 \u0434\u043b\u044f \u043a\u043b\u0438\u0435\u043d\u0442\u0430")+" - "+la+"</label></div>":"")+"</div>",_("\u0418\u0437\u043c\u0435\u043d\u0435\u043d\u0438\u0435 \u043a\u0443\u0440\u0441\u0430"),
function(){var Aa=$("#koef_netto_update:checked").length?1:0,Va=$("#koef_update:checked").length?1:0,db={r_id:g};Aa&&(db.koef_netto=X);Va&&(db.koef=la);$.post("/ajax/ajax_services_requests_koef_update.php",db,function(){Ajax.post("/ajax/ajax_services.php",{r_id:g},function(kb){$("#services").html(kb)})})});1==a&&$("#payment_plan_popup").length&&1==$("#payment_plan_popup").val()&&$(".services").length&&$("#payment_partner_plan_is_accessible").length&&1==$("#payment_partner_plan_is_accessible").val()&&
!va&&Dialog.modalConfirmBox(_("\u0425\u043e\u0442\u0438\u0442\u0435 \u0434\u043e\u0431\u0430\u0432\u0438\u0442\u044c \u043f\u043b\u0430\u043d\u043e\u0432\u044b\u0439 \u043f\u043b\u0430\u0442\u0435\u0436 \u043f\u043e\u0441\u0442\u0430\u0432\u0449\u0438\u043a\u0443 \u0443\u0441\u043b\u0443\u0433\u0438?")+"<br/><br/><span class='colorGray' style='font-size: 11px;'><b>"+_("\u041a\u0430\u043a \u043e\u0442\u043a\u043b\u044e\u0447\u0438\u0442\u044c \u0432\u0441\u043f\u043b\u044b\u0432\u0430\u044e\u0449\u0435\u0435 \u043e\u043a\u043d\u043e?")+
"</b><br/>"+_('\u0412 \u0440\u0430\u0437\u0434\u0435\u043b\u0435 "\u041d\u0430\u0441\u0442\u0440\u043e\u0439\u043a\u0438 &rarr; \u041f\u0440\u0430\u0432\u0430 \u0434\u043e\u0441\u0442\u0443\u043f\u0430 &rarr; \u0410\u0432\u0442\u043e\u043c\u0430\u0442\u0438\u0447\u0435\u0441\u043a\u043e\u0435 \u043e\u043a\u043e\u0448\u043a\u043e "\u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c \u043f\u043b\u0430\u043d\u043e\u0432\u044b\u0439 \u043f\u043b\u0430\u0442\u0435\u0436?" \u043f\u0440\u0438 \u0434\u043e\u0431\u0430\u0432\u043b\u0435\u043d\u0438\u0438 \u0443\u0441\u043b\u0443\u0433\u0438" \u0443\u0431\u0435\u0440\u0438\u0442\u0435 \u0433\u0430\u043b\u043e\u0447\u043a\u0443')+
"</span>",_("\u041f\u043b\u0430\u043d\u043e\u0432\u044b\u0439 \u043f\u043b\u0430\u0442\u0435\u0436"),function(){$.post("/ajax/ajax_payment_partner_plan_update.php",{r_id:g,p_ss_id:Na,p_price:Kb,p_c_id:Mb,p_koef:Ra},function(Aa){fillAndShow("payment_partner_new",Aa)})});Ga=$(".show_ajax_result_message");0==d&&Ga.length&&noty({type:"success",text:Ga.attr("data-message")})});$("#finance_div").length&&setTimeout("$.post('./ajax/ajax_finance.php', {r_id: "+g+"}, function (data) { $('#finance_div').html(data); })",
1E3)}function service_request_list_reload(a){Ajax.post("/ajax/ajax_services.php",{r_id:a},function(g){$("#services").html(g)});setTimeout("$.post('./ajax/ajax_finance.php', {r_id: "+a+"}, function (data) { $('#finance_div').html(data); })",1E3)}
function client_update(a,g,d){var b=$.Deferred(),c=$("#u_type").val(),e=0;$(".existing-client-block").each(function(f,h){""!=$(h).html()&&(e=1)});1==e?(noty({type:"error",text:_("\u0418\u0441\u043f\u0440\u0430\u0432\u044c\u0442\u0435, \u043f\u043e\u0436\u0430\u043b\u0443\u0439\u0441\u0442\u0430, \u0432\u043e\u0437\u043d\u0438\u043a\u0448\u0438\u0435 \u043e\u0448\u0438\u0431\u043a\u0438")}),b.resolve(!1)):$.post("/ajax/ajax_email_exist_check.php",{id:d,email:$("#u_email").val()},function(f){$.noty.closeAll();
if(f.invalidate)noty({type:"error",text:_("\u041d\u0435\u0432\u0435\u0440\u043d\u044b\u0439 \u0444\u043e\u0440\u043c\u0430\u0442 E-mail \u0430\u0434\u0440\u0435\u0441\u0430!")}),b.resolve(!1);else{var h={type:a,r_id:g,u_id:d,u_type:c};f="u_image u_manager_id u_tk_id u_sex u_surname u_name u_sname u_surname_rod u_name_rod u_sname_rod u_proxy_number u_surname_en u_name_en u_company u_birthday u_birthday_place u_birthday_certificate u_birthday_certificate_given u_birthday_certificate_organization u_passport_russia u_passport_number u_passport_taken u_passport_date u_passport_code u_zagran_number u_zagran_given u_zagran_expire u_zagran_organization u_zagran_number2 u_zagran_given2 u_zagran_expire2 u_zagran_organization2 sr_cnt sr_city u_address u_address_p u_phone u_phone_home u_phone_mobile u_mother_name u_father_name u_contacts u_contract_begin u_contract_end u_contract_number u_discount u_email u_position u_position_rod u_address_u u_fax u_inn u_kpp u_ogrn u_okved u_finance_bank u_finance_rs u_finance_ks u_finance_bik u_finance_okpo u_note u_social_vk u_social_fb u_social_ok u_viber u_whatsapp u_telegram u_max u_instagram u_discount_card_number u_discount_card_expire u_discount_card_bonus u_source".split(" ");
for(var m=0;m<f.length;++m)$("#"+f[m]).length&&(h[f[m]]=$("#"+f[m]).val());0<$(".ext_field_user[name*=r_ext_field]").length&&$(".ext_field_user[name*=r_ext_field]").each(function(k,l){h[$(l).attr("name")]=$(l).val()});f=0;$("#client-active-sms").is(":checked")&&(f=1);m=0;$("#client-active-email").is(":checked")&&(m=1);h["active-sms"]=f;h["active-email"]=m;h["labels[]"]=$("#labels").val();0<$("#u_delivery_subscription").length&&(h.u_delivery_subscription=$("#u_delivery_subscription").val());0<$(".client_visa_ids").length&&
(h.client_visa_ids=$(".client_visa_ids").val());0<$(".client_insurance_ids").length&&(h.client_insurance_ids=$(".client_insurance_ids").val());0<$(".client_file_ids").length&&(h.client_file_ids=$(".client_file_ids").val());$("#us_notifications").length&&(h.us_notifications=$("#us_notifications").val());$.post("./ajax/ajax_client.php",h,function(k){$("#client_div").html(k);$(".documents-request-container").length&&refresh_documents(g);0<$("#services_selection").length&&refresh_services_selection(g);
0<$(".qq-container").length&&quickReservationButton(g);0<$("#u_id").length&&$("#u_id").val(d);$("#request_id").length?0==$("#request_is_lead").length&&1==c&&(Dialog.modalConfirmBox(_("\u0425\u043e\u0442\u0438\u0442\u0435 \u043f\u0440\u0438\u043a\u0440\u0435\u043f\u0438\u0442\u044c \u043f\u043e\u043a\u0443\u043f\u0430\u0442\u0435\u043b\u044f \u0442\u0430\u043a\u0436\u0435 \u0432 \u043a\u0430\u0447\u0435\u0441\u0442\u0432\u0435 \u0442\u0443\u0440\u0438\u0441\u0442\u0430?"),_("\u0414\u043e\u0431\u0430\u0432\u043b\u0435\u043d\u0438\u0435 \u0442\u0443\u0440\u0438\u0441\u0442\u0430"),
function(){$("#client_id")&&(d=$("#client_id").val());tourist_update(3,g,d)}),0!=$("#client_discount").val()&&(new DialogClass).modalConfirmBox(_("\u041f\u0440\u0438\u043c\u0435\u043d\u0438\u0442\u044c \u0441\u043a\u0438\u0434\u043a\u0443 \u043a\u043b\u0438\u0435\u043d\u0442\u0430 \u0432 \u0440\u0430\u0437\u043c\u0435\u0440\u0435 "+$("#client_discount").val()+"% \u043d\u0430 \u0443\u0441\u043b\u0443\u0433\u0438?"),_("\u0421\u043a\u0438\u0434\u043a\u0430 \u043a\u043b\u0438\u0435\u043d\u0442\u0443"),
function(){Ajax.post("/ajax/ajax_services_requests_set_discount.php",{r_id:g,u_id:d},function(){$.post("./ajax/ajax_finance.php",{r_id:g},function(l){$("#finance_div").html(l)});$.post("./ajax/ajax_services.php",{r_id:g},function(l){$("#services").html(l)})})})):noty({type:"success",text:_("\u041a\u043b\u0438\u0435\u043d\u0442 \u0431\u044b\u043b \u0443\u0441\u043f\u0435\u0448\u043d\u043e \u0434\u043e\u0431\u0430\u0432\u043b\u0435\u043d")});b.resolve(!0)})}},"json");return b.promise()}
function leads_client_select(a,g){$.post("./ajax/ajax_client.php",{type:3,r_id:a,u_id:g},function(d){$("#client_div").html(d);$(".documents-request-container").length&&refresh_documents(a);0<$("#services_selection").length&&refresh_services_selection(a)})}function refresh_documents(a,g,d){Ajax.post("./documents.php",{r_id:a,ci_id:g,ttype_id:d},function(b){$(".documents-request-container").html(b)})}
function copySelection(a){Ajax.ajax({type:"POST",url:"/ajax/ajax_service_selection_request_search.php",data:{rss_id:a},success:function(g){Dialog.modalConfirmBox(g,_("\u041a\u043e\u043f\u0438\u0440\u043e\u0432\u0430\u043d\u0438\u0435 \u043f\u043e\u0434\u0431\u043e\u0440\u043a\u0438"))}})}
function removeSelection(a,g){Dialog.modalConfirmBox(_("\u0412\u044b \u0434\u0435\u0439\u0441\u0442\u0432\u0438\u0442\u0435\u043b\u044c\u043d\u043e \u0445\u043e\u0442\u0438\u0442\u0435 \u0443\u0434\u0430\u043b\u0438\u0442\u044c \u043f\u043e\u0434\u0431\u043e\u0440\u043a\u0443 \u0441\u043e \u0432\u0441\u0435\u043c\u0438 \u0442\u0443\u0440\u0430\u043c\u0438 \u0432\u043d\u0443\u0442\u0440\u0438"),_("\u0423\u0434\u0430\u043b\u0435\u043d\u0438\u0435 \u043f\u043e\u0434\u0431\u043e\u0440\u043a\u0438"),function(){Ajax.ajax({type:"POST",
url:"/ajax/ajax_services_selection_remove.php",data:{id:g},dataType:"json",success:function(d){d&&d.error?DialogError(d.error):a.parents(".selection-block-container").remove()}})})}function refresh_services_selection(a){Ajax.post("/ajax/ajax_services_selection.php",{r_id:a},function(g){$("#services_selection").html(g)})}
function tourist_update(a,g,d,b,c,e){var f={type:a,r_id:g,u_id:d,docs:b,docs_copy:c,treq_note:e};a="u_type u_image u_manager_id u_tk_id u_sex u_surname u_name u_sname u_surname_rod u_name_rod u_sname_rod u_proxy_number u_surname_en u_name_en u_company u_birthday u_birthday_place u_birthday_certificate u_birthday_certificate_given u_birthday_certificate_organization u_passport_russia u_passport_number u_passport_taken u_passport_date u_passport_code u_zagran_number u_zagran_given u_zagran_expire u_zagran_organization u_zagran_number2 u_zagran_given2 u_zagran_expire2 u_zagran_organization2 u_address u_address_p u_phone u_phone_home u_phone_mobile u_mother_name u_father_name u_contacts u_contract_begin u_contract_end u_contract_number u_discount u_email u_position u_position_rod u_address_u u_fax u_inn u_kpp u_ogrn u_okved u_finance_bank u_finance_rs u_finance_ks u_finance_bik u_finance_okpo u_note u_social_vk u_social_fb u_social_ok sr_cnt sr_city u_viber u_whatsapp u_telegram u_max u_instagram u_discount_card_number u_discount_card_expire u_discount_card_bonus u_source".split(" ");for(g=
0;g<a.length;++g)$("#"+a[g]).length&&(f[a[g]]=$("#"+a[g]).val());0<$("#u_delivery_subscription").length&&(f.u_delivery_subscription=$("#u_delivery_subscription").val());0<$("#us_notifications").length&&(f.us_notifications=$("#us_notifications").val());0<$(".client_visa_ids").length&&(f.client_visa_ids=$(".client_visa_ids").val());0<$(".client_insurance_ids").length&&(f.client_insurance_ids=$(".client_insurance_ids").val());0<$(".client_file_ids").length&&(f.client_file_ids=$(".client_file_ids").val());
$("#labels_hidden").length&&(f["labels[]"]=$("#labels").val(),f.labels_hidden=$("#labels_hidden").val());0<$(".ext_field_user[name*=r_ext_field]").length&&$(".ext_field_user[name*=r_ext_field]").each(function(h,m){f[$(m).attr("name")]=$(m).val()});Ajax.post("./ajax/ajax_tourists.php",f,function(h){$("#tourists").html(h)})}
function feedback_update(a,g,d,b){if("string"===typeof b)try{b=JSON.parse(b)}catch(e){b={}}var c=new FormData;c.append("type",a);c.append("r_id",g);c.append("f_id",d);c.append("f_date",$("#f_date").val()||"");c.append("f_text",$("#f_text").val()||"");c.append("f_rating",$(".f_rating:checked").val()||0);c.append("uploaded_files",JSON.stringify(b));(a=document.getElementById("feedback_file"))&&0<a.files.length&&c.append("feedback_file",a.files[0]);$.ajax({url:"./ajax/ajax_feedback_list.php",type:"POST",
data:c,contentType:!1,processData:!1,success:function(e){$("#feedback_list").html(e)}})}
function reminder_update(a,g,d){var b=0<$("#rm_tr_id").length?$("#rm_tr_id").val():0,c="./ajax/ajax_reminder_list.php";0<parseInt(g)&&(c="./ajax/ajax_reminder_save.php");var e=$("#rm_date").val();if(e){var f=e.split(".");if(3===f.length){e=parseInt(f[0],10);var h=parseInt(f[1],10)-1;f=parseInt(f[2],10);e=new Date(f,h,e);h=new Date;h.setHours(0,0,0,0);if(e<h){(new DialogClass).modalMessageBox("\u0412\u044b\u0431\u0440\u0430\u043d\u0430 \u043f\u0440\u043e\u0448\u0435\u0434\u0448\u0430\u044f \u0434\u0430\u0442\u0430. \u0412\u044b\u0431\u0435\u0440\u0438\u0442\u0435 \u0441\u0435\u0433\u043e\u0434\u043d\u044f\u0448\u043d\u044e\u044e \u0438\u043b\u0438 \u0431\u0443\u0434\u0443\u0449\u0443\u044e \u0434\u0430\u0442\u0443.","\u041e\u0448\u0438\u0431\u043a\u0430",
null);return}}}$.post(c,{return_reminder_list:0,type:a,r_id:g,rm_id:d,rm_tr_id:b,rm_u_id:$("#rm_u_id").length?$("#rm_u_id").val():0,rm_uct_id:$("#rm_uct_id").length?$("#rm_uct_id").val():0,rm_priority:$("#rm_priority").length?$("#rm_priority").val():0,rm_active_sms:$(".client-send-container:visible #rm-active-sms:checked").length?1:0,rm_active_email:$(".client-send-container:visible #rm-active-email:checked").length?1:0,rm_date:$("#rm_date").val(),rm_time:$("#rm_time").val(),rm_time_to:$("#rm_time_to").val(),
rm_text:$("#rm_text").val(),rm_done_prev:0<$(".rm_done_prev:checked").length?1:0},function(m){$("#reminder_list").length&&list_view("reminder");get_request_user_contact_list(g);$("#requests").length&&requests_view("",1==$("#active").val()?0:1);$("#history_list").length&&($("#history_list").html(""),get_history_list(g,0),$(".history-load-more").attr("data-page",0).removeClass("hidden"));$("#client-actions-list").length&&($("#client-actions-list").html(""),get_tourist_contact_tree(b),$(".client-actions-load-more").attr("data-page",
0).removeClass("hidden"));$("#client_list").length&&client_view()});return!0}function hotel_contract_update(a,g,d){$.post("./ajax/ajax_hotel_contract_list.php",{type:a,h_id:g,hct_id:d,hct_date_begin:$("#hct_date_begin").val(),hct_date_end:$("#hct_date_end").val(),hct_is_contract:$("#hct_is_contract").is(":checked")?1:0,hct_c_id:$("#hct_c_id").val()},function(b){$(".hotelContractList").html(b);new HotelContractList($(".hotelContractList"))})}
function contact_person_update(a,g,d,b){$.post("./ajax/ajax_contact_person_list.php",{type:a,h_id:g,ss_id:d,cp_id:b,cp_name:$("#cp_name").val(),cp_email:$("#cp_email").val(),cp_phone:$("#cp_phone").val(),cp_send_requests:$("#cp_send_requests").is(":checked")?1:0,cp_comment:$("#cp_comment").val(),cp_cps_id:$("#cp_cps_id").val()},function(c){$(".contactPersonList").html(c);new ContactPersonList($(".contactPersonList"))})}
function hotel_type_cross_update(a,g,d,b,c){$.post("./ajax/ajax_hotel_type_cross_list.php",{type:a,cnt_id:g,city_id:d,h_id:b,ht_id:c},function(e){$(".hotelTypeList").html(e);new HotelTypeList($(".hotelTypeList"))})}
function autocomplete_global(){var a=new Bloodhound({datumTokenizer:Bloodhound.tokenizers.obj.whitespace("name"),queryTokenizer:Bloodhound.tokenizers.whitespace,remote:"/ajax/ajax_tourist_json.php?ext=1&query=%QUERY",limit:5});a.initialize();var g=new Bloodhound({datumTokenizer:Bloodhound.tokenizers.obj.whitespace("name"),queryTokenizer:Bloodhound.tokenizers.whitespace,remote:"/ajax/ajax_request_json.php?query=%QUERY",limit:5});g.initialize();$(".search input").typeahead({minLength:2,highlight:!0,
hint:!0},[{name:"requests",displayKey:"name",source:g.ttAdapter(),templates:{suggestion:function(d){var b=[];$(d.tourists).each(function(c,e){e.u_surname||e.u_name?b.push([e.u_surname,e.u_name].join(" ")):b.push([e.u_surname_en,e.u_name_en].join(" "))});return["<div>#"+(""!=d.r_id_internal?d.r_id_internal+" ("+d.r_id_system+")":d.r_id_system)+(0<d.r_st_id?" "+d.status:"")+(0<d.r_cl_id?" ("+d.client+")":"")+"</div>","<div>"+(""!=d.r_dat_begin?[d.dat_begin,d.dat_end].join(" - "):"")+(0<b.length?" ("+
b.join(", ")+")":"")+"</div>",d.manager?'<div class="colorGray">'+_("\u041c\u0435\u043d\u0435\u0434\u0436\u0435\u0440: ")+d.manager+"</div>":""].join("")},header:function(d){return"<h1>\u041e\u0431\u0440\u0430\u0449\u0435\u043d\u0438\u044f / \u0417\u0430\u044f\u0432\u043a\u0438:</h1>"}}},{name:"clients",displayKey:"name",source:a.ttAdapter(),templates:{suggestion:function(d){var b=[];0!=parseInt(d.client_access)&&(d.u_phone&&b.push(d.u_phone),d.u_phone_mobile&&b.push(d.u_phone_mobile),d.u_email&&
b.push(d.u_email));d.birthday&&b.push(d.birthday);return["<div>"+d.name+"</div>","<div>"+b.join(", ")+"</div>",'<div class="colorGray">'+(d.manager?_("\u041c\u0435\u043d\u0435\u0434\u0436\u0435\u0440: ")+d.manager+" / ":"")+"ID: "+d.u_id+"</div>"].join("")},header:function(d){return"<h1>\u0422\u0443\u0440\u0438\u0441\u0442\u044b:</h1>"}}}]).on("typeahead:selected",function(d,b){b.r_id?window.open("/request_edit.php?r_id="+b.r_id):b.ss_id?window.open("/supplier_edit.php?ss_id="+b.ss_id):b.u_id&&window.open("/client_edit.php?client_id="+
b.u_id)}).on("typeahead:opened",function(d,b){$(this).parent().css("width","500px")})}
function autocomplete_client(a,g,d){var b=new Bloodhound({datumTokenizer:Bloodhound.tokenizers.obj.whitespace("name"),queryTokenizer:Bloodhound.tokenizers.whitespace,remote:"/ajax/ajax_client_json.php?query=%QUERY",limit:50});b.initialize();g.typeahead({minLength:3,highlight:!0,hint:!0},{name:"clients",minLength:3,displayKey:"name",source:b.ttAdapter(),templates:{suggestion:function(c){var e=[];null!=c.u_phone&&""!=c.u_phone&&e.push(c.u_phone);null!=c.u_phone_mobile&&""!=c.u_phone_mobile&&e.push(c.u_phone_mobile);
"0000-00-00"!=c.u_birthday&&e.push(c.birthday);return["<div><strong>"+c.name+"</strong></div>",'<div style="color: #888;">',0<c.r_count?_("\u0417\u0430\u044f\u0432\u043e\u043a: ")+c.r_count+"<br/>":"",""!=c.manager&&null!=c.manager?_("\u041c\u0435\u043d\u0435\u0434\u0436\u0435\u0440: ")+c.manager+"<br/> ":"","</div>","<div>"+e.join(", ")+"</div>"].join("")}}}).on("typeahead:selected",function(c,e){d?d(c,e):(a.val(e.u_id),$("#request_is_lead").length&&1==$("#request_is_lead").val()&&leads_client_select($("#request_id").val(),
e.u_id))}).on("typeahead:opened",function(c,e){$(this).parent().css("width",$(this).outerWidth())});g.on("keyup",function(){""==$(this).val()&&a.val(0)})}
function autocompleteRequests(a){var g=new Bloodhound({datumTokenizer:Bloodhound.tokenizers.obj.whitespace("name"),queryTokenizer:Bloodhound.tokenizers.whitespace,remote:"/ajax/ajax_request_json.php?query=%QUERY",limit:5});g.initialize();$(".requestSearch input").typeahead({minLength:2,highlight:!0,hint:!0},[{name:"requests",displayKey:"name",source:g.ttAdapter(),templates:{suggestion:function(d){var b=[];$(d.tourists).each(function(c,e){e.u_surname||e.u_name?b.push([e.u_surname,e.u_name].join(" ")):
b.push([e.u_surname_en,e.u_name_en].join(" "))});return["<div>#"+(d.r_id_internal?d.r_id_internal+" ("+d.r_id_system+")":d.r_id_system)+(d.r_cl_id?" ("+d.client+")":"")+"</div>","<div>"+(""!=d.r_dat_begin?[d.dat_begin,d.dat_end].join(" - "):"")+(0<b.length?" ("+b.join(", ")+")":"")+"</div>",d.manager?'<div class="colorGray">'+_("\u041c\u0435\u043d\u0435\u0434\u0436\u0435\u0440: ")+d.manager+"</div>":""].join("")}}}]).on("typeahead:selected",function(d,b){Ajax.ajax({type:"POST",url:"ajax/ajax_service_selection_request_search.php",
data:{copyRequest:!0,r_id:b.r_id,rss_id:a},success:function(c){Dialog.close();noty({type:"success",text:"\u041f\u043e\u0434\u0431\u043e\u0440\u043a\u0430 \u0443\u0441\u043f\u0435\u0448\u043d\u043e \u0441\u043a\u043e\u043f\u0438\u0440\u043e\u0432\u0430\u043d\u0430"})}})}).on("typeahead:opened",function(d,b){$(this).parent().css("width","250px")})}
function autocompleteEngineRequests(a){var g=new Bloodhound({datumTokenizer:Bloodhound.tokenizers.obj.whitespace("name"),queryTokenizer:Bloodhound.tokenizers.whitespace,remote:"/ajax/ajax_request_json.php?query=%QUERY",limit:5});g.initialize();$(".requestSearch input").typeahead({minLength:2,highlight:!0,hint:!0},[{name:"requests",displayKey:"name",source:g.ttAdapter(),templates:{suggestion:function(d){var b=[];$(d.tourists).each(function(c,e){e.u_surname||e.u_name?b.push([e.u_surname,e.u_name].join(" ")):
b.push([e.u_surname_en,e.u_name_en].join(" "))});return["<div>#"+(d.r_id_internal?d.r_id_internal+" ("+d.r_id_system+")":d.r_id_system)+(d.r_cl_id?" ("+d.client+")":"")+"</div>","<div>"+(""!=d.r_dat_begin?[d.dat_begin,d.dat_end].join(" - "):"")+(0<b.length?" ("+b.join(", ")+")":"")+"</div>",d.manager?'<div class="colorGray">'+_("\u041c\u0435\u043d\u0435\u0434\u0436\u0435\u0440: ")+d.manager+"</div>":""].join("")}}}]).on("typeahead:selected",function(d,b){Ajax.ajax({type:"POST",url:"ajax/ajax_engine_request_search.php",
dataType:"json",data:{r_id:b.r_id,data:a,sbm:!0},success:function(c){c&&c.error?(Dialog.close(),DialogError(c.error)):(Dialog.close(),noty({type:"success",text:"\u0411\u0438\u043b\u0435\u0442 \u0443\u0441\u043f\u0435\u0448\u043d\u043e \u0441\u043e\u0445\u0440\u0430\u043d\u0435\u043d \u0432 \u0437\u0430\u044f\u0432\u043a\u0443 <a href='/request_edit.php?r_id="+c.r_id+"' target='_blank'>#"+c.r_id+"</a>"}))}})}).on("typeahead:opened",function(d,b){$(this).parent().css("width","250px")})}
function autocomplete_supplier(a,g){var d=new Bloodhound({datumTokenizer:Bloodhound.tokenizers.obj.whitespace("ss_name"),queryTokenizer:Bloodhound.tokenizers.whitespace,remote:"/ajax/ajax_supplier_json.php?query=%QUERY",limit:50});d.initialize();g.typeahead({minLength:3,highlight:!0,hint:!0},{name:"supplier",minLength:3,displayKey:"ss_name",source:d.ttAdapter(),templates:{empty:['<div class="empty-message">',_("\u0417\u0430\u043f\u0438\u0441\u0438 \u043d\u0435 \u043d\u0430\u0439\u0434\u0435\u043d\u044b"),
"</div>"].join("\n"),suggestion:function(b){b.ss_name=b.ss_name.replace(/&quot;/g,'"');return["<div><strong>"+b.ss_name+"</strong></div>",null!=b.ss_phones?"<div>"+b.ss_phones+"</div>":""].join("")}}}).on("typeahead:selected",function(b,c){c.ss_name=c.ss_name.replace(/&quot;/g,'"');a.val(c.ss_id).attr("data-title",c.ss_name).trigger("change")}).on("typeahead:opened",function(b,c){$(this).parent().css("width",$(this).outerWidth())})}
function autocomplete_request(a,g,d=""){var b=new Bloodhound({datumTokenizer:Bloodhound.tokenizers.obj.whitespace("name"),queryTokenizer:Bloodhound.tokenizers.whitespace,remote:"/ajax/ajax_request_json.php?query=%QUERY",limit:50});b.initialize();g.typeahead({highlight:!0,hint:!0},{name:"request",displayKey:"name",source:b.ttAdapter(),templates:{empty:['<div class="empty-message">',_("\u0417\u0430\u043f\u0438\u0441\u0438 \u043d\u0435 \u043d\u0430\u0439\u0434\u0435\u043d\u044b"),"</div>"].join("\n"),
suggestion:function(c){var e=[];$(c.tourists).each(function(f,h){h.u_surname||h.u_name?e.push([h.u_surname,h.u_name].join(" ")):e.push([h.u_surname_en,h.u_name_en].join(" "))});return["<div>#"+(c.r_id_internal?c.r_id_internal+" ("+c.r_id_system+")":c.r_id_system)+(c.r_cl_id?" ("+c.client+")":"")+"</div>","<div>"+(""!=c.r_dat_begin?[c.dat_begin,c.dat_end].join(" - "):"")+(0<e.length?" ("+e.join(", ")+")":"")+"</div>",c.manager?'<div class="colorGray">'+_("\u041c\u0435\u043d\u0435\u0434\u0436\u0435\u0440: ")+
c.manager+"</div>":""].join("")}}}).on("typeahead:selected",function(c,e){d&&d(c,e);a.val(e.r_id).trigger("change")}).on("typeahead:opened",function(c,e){$(this).parent().css("width",$(this).outerWidth())})}
function checkPaymentServicesSumError(){var a=0;$.each($(".service-pay-now"),function(b,c){a+=parseFloat($(c).val())});a=parseFloat(parseFloat(a).toFixed(4));var g=$("#pc_price").val(),d="";g=parseFloat(parseFloat(g).toFixed(4));$("#pc_c_id").val()!=CURRENCY_MAIN_ID&&(g=parseFloat(parseFloat($("#finance_result").val()).toFixed(4)));console.log("Sum = "+a+"; sumPrice = "+g);if(a>g)return d=_("\u0421\u0443\u043c\u043c\u0430 \u0437\u0430 \u0443\u0441\u043b\u0443\u0433\u0438 \u043f\u0440\u0435\u0432\u044b\u0448\u0430\u0435\u0442 \u043e\u0431\u0449\u0443\u044e \u0441\u0443\u043c\u043c\u0443 \u043f\u043b\u0430\u0442\u0435\u0436\u0430!"),
$("#services-error").addClass("alert alert-danger").text(d),$('[name="pc_add"], [name="pc_edit"]').attr("disabled","disabled"),!1;$("#services-error").removeClass("alert alert-danger").text("");$('[name="pc_add"], [name="pc_edit"]').removeAttr("disabled");return!0}
function checkReceiptError(){if(0<$("#b_receipt_supplier_phone[data-required]:visible").length&&""==$.trim($("#b_receipt_supplier_phone").val()))return noty({type:"error",text:'\u041f\u043e\u043b\u0435 "\u0422\u0435\u043b\u0435\u0444\u043e\u043d \u043f\u043e\u0441\u0442\u0430\u0432\u0449\u0438\u043a\u0430" \u0434\u043e\u043b\u0436\u043d\u043e \u0431\u044b\u0442\u044c \u041e\u0411\u042f\u0417\u0410\u0422\u0415\u041b\u042c\u041d\u041e \u0437\u0430\u043f\u043e\u043b\u043d\u0435\u043d\u043e',timeout:1E4}),
!1;if(0<$("#b_receipt_supplier_inn[data-required]:visible").length&&""==$.trim($("#b_receipt_supplier_inn").val()))return noty({type:"error",text:'\u041f\u043e\u043b\u0435 "\u0418\u041d\u041d \u043f\u043e\u0441\u0442\u0430\u0432\u0449\u0438\u043a\u0430" \u0434\u043e\u043b\u0436\u043d\u043e \u0431\u044b\u0442\u044c \u041e\u0411\u042f\u0417\u0410\u0422\u0415\u041b\u042c\u041d\u041e \u0437\u0430\u043f\u043e\u043b\u043d\u0435\u043d\u043e',timeout:1E4}),!1;var a=!0;0<$(".product-price:visible").length&&
$(".product-price:visible").each(function(g,d){0>parseFloat($(d).val())&&(a=!1)});return 0==a?(noty({type:"error",text:'\u041f\u043e\u043b\u0435 "\u0426\u0435\u043d\u0430 \u043f\u043e\u0437\u0438\u0446\u0438\u0438" \u043d\u0435 \u043c\u043e\u0436\u0435\u0442 \u0431\u044b\u0442\u044c \u043c\u0435\u043d\u044c\u0448\u0435 0',timeout:1E4}),!1):!0}
function payment_client_update(a,g,d,b,c,e,f,h,m,k,l,p){if(0==checkPaymentServicesSumError()||0==checkReceiptError())return!1;var q=[],u,t;0<$(".service-block").length&&$(".service-block").each(function(G,N){t=$(N).find(".service-pay-now");t.length&&(u={id:$(N).attr("data-id"),sum:$(N).find(".service-pay-now").val()*(2==e?-1:1)},q.push(JSON.stringify(u)))});var C=0;$("#pc_pform_id").length&&(C=$("#pc_pform_id").val());var D=0;$("#pc_deposit").length&&(D=$("#pc_deposit").val());var w=0;$("#pc_prepay_id").length&&
(w=$("#pc_prepay_id").val());var z=0;$("#pc_co_id").length&&(z=$("#pc_co_id").val());var L=0;$("#pc_is_bonus_pay").length&&(L=$("#pc_is_bonus_pay").val());var U=0;$("#pc_commission").length&&(U=$("#pc_commission").val());var V=0;$("#pc_commission_type").length&&(V=$("#pc_commission_type").val());var Y=0;$("#pc_services_koef_update").is(":checked")&&(Y=1);var T=0;$("#pc-active-sms").is(":checked")&&(T=1);var J=0;$("#pp_in_plan").length&&(J=$("#pp_in_plan").val());var P=0;$("#pc-active-email").is(":checked")&&
(P=1);var K=[];$("input[id*=ps_count_]").each(function(G,N){supplier=0;""!=$("#ps_ss_"+$(this).val()).val()&&(supplier=$("#ps_ss_id_"+$(this).val()).val());paydoc=0;""!=$("#ps_pd_"+$(this).val()).val()&&(paydoc=$("#ps_pd_id_"+$(this).val()).val());K[G]=[$("#ps_id_"+$(this).val()).val(),$("#ps_date_"+$(this).val()).val(),$("#ps_price_"+$(this).val()).val(),$("#ps_c_id_"+$(this).val()).val(),$("#ps_cash_id_"+$(this).val()).val(),supplier,paydoc]});var E="",x=0;$(".products-container .item").each(function(G,
N){$(N).hasClass("template")||(E+=$(N).find(".product-name").val().replace(";",",").replace('"',"").replace("'","")+";"+$(N).find(".product-quantity").val()+";"+$(N).find(".product-price").val(),0<$("#b_receipt_tax:visible").length?E+=";"+$("#b_receipt_tax").val().replace(";",","):0<$(N).find(".b_receipt_tax:visible").length&&(E+=";"+$(N).find(".b_receipt_tax").val().replace(";",",")),0<$(N).find(".b_receipt_is_agent:visible:checked").length?E+=";"+$(N).find(".b_receipt_supplier_name").val().replace(";",
",").replace('"',"").replace("'","")+";"+$(N).find(".b_receipt_supplier_inn").val().replace(";",",").replace('"',"").replace("'","")+";"+$(N).find(".b_receipt_supplier_address").val().replace(";",",").replace('"',"").replace("'","")+";"+$(N).find(".b_receipt_supplier_phone").val().replace(";",",").replace('"',"").replace("'",""):1==$("#b_receipt_is_agent:visible").val()&&(E+=";"+$("#b_receipt_supplier_name").val().replace(";",",").replace('"',"").replace("'","")+";"+$("#b_receipt_supplier_inn").val().replace(";",
",").replace('"',"").replace("'","")+";"+$("#b_receipt_supplier_address").val().replace(";",",").replace('"',"").replace("'","")+";"+$("#b_receipt_supplier_phone").val().replace(";",",").replace('"',"").replace("'","")),E+="\r\n",x+=roundNumber($(N).find(".product-quantity").val(),2)*roundNumber($(N).find(".product-price").val(),2))});console.log("price = "+m);console.log("koef = "+l);console.log("finance_price = "+roundNumber(m*l,2));console.log("sum = "+roundNumber(x,2));var H=1;0<$("#b_receipt_prepay").length&&
0<$("#b_receipt_mode").length&&0<$("#b_receipt_mode").val()&&(4!=$("#b_receipt_prepay").val()&&roundNumber(m*l,2)!=roundNumber(x,2)&&(noty({type:"error",text:"\u0421\u0443\u043c\u043c\u0430 \u043f\u043b\u0430\u0442\u0435\u0436\u0430 ("+roundNumber(m*l,2)+") \u041d\u0415 \u0440\u0430\u0432\u043d\u0430 \u0441\u0443\u043c\u043c\u0435 \u0432\u0441\u0435\u0445 \u043f\u043e\u0437\u0438\u0446\u0438\u0439 \u0432 \u0447\u0435\u043a\u0435 ("+roundNumber(x,2)+")!"}),H=0),0<$("#b_receipt_prepay_sum:visible").length&&
4==$("#b_receipt_prepay").val()&&roundNumber(m*l+parseFloat($("#b_receipt_prepay_sum").val()),2)!=roundNumber(x,2)&&(noty({type:"error",text:"\u0421\u0443\u043c\u043c\u0430 \u0443\u0441\u043b\u0443\u0433 ("+roundNumber(x,2)+") \u041d\u0415 \u0440\u0430\u0432\u043d\u0430 \u0441\u0443\u043c\u043c\u0435 \u043f\u0440\u0435\u0434\u043e\u043f\u043b\u0430\u0442\u044b ("+parseFloat($("#b_receipt_prepay_sum").val())+") \u0438 \u0434\u043e\u043f\u043b\u0430\u0442\u044b ("+parseFloat(m*l)+")!"}),H=0));var M=
{type:a,r_id:g,p_id:d,p_dat:b,p_dat_plan:0<$("#pp_dat_plan").length?$("#pp_dat_plan").val()+" "+$("#pp_time_plan").val():"",p_pt_id:c,p_cio_id:e,p_prepay_id:w,p_pform_id:C,p_cash_id:f,p_co_id:z,p_client_id:h,p_number:$("#p_number").val(),p_reason:$("#pc_reason").val(),p_deposit:D,p_is_bonus_pay:L,p_price:m,p_c_id:k,p_koef:l,p_services_koef_update:Y,p_note:p,p_commission:U,p_commission_type:V,p_active_sms:T,p_active_email:P,p_in_plan:J,receipt_only:0<$("#receipt_only").length?$("#receipt_only").val():
0,p_ps_id:0<$(".ps_id").length?$(".ps_id").val():0,p_pss_id:0<$(".ps_id").length?$(".ps_id option:selected").attr("data-pss-id"):0,p_receipt_send:0<$("#b_receipt_mode").length?$("#b_receipt_mode").val():0,p_receipt_pay_type:0<$("#pc_receipt_pay_type").length?$("#pc_receipt_pay_type").val():1,p_receipt_other_payment_number:0<$("#pc_receipt_other_payment_number").length?$("#pc_receipt_other_payment_number").val():"",p_receipt_products:E,p_receipt_prepay:0<$("#b_receipt_prepay").length?$("#b_receipt_prepay").val():
0,p_receipt_prepay_sum:0<$("#b_receipt_prepay_sum:visible").length?$("#b_receipt_prepay_sum").val():0,p_receipt_inn:0<$("#b_receipt_inn").length?$("#b_receipt_inn").val():"",p_receipt_tax:0<$("#b_receipt_tax").length?$("#b_receipt_tax").val():0,p_receipt_taxmode:0<$("#b_receipt_taxmode").length?$("#b_receipt_taxmode").val():0,p_receipt_pos:0<$("#b_receipt_pos").length?$("#b_receipt_pos").val():0,p_cash_serial:0<$("#b_cash_serial").length?$("#b_cash_serial").val():"","p_sr_array[]":q,"ps_array[]":K};
0<$(".r_ext_field_payment[name*=r_ext_field]").length&&$(".r_ext_field_payment[name*=r_ext_field]").each(function(G,N){M[$(N).attr("name")]=$(N).val()});1==H&&$.post("./ajax/ajax_payment_client.php",M,function(G){$("#payment_client").html(G);services_currency_fix(g);0<$("#receipt_only").length&&1==$("#receipt_only").val()||($.post("./ajax/ajax_finance.php",{r_id:g},function(N){$("#finance_div").html(N)}),$.post("./ajax/ajax_services.php",{r_id:g},function(N){$("#services").html(N)}));popupClose()});
return H}
function services_currency_fix(a){var g=!0;0<$(".sr-koef-fixed-no:visible").length&&0<$(".payment-client-sum").length&&0<$("#price").length&&parseFloat($(".payment-client-sum").attr("data-sum"))>=parseFloat($("#price").val())&&Dialog.modalConfirmBox("\u0417\u0430\u0444\u0438\u043a\u0441\u0438\u0440\u043e\u0432\u0430\u0442\u044c \u043f\u043b\u0430\u0432\u0430\u044e\u0449\u0438\u0439 \u043a\u0443\u0440\u0441 c\u0442\u043e\u0438\u043c\u043e\u0441\u0442\u0438 \u0443 \u0432\u0441\u0435\u0445 \u0443\u0441\u043b\u0443\u0433?","\u041a\u0443\u0440\u0441 \u0432\u0430\u043b\u044e\u0442\u044b",
function(){g=!1;Ajax.post("./ajax/ajax_services_requests_koef_fix.php",{r_id:a},function(d){d.error?DialogError(d.error):$.post("./ajax/ajax_services.php",{r_id:a},function(b){$("#services").html(b)})},"json")});return g}
function services_currency_netto_fix(a){var g=!0;0<$(".sr-koef-netto-fixed-no:visible").length&&0<$(".payment-partner-sum").length&&0<$("#price-netto").length&&-1*parseFloat($(".payment-partner-sum").attr("data-sum"))>=parseFloat($("#price-netto").val())&&Dialog.modalConfirmBox("\u0417\u0430\u0444\u0438\u043a\u0441\u0438\u0440\u043e\u0432\u0430\u0442\u044c \u043f\u043b\u0430\u0432\u0430\u044e\u0449\u0438\u0439 \u043a\u0443\u0440\u0441 \u0441\u0435\u0431\u0435\u0441\u0442\u043e\u0438\u043c\u043e\u0441\u0442\u0438 \u0443 \u0432\u0441\u0435\u0445 \u0443\u0441\u043b\u0443\u0433?","\u041a\u0443\u0440\u0441 \u0432\u0430\u043b\u044e\u0442\u044b",
function(){g=!1;Ajax.post("./ajax/ajax_services_requests_koef_fix.php",{r_id:a,netto:1},function(d){d.error?DialogError(d.error):$.post("./ajax/ajax_services.php",{r_id:a},function(b){$("#services").html(b)})},"json")});return g}
function payment_update(a,g,d,b,c,e,f,h,m,k,l,p){var q=0;$("#p_pform_id").length&&(q=$("#p_pform_id").val());var u=0;$(".pot_id").length&&(u=$(".pot_id").val());var t=0;$("#p_deposit").length&&(t=$("#p_deposit").val());var C="";$("#p_from_to").length&&(C=$("#p_from_to").val());var D=0;$("#p_co_id").length&&(D=$("#p_co_id").val());var w=0;$("#p_commission").length&&(w=$("#p_commission").val());var z=0;$("#p_commission_type").length&&(z=$("#p_commission_type").val());var L=0;L=get_payment_partner();
var U=0,V=[],Y=[];$("p[class*=pd_file_]").length&&$("p[class*=pd_file_]").each(function(P,K){V[U]=$(this).attr("pd-id");Y[U]=$(this).attr("joined");U+=1});var T=0;0<$(".parent_p_pt_id").length&&(T=$(".parent_p_pt_id").val());var J={type:a,p_id:g,p_dat:d,p_pt_id:b,p_cio_id:c,p_pform_id:q,p_pot_id:u,p_cash_id:e,p_co_id:D,p_from_to:C,p_client_id:f,p_ss_id:L,p_number:$("#p_number").val(),p_reason:$("#p_reason").val(),p_deposit:t,p_price:h,p_c_id:m,p_koef:k,p_note:l,p_commission:w,p_commission_type:z,
"p_pd_array[]":V,"p_pd_array_joined_param[]":Y};0<$(".r_ext_field_payment[name*=r_ext_field]").length&&$(".r_ext_field_payment[name*=r_ext_field]").each(function(P,K){J[$(K).attr("name")]=$(K).val()});$.post("./ajax/ajax_payment_client.php",J,function(P){0<$("#payment_list").length&&cash_payment_list();(0==T||1==T)&&0<$("#payment_client").length&&0<p&&Ajax.post("./ajax/ajax_payment_client.php",{r_id:p},function(K){$("#payment_client").html(K)});2==T&&0<$("#payment_partner").length&&0<p&&Ajax.post("./ajax/ajax_payment_partner_list.php",
{r_id:p},function(K){$("#payment_partner").html(K)});0<$("#finance_div").length&&$.post("./ajax/ajax_finance.php",{r_id:p},function(K){$("#finance_div").html(K)})})}function get_payment_partner(){var a=0;$("#colorbox .service_suppliers").each(function(){0<$(this).val()&&(a=$(this).val())});return a}
function payment_plan_another_update(a,g,d,b,c,e,f,h,m,k,l,p){var q=0;$("#pp_pform_id").length&&(q=$("#pp_pform_id").val());var u=0;$("#pp_deposit").length&&(u=$("#pp_deposit").val());var t=0;$("#pp_in_plan").length&&(t=$("#pp_in_plan").val());var C=0;$("#pp_co_id").length&&(C=$("#pp_co_id").val());var D=$("select[name=p_pot_id]").val(),w=0;w=get_payment_partner();var z=0,L=[],U=[];$("p[class*=pd_file_]").length&&$("p[class*=pd_file_]").each(function(J,P){L[z]=$(this).attr("pd-id");U[z]=$(this).attr("joined");
z+=1});var V=0;$("#pp_commission").length&&(V=$("#pp_commission").val());var Y=0;$("#pp_commission_type").length&&(Y=$("#pp_commission_type").val());var T={type:a,r_id:g,p_id:d,p_dat:b,p_dat_plan:$("#pp_dat_plan").val()+" "+$("#pp_time_plan").val(),p_pt_id:c,p_cio_id:e,p_pform_id:q,p_number:$("#p_number").val(),p_reason:$("#pp_reason").val(),p_s_id:$("#pp_s_id").val(),p_cash_id:f,p_co_id:C,p_ss_id:w,p_deposit:u,p_bill_number:$(".pp_pd_name").val(),p_ss_request_id:$("#pp_ss_request_id").val(),p_price:h,
p_c_id:m,p_koef:k,p_in_plan:t,p_commission:V,p_commission_type:Y,p_note:l,p_client_id:p,"p_pd_array[]":L,"p_pd_array_joined_param[]":U,p_pot_id:D};0<$(".r_ext_field_payment[name*=r_ext_field]").length&&$(".r_ext_field_payment[name*=r_ext_field]").each(function(J,P){T[$(P).attr("name")]=$(P).val()});$.post("./ajax/ajax_payment_partner.php",T,function(J){payment_partner_list_update(g);$.post("./ajax/ajax_finance.php",{r_id:g},function(P){$("#finance_div").html(P)});$.post("./ajax/ajax_services.php",
{r_id:g},function(P){$("#services").html(P)});popupClose()},"json")}
function payment_partner_update(a,g,d,b,c,e,f,h,m,k,l){var p=0;$("#pp_pform_id").length&&(p=$("#pp_pform_id").val());var q=0;$("#pp_deposit").length&&(q=$("#pp_deposit").val());var u=0;$("#pp_in_plan").length&&(u=$("#pp_in_plan").val());var t=0;$("#pp_co_id").length&&(t=$("#pp_co_id").val());var C=0;C=get_payment_partner();var D=0;$("#pp_prepay_id").length&&(D=$("#pp_prepay_id").val());var w=0,z=[],L=[];$("p[class*=pd_file_]").length&&$("p[class*=pd_file_]").each(function(T,J){z[w]=$(this).attr("pd-id");
L[w]=$(this).attr("joined");w+=1});var U=0;$("#pp_commission").length&&(U=$("#pp_commission").val());var V=0;$("#pp_commission_type").length&&(V=$("#pp_commission_type").val());var Y={type:a,r_id:g,p_id:d,p_dat:b,p_dat_plan:$("#pp_dat_plan").val()+" "+$("#pp_time_plan").val(),p_pt_id:c,p_cio_id:e,p_prepay_id:D,p_pform_id:p,p_number:$("#p_number").val(),p_reason:$("#pp_reason").val(),p_s_id:$("#pp_s_id").val(),p_cash_id:f,p_co_id:t,p_ss_id:C,p_deposit:q,p_bill_number:$(".pp_pd_name").val(),p_ss_request_id:$("#pp_ss_request_id").val(),
p_price:h,p_c_id:m,p_koef:k,p_in_plan:u,p_commission:U,p_commission_type:V,p_note:l,"p_pd_array[]":z,"p_pd_array_joined_param[]":L};0<$(".r_ext_field_payment[name*=r_ext_field]").length&&$(".r_ext_field_payment[name*=r_ext_field]").each(function(T,J){Y[$(J).attr("name")]=$(J).val()});$.post("./ajax/ajax_payment_partner.php",Y,function(T){payment_partner_list_update(g,T);$.post("./ajax/ajax_finance.php",{r_id:g},function(J){$("#finance_div").html(J)});$.post("./ajax/ajax_services.php",{r_id:g},function(J){$("#services").html(J)});
popupClose()},"json")}function payment_partner_list_update(a,g){Ajax.post("./ajax/ajax_payment_partner_list.php",{r_id:a,error:void 0!==g?g.error:""},function(d){$("#payment_partner").html(d);0<$("#finance_div").length&&setTimeout("$.post('./ajax/ajax_finance.php', {r_id: "+a+"}, function (data) { $('#finance_div').html(data); })",1E3);services_currency_netto_fix(a)});OnlineLoading.hide()}
function payment_client_list_update(a){Ajax.post("./ajax/ajax_payment_client.php",{r_id:a},function(g){$("#payment_client").html(g);0<$("#finance_div").length&&setTimeout("$.post('./ajax/ajax_finance.php', {r_id: "+a+"}, function (data) { $('#finance_div').html(data); })",1E3);services_currency_fix(a)});OnlineLoading.hide()}
function payment_partner_price_update(){var a=0,g=0;$("input[id*='pp_sr_']:checked").each(function(){g=$("#"+$(this).attr("id")+"_price").val();1==$("#"+$(this).attr("id")+"_rate").length&&(g=$("#"+$(this).attr("id")+"_price").val()*$("#"+$(this).attr("id")+"_rate").val());a+=parseFloat(g)});$("#pp_s_id").val(0);$("#pp_c_id").val(CURRENCY_MAIN_ID);$("#pp_price").val(roundNumber(a,2));set_koef_currency_main("#pp_c_id","#pp_price","#pp_koef")}
function payment_paydoc_select_update(a,g,d,b){b||=0;d&&Ajax.post("./ajax/ajax_paydoc_select.php",{p_id:a,pd_pdt_id:g,elem_target:d,joined:b},function(c){$(d).html(c)})}
function paydoc_new(a,g=0){$.post("/ajax/ajax_paydoc.php",{pd_id:a,pd_pdt_id:g},function(d){Dialog.modalConfirmBox(d,0<a?_("\u0418\u0437\u043c\u0435\u043d\u0435\u043d\u0438\u0435 \u0437\u0430\u043f\u0438\u0441\u0438"):_("\u0414\u043e\u0431\u0430\u0432\u043b\u0435\u043d\u0438\u0435 \u0437\u0430\u043f\u0438\u0441\u0438"),function(){var b=$(".pd_id").val(),c=$(".pd_date").val(),e=$(".pd_pdt_id").val(),f=$(".pd_number").val(),h=$(".pd_filename_unique").val(),m=$(".pd_filename").val(),k=$(".pd_price").val(),
l=$(".pd_c_id").val(),p=$(".pd_note").val();$.post("./ajax/ajax_paydoc_update.php",{pd_id:b,pd_date:c,pd_pdt_id:e,pd_number:f,pd_filename:m,pd_filename_unique:h,pd_price:k,pd_c_id:l,pd_note:p},function(q){0<$(".paydoc_list").length&&Ajax.post("./ajax/ajax_paydoc_list.php",{},function(u){$("#paydoc_list").html(u)});0<$(".pp_pd_list","#pp_pd_"+e+"_block").length&&0==$("[pd-id="+q.pd_id+"]").length&&(elem="<p class='pd_file_"+q.pd_id+"' pd-id='"+q.pd_id+"' joined='0' style='padding: 5px 0;'><noindex><a href='"+
STATIC_URL_FILES+q.client_id+"/"+h+"' target='_blank'>"+m+"</a></noindex> <span class='btn btn-default btn-xs link' onclick='paydoc_new("+q.pd_id+", "+q.pd_pdt_id+")'><span class='fa fa-pen'></span></span> <span class='btn btn-default btn-xs link' onclick='Dialog.modalConfirmBox(\"\u0412\u044b \u0434\u0435\u0439\u0441\u0442\u0432\u0438\u0442\u0435\u043b\u044c\u043d\u043e \u0445\u043e\u0442\u0438\u0442\u0435 \u0443\u0434\u0430\u043b\u0438\u0442\u044c?\", \"\u0423\u0434\u0430\u043b\u0435\u043d\u0438\u0435\", function() { $(this).parent().remove(); });'><span class='fa fa-times text-danger'></span></span></p>",
$(".pp_pd_list","#pp_pd_"+e+"_block").append(elem));0<$("#pp_pd_"+e).length&&Ajax.post("./ajax/ajax_paydoc_select.php",{pd_pdt_id:e},function(u){$("#pp_pd_"+e).html(u)})},"json")})})}function roundNumber(a,g){return+(+a).toFixed(g)}function docs_update(a,g,d){Ajax.post("./ajax/ajax_docs.php",{r_id:a,docs:g,docs_copy:d},function(b){$("#docs_div").html(b)});Ajax.post("./ajax/ajax_tourists.php",{r_id:a},function(b){$("#tourists").html(b)})}
function user_type_change(a,g,d,b,c=0){Ajax.post("./ajax/ajax_client_type_data.php",{r_id:c,u_id:a,u_type:g,is_tourist:d,ext_params:b},function(e){$("#user_type_fields").html(e)})}function get_avia_transfer(a){$("#avia_transfer_list").html(loadingHorizontal);$.post("./ajax/ajax_avia_transfer_list.php",{sr_id:a},function(g){$("#avia_transfer_list").html(g);$("#avia_transfer_counter").val($(".avia_transfer_record").length);$("#sr_avia_flight_add").removeAttr("disabled")})}
function add_avia_transfer(){Ajax.post("./templates/avia_transfer.php",{count:parseFloat($("#avia_transfer_counter").val())},function(a){var g=$("#avia_transfer_list .avia_transfer_record:last");$("#avia_transfer_list").append(a);$("#avia_transfer_counter").val(parseFloat($("#avia_transfer_counter").val())+1);$("#avia_transfer_list .avia_transfer_record:last").find(".at_course_end").val(g.find(".at_course_begin").val()).end().find(".at_code_end").val(g.find(".at_code_begin").val()).end().find(".at_terminal_end").val(g.find(".at_terminal_begin").val()).end().find(".at_course_begin").val(g.find(".at_course_end").val()).end().find(".at_code_begin").val(g.find(".at_code_end").val()).end().find(".at_terminal_begin").val(g.find(".at_terminal_end").val()).end()})}
function avia_transfer_template_choose(a,g){$.post("./ajax/ajax_avia_transfer_template.php",{id:g},function(d){var b;$.each(d,function(c,e){b="."+c;0<a.find(b).length&&a.find(b).val(e).trigger("change")})},"json")}
function avia_transfer_template_select(a,g){0<g?$.post("./ajax/ajax_avia_transfer_template.php",{id:g},function(d){var b;$.each(d,function(c,e){b="#"+c+"_"+a;$(b).length&&$(b).val(e).trigger("change")})},"json"):($("#at_time_begin_"+a).val(""),$("#at_time_end_"+a).val(""),$("#at_flight_number_"+a).val(""),$("#at_course_begin_"+a).val(""),$("#at_course_end_"+a).val(""),$("#at_terminal_begin_"+a).val(""),$("#at_terminal_end_"+a).val(""),$("#at_code_begin_"+a).val(""),$("#at_code_end_"+a).val(""),$("#at_seats_"+
a).val(""),$("#at_tickets_"+a).val(""),$("#at_type_"+a).val(""),$("#at_type_id_"+a).val(0),$("#at_class_"+a).val(""),$("#at_class_id_"+a).val(0),$("#at_duration_"+a).val(""),$("#at_baggage_"+a).val(""),$("#at_ss_id_"+a).val(0))}function avia_transfer_delete(a,g){$("#avia_transfer_delete_"+a).html(loadingHorizontal);0<g?$.post("./ajax/ajax_avia_transfer_delete.php",{at_id:g},function(d){$("#avia_transfer_record_"+a).remove()}):$("#avia_transfer_record_"+a).remove()}
function add_payment_separation(){$.post("./templates/payment_separation.php",{c_id:$("#pc_c_id").val(),count:parseFloat($("#payment_separation_counter").val())},function(a){$("#payment_separation_list").append(a);$("#payment_separation_counter").val(parseFloat($("#payment_separation_counter").val())+1)})}
function payment_separation_delete(a,g){$("#payment_separation_delete_"+a).html(loadingHorizontal);0<g?$.post("./ajax/ajax_payment_separation_delete.php",{ps_id:g},function(d){$("#payment_separation_record_"+a).remove()}):$("#payment_separation_record_"+a).remove()}
function requests_view(a,g){var d=0;g&&(d=1);if(0!=$("#requests").length){var b=g=0,c=0,e=0,f=0,h=$("#search_request_type").val(),m=$("#items_per_page").val();$("#show_deadline:checked").length&&(g=1);$("#show_deadline_partner:checked").length&&(b=1);$("#show_client_debt:checked").length&&(c=1);$("#show_client_payment_null:checked").length&&(e=1);$("#show_partner_debt:checked").length&&(f=1);""!=a&&($("#sortBy").val()==a&&("asc"==$("#sort").val()?$("#sort").val("desc"):$("#sort").val("asc")),$("#sortBy").val(a));
a="";$("#search_region_country").length&&(a=$("#search_region_country").val());var k="";$("#search_region_city").length&&(k=$("#search_region_city").val());var l="";$("#search_region_hotel").length&&(l=$("#search_region_hotel").val());var p="";$("#search_region_hotel_type").length&&(p=$("#search_region_hotel_type").val());var q="";$("#search_tourist").length&&(q=$("#search_tourist").val());var u=0;$("#search_user_id").length&&(u=$("#search_user_id").val(),u==USER_ID?$("#my_mode").val(1):$("#my_mode").val(0));
var t=0;$("#search_userc_id").length&&(t=$("#search_userc_id").val());var C=0;$("#search_co_id").length&&(C=$("#search_co_id").val());var D="";$("#search_client").length&&(D=$("#search_client").val());var w=0;$("#search_client_type").length&&(w=$("#search_client_type").val());var z="";0<$("#search_currency_id").length&&(z=$("#search_currency_id").val());var L="";0<$("#search_partner_currency_id").length&&(L=$("#search_partner_currency_id").val());var U=0;$("#search_pform_id").length&&(U=$("#search_pform_id").val());
var V=0;$("#search_cash_id").length&&(V=$("#search_cash_id").val());var Y=0;$("#search_cash_id_by_partner").length&&(Y=$("#search_cash_id_by_partner").val());var T=0;$("#search_status_id").length&&(T=$("#search_status_id").val());var J=0;$("#search_status_pay_id").length&&(J=$("#search_status_pay_id").val());var P=0;$("#search_status_cb_id").length&&(P=$("#search_status_cb_id").val());var K=0;$("#search_user_status_id").length&&(K=$("#search_user_status_id").val());var E=0;$("#search_reason_deny_id").length&&
(E=$("#search_reason_deny_id").val());var x=0;$("#search_source_id").length&&(x=$("#search_source_id").val());var H=0;$("#search_visa_id").length&&(H=$("#search_visa_id").val());var M=0;$("#search_ci_id").length&&(M=$("#search_ci_id").val());var G=0;$("#search_tour_operator_id").length&&(G=$("#search_tour_operator_id").val());var N=0;$("#search_supplier_id").length&&(N=$("#search_supplier_id").val());var R="";$("#search_reservation_number").length&&(R=$("#search_reservation_number").val());var O=
"";$("#search_price_from").length&&(O=$("#search_price_from").val());var da="";$("#search_price_to").length&&(da=$("#search_price_to").val());var X="";$("#search_price_paid_from").length&&(X=$("#search_price_paid_from").val());var la="";$("#search_price_paid_to").length&&(la=$("#search_price_paid_to").val());var qa="";$("#search_price_debt_from").length&&(qa=$("#search_price_debt_from").val());var va="";$("#search_price_debt_to").length&&(va=$("#search_price_debt_to").val());var pa="";$("#search_price_netto_from").length&&
(pa=$("#search_price_netto_from").val());var wa="";$("#search_price_netto_to").length&&(wa=$("#search_price_netto_to").val());var oa="";$("#search_price_netto_paid_from").length&&(oa=$("#search_price_netto_paid_from").val());var Fa="";$("#search_price_netto_paid_to").length&&(Fa=$("#search_price_netto_paid_to").val());var Ja="";$("#search_price_netto_debt_from").length&&(Ja=$("#search_price_netto_debt_from").val());var Ka="";$("#search_price_netto_debt_to").length&&(Ka=$("#search_price_netto_debt_to").val());
var $a="";$("#search_travel_type_id").length&&($a=$("#search_travel_type_id").val());var Za="";$("#search_service_id").length&&(Za=$("#search_service_id").val());var Ma="";$("#search_nutrition_id").length&&(Ma=$("#search_nutrition_id").val());var sb="";$("#search_ht_id").length&&(sb=$("#search_ht_id").val());var lb="";$("#search_hp_id").length&&(lb=$("#search_hp_id").val());var jb="";$("#search_feedback").length&&(jb=$("#search_feedback").val());var tb="";$("#search_reminder").length&&(tb=$("#search_reminder").val());
var Ra="";$("#search_doc_sign").length&&(Ra=$("#search_doc_sign").val());var ia="";$("#search_has_tourists").length&&(ia=$("#search_has_tourists").val());var y="./ajax/ajax_requests"+(1==$("#is_client").val()?"_client":"")+".php";d&&(y="./ajax/ajax_requests_leads.php");var Na=[];0<$(".search_rf").length&&$(".search_rf").each(function(pb,ib){""!=$(ib).val()&&(void 0!=$(ib).attr("data-from")?Na.push(JSON.stringify({id:$(ib).attr("data-id"),from:$.trim($(ib).val())})):void 0!=$(ib).attr("data-to")?Na.push(JSON.stringify({id:$(ib).attr("data-id"),
to:$.trim($(ib).val())})):void 0!=$(ib).attr("data-id")&&Na.push(JSON.stringify({id:$(ib).attr("data-id"),value:$.trim($(ib).val())})))});OnlineLoading.showOverlay();Ajax.post(y,{search_global:$("#search_global").val(),search_filter_id:$("#search_filter_id").val(),search_id:$("#search_id").val(),search_ta_id_in_cb:0<$("#search_ta_id_in_cb").length?$("#search_ta_id_in_cb").val():0,search_region_country:a,search_region_city:k,search_region_hotel:l,search_region_hotel_type:p,search_tourist:q,search_user_id:u,
search_userc_id:t,search_ci_id:M,search_co_id:C,search_client:D,search_client_type:w,search_currency_id:z,search_partner_currency_id:L,search_pform_id:U,search_cash_id:V,search_cash_id_by_partner:Y,search_dat_type:$("#search_dat_type").val(),search_dat1:$("#search_dat1").val(),search_time1:$("#search_time1").val(),search_dat2:$("#search_dat2").val(),search_time2:$("#search_time2").val(),search_dat_type2:$("#search_dat_type2").val(),search_dat2_1:$("#search_dat2_1").val(),search_time2_1:$("#search_time2_1").val(),
search_dat2_2:$("#search_dat2_2").val(),search_time2_2:$("#search_time2_2").val(),search_user_status_id:K,search_reason_deny_id:E,search_status_id:T,search_status_pay_id:J,search_status_cb_id:P,search_visa_id:H,search_source_id:x,search_tour_operator_id:G,search_supplier_id:N,search_reservation_number:R,search_travel_type:$a,search_service:Za,search_nutrition:Ma,search_ht:sb,search_hp:lb,search_feedback:jb,search_reminder:tb,search_doc_sign:Ra,search_has_tourists:ia,search_user_label_id:$("#search_user_label_id").val(),
search_qq:$("#search_qq").val(),search_price_from:O,search_price_to:da,search_price_paid_from:X,search_price_paid_to:la,search_price_debt_from:qa,search_price_debt_to:va,search_price_netto_from:pa,search_price_netto_to:wa,search_price_netto_paid_from:oa,search_price_netto_paid_to:Fa,search_price_netto_debt_from:Ja,search_price_netto_debt_to:Ka,search_cr_countries_id:$("#search_cr_countries_id").val(),search_cr_has_dat:$("#search_cr_has_dat").val(),search_cr_date_from:$("#search_cr_date_from").val(),
search_cr_date_to:$("#search_cr_date_to").val(),search_cr_days:$("#search_cr_days").val(),search_cr_hotel_types_id:$("#search_cr_hotel_types_id").val(),search_cr_nutrition_id:$("#search_cr_nutrition_id").val(),search_cr_price_from:$("#search_cr_price_from").val(),search_cr_price_to:$("#search_cr_price_to").val(),"search_rf[]":Na,sortBy:$("#sortBy").val(),sort:$("#sort").val(),pages:$("#pages").val(),pages_page:$("#pages_page").val(),client_mode:$("#client_mode").val(),archive_mode:$("#archive_mode").val(),
favorites:$("#favorites").val(),my_mode:$("#my_mode").val(),show_deadline:g,show_deadline_partner:b,show_client_debt:c,show_client_payment_null:e,show_partner_debt:f,active:h,items_per_page:m},function(pb){$("#requests").html(pb);OnlineLoading.hide()})}}
function requests_cb(){0!=$("#requests").length&&($("#items_per_page").val(),OnlineLoading.showOverlay(),Ajax.post("/ajax/ajax_requests_cb.php",{sortBy:$("#sortBy").val(),sort:$("#sort").val(),pages:$("#pages").val(),pages_page:$("#pages_page").val()},function(a){$("#requests").html(a);OnlineLoading.hide()}))}
function setSearchDataTitle(a,g){var d=$("<div></div>");d.append('<input type="text" name="title" class="form-control">');Dialog.modalConfirmBox(d,_("\u041d\u0430\u0437\u0432\u0430\u043d\u0438\u0435 \u0441\u043e\u0445\u0440\u0430\u043d\u044f\u0435\u043c\u043e\u0433\u043e \u043f\u043e\u0438\u0441\u043a\u0430"),function(){var b=d.find('input[name="title"]').val();setSearchData(b,a,g)})}
function showSavedSearches(a,g=null){var d=getLocaleStorage(a+"SavedSearchesCount")||0;if(0<d){$(".saveSearchesItems").html("");for(var b,c,e=1;e<=d;e++)b=getLocaleStorage(a+"SavedSearches_"+e),null!=b&&(c=JSON.parse(b),b=$("#saveSearches .default").clone(),b.removeClass("hidden"),b.removeClass("default"),b.attr("data-id",a+"SavedSearches_"+e),b.val(c.title),c=$("<li></li>"),c.append(b),$(".saveSearchesItems").append(c),null!=g&&(b=$("#saveSearches li").find("[data-id='"+g+"']").val(),$("#saveSearches .search-name").text(b)));
$(".saveSearchesItems").append('<li><button type="button" class="btn btn-default btn-sm search-cancel" onclick="location.href = \'/'+a+'.php\';"><span class="text-danger"><span class="fa fa-times"></span> '+_("\u041e\u0442\u043c\u0435\u043d\u0438\u0442\u044c \u043f\u043e\u0438\u0441\u043a")+"</span></button></li>");$("#saveSearches").removeClass("hidden")}}
function setSearchData(a,g,d){var b={},c=0,e=d+"SavedSearches";$(g).find("input").each(function(){var f=$(this),h=f.attr("type")?f.attr("type"):"text";if("checkbox"!=h||f.is(":checked"))b[$(f).attr("name")]={type:h,value:$(f).val()}});$(g).find("select").each(function(){var f=$(this),h=f.attr("multiple")?"selectMultiple":"select";b[$(f).attr("name")]={type:h,value:$(f).val()}});c=getLocaleStorage(e+"Count")||0;setLocaleStorage(e+"Count",c+1);setLocaleStorage(e+"_"+(c+1),JSON.stringify({title:a,data:b}));
showSavedSearches(d)}
function getSearchData(a){a=$.parseJSON(getLocaleStorage(a)).data;$("#search").removeClass("hidden").attr("visibility","hidden");multiselectInit();$.each(a,function(g,d){var b=$("select[name="+g+"]");"text"==d.type?$("input[name="+g+"]").val(d.value):"select"==d.type?""!=d.value&&void 0!==d.value&&b.val(d.value).change():"selectMultiple"==d.type?d.value&&0<d.value.length&&(g=d.value.map(String),b.val(g),0<b.length&&b.attr("multiple")&&b.multiselect("refresh")):"checkbox"==d.type?d.value&&$("input[name="+
g+"]").prop("checked",!0):$("input[name="+g+"]").val(d.value)});$("#search").addClass("hidden").removeAttr("visibility");$(".search-submit").click()}
function requests_view_csv(a,g){if(0!=$("#requests").length){var d=0,b=0,c=0,e=0,f=0,h=1;0==g&&(h=g);$("#show_deadline:checked").length&&(d=1);$("#show_deadline_partner:checked").length&&(b=1);$("#show_client_debt:checked").length&&(c=1);$("#show_client_payment_null:checked").length&&(e=1);$("#show_partner_debt:checked").length&&(f=1);""!=a&&($("#sortBy").val()==a&&("asc"==$("#sort").val()?$("#sort").val("desc"):$("#sort").val("asc")),$("#sortBy").val(a));a="";$("#search_region_country").length&&
(a=$("#search_region_country").val());g="";$("#search_region_city").length&&(g=$("#search_region_city").val());var m="";$("#search_region_hotel").length&&(m=$("#search_region_hotel").val());var k="";$("#search_region_hotel_type").length&&(k=$("#search_region_hotel_type").val());var l="";$("#search_tourist").length&&(l=$("#search_tourist").val());var p=0;$("#search_co_id").length&&$("#search_co_id").val()&&(p=$("#search_co_id").val());var q=0;$("#search_user_id").length&&$("#search_user_id").val()&&
(q=$("#search_user_id").val());var u=0;$("#search_userc_id").length&&$("#search_userc_id").val()&&(u=$("#search_userc_id").val());var t="";$("#search_client").length&&(t=$("#search_client").val());var C="";$("#search_client_type").length&&(C=$("#search_client_type").val());var D="";0<$("#search_currency_id").length&&(D=$("#search_currency_id").val());var w="";0<$("#search_partner_currency_id").length&&(w=$("#search_partner_currency_id").val());var z=0;$("#search_pform_id").length&&$("#search_pform_id").val()&&
(z=$("#search_pform_id").val());var L=0;$("#search_cash_id").length&&$("#search_cash_id").val()&&(L=$("#search_cash_id").val());var U=0;$("#search_cash_id_by_partner").length&&$("#search_cash_id_by_partner").val()&&(U=$("#search_cash_id_by_partner").val());var V=0;$("#search_status_id").length&&$("#search_status_id").val()&&(V=$("#search_status_id").val());var Y=0;$("#search_status_pay_id").length&&$("#search_status_pay_id").val()&&(Y=$("#search_status_pay_id").val());var T=0;$("#search_status_cb_id").length&&
$("#search_status_cb_id").val()&&(T=$("#search_status_cb_id").val());var J=0;$("#search_source_id").length&&$("#search_source_id").val()&&(J=$("#search_source_id").val());var P=0;$("#search_visa_id").length&&$("#search_visa_id").val()&&(P=$("#search_visa_id").val());var K=0;$("#search_ci_id").length&&$("#search_ci_id").val()&&(K=$("#search_ci_id").val());var E=0;$("#search_tour_operator_id").length&&$("#search_tour_operator_id").val()&&(E=$("#search_tour_operator_id").val());var x="";$("#search_reservation_number").length&&
(x=$("#search_reservation_number").val());var H="";$("#search_price_from").length&&(H=$("#search_price_from").val());var M="";$("#search_price_to").length&&(M=$("#search_price_to").val());var G="";$("#search_price_paid_from").length&&(G=$("#search_price_paid_from").val());var N="";$("#search_price_paid_to").length&&(N=$("#search_price_paid_to").val());var R="";$("#search_price_debt_from").length&&(R=$("#search_price_debt_from").val());var O="";$("#search_price_debt_to").length&&(O=$("#search_price_debt_to").val());
var da="";$("#search_price_netto_from").length&&(da=$("#search_price_netto_from").val());var X="";$("#search_price_netto_to").length&&(X=$("#search_price_netto_to").val());var la="";$("#search_price_netto_paid_from").length&&(la=$("#search_price_netto_paid_from").val());var qa="";$("#search_price_netto_paid_to").length&&(qa=$("#search_price_netto_paid_to").val());var va="";$("#search_price_netto_debt_from").length&&(va=$("#search_price_netto_debt_from").val());var pa="";$("#search_price_netto_debt_to").length&&
(pa=$("#search_price_netto_debt_to").val());var wa="";$("#search_travel_type_id").length&&$("#search_travel_type_id").val()&&(wa=$("#search_travel_type_id").val());var oa="";$("#search_service_id").length&&$("#search_service_id").val()&&(oa=$("#search_service_id").val());var Fa="";$("#search_feedback").length&&$("#search_feedback").val()&&(Fa=$("#search_feedback").val());var Ja="";$("#search_reminder").length&&$("#search_reminder").val()&&(Ja=$("#search_reminder").val());var Ka="";$("#search_doc_sign").length&&
$("#search_doc_sign").val()&&(Ka=$("#search_doc_sign").val());var $a="";$("#search_has_tourists").length&&$("#search_has_tourists").val()&&($a=$("#search_has_tourists").val());var Za="";$("#search_user_label_id").length&&$("#search_user_label_id").val()&&(Za=$("#search_user_label_id").val());var Ma="";$("#search_user_status_id").length&&$("#search_user_status_id").val()&&(Ma=$("#search_user_status_id").val());var sb="";$("#search_reason_deny_id").length&&$("#search_reason_deny_id").val()&&(sb=$("#search_reason_deny_id").val());
var lb=0;$("#search_supplier_id").length&&(lb=$("#search_supplier_id").val());var jb=0;$("#search_nutrition_id").length&&(jb=$("#search_nutrition_id").val());var tb=0;$("#search_hp_id").length&&(tb=$("#search_hp_id").val());var Ra=0;$("#search_ht_id").length&&(Ra=$("#search_ht_id").val());var ia=[];0<$(".search_rf").length&&$(".search_rf").each(function(y,Na){""!=$(Na).val()&&(void 0!=$(Na).attr("data-from")?ia.push(JSON.stringify({id:$(Na).attr("data-id"),from:$.trim($(Na).val())})):void 0!=$(Na).attr("data-to")?
ia.push(JSON.stringify({id:$(Na).attr("data-id"),to:$.trim($(Na).val())})):void 0!=$(Na).attr("data-id")&&ia.push(JSON.stringify({id:$(Na).attr("data-id"),value:$.trim($(Na).val())})))});d={search_global:$("#search_global").val(),search_filter_id:$("#search_filter_id").val(),search_id:$("#search_id").val(),search_region_country:a,search_region_city:g,search_region_hotel:m,search_region_hotel_type:k,search_tourist:l,search_ci_id:K,search_co_id:p,search_user_id:q,search_userc_id:u,search_client:t,search_client_type:C,
search_pform_id:z,search_currency_id:D,search_partner_currency_id:w,search_nutrition:jb,search_ht:Ra,search_hp:tb,search_cash_id:L,search_cash_id_by_partner:U,search_dat_type:$("#search_dat_type").val(),search_dat1:$("#search_dat1").val(),search_time1:$("#search_time1").val(),search_dat2:$("#search_dat2").val(),search_time2:$("#search_time2").val(),search_dat_type2:$("#search_dat_type2").val(),search_dat2_1:$("#search_dat2_1").val(),search_time2_1:$("#search_time2_1").val(),search_dat2_2:$("#search_dat2_2").val(),
search_time2_2:$("#search_time2_2").val(),search_user_status_id:Ma,search_reason_deny_id:sb,search_status_id:V,search_status_pay_id:Y,search_status_cb_id:T,search_visa_id:P,search_source_id:J,search_tour_operator_id:E,search_supplier_id:lb,search_reservation_number:x,search_travel_type:wa,search_service:oa,search_feedback:Fa,search_reminder:Ja,search_doc_sign:Ka,search_has_tourists:$a,search_user_label_id:Za,search_qq:$("#search_qq").val(),search_rf:ia,search_price_from:H,search_price_to:M,search_price_paid_from:G,
search_price_paid_to:N,search_price_debt_from:R,search_price_debt_to:O,search_price_netto_from:da,search_price_netto_to:X,search_price_netto_paid_from:la,search_price_netto_paid_to:qa,search_price_netto_debt_from:va,search_price_netto_debt_to:pa,search_cr_countries_id:$("#search_cr_countries_id").val(),search_cr_has_dat:$("#search_cr_has_dat").val(),search_cr_date_from:$("#search_cr_date_from").val(),search_cr_date_to:$("#search_cr_date_to").val(),search_cr_days:$("#search_cr_days").val(),search_cr_hotel_types_id:$("#search_cr_hotel_types_id").val(),
search_cr_nutrition_id:$("#search_cr_nutrition_id").val(),search_cr_price_from:$("#search_cr_price_from").val(),search_cr_price_to:$("#search_cr_price_to").val(),sortBy:$("#sortBy").val(),sort:$("#sort").val(),pages:$("#pages").val(),pages_page:$("#pages_page").val(),client_mode:$("#client_mode").val(),archive_mode:$("#archive_mode").val(),favorites:$("#favorites").val(),my_mode:$("#my_mode").val(),show_deadline:d,show_deadline_partner:b,show_client_debt:c,show_client_payment_null:e,show_partner_debt:f,
active:h,items_per_page:$("#items_per_page").val(),export:1};url=1==h?"./ajax/ajax_requests.php":"./ajax/ajax_requests_leads.php";redirectPost(url,d)}}function request_active(a,g){0<a&&1==g&&Ajax.post("./ajax/ajax_request_active.php",{r_id:a,active:g},function(d){d.error?DialogError(d.error):location.href="/request_edit.php?r_id="+a},"json")}
function mailing_list_view(a,g,d){""!=g&&($("#sortBy").val()==g&&("asc"==$("#sort").val()?$("#sort").val("desc"):$("#sort").val("asc")),$("#sortBy").val(g));target="list_"+a;search="search"+a;sortBy="sortBy";sort="sort";pages="pages";pages_page="pages_page";0<$("#"+sortBy).length&&(sortBy=$("#"+sortBy).val());0<$("#"+sort).length&&(sort=$("#"+sort).val());Ajax.post("./ajax/ajax_mailing_emails_list.php",{m_id:$("#m_id").val(),user_type:a,sortBy,sort,pages:$("#"+pages).val(),pages_page:$("#"+pages_page).val()},
function(b){$("#"+target).html(b)})}
function profit_list_view(a,g,d){""!=g&&($("#sortBy").val()==g&&("asc"==$("#sort").val()?$("#sort").val("desc"):$("#sort").val("asc")),$("#sortBy").val(g));target=a+"_list";clientType="clientType";priceBegin="price_begin";priceEnd="price_end";profitBegin="profit_begin";profitEnd="profit_end";dateBegin="dat_begin";dateEnd="dat_end";search=a+"_search";sortBy="sortBy";sort="sort";pages="pages";pages_page="pages_page";1==d&&window.opener.document.getElementById(target)?(clientType=0<$("#"+clientType,
window.opener.document).length?$("#"+clientType,window.opener.document).val():"",priceBegin=0<$("#"+priceBegin,window.opener.document).length?$("#"+priceBegin,window.opener.document).val():"",priceEnd=0<$("#"+priceEnd,window.opener.document).length?$("#"+priceEnd,window.opener.document).val():"",profitBegin=0<$("#"+profitBegin,window.opener.document).length?$("#"+profitBegin,window.opener.document).val():"",profitEnd=0<$("#"+profitEnd,window.opener.document).length?$("#"+profitEnd,window.opener.document).val():
"",dateBegin=0<$("#"+dateBegin,window.opener.document).length?$("#"+dateBegin,window.opener.document).val():"",dateEnd=0<$("#"+dateEnd,window.opener.document).length?$("#"+dateEnd,window.opener.document).val():"",search=0<$("#"+search,window.opener.document).length?$("#"+search,window.opener.document).val():"",sortBy=0<$("#"+sortBy,window.opener.document).length?$("#"+sortBy,window.opener.document).val():"",sort=0<$("#"+sort,window.opener.document).length?$("#"+sort,window.opener.document).val():
"",$("#"+target).html(loadingHorizontal),Ajax.post("./ajax/ajax_"+a+"_list.php",{clientType,priceBegin,priceEnd,profitBegin,profitEnd,dateBegin,dateEnd,search,sortBy,sort,pages:$("#"+pages,window.opener.document).val(),pages_page:$("#"+pages_page,window.opener.document).val(),limit:1E3},function(b){$("#"+target).html(b)})):(clientType=0<$("#"+clientType).length?$("#"+clientType).val():"",priceBegin=0<$("#"+priceBegin).length?$("#"+priceBegin).val():"",priceEnd=0<$("#"+priceEnd).length?$("#"+priceEnd).val():
"",profitBegin=0<$("#"+profitBegin).length?$("#"+profitBegin).val():"",profitEnd=0<$("#"+profitEnd).length?$("#"+profitEnd).val():"",dateBegin=0<$("#"+dateBegin).length?$("#"+dateBegin).val():"",dateEnd=0<$("#"+dateEnd).length?$("#"+dateEnd).val():"",search=0<$("#"+search).length?$("#"+search).val():"",sortBy=0<$("#"+sortBy).length?$("#"+sortBy).val():"",sort=0<$("#"+sort).length?$("#"+sort).val():"",Ajax.post("./ajax/ajax_"+a+"_list.php",{clientType,priceBegin,priceEnd,profitBegin,profitEnd,dateBegin,
dateEnd,search,sortBy,sort,pages:$("#"+pages).val(),pages_page:$("#"+pages_page).val()},function(b){$("#"+target).html(b);1==d&&window.close()}))}
function list_view(a,g,d,b,c){""!=g&&($("#sortBy").val()==g&&("asc"==$("#sort").val()?$("#sort").val("desc"):$("#sort").val("asc")),$("#sortBy").val(g));search=a+"_search";userId="userId";officeId="officeId";statusId="statusId";currencyId="currencyId";eventType="eventType";eventPriority="eventPriority";isSystem="isSystem";isBirthday="isBirthday";archive="archive";today="today";overdue="overdue";sortBy="sortBy";sort="sort";pages="pages";pages_page="pages_page";dateEnd2=dateBegin2=dateEnd=dateBegin=
paidEnd=paidBegin=paid="";1==b&&OnlineLoading.showOverlay();c="undefined"!==typeof c?1:0;1==d&&window.opener.document.getElementById(a+"_list")?(0<$("#dateBegin",window.opener.document).length&&(dateBegin=$("#dateBegin",window.opener.document).val()),0<$("#dateEnd",window.opener.document).length&&(dateEnd=$("#dateEnd",window.opener.document).val()),0<$("#dateBegin2",window.opener.document).length&&(dateBegin2=$("#dateBegin2",window.opener.document).val()),0<$("#dateEnd2",window.opener.document).length&&
(dateEnd2=$("#dateEnd2",window.opener.document).val()),0<$("#paid",window.opener.document).length&&(paid=$("#paid",window.opener.document).val()),0<$("#paidBegin",window.opener.document).length&&(paidBegin=$("#paidBegin",window.opener.document).val()),0<$("#paidEnd",window.opener.document).length&&(paidEnd=$("#paidEnd",window.opener.document).val()),userId=0<$("#"+userId,window.opener.document).length?$("#"+userId,window.opener.document).val():"",officeId=0<$("#"+officeId,window.opener.document).length?
$("#"+officeId,window.opener.document).val():"",statusId=0<$("#"+statusId,window.opener.document).length?$("#"+statusId,window.opener.document).val():"",currencyId=0<$("#"+currencyId,window.opener.document).length?$("#"+currencyId,window.opener.document).val():"",eventType=0<$("#"+eventType,window.opener.document).length?$("#"+eventType,window.opener.document).val():"",eventPriority=0<$("#"+eventPriority,window.opener.document).length?$("#"+eventPriority,window.opener.document).val():"",isSystem=
0<$("#"+isSystem,window.opener.document).length?$("#"+isSystem,window.opener.document).val():"",isBirthday=0<$("#"+isBirthday,window.opener.document).length?$("#"+isBirthday,window.opener.document).val():"",archive=0<$("#"+archive,window.opener.document).length?$("#"+archive,window.opener.document).val():"",today=0<$("#"+today,window.opener.document).length?$("#"+today,window.opener.document).val():"",overdue=0<$("#"+overdue,window.opener.document).length?$("#"+overdue,window.opener.document).val():
"",search=0<$("#"+search,window.opener.document).length?$("#"+search,window.opener.document).val():"",sortBy=0<$("#"+sortBy,window.opener.document).length?$("#"+sortBy,window.opener.document).val():"",sort=0<$("#"+sort,window.opener.document).length?$("#"+sort,window.opener.document).val():"",1==c?location.href="./ajax/ajax_"+a+"_list.php?export&dateBegin="+dateBegin+"&dateEnd="+dateEnd+"&dateBegin2="+dateBegin2+"&dateEnd2="+dateEnd2+"&userId="+userId+"&officeId="+(null!=officeId?officeId:"")+"&statusId="+
(null!=statusId?statusId:"")+"&currencyId="+(null!=currencyId?currencyId:"")+"&eventType="+(null!=eventType?eventType:"")+"&eventPriority="+(null!=eventPriority?eventPriority:"")+"&isSystem="+isSystem+"&isBirthday="+isBirthday+"&archive="+archive+"&today="+today+"&overdue="+overdue+"&search="+search+"&paid="+paid+"&paidBegin="+paidBegin+"&paidEnd="+paidEnd+"&sortBy="+sortBy+"&sort="+sort+"&pages="+$("#"+pages,window.opener.document).val()+"&pages_page="+$("#"+pages_page,window.opener.document).val():
Ajax.post("./ajax/ajax_"+a+"_list.php",{dateBegin,dateEnd,dateBegin2,dateEnd2,userId,officeId,statusId,currencyId,eventType,eventPriority,isSystem,isBirthday,archive,today,overdue,search,paid,paidBegin,paidEnd,sortBy,sort,pages:$("#"+pages,window.opener.document).val(),pages_page:$("#"+pages_page,window.opener.document).val()},function(e){$("#"+a+"_list",window.opener.document).html(e);1==d&&window.close()})):(0<$("#dateBegin").length&&(dateBegin=$("#dateBegin").val()),0<$("#dateEnd").length&&(dateEnd=
$("#dateEnd").val()),0<$("#dateBegin2").length&&(dateBegin2=$("#dateBegin2").val()),0<$("#dateEnd2").length&&(dateEnd2=$("#dateEnd2").val()),0<$("#paid").length&&(paid=$("#paid").val()),0<$("#paidBegin").length&&(paidBegin=$("#paidBegin").val()),0<$("#paidEnd").length&&(paidEnd=$("#paidEnd").val()),userId=0<$("#"+userId).length?$("#"+userId).val():"",officeId=0<$("#"+officeId).length?$("#"+officeId).val():"",statusId=0<$("#"+statusId).length?$("#"+statusId).val():"",currencyId=0<$("#"+currencyId).length?
$("#"+currencyId).val():"",eventType=0<$("#"+eventType).length?$("#"+eventType).val():"",eventPriority=0<$("#"+eventPriority).length?$("#"+eventPriority).val():"",isSystem=0<$("#"+isSystem).length?$("#"+isSystem).val():"",isBirthday=0<$("#"+isBirthday).length?$("#"+isBirthday).val():"",archive=0<$("#"+archive).length?$("#"+archive).val():"",today=0<$("#"+today).length?$("#"+today).val():"",overdue=0<$("#"+overdue).length?$("#"+overdue).val():"",search=0<$("#"+search).length?$("#"+search).val():"",
sortBy=0<$("#"+sortBy).length?$("#"+sortBy).val():"",sort=0<$("#"+sort).length?$("#"+sort).val():"",1==c?location.href="./ajax/ajax_"+a+"_list.php?export&dateBegin="+dateBegin+"&dateEnd="+dateEnd+"&dateBegin2="+dateBegin2+"&dateEnd2="+dateEnd2+"&userId="+userId+"&officeId="+(null!=officeId?officeId:"")+"&statusId="+(null!=statusId?statusId:"")+"&currencyId="+(null!=currencyId?currencyId:"")+"&eventType="+(null!=eventType?eventType:"")+"&eventPriority="+(null!=eventPriority?eventPriority:"")+"&isSystem="+
isSystem+"&isBirthday="+isBirthday+"&archive="+archive+"&today="+today+"&overdue="+overdue+"&search="+search+"&paid="+paid+"&paidBegin="+paidBegin+"&paidEnd="+paidEnd+"&sortBy="+sortBy+"&sort="+sort+"&pages="+$("#"+pages).val()+"&pages_page="+$("#"+pages_page).val():Ajax.post("./ajax/ajax_"+a+"_list.php",{dateBegin,dateEnd,dateBegin2,dateEnd2,userId,officeId,statusId,currencyId,eventType,eventPriority,isSystem,isBirthday,archive,today,overdue,paid,paidBegin,paidEnd,search,sortBy,sort,pages:$("#"+
pages).val(),pages_page:$("#"+pages_page).val()},function(e){$("#"+a+"_list").html(e);1==b&&OnlineLoading.hide();1==d&&window.close()}))}
function client_view(a){if(0!=$("#client_list").length){var g=[];0<$(".search_rf").length&&$(".search_rf").each(function(f,h){""!=$(h).val()&&(void 0!=$(h).attr("data-from")?g.push(JSON.stringify({id:$(h).attr("data-id"),from:$.trim($(h).val())})):void 0!=$(h).attr("data-to")?g.push(JSON.stringify({id:$(h).attr("data-id"),to:$.trim($(h).val())})):void 0!=$(h).attr("data-id")&&g.push(JSON.stringify({id:$(h).attr("data-id"),value:$.trim($(h).val())})))});var d={search:$("#client_search").val(),search_dat1:$("#search_dat1").val(),
search_dat2:$("#search_dat2").val(),search_update_dat1:$("#search_update_dat1").val(),search_update_dat2:$("#search_update_dat2").val(),search_action_dat1:$("#search_action_dat1").val(),search_action_dat2:$("#search_action_dat2").val(),search_reminder_dat1:$("#search_reminder_dat1").val(),search_reminder_dat2:$("#search_reminder_dat2").val(),search_document:$("#search_document").val(),search_document_dat1:$("#search_document_dat1").val(),search_document_dat2:$("#search_document_dat2").val(),search_lead_dat1:$("#search_lead_dat1").val(),
search_lead_dat2:$("#search_lead_dat2").val(),search_request_dat1:$("#search_request_dat1").val(),search_request_dat2:$("#search_request_dat2").val(),search_birthday_day:$("#search_birthday_day").val(),search_birthday_month:$("#search_birthday_month").val(),search_birthday_age_from:$("#search_birthday_age_from").val(),search_birthday_age_to:$("#search_birthday_age_to").val(),search_has_birthday:$("#search_has_birthday").val(),search_has_cabinet:$("#search_has_cabinet").val(),search_has_passport_russia:$("#search_has_passport_russia").val(),
search_has_bcard:$("#search_has_bcard").val(),search_type:$("#search_type").val(),search_kind:$("#search_kind").val(),search_surname:$("#search_surname").val(),search_has_surname:$("#search_has_surname").val(),search_name:$("#search_name").val(),search_has_name:$("#search_has_name").val(),search_sname:$("#search_sname").val(),search_has_sname:$("#search_has_sname").val(),search_passport:$("#search_passport").val(),search_zagranpassport:$("#search_zagranpassport").val(),search_email:$("#search_email").val(),
search_phone:$("#search_phone").val(),search_sex_id:$("#search_sex_id").val(),search_manager_id:$("#search_manager_id").val(),search_office_id:$("#search_office_id").val(),search_is_client:$("#search_is_client").val(),search_is_tourist:$("#search_is_tourist").val(),search_has_files:$("#search_has_files").val(),search_has_leads:$("#search_has_leads").val(),search_has_requests:$("#search_has_requests").val(),search_price1:$("#search_price1").val(),search_price2:$("#search_price2").val(),search_profit1:$("#search_profit1").val(),
search_profit2:$("#search_profit2").val(),search_has_phone:$("#search_has_phone").val(),search_has_email:$("#search_has_email").val(),search_has_messenger_type:$("#search_has_messenger_type").val(),search_has_messenger:$("#search_has_messenger").val(),search_has_actions:$("#search_has_actions").val(),search_has_reminders:$("#search_has_reminders").val(),search_deposit:$("#search_deposit").val(),search_delivery:$("#search_delivery").val(),search_notification:$("#search_notification").val(),search_recommendation:$("#search_recommendation").val(),
search_has_labels:$("#search_has_labels").val(),search_label_id:$("#search_label_id").val(),search_label_id_exclude:$("#search_label_id_exclude").val(),search_passport_russia:$("#search_passport_russia").val(),search_cnt_id:$("#search_cnt_id").val(),search_city_id:$("#sr_city").val(),search_source:$("#search_source").val(),"search_rf[]":g,sortBy:$("#sortBy").val(),sort:$("#sort").val(),pages:$("#pages").val(),pages_page:$("#pages_page").val()};OnlineLoading.showOverlay();var b=$(".search_add_label").val()||
"",c=$(".search_delete_label").val()||"",e=$(".search_update_manager").val()||"";1==a||""!=b||""!=c||""!=e?(1==a&&(d.export_mail=1),""!=b&&(d.label_add=b),""!=c&&(d.label_delete=c),""!=e&&(d.manager_update=e),Ajax.post("./ajax/ajax_client_list.php",d,function(f){f.success?noty({type:"success",text:f.success}):noty({type:"danger",text:f.error})},"json")):Ajax.post("./ajax/ajax_client_list.php",d,function(f){$("#client_list").html(f);OnlineLoading.hide()})}}
function supplier_view(a){if(0!=$("#supplier_list").length){var g={search:$("#supplier_search").val(),search_dat1:$("#search_dat1").val(),search_dat2:$("#search_dat2").val(),search_type:$("#search_type").val(),search_category:$("#search_category").val(),search_label_id:$("#search_label_id").val(),search_deposit:$("#search_deposit").val(),search_ss_active:$("#search_ss_active").val(),sortBy:$("#sortBy").val(),sort:$("#sort").val(),pages:$("#pages").val(),pages_page:$("#pages_page").val()};OnlineLoading.showOverlay();
1==a?(location.href="./ajax/ajax_supplier_list.php?export&"+$.param(g),OnlineLoading.hide()):Ajax.post("./ajax/ajax_supplier_list.php",g,function(d){$("#supplier_list").html(d);OnlineLoading.hide()})}}
function cash_payment_list(){Ajax.post("/ajax/ajax_cash_status_in_out.php",{in_plan:$("#p_in_plan").val(),inout_type:$("#inout_type").val(),payment_type:null!=$("#payment_type").val()?$("#payment_type").val():"",payment_type_prepay:$("#payment_type_prepay").val(),cash_id:$("#cash_id").val(),bank:$("#p_bank").val(),fiscal:$("#p_fiscal").val(),exchange:$("#p_exchange").val(),pform_id:$("#pform_id").val(),pot_id:$("#pot_id").val(),ci_id:$("#ci_id").val()||0,office_id:$("#office_id").val(),office_id_request:$("#office_id_request").val(),
ttype_id_request:$("#ttype_id_request").val(),deposit:$("#deposit").val(),is_bonus_pay:$("#is_bonus_pay").val(),touroperator_id:$("#touroperatorContainerId").val(),supplier_id:$("#supplierContainerId").val(),supplier_type_id:$("#supplierTypeContainerId").val(),client_id:$("#clientContainerId").val(),client_label_id:$("#clientLabelId").val(),manager_id:$("#managerId").val(),manager_id_request:$("#managerRequestId").val(),source_id_request:$("#sourceIdRequest").val(),payment_sum:$("#paymentSum").val(),
payment_sum_to:$("#paymentSumTo").val(),payment_sum_main:$("#paymentSumMain").val(),payment_sum_main_to:$("#paymentSumMainTo").val(),date_begin:$("#dat_begin").val()+" "+$("#dat_begin_time").val(),date_end:$("#dat_end").val()+" "+$("#dat_end_time").val()},function(a){a&&($("#cash_status_dat_in").html(a.in),$("#cash_status_dat_out").html(a.out))},"json");OnlineLoading.showOverlay();Ajax.post("/ajax/ajax_payment_list.php",{in_plan:$("#p_in_plan").val(),inout_type:$("#inout_type").val(),payment_type:null!=
$("#payment_type").val()?$("#payment_type").val():"",payment_type_prepay:$("#payment_type_prepay").val(),cash_id:$("#cash_id").val(),bank:$("#p_bank").val(),fiscal:$("#p_fiscal").val(),exchange:$("#p_exchange").val(),pform_id:$("#pform_id").val(),pot_id:$("#pot_id").val(),ci_id:$("#ci_id").val()||0,office_id:null!=$("#office_id").val()?$("#office_id").val():"",office_id_request:null!=$("#office_id_request").val()?$("#office_id_request").val():"",ttype_id_request:null!=$("#ttype_id_request").val()?
$("#ttype_id_request").val():"",deposit:$("#deposit").val(),is_bonus_pay:$("#is_bonus_pay").val(),touroperator_id:$("#touroperatorContainerId").val(),supplier_id:$("#supplierContainerId").val(),supplier_type_id:$("#supplierTypeContainerId").val(),client_id:$("#clientContainerId").val(),client_label_id:$("#clientLabelId").val(),manager_id:$("#managerId").val(),manager_request_id:$("#managerRequestId").val(),source_id_request:$("#sourceIdRequest").val(),request_id:$("#requestId").val(),payment_id:$("#paymentId").val(),
payment_sum:$("#paymentSum").val(),payment_sum_to:$("#paymentSumTo").val(),payment_sum_main:$("#paymentSumMain").val(),payment_sum_main_to:$("#paymentSumMainTo").val(),dat_begin:$("#dat_begin").val()+" "+$("#dat_begin_time").val(),dat_end:$("#dat_end").val()+" "+$("#dat_end_time").val(),sortBy:$("#sortBy").val(),sort:$("#sort").val(),pages:$("#pages").val(),pages_page:1,items_per_page:$("#items_per_page").val()},function(a){$("#payment_list").html(a);OnlineLoading.hide();Ajax.post("/ajax/ajax_cash_status_dat.php",
{in_plan:$("#p_in_plan").val(),inout_type:$("#inout_type").val(),payment_type:null!=$("#payment_type").val()?$("#payment_type").val():"",payment_type_prepay:$("#payment_type_prepay").val(),cash_id:$("#cash_id").val(),bank:$("#p_bank").val(),fiscal:$("#p_fiscal").val(),exchange:$("#p_exchange").val(),pform_id:$("#pform_id").val(),pot_id:$("#pot_id").val(),ci_id:$("#ci_id").val()||0,office_id:$("#office_id").val(),office_id_request:$("#office_id_request").val(),ttype_id_request:$("#ttype_id_request").val(),
deposit:$("#deposit").val(),is_bonus_pay:$("#is_bonus_pay").val(),touroperator_id:$("#touroperatorContainerId").val(),supplier_id:$("#supplierContainerId").val(),supplier_type_id:$("#supplierTypeContainerId").val(),client_id:$("#clientContainerId").val(),client_label_id:$("#clientLabelId").val(),manager_id:$("#managerId").val(),manager_id_request:$("#managerRequestId").val(),source_id_request:$("#sourceIdRequest").val(),payment_sum:$("#paymentSum").val(),payment_sum_to:$("#paymentSumTo").val(),payment_sum_main:$("#paymentSumMain").val(),
payment_sum_main_to:$("#paymentSumMainTo").val(),date:$("#dat_begin").val()+" "+$("#dat_begin_time").val()},function(g){$(".cash_status_dat_begin").html(g)});Ajax.post("/ajax/ajax_cash_status_dat.php",{in_plan:$("#p_in_plan").val(),inout_type:$("#inout_type").val(),payment_type:null!=$("#payment_type").val()?$("#payment_type").val():"",payment_type_prepay:$("#payment_type_prepay").val(),cash_id:$("#cash_id").val(),bank:$("#p_bank").val(),fiscal:$("#p_fiscal").val(),exchange:$("#p_exchange").val(),
pform_id:$("#pform_id").val(),pot_id:$("#pot_id").val(),ci_id:$("#ci_id").val()||0,office_id:$("#office_id").val(),office_id_request:$("#office_id_request").val(),ttype_id_request:$("#ttype_id_request").val(),deposit:$("#deposit").val(),is_bonus_pay:$("#is_bonus_pay").val(),touroperator_id:$("#touroperatorContainerId").val(),supplier_id:$("#supplierContainerId").val(),supplier_type_id:$("#supplierTypeContainerId").val(),client_id:$("#clientContainerId").val(),client_label_id:$("#clientLabelId").val(),
manager_id:$("#managerId").val(),manager_id_request:$("#managerRequestId").val(),source_id_request:$("#sourceIdRequest").val(),payment_sum:$("#paymentSum").val(),payment_sum_to:$("#paymentSumTo").val(),payment_sum_main:$("#paymentSumMain").val(),payment_sum_main_to:$("#paymentSumMainTo").val(),date:$("#dat_end").val()+" "+$("#dat_end_time").val()},function(g){$(".cash_status_dat").html(g)});a=_("\u0432\u0441\u0435\u0445");switch(parseInt($("#deposit").val())){case 0:a=_("\u0440\u0435\u0430\u043b\u044c\u043d\u044b\u0445");
break;case 1:a=_("\u0434\u0435\u043f\u043e\u0437\u0438\u0442\u043d\u044b\u0445")}$("#cash_status_title").html(a)})}
function cash_payment_list_csv(a){var g="";a&&(g=a);location.href="./ajax/ajax_payment_list.php?export&export_type="+g+"&inout_type="+$("#inout_type").val()+"&payment_type="+(null!=$("#payment_type").val()?$("#payment_type").val():"")+"&payment_type_prepay="+$("#payment_type_prepay").val()+"&bank="+$("#p_bank").val()+"&exchange="+$("#p_exchange").val()+"&cash_id="+(null!=$("#cash_id").val()?$("#cash_id").val():"")+"&in_plan="+$("#p_in_plan").val()+"&fiscal="+(null!=$("#p_fiscal").val()?$("#p_fiscal").val():
"")+"&pform_id="+(null!=$("#pform_id").val()?$("#pform_id").val():"")+"&pot_id="+(null!=$("#pot_id").val()?$("#pot_id").val():"")+"&ci_id="+$("#ci_id").val()+"&office_id="+(null!=$("#office_id").val()?$("#office_id").val():"")+"&office_id_request="+(null!=$("#office_id_request").val()?$("#office_id_request").val():"")+"&ttype_id_request="+(null!=$("#ttype_id_request").val()?$("#ttype_id_request").val():"")+"&deposit="+$("#deposit").val()+"&is_bonus_pay="+$("#is_bonus_pay").val()+"&touroperator_id="+
$("#touroperatorContainerId").val()+"&supplier_id="+$("#supplierContainerId").val()+"&supplier_type_id="+(null!=$("#supplierTypeContainerId").val()?$("#supplierTypeContainerId").val():"")+"&client_id="+$("#clientContainerId").val()+"&client_label_id="+(null!=$("#clientLabelId").val()?$("#clientLabelId").val():"")+"&manager_id="+$("#managerId").val()+"&manager_request_id="+$("#managerRequestId").val()+"&source_id_request="+(null!=$("#sourceIdRequest").val()?$("#sourceIdRequest").val():"")+"&request_id="+
$("#requestId").val()+"&dat_begin="+$("#dat_begin").val()+"%20"+$("#dat_begin_time").val()+"&dat_end="+$("#dat_end").val()+"%20"+$("#dat_end_time").val()}
function payment_bill_list(a,g){""!=a&&($("#sortBy").val()==a&&("asc"==$("#sort").val()?$("#sort").val("desc"):$("#sort").val("asc")),$("#sortBy").val(a));a="";0<$("#paid").length&&(a=$("#paid").val());1==g?(location.href="./ajax/ajax_payment_bill_list.php?export&paid="+a+"&sortBy="+$("#sortBy").val()+"&sort="+$("#sort").val()+"&pages="+$("#pages").val()+"&pages_page="+$("#pages_page").val(),OnlineLoading.hide()):Ajax.post("./ajax/ajax_payment_bill_list.php",{paid:a,sortBy:$("#sortBy").val(),sort:$("#sort").val(),
pages:$("#pages").val(),pages_page:$("#pages_page").val()},function(d){$("#payment_bill_list").html(d)})}
function payment_list(a){""!=a&&($("#sortBy").val()==a&&("asc"==$("#sort").val()?$("#sort").val("desc"):$("#sort").val("asc")),$("#sortBy").val(a));a=0;0<$("#inout_type").length&&(a=$("#inout_type").val());var g=-1;0<$("#payment_type").length&&(g=$("#payment_type").val());var d=0;0<$("#pform_id").length&&(d=$("#pform_id").val());var b=-1;0<$("#p_fiscal").length&&(b=$("#p_fiscal").val());var c=0;0<$("#pot_id").length&&(c=$("#pot_id").val());var e=0;0<$("#office_id").length&&(e=$("#office_id").val());
var f=0;0<$("#office_id_request").length&&(f=$("#office_id_request").val());var h=0;0<$("#ttype_id_request").length&&(h=$("#ttype_id_request").val());var m="";0<$("#deposit").length&&(m=$("#deposit").val());var k="";0<$("#is_bonus_pay").length&&(k=$("#is_bonus_pay").val());var l="";0<$("#cash_id").length&&(l=$("#cash_id").val());Ajax.post("./ajax/ajax_payment_list.php",{inout_type:a,payment_type:g,payment_type_prepay:$("#payment_type_prepay").val(),bank:$("#p_bank").val(),exchange:$("#p_exchange").val(),
in_plan:$("#p_in_plan").val(),fiscal:b,pform_id:d,pot_id:c,ci_id:$("#ci_id").val()||0,office_id:e,office_id_request:f,ttype_id_request:h,manager_id:$("#managerId").val(),manager_request_id:$("#managerRequestId").val(),source_id_request:$("#sourceIdRequest").val(),request_id:$("#requestId").val(),dat_begin:$("#dat_begin").val()+" "+$("#dat_begin_time").val(),dat_end:$("#dat_end").val()+" "+$("#dat_end_time").val(),cash_id:l,deposit:m,is_bonus_pay:k,touroperator_id:$("#touroperatorContainerId").val(),
supplier_id:$("#supplierContainerId").val(),supplier_type_id:$("#supplierTypeContainerId").val(),client_id:$("#clientContainerId").val(),sortBy:$("#sortBy").val(),sort:$("#sort").val(),pages:$("#pages").val(),pages_page:$("#pages_page").val(),items_per_page:$("#items_per_page").val()},function(p){$("#payment_list").html(p);0<$(".cash_status_dat_begin").length&&Ajax.post("/ajax/ajax_cash_status_dat.php",{in_plan:$("#p_in_plan").val(),inout_type:$("#inout_type").val(),payment_type:$("#payment_type").val(),
payment_type_prepay:$("#payment_type_prepay").val(),cash_id:$("#cash_id").val(),bank:$("#p_bank").val(),exchange:$("#p_exchange").val(),fiscal:$("#p_fiscal").val(),pform_id:$("#pform_id").val(),pot_id:$("#pot_id").val(),ci_id:$("#ci_id").val()||0,office_id:$("#office_id").val(),office_id_request:$("#office_id_request").val(),ttype_id_request:$("#ttype_id_request").val(),deposit:$("#deposit").val(),is_bonus_pay:$("#is_bonus_pay").val(),touroperator_id:$("#touroperatorContainerId").val(),supplier_id:$("#supplierContainerId").val(),
supplier_type_id:$("#supplierTypeContainerId").val(),client_id:$("#clientContainerId").val(),manager_id:$("#managerId").val(),manager_id_request:$("#managerRequestId").val(),source_id_request:$("#sourceIdRequest").val(),date:$("#dat_begin").val()+" "+$("#dat_begin_time").val()},function(q){$(".cash_status_dat_begin").html(q)});0<$(".cash_status_dat").length&&Ajax.post("/ajax/ajax_cash_status_dat.php",{in_plan:$("#p_in_plan").val(),inout_type:$("#inout_type").val(),payment_type:$("#payment_type").val(),
payment_type_prepay:$("#payment_type_prepay").val(),cash_id:$("#cash_id").val(),bank:$("#p_bank").val(),exchange:$("#p_exchange").val(),fiscal:$("#p_fiscal").val(),pform_id:$("#pform_id").val(),pot_id:$("#pot_id").val(),ci_id:$("#ci_id").val()||0,office_id:$("#office_id").val(),office_id_request:$("#office_id_request").val(),ttype_id_request:$("#ttype_id_request").val(),deposit:$("#deposit").val(),is_bonus_pay:$("#is_bonus_pay").val(),touroperator_id:$("#touroperatorContainerId").val(),supplier_id:$("#supplierContainerId").val(),
supplier_type_id:$("#supplierTypeContainerId").val(),client_id:$("#clientContainerId").val(),manager_id:$("#managerId").val(),manager_id_request:$("#managerRequestId").val(),source_id_request:$("#sourceIdRequest").val(),date:$("#dat_end").val()+" "+$("#dat_end_time").val()},function(q){$(".cash_status_dat").html(q)})})}
function payment_separation_list(a){""!=a&&($("#sortBy").val()==a&&("asc"==$("#sort").val()?$("#sort").val("desc"):$("#sort").val("asc")),$("#sortBy").val(a));a="";0<$(".ssList").length&&""!=$(".ssList").val()&&(a=$(".ssList").val());var g="";0<$(".paydocList").length&&""!=$(".paydocList").val()&&(g=$(".paydocList").val());var d="";0<$(".cashList").length&&(d=$(".cashList").val());var b="";0<$("#datBegin").length&&(b=$("#datBegin").val());var c="";0<$("#datEnd").length&&(c=$("#datEnd").val());Ajax.post("./ajax/ajax_payment_separation_list.php",
{cash_id:d,partner:a,paydoc:g,dat_begin:b,dat_end:c,sortBy:$("#sortBy").val(),sort:$("#sort").val(),pages:$("#pages").val(),pages_page:$("#pages_page").val()},function(e){$("#payment_separation_list").html(e)})}function request_commission_paid(a,g){if(0<g){var d=0;$(a).is(":checked")&&(d=1);$.post("./ajax/ajax_request_commission_paid.php",{r_id:g,checked:d},function(){$(a).attr("disabled","disabled")})}}
function request_commission_source_paid(a,g){if(0<g){var d=0;$(a).is(":checked")&&(d=1);$.post("./ajax/ajax_request_commission_source_paid.php",{r_id:g,checked:d},function(){$(a).attr("disabled","disabled")})}}function marketing_simple_mode(){}
function marketing_month(a,g,d){OnlineLoading.showOverlay();var b=0,c=0,e="",f=u=param3=param4=param5="-1",h=document,m=0,k=w=0,l=z=0;1==g&&(h=window.opener.document);var p=0;0<$("#stat_by_supplier",h).length&&(p=1);if(0==$("#simple_mode",h).val()){var q=!1;$("#param1",h).length&&-1<$("#param1",h).val()?f=$("#param1",h).val():q||(f=a,q=!0);$("#param2",h).length&&-1<$("#param2",h).val()?u=$("#param2",h).val():q||(u=a,q=!0);$("#param3",h).length&&-1<$("#param3",h).val()?param3=$("#param3",h).val():
q||(param3=a,q=!0);$("#param4",h).length&&-1<$("#param4",h).val()?param4=$("#param4",h).val():q||(param4=a,q=!0);$("#param5",h).length&&-1<$("#param5",h).val()?param5=$("#param5",h).val():q||(param5=a,q=!0)}else{f=1;var u=a;m=1}var t=[];0<$(".commission-item",h).length&&$(".commission-item",h).each(function(U,V){0!=$(V).find(".commission").val()&&t.push({val:$(V).find(".commission").val(),type:$(V).find(".commission_type").val(),from:$(V).find(".commission_from").val()})});if(1==g){a=-1;$("#commission_unpaid:checked",
h).length&&(a=1);var C=[];$(".status:checked",h).each(function(U,V){C[U]=$(this).val()});var D=[];$(".status-pay:checked",h).each(function(U,V){D[U]=$(this).val()});$("#ttype_id",h).length&&(c=$("#ttype_id",h).val());$("#debt_type",h).length&&(b=$("#debt_type",h).val());$("#request_number",h).length&&(e=$("#request_number",h).val());$("#no_debt_client:checked",h).length&&(k=1);$("#no_debt_partner:checked",h).length&&(w=1);$("#debt_client",h).length&&(l=$("#debt_client",h).val());$("#debt_partner",
h).length&&(z=$("#debt_partner",h).val());$(".marketingHeaderBlockPeriod").html(_("\u041f\u0435\u0440\u0438\u043e\u0434")+": "+$("#dat_begin",h).val()+"-"+$("#dat_end",h).val());h={request_type:$("#request_type",h).val(),dat_type:$("#dat_type",h).val(),dat_begin:$("#dat_begin",h).val(),dat_end:$("#dat_end",h).val(),dat_type2:$("#dat_type2",h).val(),dat_begin2:$("#dat_begin2",h).val(),dat_end2:$("#dat_end2",h).val(),param1:f,param2:u,param3,param4,param5,cash_id:$("#cash_id",h).val(),cash_id_partner:$("#cash_id_partner",
h).val(),commissions:t,commission:$("#commission",h).val(),commission_type:$("#commission_type",h).val(),company:$("#company",h).val(),office:$("#office",h).val(),manager:$("#manager",h).val(),source:$("#source",h).val(),simple_mode:m,"status[]":C,commission_unpaid:a,debt_type:b,ttype_id:c,request_number:e,no_debt_client:k,no_debt_partner:w,debt_client:l,debt_partner:z,ss_id:$("#supplier",h).val(),stat_by_supplier:p};0<$(".status-pay").length&&$.extend(h,{"status_pay[]":D});Ajax.post("./ajax/ajax_marketing_month.php",
h,function(U){$("#marketing_month").html(U);OnlineLoading.hide();$(".btn-print").hide()})}else{h={dat_type:$("#dat_type").val(),dat_begin:$("#dat_begin").val(),dat_end:$("#dat_end").val(),dat_type2:$("#dat_type2").val(),dat_begin2:$("#dat_begin2").val(),dat_end2:$("#dat_end2").val(),param1:f,param2:u,param3,param4,param5,cash_id:$("#cash_id").val(),cash_id_partner:$("#cash_id_partner").val(),commissions:t,commission:$("#commission").val(),commission_type:$("#commission_type").val(),company:$("#company").val(),
office:$("#office").val(),manager:$("#manager").val(),source:$("#source").val(),simple_mode:m,ss_id:$("#supplier").val(),stat_by_supplier:p};a=-1;$("#commission_unpaid:checked").length&&(a=1);$.extend(h,{commission_unpaid:a});C=[];$(".status:checked").each(function(U,V){C[U]=$(this).val()});$.extend(h,{"status[]":C});D=[];$(".status-pay:checked").each(function(U,V){D[U]=$(this).val()});0<$(".status-pay").length&&$.extend(h,{"status_pay[]":D});c=0;$("#ttype_id").length&&(c=$("#ttype_id").val(),$.extend(h,
{ttype_id:$("#ttype_id").val()}));b=0;$("#debt_type").length&&(b=$("#debt_type").val(),$.extend(h,{debt_type:$("#debt_type").val()}));$("#request_number").length&&$.extend(h,{request_number:$("#request_number").val()});k=0;$("#no_debt_client").length&&(k=$("#no_debt_client:checked").length?1:0,$.extend(h,{no_debt_client:$("#no_debt_client:checked").length?1:0}));var w=0;$("#no_debt_partner").length&&(w=$("#no_debt_partner:checked").length?1:0,$.extend(h,{no_debt_partner:$("#no_debt_partner:checked").length?
1:0}));l=0;$("#debt_client").length&&(l=$("#debt_client").val(),$.extend(h,{debt_client:$("#debt_client").val()}));var z=0;$("#debt_partner").length&&(z=$("#debt_partner").val(),$.extend(h,{debt_partner:$("#debt_partner").val()}));g=-1;$("#request_type").length&&(g=$("#request_type").val());$.extend(h,{request_type:g});q=[];$("#manager").length&&(q=$("#manager").val()||[],Array.isArray(q)||(q=[q]),$.extend(h,{"manager[]":q}));1==d?(d="./ajax/ajax_marketing_month.php?export&request_type="+g+"&dat_type="+
$("#dat_type").val()+"&dat_begin="+$("#dat_begin").val()+"&dat_end="+$("#dat_end").val()+"&dat_type2="+$("#dat_type2").val()+"&dat_begin2="+$("#dat_begin2").val()+"&dat_end2="+$("#dat_end2").val()+"&param1="+f+"&param2="+u+"&param3="+param3+"&param4="+param4+"&param5="+param5+"&cash_id="+(null!=$("#cash_id").val()?$("#cash_id").val():"")+"&cash_id_partner="+(null!=$("#cash_id_partner").val()?$("#cash_id_partner").val():"")+"&commissions="+JSON.stringify(t)+"&commission="+$("#commission").val()+"&commission_type="+
$("#commission_type").val()+"&company="+$("#company").val()+"&office="+$("#office").val()+"&manager[]="+q.join("&manager[]=")+"&source="+$("#source").val()+"&simple_mode="+m+"&status[]="+C+"&commission_unpaid="+a+"&no_debt_client="+k+"&no_debt_partner="+w+"&debt_client="+l+"&debt_partner="+z+"&debt_type="+b+"&ttype_id="+c+"&request_number="+e+"&ss_id="+$("#supplier").val()+"&stat_by_supplier="+p,0<$(".status-pay").length&&(d+="&status_pay[]="+D),location.href=d,OnlineLoading.hide()):Ajax.post("./ajax/ajax_marketing_month.php",
h,function(U){$("#marketing_month").html(U);OnlineLoading.hide()})}try{if(store&&store.enabled){var L=store.get("uon.stat_filters")||{};$.extend(L,h);store.set("uon.stat_filters",L)}}catch(U){"NS_ERROR_FILE_CORRUPTED"==U.name&&console.log("\u0418\u0437\u0432\u0438\u043d\u0438\u0442\u0435, \u043d\u043e localStorage \u0432 \u0432\u0430\u0448\u0435\u043c \u0431\u0440\u0430\u0443\u0437\u0435\u0440\u0435 \u043f\u043e\u0432\u0440\u0435\u0436\u0434\u0435\u043d. \u041e\u0447\u0438\u0441\u0442\u0438\u0442\u0435 \u0445\u0440\u0430\u043d\u0438\u043b\u0438\u0449\u0435 \u0442\u0443\u0442 Tools -> Clear Recent History -> Cookies. \u042d\u0442\u043e \u0443\u0434\u0430\u043b\u0438\u0442 \u043f\u043e\u0432\u0440\u0435\u0436\u0434\u0435\u043d\u043d\u043e\u0435 localeStorage \u043f\u043e \u0432\u0441\u0435\u043c \u0441\u0430\u0439\u0442\u0430\u043c.")}}
function updateCurrencyFields(a){$(".currency").val(a)}
function setOperatorRates(a,g){var d="undefined"!==typeof OPERATORS_RATES_TODAY_ONLY?OPERATORS_RATES_TODAY_ONLY:0;a=parseInt(a.find("option:selected").attr("data-id-rates"));0<parseInt(a)&&Ajax.post("/ajax/ajax_touroperator_rates_json.php",{id:a,today:d,limit:1},function(b){b[0]?(g.find(".tour_operator_basic").val(b[0].tob_id),g.find(".tour_operator_basic_date").val(b[0].tobr_date_human),g.find(".currency-diff").attr("checked","checked").trigger("change")):DialogError(_("\u041a\u0443\u0440\u0441\u044b \u0432\u0430\u043b\u044e\u0442 \u043f\u0440\u0438\u0432\u044f\u0437\u0430\u043d\u043d\u043e\u0433\u043e \u0442\u0443\u0440\u043e\u043f\u0435\u0440\u0430\u0442\u043e\u0440\u0430 \u043d\u0435 \u043d\u0430\u0439\u0434\u0435\u043d\u044b"))},
"json")}
function client_delete(a,g){Ajax.post("/ajax/ajax_payment_client_exists.php",{r_id:a,client_id:g},function(d){1==d?DialogError(_("\u0423 \u0432\u0430\u0441 \u043e\u0442\u0441\u0443\u0442\u0441\u0442\u0432\u0443\u044e\u0442 \u043f\u0440\u0430\u0432\u0430 \u043d\u0430 \u0443\u0434\u0430\u043b\u0435\u043d\u0438\u0435 \u043f\u043e\u043a\u0443\u043f\u0430\u0442\u0435\u043b\u044f \u043f\u0440\u0438 \u043d\u0430\u043b\u0438\u0447\u0438\u0438 \u043a\u043b\u0438\u0435\u043d\u0442\u0441\u043a\u0438\u0445 \u043e\u043f\u043b\u0430\u0442")):Dialog.modalConfirmBox(_("\u0412\u044b \u0434\u0435\u0439\u0441\u0442\u0432\u0438\u0442\u0435\u043b\u044c\u043d\u043e \u0445\u043e\u0442\u0438\u0442\u0435 \u0443\u0434\u0430\u043b\u0438\u0442\u044c \u043f\u043e\u043a\u0443\u043f\u0430\u0442\u0435\u043b\u044f \u0438\u0437 \u0437\u0430\u044f\u0432\u043a\u0438?"),
_("\u041f\u043e\u0434\u0442\u0432\u0435\u0440\u0436\u0434\u0435\u043d\u0438\u0435 \u0443\u0434\u0430\u043b\u0435\u043d\u0438\u044f"),function(){$("#u_id").length&&$("#u_id").val(0);Ajax.post("/ajax/ajax_client.php",{r_id:a,del:1},function(b){$("#client_div").html(b);$(".documents-request-container").length&&refresh_documents(a);0<$("#services_selection").length&&refresh_services_selection(a);0<$(".qq-container").length&&quickReservationButton(a)})})})}
function payment_client_deposit_update(a,g){1==$("#pc_deposit").val()?($(".pc_deposit_help").show(),0<$("#b_receipt_mode").length&&$("#b_receipt_mode").val(0).trigger("change")):$(".pc_deposit_help").hide();g?$("#deposit_text_"+a).hide():$("#deposit_text_"+a).show();a=a%2+1;g?$("#deposit_text_"+a).show():$("#deposit_text_"+a).hide()}
function payment_client_deposit_value_update(){window.depositByCurrency=[];$.post("/ajax/ajax_client_deposit.php",{client_id:$("#pc_client_id").val()},function(a){$("#deposit_value").html(a.str);$("#deposit_by_currency").val(JSON.stringify(a.by_currency[$("#pc_client_id").val()]));$.each(a.by_currency[$("#pc_client_id").val()],function(g,d){window.depositByCurrency[g]=parseFloat(d)})},"json")}
function payment_partner_deposit_value_update(){var a=0;a=get_payment_partner();$.post("/ajax/ajax_partner_deposit.php",{ss_id:a},function(g){$("#deposit_value").html(g)})}function payment_partner_deposit_update(a,g){1==$("#pp_deposit").val()?$(".pp_deposit_help").show():$(".pp_deposit_help").hide();g?$("#deposit_text_"+a).show():$("#deposit_text_"+a).hide();a=a%2+1;g?$("#deposit_text_"+a).hide():$("#deposit_text_"+a).show()}
function get_feedback_list(a){$("#feedback_list").html(loadingHorizontal);$.post("/ajax/ajax_feedback_list.php",{r_id:a},function(g){$("#feedback_list").html(g)})}
function feedback_delete(a){ch=getCheckboxValues("feedback_ch");$("#feedback_new_sbm").attr("disabled","disabled");$("#feedback_del_sbm").attr("disabled","disabled");$.post("/ajax/ajax_feedback_delete.php",{r_id:a,ch},function(g){$("input[name='feedback_ch']:checked").each(function(){$("#feedback_row_"+$(this).val()).remove()});$("#feedback_new_sbm").removeAttr("disabled");$("#feedback_del_sbm").removeAttr("disabled")})}
function get_history_list(a,g=0){0<$("#history_list").length&&$.post("/ajax/ajax_history_list.php",{r_id:a,section:0<$(".history-section").length?$(".history-section").val():0,uct_id:0<$(".history-uct-id").length?$(".history-uct-id").val():0,type_id:0<$(".history-type-id").length?$(".history-type-id").val():0,page:g},function(d){d?($("#history_list").append(d),$(".history-load-more").attr("data-page",parseInt($(".history-load-more").attr("data-page"))+1)):$(".history-load-more").addClass("hidden");
0<$(".reminderList").length&&new ReminderList($(".reminderList"))})}function get_request_logs_list(a,g=1){OnlineLoading.showOverlay();$.post("/ajax/ajax_logs_action_list.php",{r_id:a,pages:1,pages_page:g},function(d){""!=$.trim(d)?($("#logs_list").append(d),$(".logs-load-more").attr("data-page",parseInt($(".logs-load-more").attr("data-page"))+1)):$(".logs-load-more").remove();OnlineLoading.hide()})}
function get_tourist_logs_list(a,g=1){OnlineLoading.showOverlay();$.post("/ajax/ajax_logs_action_list.php",{tr_id:a,pages:1,pages_page:g},function(d){""!=$.trim(d)?($("#client_logs_list").append(d),$(".logs-load-more").attr("data-page",parseInt($(".logs-load-more").attr("data-page"))+1)):$(".logs-load-more").remove();OnlineLoading.hide()})}
function get_supplier_logs_list(a,g=1){OnlineLoading.showOverlay();$.post("/ajax/ajax_logs_action_list.php",{ss_id:a,pages:1,pages_page:g},function(d){""!=$.trim(d)?($("#supplier_logs_list").append(d),$(".logs-load-more").attr("data-page",parseInt($(".logs-load-more").attr("data-page"))+1)):$(".logs-load-more").remove();OnlineLoading.hide()})}
function get_request_user_contact_list(a){$("#request_user_contact_list").length&&$.post("/ajax/ajax_request_user_contact_list.php",{r_id:a},function(g){$("#request_user_contact_list").html(g)})}function get_request_user_contact_tree(a,g=0){0<$("#request_user_contact_tree").length&&$.post("/ajax/ajax_request_user_contact_tree.php",{r_id:a,short:g},function(d){$("#request_user_contact_tree").html(d)})}
function get_request_user_communication(a){0<$(".request_user_communication").length&&$.post("/ajax/ajax_request_user_communication.php",{r_id:a},function(g){$(".request_user_communication").html(g)})}
function get_tourist_contact_tree(a,g=0){0<$("#client-actions-list").length&&$.post("/ajax/ajax_tourist_contact_tree.php",{tr_id:a,page:g},function(d){d?(0==g&&$("#client-actions-list").html(""),$("#client-actions-list").append(d),$(".client-actions-load-more").attr("data-page",parseInt($(".client-actions-load-more").attr("data-page"))+1)):$(".client-actions-load-more").addClass("hidden");0<$("#request_id").length&&$(".tourist-action-btn-edit").remove();0<$("#client-actions-list").length&&new ReminderList($("#client-actions-list"))})}
function get_request_action_list_lead(a,g){Ajax.post("/ajax/ajax_request_action_list.php",{r_id:g,lead:1},function(d){a.html(d)})}
function request_action_check(){if(1==($("#lead").length?$("#lead").val():0)){var a=$("#status_cancel").val();return $("#status_cancel").length&&-1<$.inArray($("#r_ust_id").val(),a.split(","))||!$("#contact_next_text").length||""!=$("#contact_next_text").val()?!0:!1}if($("#ra_text").length&&""!=$("#ra_text").val())return!0;$("#ra_to_u_id").length&&$("#ra_to_u_id").val();return!1}
function request_action_update(a,g,d=0){var b=$("#ra_tr_id").val(),c=$("#lead").length?$("#lead").val():0,e=$("#rm_id").length?$("#rm_id").val():0;d=d&&$("#messenger-type").length?$("#messenger-type").val():"";var f=$("#messenger").length?$("#messenger").val():"",h="",m="",k=0,l="",p="";$("#ra_to_u_id").val();$("#ra_to_u_id");1==c?(k=$("#r_ust_id").val(),l=$("#r_ust_id option:selected").attr("data-name"),p=$("#r_ust_id option:selected").attr("data-color"),h=$("#ra_text").val(),k!=$("#status_cancel").val()&&
(m=$("#contact_next_text").val())):$("#ra_text").length&&(h=$("#ra_text").val());var q=0;$("#reminder").is(":checked")&&(q=1);var u=1;0<g&&(u=2);var t=0;$("#ra_uct_id").length&&(t=$("#ra_uct_id").val());var C=0;$("#rm_uct_id").length&&(C=$("#rm_uct_id").val());var D=$("#rm_date").val(),w=$("#rm_time").val();$.post("./ajax/ajax_request_action_list.php",{type:u,r_id:a,ra_id:g,ra_tr_id:b,ra_to_u_id:$("#ra_to_u_id").val(),reminder:q,rm_text:m,rm_date:D,rm_time:w,ra_text:h,ra_uct_id:t,r_ust_id:k,rm_id_done:e,
rm_uct_id:C,rm_active_sms:$(".client-send-container:visible #rm-active-sms:checked").length?1:0,rm_active_email:$(".client-send-container:visible #rm-active-email:checked").length?1:0,messenger_type:d,messenger:f,lead:c},function(z){get_request_user_contact_tree(a);$("#client-actions-list").html("");get_tourist_contact_tree(b,0);$(".client-actions-load-more").attr("data-page",0).removeClass("hidden");$("#history_list").html("");get_history_list(a,0);$(".history-load-more").attr("data-page",0).removeClass("hidden");
$("#requests").length&&requests_view("",1==$("#active").val()?0:1);$("#client_list").length&&client_view();1==c&&($(".user-status-label").attr("data-id")!=k&&$("#logoform .user-status-label").replaceWith('<a class="user-status-label label" data-id="'+k+'" style="background-color:'+p+'; color: #fff;"><span>'+l+"</span></a>"),""!=m&&(z=_("\u0410\u0432\u0442\u043e\u043c\u0430\u0442\u0438\u0447\u0435\u0441\u043a\u043e\u0435 \u043d\u0430\u043f\u043e\u043c\u0438\u043d\u0430\u043d\u0438\u0435 \u043d\u0430 %s \u0443\u0441\u043f\u0435\u0448\u043d\u043e \u0434\u043e\u0431\u0430\u0432\u043b\u0435\u043d\u043e."),
noty({text:z.replace(/%s/g,D+" "+w)})))})}function request_action_to_manager_update(a){var g=$("#lead").length?$("#lead").val():0,d=$("#ra_to_u_id").val(),b=$("#ra_to_u_id option:selected").attr("data-global-u-id"),c=$("#ra_text").val();$.post("./ajax/ajax_request_action_list.php",{type:1,r_id:a,ra_type_id:8,ra_to_u_id:d,ra_to_global_u_id:b,ra_text:c,lead:g},function(e){1==g&&get_request_user_contact_list(a)})}function show_hide_block(a){$("#"+a).toggle()}function hide_block(a){$("#"+a).hide()}
function show_hide_block_with_value(a,g){0<$("#"+a).val()?$("#"+g).show():$("#"+g).hide()}
function catalog_package_tourists_settings(){$.post("./ajax/ajax_get_catalog_package_tourists_settings.php",{},function(a){a&&Dialog.modalConfirmBox(a,_("\u041e\u0442\u043e\u0431\u0440\u0430\u0436\u0435\u043d\u0438\u0435 \u0441\u0442\u043e\u043b\u0431\u0446\u043e\u0432"),function(){var g=[];$.each($(".request_settings:checked"),function(d,b){g.push($(b).attr("data-id"))});$.post("./ajax/ajax_save_catalog_package_tourists_settings.php",{"columns[]":g},function(){noty({type:"success",text:_("\u041d\u0430\u0441\u0442\u0440\u043e\u0439\u043a\u0438 \u0441\u043e\u0445\u0440\u0430\u043d\u0435\u043d\u044b")});
setTimeout(function(){window.location.reload()},1E3)})})})}
function requests_settings(){$.post("./ajax/ajax_get_request_settings.php",{},function(a){a&&Dialog.modalConfirmBox(a,_("\u041e\u0442\u043e\u0431\u0440\u0430\u0436\u0435\u043d\u0438\u0435 \u0441\u0442\u043e\u043b\u0431\u0446\u043e\u0432 \u0432 \u0441\u043f\u0438\u0441\u043a\u0435 \u0437\u0430\u044f\u0432\u043e\u043a"),function(){var g=[];$.each($(".request_settings:checked"),function(d,b){g.push($(b).attr("data-id"))});$.post("./ajax/ajax_save_request_settings.php",{"columns[]":g},function(){requests_view("");
noty({type:"success",text:_("\u041d\u0430\u0441\u0442\u0440\u043e\u0439\u043a\u0438 \u0441\u043e\u0445\u0440\u0430\u043d\u0435\u043d\u044b")})})})})}
function leads_requests_settings(){$.post("./ajax/ajax_get_lead_request_settings.php",{},function(a){a&&Dialog.modalConfirmBox(a,_("\u041e\u0442\u043e\u0431\u0440\u0430\u0436\u0435\u043d\u0438\u0435 \u0441\u0442\u043e\u043b\u0431\u0446\u043e\u0432 \u0432 \u0441\u043f\u0438\u0441\u043a\u0435"),function(){var g=[];$.each($(".request_settings:checked"),function(d,b){g.push($(b).attr("data-id"))});$.post("./ajax/ajax_save_lead_request_settings.php",{"columns[]":g},function(){requests_view("",1);noty({type:"success",
text:_("\u041d\u0430\u0441\u0442\u0440\u043e\u0439\u043a\u0438 \u0441\u043e\u0445\u0440\u0430\u043d\u0435\u043d\u044b")})})})})}function request_fields_change(a,g,d){1!=g?$("#finance_guarantee").hide():$("#finance_guarantee").show();refresh_documents(a,g,d)}function sr_active_change(){$("#service_request_data").toggleClass("sr_data");$("#service_request_data").toggleClass("sr_data_excluded")}
function get_mailing_emails_list(a){$.post("/ajax/ajax_mailing_emails_list.php",{m_id:$("#m_id").val(),user_type:a,pages:$("#pages").val(),pages_page:$("#pages_page").val()},function(g){fillAndShow(null,g,_("\u0421\u043f\u0438\u0441\u043e\u043a \u0434\u043b\u044f \u0440\u0430\u0441\u0441\u044b\u043b\u043a\u0438"))})}
function mailing_user_add(a,g){$("#user_loading_block_"+a).show();$("#user_add_block_"+a).hide();$("#user_delete_block_"+a).hide();$.post("/ajax/ajax_mailing_emails_add.php",{m_id:$("#m_id").val(),user_id:a,user_type:g},function(d){0<d?($("#user_loading_block_"+a).hide(),$("#user_add_block_"+a).hide(),$("#user_delete_block_"+a).show()):($("#user_buttons_block_"+a).addClass("attention"),$("#user_buttons_block_"+a).html(_("\u041e\u0448\u0438\u0431\u043a\u0430 \u0434\u043e\u0431\u0430\u0432\u043b\u0435\u043d\u0438\u044f!")))})}
function mailing_user_delete(a,g){$("#user_loading_block_"+a).show();$("#user_add_block_"+a).hide();$("#user_delete_block_"+a).hide();$.post("/ajax/ajax_mailing_emails_delete.php",{m_id:$("#m_id").val(),user_id:a,user_type:g},function(d){0<d?($("#user_loading_block_"+a).hide(),$("#user_add_block_"+a).show(),$("#user_delete_block_"+a).hide()):($("#user_buttons_block_"+a).addClass("attention"),$("#user_buttons_block_"+a).html(_("\u041e\u0448\u0438\u0431\u043a\u0430 \u0434\u043e\u0431\u0430\u0432\u043b\u0435\u043d\u0438\u044f!")))})}
function mailing_user_count(a){$.post("/ajax/ajax_mailing_emails_count.php",{m_id:$("#m_id").val(),user_type:a},function(g){$("#m_emails_"+a).html(g)})}
function select_mailing_emails_all(a){$("#mailing_loading_"+a).toggle();$("#select_all_link_"+a).toggle();$.post("/ajax/ajax_mailing_emails_select_all.php",{m_id:$("#m_id").val(),user_type:a},function(g){$("#m_emails_"+a).html($("#m_emails_all_"+a).html());$("#mailing_loading_"+a).toggle();$("#select_all_link_"+a).hide();$("#deselect_all_link_"+a).show()})}
function deselect_mailing_emails_all(a){$("#mailing_loading_"+a).toggle();$("#deselect_all_link_"+a).toggle();$.post("/ajax/ajax_mailing_emails_deselect_all.php",{m_id:$("#m_id").val(),user_type:a},function(g){$("#m_emails_"+a).html(0);$("#mailing_loading_"+a).toggle();$("#deselect_all_link_"+a).hide();$("#select_all_link_"+a).show()})}
function hotel_select_list(a,g,d,b){$(a).attr("disabled","disabled");$(a).html("<option>"+_("\u0438\u0434\u0435\u0442 \u0437\u0430\u0433\u0440\u0443\u0437\u043a\u0430 ...")+"</option>");$.post("./ajax/ajax_hotel_select_list.php",{cnt_id:g,city_id:d,hc_id:b},function(c){$(a).html('<option value="0"> - </option>');$(a).removeAttr("disabled");c&&$(a).append(c)})}
function get_stat_hotel(a,g,d,b,c,e,f,h){1==h?location.href="./ajax/ajax_stat_hotel.php?dat_begin="+g+"&dat_end="+d+"&cnt_id="+b+"&city_id="+c+"&hc_id="+e+"&h_id="+f+"&csv=1":($(a).html(_("\u0438\u0434\u0435\u0442 \u0437\u0430\u0433\u0440\u0443\u0437\u043a\u0430 ...")),$.get("./ajax/ajax_stat_hotel.php",{dat_begin:g,dat_end:d,cnt_id:b,city_id:c,hc_id:e,h_id:f},function(m){$(a).html(m)}))}
function countryListChange(a,g,d){$(g).html("");$.post("./ajax/ajax_country_data.php",{id:a},function(b){0<a?($(g).html(b),0<$("#itemListSourceID").val()&&0<$("#itemListTargetID").val()&&$(".itemMergeButtonBlock").show()):$(".itemMergeButtonBlock").hide()})}
function cityListChange(a,g,d){$(g).html("");$.post("./ajax/ajax_city_data.php",{id:a},function(b){0<a?($(g).html(b),0<$("#itemListSourceID").val()&&0<$("#itemListTargetID").val()&&$(".itemMergeButtonBlock").show()):$(".itemMergeButtonBlock").hide()})}
function hotelListChange(a,g,d){$(g).html("");$.post("./ajax/ajax_hotel_data.php",{id:a},function(b){0<a?($(g).html(b),0<$("#itemListSourceID").val()&&0<$("#itemListTargetID").val()&&$(".itemMergeButtonBlock").show()):$(".itemMergeButtonBlock").hide()})}
function clientListChange(a,g,d,b){$(g).html("");$.post("./ajax/ajax_client_full_data.php",{u_id:a},function(c){0<a&&($(g).html(c),getClientExtData(a,g,d,b));0<$("#itemListSourceID").val()&&0<$("#itemListTargetID").val()?$(".itemMergeButtonBlock").show():$(".itemMergeButtonBlock").hide()})}
function supplierListChange(a,g,d){$(g).html("");$.post("./ajax/ajax_supplier_data.php",{id:a,readOnly:d},function(b){0<a&&$(g).html(b);$(".itemMergeButtonBlock").toggle(0<$("#itemListSourceID").val()&&0<$("#itemListTargetID").val())})}
function countryMerge(){var a=$("#itemListSourceID"),g=$("#itemListTargetID"),d=$(".itemDetailsTarget");a=a.val();g=g.val();a!=g?(OnlineLoading.showOverlay(),$.post("./ajax/ajax_country_merge.php",{source_id:a,target_id:g,cnt_name:d.find("#cnt_name").val(),cnt_name_en:d.find("#cnt_name_en").val(),cnt_note:d.find("#cnt_note").val(),cnt_text:d.find("#cnt_text").val()},function(b){b.error?alert(b.error):window.location.reload();OnlineLoading.hide()},"json")):alert(_("\u0412\u044b\u0431\u0440\u0430\u043d\u0430 \u043e\u0434\u043d\u0430 \u0438 \u0442\u0430 \u0436\u0435 \u0441\u0442\u0440\u0430\u043d\u0430!"))}
function cityMerge(){var a=$("#itemListSourceID"),g=$("#itemListTargetID"),d=$(".itemDetailsTarget");a=a.val();g=g.val();a!=g?(OnlineLoading.showOverlay(),$.post("./ajax/ajax_city_merge.php",{source_id:a,target_id:g,city_name:d.find("#city_name").val(),city_name_en:d.find("#city_name_en").val(),city_cnt_id:d.find("#city_cnt_id").val()},function(b){b.error?alert(b.error):window.location.reload();OnlineLoading.hide()},"json")):alert(_("\u0412\u044b\u0431\u0440\u0430\u043d \u043e\u0434\u0438\u043d \u0438 \u0442\u043e\u0442 \u0436\u0435 \u0433\u043e\u0440\u043e\u0434!"))}
function clientMerge(){var a=$("#itemListSourceID"),g=$("#itemListTargetID"),d=$(".itemDetailsTarget");a=a.val();g=g.val();a!=g?(OnlineLoading.showOverlay(),$.post("./ajax/ajax_client_merge.php",{source_id:a,target_id:g,u_address_u:d.find("#u_address_u").val(),u_fax:d.find("#u_fax").val(),u_inn:d.find("#u_inn").val(),u_kpp:d.find("#u_kpp").val(),u_ogrn:d.find("#u_ogrn").val(),u_okved:d.find("#u_okved").val(),u_finance_bank:d.find("#u_finance_bank").val(),u_finance_rs:d.find("#u_finance_rs").val(),
u_finance_ks:d.find("#u_finance_ks").val(),u_finance_bik:d.find("#u_finance_bik").val(),u_finance_okpo:d.find("#u_finance_okpo").val(),u_birthday:d.find("#u_birthday").val(),u_birthday_place:d.find("#u_birthday_place").val(),u_birthday_certificate:d.find("#u_birthday_certificate").val(),u_birthday_certificate_given:d.find("#u_birthday_certificate_given").val(),u_birthday_certificate_organization:d.find("#u_birthday_certificate_organization").val(),u_company:d.find("#u_company").val(),u_passport_russia:d.find("#u_passport_russia").val(),
u_passport_number:d.find("#u_passport_number").val(),u_passport_taken:d.find("#u_passport_taken").val(),u_address:d.find("#u_address").val(),u_address_p:d.find("#u_address_p").val(),u_phone:d.find("#u_phone").val(),u_phone_home:d.find("#u_phone_home").val(),u_phone_mobile:d.find("#u_phone_mobile").val(),u_mother_name:d.find("#u_mother_name").val(),u_father_name:d.find("#u_father_name").val(),u_discount:d.find("#u_discount").val(),u_type:d.find("#u_type").val(),u_name:d.find("#u_name").val(),u_sname:d.find("#u_sname").val(),
u_surname:d.find("#u_surname").val(),u_name_en:d.find("#u_name_en").val(),u_surname_en:d.find("#u_surname_en").val(),u_email:d.find("#u_email").val(),u_password:d.find("#u_password").val(),u_contacts:d.find("#u_contacts").val(),u_contract_begin:d.find("#u_contract_begin").val(),u_contract_end:d.find("#u_contract_end").val(),u_contract_number:d.find("#u_contract_number").val(),u_note:d.find("#u_note").val(),u_social_vk:d.find("#u_social_vk").val(),u_social_fb:d.find("#u_social_fb").val(),u_social_ok:d.find("#u_social_ok").val(),
u_viber:d.find("#u_viber").val(),u_whatsapp:d.find("#u_whatsapp").val(),u_telegram:d.find("#u_telegram").val(),u_max:d.find("#u_max").val(),u_instagram:d.find("#u_instagram").val(),u_delivery_subscription:d.find("#u_delivery_subscription").val(),us_notifications:d.find("#us_notifications").val(),u_active:d.find("#u_active").val(),u_zagran_number:d.find("#u_zagran_number").val(),u_zagran_expire:d.find("#u_zagran_expire").val(),u_zagran_organization:d.find("#u_zagran_organization").val(),u_zagran_number2:d.find("#u_zagran_number2").val(),
u_zagran_expire2:d.find("#u_zagran_expire2").val(),u_zagran_organization2:d.find("#u_zagran_organization2").val()},function(b){b.error?alert(b.error):window.location.reload();OnlineLoading.hide()},"json")):alert(_("\u0412\u044b\u0431\u0440\u0430\u043d \u043e\u0434\u0438\u043d \u0438 \u0442\u043e\u0442 \u0436\u0435 \u043f\u043e\u043a\u0443\u043f\u0430\u0442\u0435\u043b\u044c!"))}
function supplierMerge(){var a=$("#itemListSourceID"),g=$("#itemListTargetID"),d=$(".itemDetailsTarget");a=a.val();g=g.val();if(a!=g){OnlineLoading.showOverlay();var b=[];d.find("#ss_cnt_id option:selected").length&&d.find("#ss_cnt_id option:selected").each(function(c,e){b[c]=$(this).val()});$.post("./ajax/ajax_supplier_merge.php",{source_id:a,target_id:g,ss_name:d.find("#ss_name").val(),ss_name_en:d.find("#ss_name_en").val(),ss_sst_id:d.find("#ss_sst_id").val(),"ss_cnt_id[]":b,ss_phone:d.find("#ss_phone").val(),
ss_email:d.find("#ss_email").val(),ss_address:d.find("#ss_address").val(),ss_address_u:d.find("#ss_address_u").val(),ss_registry_number:d.find("#ss_registry_number").val(),ss_note:d.find("#ss_note").val()},function(c){c.error?alert(c.error):window.location.reload();OnlineLoading.hide()},"json")}else alert(_("\u0412\u044b\u0431\u0440\u0430\u043d \u043e\u0434\u0438\u043d \u0438 \u0442\u043e\u0442 \u0436\u0435 \u043f\u0430\u0440\u0442\u043d\u0435\u0440!"))}
function getClientExtData(a,g,d,b){g=$(g);$.post("./ajax/ajax_client_type_ext_data.php",{u_id:a},function(c){g.append(c);d&&($("input,select,textarea",g).attr("readonly","").removeAttr("id"),$("img",g).remove());b&&($("input",g).each(function(){var e=" ";$(this).val()&&(e=$(this).val());$(this).replaceWith(e)}),$("select",g).each(function(){var e=" ";$(this).find("option:selected").text()&&(e=$(this).find("option:selected").text());$(this).replaceWith(e)}),$("textarea",g).each(function(){var e=" ";
$(this).text()&&(e=$(this).text());$(this).replaceWith(e)}),$("img",g).remove(),$(".delIcon",g).remove())})}ReminderList=function(a){this.container=a;this.init()};ReminderList.prototype.init=function(){this.container.find(".reminderItem").each(function(a,g){new ReminderItem($(g))})};ReminderItem=function(a){this.container=a;this.system=this.doneStatus=this.buttonDone=this.buttonEdit=null;this.init()};
ReminderItem.prototype.init=function(){this.id=this.container.attr("data-id");this.system=this.container.attr("data-system");this.doneStatus=this.container.attr("data-done");this.elementText=this.container.find(".reminderItemText");this.buttonEdit=this.container.find(".reminderItemActionEdit");this.buttonDelete=this.container.find(".reminderItemActionDelete");this.buttonDone=this.container.find(".reminderItemActionDone");if(this.buttonEdit.length){var a=this;this.buttonEdit.bind("click",function(g){g.preventDefault();
Ajax.ajax({type:"POST",url:"/ajax/ajax_reminder_update.php",data:{rm_id:a.id,r_id:$("#request_id").length?$("#request_id").val():0,tr_id:$("#u_id").length?$("#u_id").val():0},success:function(d){fillAndShow("reminder_new",d)}})})}this.buttonDelete.length&&(a=this,this.buttonDelete.bind("click",function(g){g.preventDefault();Dialog.modalConfirmBox(_("\u0412\u044b \u0434\u0435\u0439\u0441\u0442\u0432\u0438\u0442\u0435\u043b\u044c\u043d\u043e \u0445\u043e\u0442\u0438\u0442\u0435 \u0443\u0434\u0430\u043b\u0438\u0442\u044c \u0437\u0430\u043f\u0438\u0441\u044c?"),
_("\u0423\u0434\u0430\u043b\u0435\u043d\u0438\u0435 \u0437\u0430\u043f\u0438\u0441\u0438"),function(){Ajax.post("/ajax/ajax_reminder_delete.php",{rm_id:a.id},function(d){d.error?DialogError(d.error):a.buttonDelete.parents(".reminderItem").remove()},"json")})}));this.buttonDone.length&&(a=this,this.buttonDone.bind("click",function(g){var d=a.doneStatus,b="1";"1"==d&&(b="0");g.preventDefault();"1"==d&&0==RESOURCE_REMINDER_COMPLETION_CANCEL?Dialog.modalMessageBox(_("\u0423 \u0412\u0430\u0441 \u043d\u0435\u0434\u043e\u0441\u0442\u0430\u0442\u043e\u0447\u043d\u043e \u043f\u0440\u0430\u0432 \u043d\u0430 \u0432\u044b\u043f\u043e\u043b\u043d\u0435\u043d\u0438\u0435 \u043e\u043f\u0435\u0440\u0430\u0446\u0438\u0438"),
_("\u041e\u0448\u0438\u0431\u043a\u0430"),null,{}):a.buttonDone.attr("data-question")?Dialog.modalConfirmBox(_("\u0412\u044b \u0434\u0435\u0439\u0441\u0442\u0432\u0438\u0442\u0435\u043b\u044c\u043d\u043e \u0445\u043e\u0442\u0438\u0442\u0435 \u0437\u0430\u0432\u0435\u0440\u0448\u0438\u0442\u044c \u0437\u0430\u0434\u0430\u0447\u0443?"),_("\u0417\u0430\u0434\u0430\u0447\u0430"),function(){Ajax.ajax({type:"POST",url:"/ajax/ajax_reminder_done.php",data:{id:a.id,done:b},success:function(){a.container.attr("data-done",
b);a.setDoneStatus(b);"function"==typeof reminderDoneFunction&&reminderDoneFunction()}})}):Ajax.ajax({type:"POST",url:"/ajax/ajax_reminder_done.php",data:{id:a.id,done:b},success:function(){a.container.attr("data-done",b);a.setDoneStatus(b)}})}));this.setDoneStatus(this.doneStatus)};
ReminderItem.prototype.setDoneStatus=function(a){if("0"==this.system){this.doneStatus=!1;var g=_("\u0417\u0430\u0432\u0435\u0440\u0448\u0438\u0442\u044c");"1"==a&&(g=_("\u041e\u0442\u043c\u0435\u043d\u0438\u0442\u044c \u0437\u0430\u0432\u0435\u0440\u0448\u0435\u043d\u0438\u0435"),this.doneStatus=!0);this.elementText.toggleClass("lineThrough",this.doneStatus);this.buttonDone.html(g)}};HotelContractList=function(a){this.container=a;this.init()};
HotelContractList.prototype.init=function(){this.container.find(".hotelContractItem").each(function(a,g){new HotelContractItem($(g))})};HotelContractItem=function(a){this.container=a;this.buttonEdit=null;this.init()};
HotelContractItem.prototype.init=function(){this.id=this.container.attr("data-id");this.elementText=this.container.find(".hotelContractItemText");this.buttonEdit=this.container.find(".hotelContractItemActionEdit");this.buttonDelete=this.container.find(".hotelContractItemActionDelete");if(this.buttonEdit.length){var a=this;this.buttonEdit.bind("click",function(g){g.preventDefault();Ajax.ajax({type:"POST",url:"/ajax/ajax_hotel_contract_update.php",data:{hct_id:a.id},success:function(d){fillAndShow("hotelContract_new",
d)}})})}this.buttonDelete.length&&(a=this,this.buttonDelete.bind("click",function(g){g.preventDefault();Dialog.modalConfirmBox(_("\u0412\u044b \u0434\u0435\u0439\u0441\u0442\u0432\u0438\u0442\u0435\u043b\u044c\u043d\u043e \u0445\u043e\u0442\u0438\u0442\u0435 \u0443\u0434\u0430\u043b\u0438\u0442\u044c \u0437\u0430\u043f\u0438\u0441\u044c?"),_("\u0423\u0434\u0430\u043b\u0435\u043d\u0438\u0435 \u0437\u0430\u043f\u0438\u0441\u0438"),function(){Ajax.ajax({type:"POST",url:"/ajax/ajax_hotel_contract_delete.php",
data:{hct_id:a.id},success:function(d){a.container.remove()}})})}))};ContactPersonList=function(a){this.container=a;this.init()};ContactPersonList.prototype.init=function(){this.container.find(".contactPersonItem").each(function(a,g){new ContactPersonItem($(g))})};ContactPersonItem=function(a){this.container=a;this.buttonEdit=null;this.init()};
ContactPersonItem.prototype.init=function(){this.id=this.container.attr("data-id");this.buttonEdit=this.container.find(".itemActionEdit");this.buttonDelete=this.container.find(".itemActionDelete");if(this.buttonEdit.length){var a=this;this.buttonEdit.bind("click",function(g){g.preventDefault();Ajax.ajax({type:"POST",url:"/ajax/ajax_contact_person_update.php",data:{cp_id:a.id},success:function(d){fillAndShow("contactPerson_new",d)}})})}this.buttonDelete.length&&(a=this,this.buttonDelete.bind("click",
function(g){g.preventDefault();Dialog.modalConfirmBox(_("\u0412\u044b \u0434\u0435\u0439\u0441\u0442\u0432\u0438\u0442\u0435\u043b\u044c\u043d\u043e \u0445\u043e\u0442\u0438\u0442\u0435 \u0443\u0434\u0430\u043b\u0438\u0442\u044c \u0437\u0430\u043f\u0438\u0441\u044c?"),_("\u0423\u0434\u0430\u043b\u0435\u043d\u0438\u0435 \u0437\u0430\u043f\u0438\u0441\u0438"),function(){Ajax.ajax({type:"POST",url:"/ajax/ajax_contact_person_delete.php",data:{cp_id:a.id},success:function(d){a.container.remove()}})})}))};
ItemsList=function(a,g,d=0){this.container=a;this.name=g;this.oldPopup=d;this.init()};ItemsList.prototype.init=function(){var a=this;this.container.find("."+this.name+"_item").each(function(g,d){new ItemsListItem($(d),a.name,a.oldPopup)})};ItemsListItem=function(a,g,d=0){this.container=a;this.name=g;this.buttonEdit=null;this.oldPopup=d;this.init()};
ItemsListItem.prototype.init=function(){this.id=this.container.attr("data-id");this.u_id=this.container.attr("data-user-id");this.buttonEdit=this.container.find("."+this.name+"_item_action_edit");this.buttonDelete=this.container.find("."+this.name+"_item_action_delete");if(this.buttonEdit.length){var a=this;this.buttonEdit.bind("click",function(g){g.preventDefault();Ajax.ajax({type:"POST",url:"/ajax/ajax_"+a.name+".php",data:{id:a.id,u_id:a.u_id},success:function(d){a.oldPopup?$("<div/>").html(d).bPopup({zIndex:1E4}):
fillAndShow("",d)}})})}this.buttonDelete.length&&(a=this,this.buttonDelete.bind("click",function(g){g.preventDefault();Dialog.modalConfirmBox(_("\u0412\u044b \u0434\u0435\u0439\u0441\u0442\u0432\u0438\u0442\u0435\u043b\u044c\u043d\u043e \u0445\u043e\u0442\u0438\u0442\u0435 \u0443\u0434\u0430\u043b\u0438\u0442\u044c \u0437\u0430\u043f\u0438\u0441\u044c?"),_("\u0423\u0434\u0430\u043b\u0435\u043d\u0438\u0435 \u0437\u0430\u043f\u0438\u0441\u0438"),function(){Ajax.ajax({type:"POST",url:"/ajax/ajax_"+a.name+
"_delete.php",data:{id:a.id},success:function(d){a.container.remove()}})})}))};function client_visa_list(a,g=""){(0<a||""!=g)&&$.post("./ajax/ajax_client_visa_list.php",{u_id:a,uv_id:g},function(d){0<$(".client_visa_list").length&&($(".client_visa_list").html(d),new ItemsList($(".client_visa_list"),"client_visa",1))})}
function client_insurance_list(a,g=""){(0<a||""!=g)&&$.post("./ajax/ajax_client_insurance_list.php",{u_id:a,uv_id:g},function(d){0<$(".client_insurance_list").length&&($(".client_insurance_list").html(d),new ItemsList($(".client_insurance_list"),"client_insurance",1))})}HotelTypeList=function(a){this.container=a;this.init()};HotelTypeList.prototype.init=function(){this.container.find(".hotelTypeItem").each(function(a,g){new HotelTypeItem($(g))})};HotelTypeItem=function(a){this.container=a;this.init()};
HotelTypeItem.prototype.init=function(){this.id=this.container.attr("data-id");this.hotelId=this.container.attr("data-h-id");this.buttonDelete=this.container.find(".hotelTypeItemActionDelete");if(this.buttonDelete.length){var a=this;this.buttonDelete.bind("click",function(g){g.preventDefault();Dialog.modalConfirmBox(_("\u0412\u044b \u0434\u0435\u0439\u0441\u0442\u0432\u0438\u0442\u0435\u043b\u044c\u043d\u043e \u0445\u043e\u0442\u0438\u0442\u0435 \u0443\u0434\u0430\u043b\u0438\u0442\u044c \u0437\u0430\u043f\u0438\u0441\u044c?"),
_("\u0423\u0434\u0430\u043b\u0435\u043d\u0438\u0435 \u0437\u0430\u043f\u0438\u0441\u0438"),function(){Ajax.ajax({type:"POST",url:"/ajax/ajax_hotel_type_cross_delete.php",data:{htc_h_id:a.hotelId,htc_ht_id:a.id},success:function(d){a.container.remove()}})})})}};ServiceList=function(a){this.container=a;this.init()};ServiceList.prototype.init=function(){this.container.find(".serviceItem").each(function(a,g){new ServiceItem($(g))})};ServiceItem=function(a){this.container=a;this.init()};
ServiceItem.prototype.init=function(){this.id=this.container.attr("data-id");this.rId=this.container.attr("r-id");this.type=this.container.attr("type");var a=this;this.container.find(".service_request_toggle").bind("click",function(g){g.preventDefault();Ajax.ajax({type:"POST",url:"/ajax/ajax_sr_toggle.php",data:{id:a.id,r_id:a.rId,value:$(this).attr("data-toggle")},success:function(d){1==d?(a.container.toggleClass("sr_data_excluded"),a.container.find(".service_request_toggle").toggleClass("hidden").parents("tr").toggleClass("danger"),
service_request_list_reload(a.rId)):DialogError(d)}})})};
function supplierSendRequest(a,g,d){1==d&&($(".sendRequest").removeAttr("disabled"),$(".sendRequest").removeAttr("title"));if(0!=d||1!=$(".sendRequest[disabled]").length){var b=$(".sendRequestResult"),c=[],e=[],f=!1,h=!1;$(".srCheckbox:checked").each(function(m,k){c[m]=$(this).attr("data-id");f=!0});$(".personCheckbox:checked").each(function(m,k){e[m]=$(this).attr("data-id");h=!0});h&&f?(b.html(_("\u0418\u0434\u0435\u0442 \u043e\u0442\u043f\u0440\u0430\u0432\u043a\u0430 \u0437\u0430\u043f\u0440\u043e\u0441\u0430 ...")),Ajax.ajax({type:"POST",
url:"/ajax/ajax_ss_send_request.php",dataType:"json",data:{id:a,"sr_id[]":c,"cp_id[]":e,type:g,test_mode:d},success:function(m){b.html("<span class='success-color'>"+_("\u0417\u0430\u043f\u0440\u043e\u0441\u044b \u043e\u0442\u043f\u0440\u0430\u0432\u043b\u0435\u043d\u044b")+"</span>");eval(m.func)}})):alert(_("\u0412\u044b\u0431\u0435\u0440\u0438\u0442\u0435, \u043f\u043e\u0436\u0430\u043b\u0443\u0439\u0441\u0442\u0430, \u0445\u043e\u0442\u044f \u0431\u044b \u043e\u0434\u0438\u043d \u043f\u0430\u0440\u0442\u043d\u0435\u0440/\u043e\u0442\u0435\u043b\u044c"))}}
$(document).on("click",".extendedModeButtonSettings .extendedModeButtonSettingsSave",function(a){a.preventDefault();var g=[];$('[data-class="extendedFieldPossible"]').each(function(d,b){d=$(b).attr("data-extended-name");b=$(b).find(".extendedModeSwitcher input:checked").length?1:0;var c={};c.name=d;c.value=b;g.push(c)});Ajax.ajax({type:"POST",url:"/ajax/ajax_extended_mode_save.php",data:{params:g},success:function(){extendedFieldsInit();0<$(".extendedModeButton").length?$(".extendedModeButton").toggleClass("hidden"):
$(".simpleModeButton").toggleClass("hidden").trigger("click");extendedModeButtonSettingsSwitch($(".extendedModeButtonSettings span"))}})});$(document).on("click",".extendedModeButtonSettings .extendedModeButtonSettingsClose",function(a){a.preventDefault();0<$(".extendedModeButton").length?$(".extendedModeButton").toggleClass("hidden"):$(".simpleModeButton").toggleClass("hidden").trigger("click");extendedModeButtonSettingsSwitch($(".extendedModeButtonSettings span"))});
$(document).on("click",".extendedModeButtonSettings span",function(a){a.preventDefault();0<$(".extendedModeButton").length?$(".extendedModeButton").toggleClass("hidden").trigger("click"):$(".simpleModeButton").toggleClass("hidden");tooltipHide();extendedModeButtonSettingsSwitch($(".extendedModeButtonSettings span"));tooltipInit()});
$(document).on("click","a.ajax-link",function(a){a.preventDefault();var g=$(this);if(g.is(".in-progress"))return!1;OnlineLoading.showOverlay();g.addClass("in-progress");$.get(g.attr("href"),{},function(d){d&&Dialog.modalConfirmBox(d,g.attr("data-title"),function(){$(".dialog-content").length&&(OnlineLoading.showOverlay(),CKupdate(),$(".dialog-content").find("form").submit(),OnlineLoading.hide())},null,{width:800});OnlineLoading.hide();g.removeClass("in-progress")})});
function touroperator_finance_get(a){var g=a.val();0<g&&Ajax.post("/ajax/ajax_supplier_finance_get.php",{ss_id:g},function(d){d.error?DialogError(d.error):($("#r_tour_operator_finance_info").html(""),parseInt(d.ss_sst_id)!=SUPPLIER_TYPE_OPERATOR?$("#r_tour_operator_finance_info").addClass("hidden"):$("#r_tour_operator_finance_info").removeClass("hidden"),d.data&&0<d.data.length&&($.each(d.data,function(b,c){$("#r_tour_operator_finance_info").html($("#r_tour_operator_finance_info").html()+'<div class="text-success ss_to_block '+
(1<b?"hidden":"")+'" style="padding: 5px 0 0;">\u041f\u0440\u0438\u043a\u0440\u0435\u043f\u043b\u0435\u043d\u044b \u0444\u0438\u043d\u0433\u0430\u0440\u0430\u043d\u0442\u0438\u0438 \u0422\u041e:<br/><a href="" class="link-ss text-success" data-to-id="'+c.tod_id+'" >'+c.tod_name+" ("+c.tod_number_reestr+')</a> <span class="to-links">/ <a href="" class="link-remove text-success" data-id="'+g+'" data-to-id="'+c.tod_id+'">'+_("\u043e\u0442\u0432\u044f\u0437\u0430\u0442\u044c")+"</a></span></div>")}),
2<d.data.length&&$("#r_tour_operator_finance_info").html($("#r_tour_operator_finance_info").html()+"<div style=\"padding-top: 3px;\"><a href=\"#n\" onclick=\"$('#r_tour_operator_finance_info').find('.ss_to_block').removeClass('hidden'); $(this).parent().remove();\">\u043f\u043e\u043a\u0430\u0437\u0430\u0442\u044c \u0432\u0441\u0435\u0445</a></div>")),$("#r_tour_operator_finance_info").html($("#r_tour_operator_finance_info").html()+'<div class="to-links" style="padding: 10px 0 0;"><a href="" class="update-ss custom-link" data-id="'+
g+'">'+_("\u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c \u0444\u0438\u043d\u0433\u0430\u0440\u0430\u043d\u0442\u0438\u0438")+'</a>&nbsp;&nbsp;<span class="fa fa-sync-alt finance-refresh"></span></div>'))},"json")}
function touroperator_currency_get(a){a=a.val();0<a&&Ajax.post("/ajax/ajax_supplier_currency_get.php",{ss_id:a},function(g){g.error?DialogError(g.error):($("#r_tour_operator_currency_info").html(""),g.data&&0<g.data.length&&$.each(g.data,function(d,b){$("#r_tour_operator_currency_info").html('<div class="colorGray" style="padding: 5px 0 0;">\u041f\u0440\u0438\u043a\u0440\u0435\u043f\u043b\u0435\u043d \u0422\u041e \u0441 \u043a\u0443\u0440\u0441\u0430\u043c\u0438 \u0432\u0430\u043b\u044e\u0442:<br/><a href="" class="link-ss-rates" data-to-id="'+b.tob_id+
'" >'+b.tob_name+"</a> / "+b.tob_rates+"</div>")}))},"json")}
function touroperator_contract_get(a){a=a.val();0<a&&Ajax.post("/ajax/ajax_supplier_contract_get.php",{ss_id:a},function(g){g.error?DialogError(g.error):g&&0<g.length&&($("#r_tour_operator_contract_info").html(""),$.each(g,function(d,b){$text=""==b.contract_begin&&""==b.contract_end?'<div style="padding: 10px 0 0;"><a href="/supplier_edit.php?ss_id='+b.ss_id+'" class="custom-link" target="_blank">\u0423\u043a\u0430\u0437\u0430\u0442\u044c \u0434\u0430\u0442\u044b \u0434\u043e\u0433\u043e\u0432\u043e\u0440\u0430</a>&nbsp;&nbsp;<span class="fa fa-sync-alt finance-refresh"></span></div>':1==
b.contract_expired?'<div class="text-danger" style="padding: 5px 0 0;">\u0414\u0430\u0442\u044b \u0434\u043e\u0433\u043e\u0432\u043e\u0440\u0430: '+b.contract_number+" ("+(""==b.contract_begin?"_____":b.contract_begin)+" - "+(""==b.contract_end?"_____":b.contract_end)+")</div>":'<div class="text-success" style="padding: 5px 0 0;">\u0414\u0430\u0442\u044b \u0434\u043e\u0433\u043e\u0432\u043e\u0440\u0430: '+b.contract_number+" ("+(""==b.contract_begin?"_____":b.contract_begin)+" - "+(""==b.contract_end?
"_____":b.contract_end)+")</div>";$("#r_tour_operator_contract_info").html($("#r_tour_operator_contract_info").html()+$text)}))},"json")}function getSmsBalance(){$.post("/ajax/ajax_sms_balance.php",{},function(a){a&&$(".sms-balance-value").html(a?a:"0")})}function getSmsDocSignBalance(){$.post("/ajax/ajax_sms_doc_sign_balance.php",{},function(a){a&&$(".sms-doc-sign-balance-value").html(a?a:"0")})}
function getEmailBalance(){$.post("/ajax/ajax_email_balance.php",{},function(a){a&&$(".email-balance-value").html(a?a:"0")})}function getSmsMassBalance(){$.post("/ajax/ajax_sms_mass_balance.php",{},function(a){a&&$(".sms-mass-balance-value").html(a?a:"0")})}
function transliterate(a,g){var d="",b={" ":" ","\u0401":"E","\u0419":"I","\u0426":"TS","\u0423":"U","\u041a":"K","\u0415":"E","\u041d":"N","\u0413":"G","\u0428":"SH","\u0429":"SHCH","\u0417":"Z","\u0425":"KH","\u042a":"","\u0424":"F","\u042b":"Y","\u0412":"V","\u0410":"A","\u041f":"P","\u0420":"R","\u041e":"O","\u041b":"L","\u0414":"D","\u0416":"ZH","\u042d":"E","\u042f":"IA","\u0427":"CH","\u0421":"S","\u041c":"M","\u0418":"I","\u0422":"T","\u042c":"","\u0411":"B","\u042e":"IU"};1==g?(b["\u0451"]=
"E",b["\u0439"]="I",b["\u0446"]="TS",b["\u0443"]="U",b["\u043a"]="K",b["\u0435"]="E",b["\u043d"]="N",b["\u0433"]="G",b["\u0448"]="SH",b["\u0449"]="SHCH",b["\u0437"]="Z",b["\u0445"]="KH",b["\u044a"]="",b["\u0444"]="F",b["\u044b"]="Y",b["\u0432"]="V",b["\u0430"]="A",b["\u043f"]="P",b["\u0440"]="R",b["\u043e"]="O",b["\u043b"]="L",b["\u0434"]="D",b["\u0436"]="ZH",b["\u044d"]="E",b["\u044f"]="IA",b["\u0447"]="CH",b["\u0441"]="S",b["\u043c"]="M",b["\u0438"]="I",b["\u0442"]="T",b["\u044c"]="",b["\u0431"]=
"B",b["\u044e"]="IU"):(b["\u0451"]="e",b["\u0439"]="i",b["\u0446"]="ts",b["\u0443"]="u",b["\u043a"]="k",b["\u0435"]="e",b["\u043d"]="n",b["\u0433"]="g",b["\u0448"]="sh",b["\u0449"]="shch",b["\u0437"]="z",b["\u0445"]="kh",b["\u044a"]="",b["\u0444"]="f",b["\u044b"]="y",b["\u0432"]="v",b["\u0430"]="a",b["\u043f"]="p",b["\u0440"]="r",b["\u043e"]="o",b["\u043b"]="l",b["\u0434"]="d",b["\u0436"]="zh",b["\u044d"]="e",b["\u044f"]="ia",b["\u0447"]="ch",b["\u0441"]="s",b["\u043c"]="m",b["\u0438"]="i",b["\u0442"]=
"t",b["\u044c"]="",b["\u0431"]="b",b["\u044e"]="iu");for(i in a)a.hasOwnProperty(i)&&(d=void 0===b[a[i]]?d+a[i]:d+b[a[i]]);g&&(d=d.toUpperCase());return d}function uploadAvatar(){Ajax.post("/ajax/ajax_client_load_avatar.php",{u_id:$("#u_id").val(),action:"upload",vk:$("#u_social_vk").val(),fb:$("#u_social_fb").val(),ok:$("#u_social_ok").val()},function(a){showAvatarSelector(a)},"json")}
function deleteAvatar(){Ajax.post("/ajax/ajax_client_load_avatar.php",{u_id:$("#u_id").val(),action:"delete"},function(a){showAvatarSelector(a)},"json")}
function showAvatarSelector(a){if(a&&a.length){for(var g=_("\u0412\u044b\u0431\u0435\u0440\u0438\u0442\u0435 \u0444\u043e\u0442\u043e")+":",d=0;d<a.length;d++)g+='<img src="'+a[d].path+"?"+Math.random()+'" id="'+a[d].name+'" '+(a[d].selected?'class="selected"':"")+' onclick="selectAvatar(this)" />';$("#avatar-selector").html(g);$("#avatar-selector").css("display","block")}else $("#avatar-selector").css("display","none")}
function loadAvatarSelector(){if(window.avatarList)return showAvatarSelector(window.avatarList);Ajax.post("/ajax/ajax_client_load_avatar.php",{u_id:$("#u_id").val(),action:"nothing"},function(a){showAvatarSelector(a)},"json")}function selectAvatar(a){Ajax.post("/ajax/ajax_client_load_avatar.php",{u_id:$("#u_id").val(),action:"set_active",name:a.getAttribute("id")},function(g){showAvatarSelector(g)},"json")};
