# üîç –£–ª—É—á—à–µ–Ω–∏—è —Ñ–∏–ª—å—Ç—Ä–∞—Ü–∏–∏ –ø—Ä–æ–¥—É–∫—Ç–æ–≤

## ‚úÖ –í–´–ü–û–õ–ù–ï–ù–û

### 1. –£–ª—É—á—à–µ–Ω–∞ —Ñ—É–Ω–∫—Ü–∏—è `filterProducts()`

**–ù–æ–≤—ã–µ –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏:**
- ‚úÖ –ü–æ–∏—Å–∫ –ø–æ **type** (belts, pencils, bears, wafers –∏ —Ç.–¥.)
- ‚úÖ –ü–æ–∏—Å–∫ –ø–æ **flavors** (–∫–ª—É–±–Ω–∏–∫–∞, strawberry, –∫–æ–ª–∞, cola –∏ —Ç.–¥.)
- ‚úÖ –ü–æ–∏—Å–∫ –ø–æ **weight** (15gr, 80gr, 1000gr –∏ —Ç.–¥.)
- ‚úÖ –ü–æ–∏—Å–∫ –ø–æ **brand** (–Ω–æ—Ä–º–∞–ª–∏–∑–æ–≤–∞–Ω–Ω—ã–π –∏ –æ—Ä–∏–≥–∏–Ω–∞–ª—å–Ω—ã–π)
- ‚úÖ –ü–æ–∏—Å–∫ –ø–æ **category** (–Ω–∞–∑–≤–∞–Ω–∏–µ –∫–∞—Ç–µ–≥–æ—Ä–∏–∏)
- ‚úÖ –ü–æ–∏—Å–∫ –ø–æ **tags** (–≤—Å–µ —Ç–µ–≥–∏, –≤–∫–ª—é—á–∞—è RU + EN)

**–ß—Ç–æ –∏—â–µ—Ç—Å—è:**
```javascript
const searchText = [
  // –ù–∞–∑–≤–∞–Ω–∏—è
  p.nameRu, p.nameEn, p.name,
  // –ë—Ä–µ–Ω–¥ (–Ω–æ—Ä–º–∞–ª–∏–∑–æ–≤–∞–Ω–Ω—ã–π –∏ –æ—Ä–∏–≥–∏–Ω–∞–ª—å–Ω—ã–π)
  normalizeBrand(p.brand),
  p.brand,
  // –ö–∞—Ç–µ–≥–æ—Ä–∏—è
  getCategoryName(p.category),
  p.category,
  // –ù–æ–≤—ã–µ –ø–æ–ª—è
  p.type,        // "belts", "pencils", "bears"
  p.weight,      // "15gr", "80gr", "1000gr"
  // –í–∫—É—Å—ã (RU + EN)
  ...(p.flavors || []),  // ["–∫–ª—É–±–Ω–∏–∫–∞", "strawberry"]
  // –¢–µ–≥–∏
  ...(p.tags || []),     // ["–º–∞—Ä–º–µ–ª–∞–¥", "marmalade", "tayas", ...]
].join(" ").toLowerCase();
```

### 2. –£–ª—É—á—à–µ–Ω–∞ –Ω–æ—Ä–º–∞–ª–∏–∑–∞—Ü–∏—è –±—Ä–µ–Ω–¥–∞

**–ü—Ä–æ–±–ª–µ–º–∞:** 
- –í `brands[]` –º–æ–∂–µ—Ç –±—ã—Ç—å `"Taya≈ü"` (—Å —Ç—É—Ä–µ—Ü–∫–æ–π –±—É–∫–≤–æ–π)
- –í `products.brand` –º–æ–∂–µ—Ç –±—ã—Ç—å `"TAYAS"`
- –§–∏–ª—å—Ç—Ä–∞—Ü–∏—è –Ω–µ —Ä–∞–±–æ—Ç–∞–ª–∞ –∏–∑-–∑–∞ –Ω–µ—Å–æ–≤–ø–∞–¥–µ–Ω–∏—è

**–†–µ—à–µ–Ω–∏–µ:**
```javascript
function normalizeBrand(value = "") {
  return value
    .toString()
    .trim()
    .toUpperCase()
    .replace(/\s+/g, "")    // –£–±–∏—Ä–∞–µ–º –ø—Ä–æ–±–µ–ª—ã
    .replace(/-/g, "")      // –£–±–∏—Ä–∞–µ–º –¥–µ—Ñ–∏—Å—ã
    .replace(/≈û/g, "S")     // –¢—É—Ä–µ—Ü–∫–∞—è ≈û ‚Üí S
    .replace(/≈ü/g, "S")
    // ... –∏ –¥—Ä—É–≥–∏–µ —Ç—É—Ä–µ—Ü–∫–∏–µ —Å–∏–º–≤–æ–ª—ã
}
```

**–†–µ–∑—É–ª—å—Ç–∞—Ç:**
- `"Taya≈ü"` ‚Üí `"TAYAS"`
- `"PANDA LEE"` ‚Üí `"PANDALEE"`
- `"panda-lee"` ‚Üí `"PANDALEE"`
- `"PandaLee"` ‚Üí `"PANDALEE"`

### 3. –£–ª—É—á—à–µ–Ω–æ –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–µ –±—Ä–µ–Ω–¥–∞

**–ü—Ä–æ–±–ª–µ–º–∞:** –í —Ñ–∏–ª—å—Ç—Ä–µ –ø–æ–∫–∞–∑—ã–≤–∞–ª—Å—è –Ω–æ—Ä–º–∞–ª–∏–∑–æ–≤–∞–Ω–Ω—ã–π –±—Ä–µ–Ω–¥ (–Ω–∞–ø—Ä–∏–º–µ—Ä, "TAYAS" –≤–º–µ—Å—Ç–æ "Taya≈ü")

**–†–µ—à–µ–Ω–∏–µ:** –ù–∞—Ö–æ–¥–∏–º –æ—Ä–∏–≥–∏–Ω–∞–ª—å–Ω–æ–µ –Ω–∞–∑–≤–∞–Ω–∏–µ –∏–∑ `brands[]` –¥–ª—è –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏—è:
```javascript
const brandObj = state.brands.find(
  (b) => normalizeBrand(b.name) === state.currentBrand
);
const displayBrand = brandObj ? brandObj.name : state.currentBrand;
```

### 4. –î–æ–±–∞–≤–ª–µ–Ω–∞ –∑–∞—â–∏—Ç–∞ –æ—Ç –æ—à–∏–±–æ–∫

- ‚úÖ –ü—Ä–æ–≤–µ—Ä–∫–∞ –∑–∞–≥—Ä—É–∑–∫–∏ `products.json` (fallback —Å–æ–æ–±—â–µ–Ω–∏–µ)
- ‚úÖ –ü—Ä–æ–≤–µ—Ä–∫–∞ –Ω–∞–ª–∏—á–∏—è —Ç–æ–≤–∞—Ä–æ–≤ (–ø–æ–∫–∞–∑ —Å–æ–æ–±—â–µ–Ω–∏—è, –µ—Å–ª–∏ —Ç–æ–≤–∞—Ä–æ–≤ –Ω–µ—Ç)
- ‚úÖ –ü—Ä–æ–≤–µ—Ä–∫–∞ DOM —ç–ª–µ–º–µ–Ω—Ç–æ–≤ (console.warn, –µ—Å–ª–∏ –Ω–µ –Ω–∞–π–¥–µ–Ω—ã)

## üìä –ù–û–í–´–ï –ü–û–õ–Ø –í –§–ò–õ–¨–¢–†–ê–¶–ò–ò

### –ü–æ–ª—è, –∫–æ—Ç–æ—Ä—ã–µ —É—á–∞—Å—Ç–≤—É—é—Ç –≤ –ø–æ–∏—Å–∫–µ:

1. **`type`** (—Å—Ç—Ä–æ–∫–∞)
   - –ü—Ä–∏–º–µ—Ä—ã: `"belts"`, `"pencils"`, `"bears"`, `"tubes"`, `"wafers"`
   - –ü–æ–∏—Å–∫: `"belts"`, `"—Ä–µ–º–µ—à–∫–∏"`, `"–∫–∞—Ä–∞–Ω–¥–∞—à–∏"` ‚Üí –Ω–∞–π–¥–µ—Ç —Ç–æ–≤–∞—Ä—ã —Å `type: "belts"` –∏–ª–∏ `type: "pencils"`

2. **`flavors`** (–º–∞—Å—Å–∏–≤ —Å—Ç—Ä–æ–∫)
   - –ü—Ä–∏–º–µ—Ä—ã: `["–∫–ª—É–±–Ω–∏–∫–∞", "strawberry"]`, `["–∫–æ–ª–∞", "cola"]`
   - –ü–æ–∏—Å–∫: `"–∫–ª—É–±–Ω–∏–∫–∞"`, `"strawberry"`, `"–∫–æ–ª–∞"` ‚Üí –Ω–∞–π–¥–µ—Ç —Ç–æ–≤–∞—Ä—ã —Å —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É—é—â–∏–º–∏ –≤–∫—É—Å–∞–º–∏

3. **`weight`** (—Å—Ç—Ä–æ–∫–∞)
   - –ü—Ä–∏–º–µ—Ä—ã: `"15gr"`, `"80gr"`, `"1000gr"`
   - –ü–æ–∏—Å–∫: `"1000gr"`, `"15gr"` ‚Üí –Ω–∞–π–¥–µ—Ç —Ç–æ–≤–∞—Ä—ã —Å —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É—é—â–∏–º –≤–µ—Å–æ–º

4. **`tags`** (–º–∞—Å—Å–∏–≤ —Å—Ç—Ä–æ–∫)
   - –£–∂–µ –≤–∫–ª—é—á–∞—é—Ç: –∫–∞—Ç–µ–≥–æ—Ä–∏—é, –±—Ä–µ–Ω–¥, —Ç–∏–ø, –≤–∫—É—Å, –≤–µ—Å (RU + EN)
   - –ü–æ–∏—Å–∫ —Ä–∞–±–æ—Ç–∞–µ—Ç –ø–æ –≤—Å–µ–º —Ç–µ–≥–∞–º

5. **`brand`** (—Å—Ç—Ä–æ–∫–∞)
   - –ù–æ—Ä–º–∞–ª–∏–∑–æ–≤–∞–Ω–Ω—ã–π –∏ –æ—Ä–∏–≥–∏–Ω–∞–ª—å–Ω—ã–π
   - –ü–æ–∏—Å–∫: `"DAMLA"`, `"TAYAS"`, `"tayas"` ‚Üí –≤—Å–µ –Ω–∞–π–¥–µ—Ç

6. **`category`** (—Å—Ç—Ä–æ–∫–∞)
   - –ù–∞–∑–≤–∞–Ω–∏–µ –∫–∞—Ç–µ–≥–æ—Ä–∏–∏ (RU + EN)
   - –ü–æ–∏—Å–∫: `"–º–∞—Ä–º–µ–ª–∞–¥"`, `"marmalade"` ‚Üí –Ω–∞–π–¥–µ—Ç —Ç–æ–≤–∞—Ä—ã –∫–∞—Ç–µ–≥–æ—Ä–∏–∏ "marmalade"

## üîç –ü–†–ò–ú–ï–†–´ –ó–ê–ü–†–û–°–û–í

### 1. –ü–æ–∏—Å–∫ "–∫–æ–ª–∞"
**–ù–∞–π–¥–µ—Ç —Ç–æ–≤–∞—Ä—ã:**
- –° `flavors: ["–∫–æ–ª–∞", "cola"]`
- –° `tags: ["–∫–æ–ª–∞", "cola"]`
- –° –Ω–∞–∑–≤–∞–Ω–∏–µ–º, —Å–æ–¥–µ—Ä–∂–∞—â–∏–º "–∫–æ–ª–∞" –∏–ª–∏ "cola"

**–ü—Ä–∏–º–µ—Ä—ã —Ç–æ–≤–∞—Ä–æ–≤:**
- `tayas-karandashi-kola-1000gr` (flavors: ["–∫–æ–ª–∞", "cola"])
- `tayas-remeshki-kola-1000gr` (flavors: ["–∫–æ–ª–∞", "cola"])
- `damla-klubnika-15gr` (–µ—Å–ª–∏ –≤ tags –µ—Å—Ç—å "–∫–æ–ª–∞")

### 2. –ü–æ–∏—Å–∫ "1000gr"
**–ù–∞–π–¥–µ—Ç —Ç–æ–≤–∞—Ä—ã:**
- –° `weight: "1000gr"`
- –° `tags: ["1000gr"]`

**–ü—Ä–∏–º–µ—Ä—ã —Ç–æ–≤–∞—Ä–æ–≤:**
- `tayas-karandashi-kola-1000gr` (weight: "1000gr")
- `tayas-remeshki-raduga-1000gr` (weight: "1000gr")
- –í—Å–µ —Ç–æ–≤–∞—Ä—ã —Å –≤–µ—Å–æ–º 1000gr

### 3. –ü–æ–∏—Å–∫ "belts"
**–ù–∞–π–¥–µ—Ç —Ç–æ–≤–∞—Ä—ã:**
- –° `type: "belts"`
- –° `tags: ["—Ä–µ–º–µ—à–∫–∏", "belts"]`

**–ü—Ä–∏–º–µ—Ä—ã —Ç–æ–≤–∞—Ä–æ–≤:**
- `tayas-remeshki-kola-1000gr` (type: "belts")
- `tayas-remeshki-klubnika-1000gr` (type: "belts")
- `jimmy-belts-75gr` (type: "belts")

### 4. –ü–æ–∏—Å–∫ "DAMLA"
**–ù–∞–π–¥–µ—Ç —Ç–æ–≤–∞—Ä—ã:**
- –° `brand: "DAMLA"` (–Ω–æ—Ä–º–∞–ª–∏–∑–æ–≤–∞–Ω–Ω—ã–π)
- –° `tags: ["damla"]`
- –° –Ω–∞–∑–≤–∞–Ω–∏–µ–º, —Å–æ–¥–µ—Ä–∂–∞—â–∏–º "DAMLA"

**–ü—Ä–∏–º–µ—Ä—ã —Ç–æ–≤–∞—Ä–æ–≤:**
- `damla-bears-80gr` (brand: "DAMLA")
- `damla-klubnika-15gr` (brand: "DAMLA")
- `damla-sour-90gr` (brand: "DAMLA")

### 5. –ü–æ–∏—Å–∫ "Tayas" –∏–ª–∏ "TAYAS"
**–ù–∞–π–¥–µ—Ç —Ç–æ–≤–∞—Ä—ã:**
- –° `brand: "TAYAS"` (–Ω–æ—Ä–º–∞–ª–∏–∑–æ–≤–∞–Ω–Ω—ã–π)
- –° `tags: ["tayas"]`
- –° –Ω–∞–∑–≤–∞–Ω–∏–µ–º, —Å–æ–¥–µ—Ä–∂–∞—â–∏–º "TAYAS"

**–ü—Ä–∏–º–µ—Ä—ã —Ç–æ–≤–∞—Ä–æ–≤:**
- `tayas-karandashi-kola-1000gr` (brand: "TAYAS")
- `tayas-remeshki-raduga-1000gr` (brand: "TAYAS")
- –í—Å–µ —Ç–æ–≤–∞—Ä—ã –±—Ä–µ–Ω–¥–∞ TAYAS

## üîß –ò–°–ü–†–ê–í–õ–ï–ù–ù–´–ï –ü–†–û–ë–õ–ï–ú–´

### –ü—Ä–æ–±–ª–µ–º–∞: –§–∏–ª—å—Ç—Ä–∞—Ü–∏—è –ø–æ "Tayas" –Ω–µ —Ä–∞–±–æ—Ç–∞–ª–∞

**–ü—Ä–∏—á–∏–Ω–∞:**
- –í `brands[]`: `"Taya≈ü"` (—Å —Ç—É—Ä–µ—Ü–∫–æ–π –±—É–∫–≤–æ–π ≈ü)
- –í `products.brand`: `"TAYAS"`
- –ù–æ—Ä–º–∞–ª–∏–∑–∞—Ü–∏—è –Ω–µ –æ–±—Ä–∞–±–∞—Ç—ã–≤–∞–ª–∞ —Ç—É—Ä–µ—Ü–∫–∏–µ —Å–∏–º–≤–æ–ª—ã

**–†–µ—à–µ–Ω–∏–µ:**
- –î–æ–±–∞–≤–ª–µ–Ω–∞ –æ–±—Ä–∞–±–æ—Ç–∫–∞ —Ç—É—Ä–µ—Ü–∫–∏—Ö —Å–∏–º–≤–æ–ª–æ–≤ –≤ `normalizeBrand()`
- `"Taya≈ü"` ‚Üí `"TAYAS"` (≈û ‚Üí S)
- –¢–µ–ø–µ—Ä—å —Ñ–∏–ª—å—Ç—Ä–∞—Ü–∏—è —Ä–∞–±–æ—Ç–∞–µ—Ç –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ

## üìù –ö–û–ú–ë–ò–ù–ò–†–û–í–ê–ù–ù–ê–Ø –§–ò–õ–¨–¢–†–ê–¶–ò–Ø

–§–∏–ª—å—Ç—Ä—ã —Ä–∞–±–æ—Ç–∞—é—Ç –≤–º–µ—Å—Ç–µ (AND –ª–æ–≥–∏–∫–∞):

1. **–ë—Ä–µ–Ω–¥** (–µ—Å–ª–∏ –≤—ã–±—Ä–∞–Ω) + **–ö–∞—Ç–µ–≥–æ—Ä–∏—è** (–µ—Å–ª–∏ –≤—ã–±—Ä–∞–Ω–∞) + **–ü–æ–∏—Å–∫** (–µ—Å–ª–∏ –≤–≤–µ–¥–µ–Ω)
2. –í—Å–µ —É—Å–ª–æ–≤–∏—è –¥–æ–ª–∂–Ω—ã –≤—ã–ø–æ–ª–Ω—è—Ç—å—Å—è –æ–¥–Ω–æ–≤—Ä–µ–º–µ–Ω–Ω–æ
3. –ù–∏–∫–∞–∫–∏—Ö "–ø—Ä–æ–ø–∞–≤—à–∏—Ö –∫–∞—Ä—Ç–æ—á–µ–∫" - –µ—Å–ª–∏ —Ç–æ–≤–∞—Ä —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É–µ—Ç –≤—Å–µ–º —É—Å–ª–æ–≤–∏—è–º, –æ–Ω –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç—Å—è

**–ü—Ä–∏–º–µ—Ä:**
- –ë—Ä–µ–Ω–¥: `TAYAS`
- –ö–∞—Ç–µ–≥–æ—Ä–∏—è: `marmalade`
- –ü–æ–∏—Å–∫: `"–∫–æ–ª–∞"`
- **–†–µ–∑—É–ª—å—Ç–∞—Ç:** –¢–æ–ª—å–∫–æ —Ç–æ–≤–∞—Ä—ã TAYAS, –∫–∞—Ç–µ–≥–æ—Ä–∏–∏ marmalade, —Å–æ–¥–µ—Ä–∂–∞—â–∏–µ "–∫–æ–ª–∞" –≤ –ª—é–±–æ–º –ø–æ–ª–µ

## ‚úÖ –ó–ê–©–ò–¢–ê –û–¢ –û–®–ò–ë–û–ö

1. **–ï—Å–ª–∏ products.json –Ω–µ –∑–∞–≥—Ä—É–∑–∏–ª—Å—è:**
   - –ü–æ–∫–∞–∑—ã–≤–∞–µ—Ç—Å—è fallback —Å–æ–æ–±—â–µ–Ω–∏–µ –≤ DOM
   - –ù–µ –ª–æ–º–∞–µ—Ç—Å—è —Å—Ç—Ä–∞–Ω–∏—Ü–∞

2. **–ï—Å–ª–∏ —Ç–æ–≤–∞—Ä–æ–≤ –Ω–µ—Ç:**
   - –ü–æ–∫–∞–∑—ã–≤–∞–µ—Ç—Å—è –ø–æ–Ω—è—Ç–Ω–æ–µ —Å–æ–æ–±—â–µ–Ω–∏–µ "–¢–æ–≤–∞—Ä—ã –Ω–µ –Ω–∞–π–¥–µ–Ω—ã"
   - UI –æ—Å—Ç–∞–µ—Ç—Å—è —Ä–∞–±–æ—á–∏–º

3. **–ï—Å–ª–∏ DOM —ç–ª–µ–º–µ–Ω—Ç—ã –Ω–µ –Ω–∞–π–¥–µ–Ω—ã:**
   - –í—ã–≤–æ–¥–∏—Ç—Å—è `console.warn` —Å –ø–æ–Ω—è—Ç–Ω—ã–º —Ç–µ–∫—Å—Ç–æ–º
   - –°–∫—Ä–∏–ø—Ç –ø—Ä–æ–¥–æ–ª–∂–∞–µ—Ç —Ä–∞–±–æ—Ç—É

## üéØ API –ù–ï –ò–ó–ú–ï–ù–ï–ù–û

- ‚úÖ `window.productLoader.updateLanguage(lang)` —Ä–∞–±–æ—Ç–∞–µ—Ç –∫–∞–∫ —Ä–∞–Ω—å—à–µ
- ‚úÖ –í—Å–µ —Å—É—â–µ—Å—Ç–≤—É—é—â–∏–µ —Ñ—É–Ω–∫—Ü–∏–∏ —Å–æ—Ö—Ä–∞–Ω–µ–Ω—ã
- ‚úÖ –û–±—Ä–∞—Ç–Ω–∞—è —Å–æ–≤–º–µ—Å—Ç–∏–º–æ—Å—Ç—å –æ–±–µ—Å–ø–µ—á–µ–Ω–∞

---

**–î–∞—Ç–∞**: 2025-01-XX
**–í–µ—Ä—Å–∏—è**: 2.0 (—É–ª—É—á—à–µ–Ω–Ω–∞—è —Ñ–∏–ª—å—Ç—Ä–∞—Ü–∏—è)




